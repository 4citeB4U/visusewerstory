var Gh=Object.defineProperty;var Wh=(t,e,n)=>e in t?Gh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ie=(t,e,n)=>Wh(t,typeof e!="symbol"?e+"":e,n);import{pipeline as pipeline$1}from"https://cdn.jsdelivr.net/npm/@xenova/transformers@latest";function _mergeNamespaces(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in t)){const d=Object.getOwnPropertyDescriptor(i,l);d&&Object.defineProperty(t,l,d.get?d:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(l){if(l.ep)return;l.ep=!0;const d=n(l);fetch(l.href,d)}})();function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var l=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,l.get?l:{enumerable:!0,get:function(){return t[i]}})}),n}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,l,d){var f=null;if(d!==void 0&&(f=""+d),l.key!==void 0&&(f=""+l.key),"key"in l){d={};for(var b in l)b!=="key"&&(d[b]=l[b])}else d=l;return l=d.ref,{$$typeof:t,type:i,key:f,ref:l!==void 0?l:null,props:d}}return reactJsxRuntime_production.Fragment=e,reactJsxRuntime_production.jsx=n,reactJsxRuntime_production.jsxs=n,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),u=Symbol.for("react.activity"),o=Symbol.iterator;function h(Z){return Z===null||typeof Z!="object"?null:(Z=o&&Z[o]||Z["@@iterator"],typeof Z=="function"?Z:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function O(Z,ue,Ae){this.props=Z,this.context=ue,this.refs=T,this.updater=Ae||w}O.prototype.isReactComponent={},O.prototype.setState=function(Z,ue){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,ue,"setState")},O.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function M(){}M.prototype=O.prototype;function I(Z,ue,Ae){this.props=Z,this.context=ue,this.refs=T,this.updater=Ae||w}var R=I.prototype=new M;R.constructor=I,E(R,O.prototype),R.isPureReactComponent=!0;var D=Array.isArray;function N(){}var L={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function $(Z,ue,Ae){var Ce=Ae.ref;return{$$typeof:t,type:Z,key:ue,ref:Ce!==void 0?Ce:null,props:Ae}}function V(Z,ue){return $(Z.type,ue,Z.props)}function G(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===t}function X(Z){var ue={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(Ae){return ue[Ae]})}var ee=/\/+/g;function Q(Z,ue){return typeof Z=="object"&&Z!==null&&Z.key!=null?X(""+Z.key):ue.toString(36)}function Y(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(N,N):(Z.status="pending",Z.then(function(ue){Z.status==="pending"&&(Z.status="fulfilled",Z.value=ue)},function(ue){Z.status==="pending"&&(Z.status="rejected",Z.reason=ue)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function U(Z,ue,Ae,Ce,ke){var Ne=typeof Z;(Ne==="undefined"||Ne==="boolean")&&(Z=null);var Le=!1;if(Z===null)Le=!0;else switch(Ne){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(Z.$$typeof){case t:case e:Le=!0;break;case m:return Le=Z._init,U(Le(Z._payload),ue,Ae,Ce,ke)}}if(Le)return ke=ke(Z),Le=Ce===""?"."+Q(Z,0):Ce,D(ke)?(Ae="",Le!=null&&(Ae=Le.replace(ee,"$&/")+"/"),U(ke,ue,Ae,"",function(De){return De})):ke!=null&&(G(ke)&&(ke=V(ke,Ae+(ke.key==null||Z&&Z.key===ke.key?"":(""+ke.key).replace(ee,"$&/")+"/")+Le)),ue.push(ke)),1;Le=0;var Pe=Ce===""?".":Ce+":";if(D(Z))for(var de=0;de<Z.length;de++)Ce=Z[de],Ne=Pe+Q(Ce,de),Le+=U(Ce,ue,Ae,Ne,ke);else if(de=h(Z),typeof de=="function")for(Z=de.call(Z),de=0;!(Ce=Z.next()).done;)Ce=Ce.value,Ne=Pe+Q(Ce,de++),Le+=U(Ce,ue,Ae,Ne,ke);else if(Ne==="object"){if(typeof Z.then=="function")return U(Y(Z),ue,Ae,Ce,ke);throw ue=String(Z),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Le}function q(Z,ue,Ae){if(Z==null)return Z;var Ce=[],ke=0;return U(Z,Ce,"","",function(Ne){return ue.call(Ae,Ne,ke++)}),Ce}function le(Z){if(Z._status===-1){var ue=Z._result;ue=ue(),ue.then(function(Ae){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=Ae)},function(Ae){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=Ae)}),Z._status===-1&&(Z._status=0,Z._result=ue)}if(Z._status===1)return Z._result.default;throw Z._result}var ie=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},Ee={map:q,forEach:function(Z,ue,Ae){q(Z,function(){ue.apply(this,arguments)},Ae)},count:function(Z){var ue=0;return q(Z,function(){ue++}),ue},toArray:function(Z){return q(Z,function(ue){return ue})||[]},only:function(Z){if(!G(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return react_production.Activity=u,react_production.Children=Ee,react_production.Component=O,react_production.Fragment=n,react_production.Profiler=l,react_production.PureComponent=I,react_production.StrictMode=i,react_production.Suspense=_,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return L.H.useMemoCache(Z)}},react_production.cache=function(Z){return function(){return Z.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(Z,ue,Ae){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var Ce=E({},Z.props),ke=Z.key;if(ue!=null)for(Ne in ue.key!==void 0&&(ke=""+ue.key),ue)!B.call(ue,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ue.ref===void 0||(Ce[Ne]=ue[Ne]);var Ne=arguments.length-2;if(Ne===1)Ce.children=Ae;else if(1<Ne){for(var Le=Array(Ne),Pe=0;Pe<Ne;Pe++)Le[Pe]=arguments[Pe+2];Ce.children=Le}return $(Z.type,ke,Ce)},react_production.createContext=function(Z){return Z={$$typeof:f,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:d,_context:Z},Z},react_production.createElement=function(Z,ue,Ae){var Ce,ke={},Ne=null;if(ue!=null)for(Ce in ue.key!==void 0&&(Ne=""+ue.key),ue)B.call(ue,Ce)&&Ce!=="key"&&Ce!=="__self"&&Ce!=="__source"&&(ke[Ce]=ue[Ce]);var Le=arguments.length-2;if(Le===1)ke.children=Ae;else if(1<Le){for(var Pe=Array(Le),de=0;de<Le;de++)Pe[de]=arguments[de+2];ke.children=Pe}if(Z&&Z.defaultProps)for(Ce in Le=Z.defaultProps,Le)ke[Ce]===void 0&&(ke[Ce]=Le[Ce]);return $(Z,Ne,ke)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(Z){return{$$typeof:b,render:Z}},react_production.isValidElement=G,react_production.lazy=function(Z){return{$$typeof:m,_payload:{_status:-1,_result:Z},_init:le}},react_production.memo=function(Z,ue){return{$$typeof:v,type:Z,compare:ue===void 0?null:ue}},react_production.startTransition=function(Z){var ue=L.T,Ae={};L.T=Ae;try{var Ce=Z(),ke=L.S;ke!==null&&ke(Ae,Ce),typeof Ce=="object"&&Ce!==null&&typeof Ce.then=="function"&&Ce.then(N,ie)}catch(Ne){ie(Ne)}finally{ue!==null&&Ae.types!==null&&(ue.types=Ae.types),L.T=ue}},react_production.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},react_production.use=function(Z){return L.H.use(Z)},react_production.useActionState=function(Z,ue,Ae){return L.H.useActionState(Z,ue,Ae)},react_production.useCallback=function(Z,ue){return L.H.useCallback(Z,ue)},react_production.useContext=function(Z){return L.H.useContext(Z)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(Z,ue){return L.H.useDeferredValue(Z,ue)},react_production.useEffect=function(Z,ue){return L.H.useEffect(Z,ue)},react_production.useEffectEvent=function(Z){return L.H.useEffectEvent(Z)},react_production.useId=function(){return L.H.useId()},react_production.useImperativeHandle=function(Z,ue,Ae){return L.H.useImperativeHandle(Z,ue,Ae)},react_production.useInsertionEffect=function(Z,ue){return L.H.useInsertionEffect(Z,ue)},react_production.useLayoutEffect=function(Z,ue){return L.H.useLayoutEffect(Z,ue)},react_production.useMemo=function(Z,ue){return L.H.useMemo(Z,ue)},react_production.useOptimistic=function(Z,ue){return L.H.useOptimistic(Z,ue)},react_production.useReducer=function(Z,ue,Ae){return L.H.useReducer(Z,ue,Ae)},react_production.useRef=function(Z){return L.H.useRef(Z)},react_production.useState=function(Z){return L.H.useState(Z)},react_production.useSyncExternalStore=function(Z,ue,Ae){return L.H.useSyncExternalStore(Z,ue,Ae)},react_production.useTransition=function(){return L.H.useTransition()},react_production.version="19.2.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(t){function e(U,q){var le=U.length;U.push(q);e:for(;0<le;){var ie=le-1>>>1,Ee=U[ie];if(0<l(Ee,q))U[ie]=q,U[le]=Ee,le=ie;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var q=U[0],le=U.pop();if(le!==q){U[0]=le;e:for(var ie=0,Ee=U.length,Z=Ee>>>1;ie<Z;){var ue=2*(ie+1)-1,Ae=U[ue],Ce=ue+1,ke=U[Ce];if(0>l(Ae,le))Ce<Ee&&0>l(ke,Ae)?(U[ie]=ke,U[Ce]=le,ie=Ce):(U[ie]=Ae,U[ue]=le,ie=ue);else if(Ce<Ee&&0>l(ke,le))U[ie]=ke,U[Ce]=le,ie=Ce;else break e}}return q}function l(U,q){var le=U.sortIndex-q.sortIndex;return le!==0?le:U.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var f=Date,b=f.now();t.unstable_now=function(){return f.now()-b}}var _=[],v=[],m=1,u=null,o=3,h=!1,w=!1,E=!1,T=!1,O=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function R(U){for(var q=n(v);q!==null;){if(q.callback===null)i(v);else if(q.startTime<=U)i(v),q.sortIndex=q.expirationTime,e(_,q);else break;q=n(v)}}function D(U){if(E=!1,R(U),!w)if(n(_)!==null)w=!0,N||(N=!0,X());else{var q=n(v);q!==null&&Y(D,q.startTime-U)}}var N=!1,L=-1,B=5,$=-1;function V(){return T?!0:!(t.unstable_now()-$<B)}function G(){if(T=!1,N){var U=t.unstable_now();$=U;var q=!0;try{e:{w=!1,E&&(E=!1,M(L),L=-1),h=!0;var le=o;try{t:{for(R(U),u=n(_);u!==null&&!(u.expirationTime>U&&V());){var ie=u.callback;if(typeof ie=="function"){u.callback=null,o=u.priorityLevel;var Ee=ie(u.expirationTime<=U);if(U=t.unstable_now(),typeof Ee=="function"){u.callback=Ee,R(U),q=!0;break t}u===n(_)&&i(_),R(U)}else i(_);u=n(_)}if(u!==null)q=!0;else{var Z=n(v);Z!==null&&Y(D,Z.startTime-U),q=!1}}break e}finally{u=null,o=le,h=!1}q=void 0}}finally{q?X():N=!1}}}var X;if(typeof I=="function")X=function(){I(G)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Q=ee.port2;ee.port1.onmessage=G,X=function(){Q.postMessage(null)}}else X=function(){O(G,0)};function Y(U,q){L=O(function(){U(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return o},t.unstable_next=function(U){switch(o){case 1:case 2:case 3:var q=3;break;default:q=o}var le=o;o=q;try{return U()}finally{o=le}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(U,q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var le=o;o=U;try{return q()}finally{o=le}},t.unstable_scheduleCallback=function(U,q,le){var ie=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ie+le:ie):le=ie,U){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=le+Ee,U={id:m++,callback:q,priorityLevel:U,startTime:le,expirationTime:Ee,sortIndex:-1},le>ie?(U.sortIndex=le,e(v,U),n(_)===null&&U===n(v)&&(E?(M(L),L=-1):E=!0,Y(D,le-ie))):(U.sortIndex=Ee,e(_,U),w||h||(w=!0,N||(N=!0,X()))),U},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(U){var q=o;return function(){var le=o;o=q;try{return U.apply(this,arguments)}finally{o=le}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var t=requireReact();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)v+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function d(_,v,m){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:u==null?null:""+u,children:_,containerInfo:v,implementation:m}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,reactDom_production.createPortal=function(_,v){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return d(_,v,null,m)},reactDom_production.flushSync=function(_){var v=f.T,m=i.p;try{if(f.T=null,i.p=2,_)return _()}finally{f.T=v,i.p=m,i.d.f()}},reactDom_production.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(_,v))},reactDom_production.prefetchDNS=function(_){typeof _=="string"&&i.d.D(_)},reactDom_production.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var m=v.as,u=b(m,v.crossOrigin),o=typeof v.integrity=="string"?v.integrity:void 0,h=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;m==="style"?i.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:u,integrity:o,fetchPriority:h}):m==="script"&&i.d.X(_,{crossOrigin:u,integrity:o,fetchPriority:h,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},reactDom_production.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var m=b(v.as,v.crossOrigin);i.d.M(_,{crossOrigin:m,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(_)},reactDom_production.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var m=v.as,u=b(m,v.crossOrigin);i.d.L(_,m,{crossOrigin:u,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},reactDom_production.preloadModule=function(_,v){if(typeof _=="string")if(v){var m=b(v.as,v.crossOrigin);i.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:m,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(_)},reactDom_production.requestFormReset=function(_){i.d.r(_)},reactDom_production.unstable_batchedUpdates=function(_,v){return _(v)},reactDom_production.useFormState=function(_,v,m){return f.H.useFormState(_,v,m)},reactDom_production.useFormStatus=function(){return f.H.useHostTransitionStatus()},reactDom_production.version="19.2.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=requireScheduler(),e=requireReact(),n=requireReactDom();function i(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function d(p){var g=p,S=p;if(p.alternate)for(;g.return;)g=g.return;else{p=g;do g=p,(g.flags&4098)!==0&&(S=g.return),p=g.return;while(p)}return g.tag===3?S:null}function f(p){if(p.tag===13){var g=p.memoizedState;if(g===null&&(p=p.alternate,p!==null&&(g=p.memoizedState)),g!==null)return g.dehydrated}return null}function b(p){if(p.tag===31){var g=p.memoizedState;if(g===null&&(p=p.alternate,p!==null&&(g=p.memoizedState)),g!==null)return g.dehydrated}return null}function _(p){if(d(p)!==p)throw Error(i(188))}function v(p){var g=p.alternate;if(!g){if(g=d(p),g===null)throw Error(i(188));return g!==p?null:p}for(var S=p,A=g;;){var C=S.return;if(C===null)break;var j=C.alternate;if(j===null){if(A=C.return,A!==null){S=A;continue}break}if(C.child===j.child){for(j=C.child;j;){if(j===S)return _(C),p;if(j===A)return _(C),g;j=j.sibling}throw Error(i(188))}if(S.return!==A.return)S=C,A=j;else{for(var F=!1,H=C.child;H;){if(H===S){F=!0,S=C,A=j;break}if(H===A){F=!0,A=C,S=j;break}H=H.sibling}if(!F){for(H=j.child;H;){if(H===S){F=!0,S=j,A=C;break}if(H===A){F=!0,A=j,S=C;break}H=H.sibling}if(!F)throw Error(i(189))}}if(S.alternate!==A)throw Error(i(190))}if(S.tag!==3)throw Error(i(188));return S.stateNode.current===S?p:g}function m(p){var g=p.tag;if(g===5||g===26||g===27||g===6)return p;for(p=p.child;p!==null;){if(g=m(p),g!==null)return g;p=p.sibling}return null}var u=Object.assign,o=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),I=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function X(p){return p===null||typeof p!="object"?null:(p=G&&p[G]||p["@@iterator"],typeof p=="function"?p:null)}var ee=Symbol.for("react.client.reference");function Q(p){if(p==null)return null;if(typeof p=="function")return p.$$typeof===ee?null:p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case E:return"Fragment";case O:return"Profiler";case T:return"StrictMode";case D:return"Suspense";case N:return"SuspenseList";case $:return"Activity"}if(typeof p=="object")switch(p.$$typeof){case w:return"Portal";case I:return p.displayName||"Context";case M:return(p._context.displayName||"Context")+".Consumer";case R:var g=p.render;return p=p.displayName,p||(p=g.displayName||g.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case L:return g=p.displayName||null,g!==null?g:Q(p.type)||"Memo";case B:g=p._payload,p=p._init;try{return Q(p(g))}catch{}}return null}var Y=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ie=[],Ee=-1;function Z(p){return{current:p}}function ue(p){0>Ee||(p.current=ie[Ee],ie[Ee]=null,Ee--)}function Ae(p,g){Ee++,ie[Ee]=p.current,p.current=g}var Ce=Z(null),ke=Z(null),Ne=Z(null),Le=Z(null);function Pe(p,g){switch(Ae(Ne,g),Ae(ke,p),Ae(Ce,null),g.nodeType){case 9:case 11:p=(p=g.documentElement)&&(p=p.namespaceURI)?uf(p):0;break;default:if(p=g.tagName,g=g.namespaceURI)g=uf(g),p=df(g,p);else switch(p){case"svg":p=1;break;case"math":p=2;break;default:p=0}}ue(Ce),Ae(Ce,p)}function de(){ue(Ce),ue(ke),ue(Ne)}function De(p){p.memoizedState!==null&&Ae(Le,p);var g=Ce.current,S=df(g,p.type);g!==S&&(Ae(ke,p),Ae(Ce,S))}function $e(p){ke.current===p&&(ue(Ce),ue(ke)),Le.current===p&&(ue(Le),ao._currentValue=le)}var we,Qe;function Fe(p){if(we===void 0)try{throw Error()}catch(S){var g=S.stack.trim().match(/\n( *(at )?)/);we=g&&g[1]||"",Qe=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+p+Qe}var at=!1;function vt(p,g){if(!p||at)return"";at=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var A={DetermineComponentFrameRoot:function(){try{if(g){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(ve){var ge=ve}Reflect.construct(p,[],Me)}else{try{Me.call()}catch(ve){ge=ve}p.call(Me.prototype)}}else{try{throw Error()}catch(ve){ge=ve}(Me=p())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(ve){if(ve&&ge&&typeof ve.stack=="string")return[ve.stack,ge.stack]}return[null,null]}};A.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(A.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(A.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=A.DetermineComponentFrameRoot(),F=j[0],H=j[1];if(F&&H){var ne=F.split(`
`),me=H.split(`
`);for(C=A=0;A<ne.length&&!ne[A].includes("DetermineComponentFrameRoot");)A++;for(;C<me.length&&!me[C].includes("DetermineComponentFrameRoot");)C++;if(A===ne.length||C===me.length)for(A=ne.length-1,C=me.length-1;1<=A&&0<=C&&ne[A]!==me[C];)C--;for(;1<=A&&0<=C;A--,C--)if(ne[A]!==me[C]){if(A!==1||C!==1)do if(A--,C--,0>C||ne[A]!==me[C]){var Te=`
`+ne[A].replace(" at new "," at ");return p.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",p.displayName)),Te}while(1<=A&&0<=C);break}}}finally{at=!1,Error.prepareStackTrace=S}return(S=p?p.displayName||p.name:"")?Fe(S):""}function kt(p,g){switch(p.tag){case 26:case 27:case 5:return Fe(p.type);case 16:return Fe("Lazy");case 13:return p.child!==g&&g!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return vt(p.type,!1);case 11:return vt(p.type.render,!1);case 1:return vt(p.type,!0);case 31:return Fe("Activity");default:return""}}function ir(p){try{var g="",S=null;do g+=kt(p,S),S=p,p=p.return;while(p);return g}catch(A){return`
Error generating stack: `+A.message+`
`+A.stack}}var xr=Object.prototype.hasOwnProperty,or=t.unstable_scheduleCallback,Jt=t.unstable_cancelCallback,Mt=t.unstable_shouldYield,sr=t.unstable_requestPaint,Nt=t.unstable_now,st=t.unstable_getCurrentPriorityLevel,In=t.unstable_ImmediatePriority,rn=t.unstable_UserBlockingPriority,nn=t.unstable_NormalPriority,Vr=t.unstable_LowPriority,an=t.unstable_IdlePriority,kn=t.log,Ht=t.unstable_setDisableYieldValue,_r=null,Ue=null;function er(p){if(typeof kn=="function"&&Ht(p),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(_r,p)}catch{}}var Zt=Math.clz32?Math.clz32:yt,Ma=Math.log,qr=Math.LN2;function yt(p){return p>>>=0,p===0?32:31-(Ma(p)/qr|0)|0}var Mr=256,Xr=262144,Cr=4194304;function Ye(p){var g=p&42;if(g!==0)return g;switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return p&261888;case 262144:case 524288:case 1048576:case 2097152:return p&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return p&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return p}}function Ke(p,g,S){var A=p.pendingLanes;if(A===0)return 0;var C=0,j=p.suspendedLanes,F=p.pingedLanes;p=p.warmLanes;var H=A&134217727;return H!==0?(A=H&~j,A!==0?C=Ye(A):(F&=H,F!==0?C=Ye(F):S||(S=H&~p,S!==0&&(C=Ye(S))))):(H=A&~j,H!==0?C=Ye(H):F!==0?C=Ye(F):S||(S=A&~p,S!==0&&(C=Ye(S)))),C===0?0:g!==0&&g!==C&&(g&j)===0&&(j=C&-C,S=g&-g,j>=S||j===32&&(S&4194048)!==0)?g:C}function Xe(p,g){return(p.pendingLanes&~(p.suspendedLanes&~p.pingedLanes)&g)===0}function ca(p,g){switch(p){case 1:case 2:case 4:case 8:case 64:return g+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(){var p=Cr;return Cr<<=1,(Cr&62914560)===0&&(Cr=4194304),p}function on(p){for(var g=[],S=0;31>S;S++)g.push(p);return g}function Gr(p,g){p.pendingLanes|=g,g!==268435456&&(p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0)}function ua(p,g,S,A,C,j){var F=p.pendingLanes;p.pendingLanes=S,p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0,p.expiredLanes&=S,p.entangledLanes&=S,p.errorRecoveryDisabledLanes&=S,p.shellSuspendCounter=0;var H=p.entanglements,ne=p.expirationTimes,me=p.hiddenUpdates;for(S=F&~S;0<S;){var Te=31-Zt(S),Me=1<<Te;H[Te]=0,ne[Te]=-1;var ge=me[Te];if(ge!==null)for(me[Te]=null,Te=0;Te<ge.length;Te++){var ve=ge[Te];ve!==null&&(ve.lane&=-536870913)}S&=~Me}A!==0&&Dn(p,A,0),j!==0&&C===0&&p.tag!==0&&(p.suspendedLanes|=j&~(F&~g))}function Dn(p,g,S){p.pendingLanes|=g,p.suspendedLanes&=~g;var A=31-Zt(g);p.entangledLanes|=g,p.entanglements[A]=p.entanglements[A]|1073741824|S&261930}function Rn(p,g){var S=p.entangledLanes|=g;for(p=p.entanglements;S;){var A=31-Zt(S),C=1<<A;C&g|p[A]&g&&(p[A]|=g),S&=~C}}function jn(p,g){var S=g&-g;return S=(S&42)!==0?1:sn(S),(S&(p.suspendedLanes|g))!==0?0:S}function sn(p){switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=128;break;case 268435456:p=134217728;break;default:p=0}return p}function cn(p){return p&=-p,2<p?8<p?(p&134217727)!==0?32:268435456:8:2}function Nn(){var p=q.p;return p!==0?p:(p=window.event,p===void 0?32:jf(p.type))}function Ln(p,g){var S=q.p;try{return q.p=p,g()}finally{q.p=S}}var fr=Math.random().toString(36).slice(2),$t="__reactFiber$"+fr,K="__reactProps$"+fr,te="__reactContainer$"+fr,se="__reactEvents$"+fr,fe="__reactListeners$"+fr,ye="__reactHandles$"+fr,Se="__reactResources$"+fr,Re="__reactMarker$"+fr;function Ve(p){delete p[$t],delete p[K],delete p[se],delete p[fe],delete p[ye]}function Be(p){var g=p[$t];if(g)return g;for(var S=p.parentNode;S;){if(g=S[te]||S[$t]){if(S=g.alternate,g.child!==null||S!==null&&S.child!==null)for(p=bf(p);p!==null;){if(S=p[$t])return S;p=bf(p)}return g}p=S,S=p.parentNode}return null}function Je(p){if(p=p[$t]||p[te]){var g=p.tag;if(g===5||g===6||g===13||g===31||g===26||g===27||g===3)return p}return null}function mt(p){var g=p.tag;if(g===5||g===26||g===27||g===6)return p.stateNode;throw Error(i(33))}function Dt(p){var g=p[Se];return g||(g=p[Se]={hoistableStyles:new Map,hoistableScripts:new Map}),g}function ut(p){p[Re]=!0}var xe=new Set,lt={};function bt(p,g){Kt(p,g),Kt(p+"Capture",g)}function Kt(p,g){for(lt[p]=g,p=0;p<g.length;p++)xe.add(g[p])}var Wr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ca={},Ia={};function co(p){return xr.call(Ia,p)?!0:xr.call(Ca,p)?!1:Wr.test(p)?Ia[p]=!0:(Ca[p]=!0,!1)}function Yt(p,g,S){if(co(g))if(S===null)p.removeAttribute(g);else{switch(typeof S){case"undefined":case"function":case"symbol":p.removeAttribute(g);return;case"boolean":var A=g.toLowerCase().slice(0,5);if(A!=="data-"&&A!=="aria-"){p.removeAttribute(g);return}}p.setAttribute(g,""+S)}}function un(p,g,S){if(S===null)p.removeAttribute(g);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(g);return}p.setAttribute(g,""+S)}}function Ir(p,g,S,A){if(A===null)p.removeAttribute(S);else{switch(typeof A){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(S);return}p.setAttributeNS(g,S,""+A)}}function cr(p){switch(typeof p){case"bigint":case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function gi(p){var g=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function gs(p,g,S){var A=Object.getOwnPropertyDescriptor(p.constructor.prototype,g);if(!p.hasOwnProperty(g)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var C=A.get,j=A.set;return Object.defineProperty(p,g,{configurable:!0,get:function(){return C.call(this)},set:function(F){S=""+F,j.call(this,F)}}),Object.defineProperty(p,g,{enumerable:A.enumerable}),{getValue:function(){return S},setValue:function(F){S=""+F},stopTracking:function(){p._valueTracker=null,delete p[g]}}}}function yi(p){if(!p._valueTracker){var g=gi(p)?"checked":"value";p._valueTracker=gs(p,g,""+p[g])}}function da(p){if(!p)return!1;var g=p._valueTracker;if(!g)return!0;var S=g.getValue(),A="";return p&&(A=gi(p)?p.checked?"true":"false":p.value),p=A,p!==S?(g.setValue(p),!0):!1}function $n(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}var uo=/[\n"\\]/g;function ur(p){return p.replace(uo,function(g){return"\\"+g.charCodeAt(0).toString(16)+" "})}function Da(p,g,S,A,C,j,F,H){p.name="",F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?p.type=F:p.removeAttribute("type"),g!=null?F==="number"?(g===0&&p.value===""||p.value!=g)&&(p.value=""+cr(g)):p.value!==""+cr(g)&&(p.value=""+cr(g)):F!=="submit"&&F!=="reset"||p.removeAttribute("value"),g!=null?Bn(p,F,cr(g)):S!=null?Bn(p,F,cr(S)):A!=null&&p.removeAttribute("value"),C==null&&j!=null&&(p.defaultChecked=!!j),C!=null&&(p.checked=C&&typeof C!="function"&&typeof C!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?p.name=""+cr(H):p.removeAttribute("name")}function bi(p,g,S,A,C,j,F,H){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(p.type=j),g!=null||S!=null){if(!(j!=="submit"&&j!=="reset"||g!=null)){yi(p);return}S=S!=null?""+cr(S):"",g=g!=null?""+cr(g):S,H||g===p.value||(p.value=g),p.defaultValue=g}A=A??C,A=typeof A!="function"&&typeof A!="symbol"&&!!A,p.checked=H?p.checked:!!A,p.defaultChecked=!!A,F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(p.name=F),yi(p)}function Bn(p,g,S){g==="number"&&$n(p.ownerDocument)===p||p.defaultValue===""+S||(p.defaultValue=""+S)}function dn(p,g,S,A){if(p=p.options,g){g={};for(var C=0;C<S.length;C++)g["$"+S[C]]=!0;for(S=0;S<p.length;S++)C=g.hasOwnProperty("$"+p[S].value),p[S].selected!==C&&(p[S].selected=C),C&&A&&(p[S].defaultSelected=!0)}else{for(S=""+cr(S),g=null,C=0;C<p.length;C++){if(p[C].value===S){p[C].selected=!0,A&&(p[C].defaultSelected=!0);return}g!==null||p[C].disabled||(g=p[C])}g!==null&&(g.selected=!0)}}function vi(p,g,S){if(g!=null&&(g=""+cr(g),g!==p.value&&(p.value=g),S==null)){p.defaultValue!==g&&(p.defaultValue=g);return}p.defaultValue=S!=null?""+cr(S):""}function Ra(p,g,S,A){if(g==null){if(A!=null){if(S!=null)throw Error(i(92));if(Y(A)){if(1<A.length)throw Error(i(93));A=A[0]}S=A}S==null&&(S=""),g=S}S=cr(g),p.defaultValue=S,A=p.textContent,A===S&&A!==""&&A!==null&&(p.value=A),yi(p)}function fn(p,g){if(g){var S=p.firstChild;if(S&&S===p.lastChild&&S.nodeType===3){S.nodeValue=g;return}}p.textContent=g}var ot=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xi(p,g,S){var A=g.indexOf("--")===0;S==null||typeof S=="boolean"||S===""?A?p.setProperty(g,""):g==="float"?p.cssFloat="":p[g]="":A?p.setProperty(g,S):typeof S!="number"||S===0||ot.has(g)?g==="float"?p.cssFloat=S:p[g]=(""+S).trim():p[g]=S+"px"}function rt(p,g,S){if(g!=null&&typeof g!="object")throw Error(i(62));if(p=p.style,S!=null){for(var A in S)!S.hasOwnProperty(A)||g!=null&&g.hasOwnProperty(A)||(A.indexOf("--")===0?p.setProperty(A,""):A==="float"?p.cssFloat="":p[A]="");for(var C in g)A=g[C],g.hasOwnProperty(C)&&S[C]!==A&&xi(p,C,A)}else for(var j in g)g.hasOwnProperty(j)&&xi(p,j,g[j])}function tt(p){if(p.indexOf("-")===-1)return!1;switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _i=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ja=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(p){return ja.test(""+p)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":p}function Dr(){}var Na=null;function La(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var pn=null,hn=null;function wi(p){var g=Je(p);if(g&&(p=g.stateNode)){var S=p[K]||null;e:switch(p=g.stateNode,g.type){case"input":if(Da(p,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name),g=S.name,S.type==="radio"&&g!=null){for(S=p;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll('input[name="'+ur(""+g)+'"][type="radio"]'),g=0;g<S.length;g++){var A=S[g];if(A!==p&&A.form===p.form){var C=A[K]||null;if(!C)throw Error(i(90));Da(A,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(g=0;g<S.length;g++)A=S[g],A.form===p.form&&da(A)}break e;case"textarea":vi(p,S.value,S.defaultValue);break e;case"select":g=S.value,g!=null&&dn(p,!!S.multiple,g,!1)}}}var $a=!1;function Si(p,g,S){if($a)return p(g,S);$a=!0;try{var A=p(g);return A}finally{if($a=!1,(pn!==null||hn!==null)&&(Ho(),pn&&(g=pn,p=hn,hn=pn=null,wi(g),p)))for(g=0;g<p.length;g++)wi(p[g])}}function Fn(p,g){var S=p.stateNode;if(S===null)return null;var A=S[K]||null;if(A===null)return null;S=A[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(p=p.type,A=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!A;break e;default:p=!1}if(p)return null;if(S&&typeof S!="function")throw Error(i(231,g,typeof S));return S}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ba=!1;if(Rr)try{var z={};Object.defineProperty(z,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",z,z),window.removeEventListener("test",z,z)}catch{Ba=!1}var W=null,J=null,ae=null;function pe(){if(ae)return ae;var p,g=J,S=g.length,A,C="value"in W?W.value:W.textContent,j=C.length;for(p=0;p<S&&g[p]===C[p];p++);var F=S-p;for(A=1;A<=F&&g[S-A]===C[j-A];A++);return ae=C.slice(p,1<A?1-A:void 0)}function be(p){var g=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&g===13&&(p=13)):p=g,p===10&&(p=13),32<=p||p===13?p:0}function je(){return!0}function Ge(){return!1}function He(p){function g(S,A,C,j,F){this._reactName=S,this._targetInst=C,this.type=A,this.nativeEvent=j,this.target=F,this.currentTarget=null;for(var H in p)p.hasOwnProperty(H)&&(S=p[H],this[H]=S?S(j):j[H]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?je:Ge,this.isPropagationStopped=Ge,this}return u(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=je)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=je)},persist:function(){},isPersistent:je}),g}var et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ct=He(et),lr=u({},et,{view:0,detail:0}),pr=He(lr),_e,ct,St,hr=u({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==St&&(St&&p.type==="mousemove"?(_e=p.screenX-St.screenX,ct=p.screenY-St.screenY):ct=_e=0,St=p),_e)},movementY:function(p){return"movementY"in p?p.movementY:ct}}),mn=He(hr),qf=u({},hr,{dataTransfer:0}),Gf=He(qf),Wf=u({},lr,{relatedTarget:0}),ys=He(Wf),Hf=u({},et,{animationName:0,elapsedTime:0,pseudoElement:0}),Kf=He(Hf),Yf=u({},et,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),Xf=He(Yf),Zf=u({},et,{data:0}),pc=He(Zf),Qf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tp(p){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(p):(p=ep[p])?!!g[p]:!1}function bs(){return tp}var rp=u({},lr,{key:function(p){if(p.key){var g=Qf[p.key]||p.key;if(g!=="Unidentified")return g}return p.type==="keypress"?(p=be(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?Jf[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(p){return p.type==="keypress"?be(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?be(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),np=He(rp),ap=u({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hc=He(ap),ip=u({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),op=He(ip),sp=u({},et,{propertyName:0,elapsedTime:0,pseudoElement:0}),lp=He(sp),cp=u({},hr,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),up=He(cp),dp=u({},et,{newState:0,oldState:0}),fp=He(dp),pp=[9,13,27,32],vs=Rr&&"CompositionEvent"in window,Ei=null;Rr&&"documentMode"in document&&(Ei=document.documentMode);var hp=Rr&&"TextEvent"in window&&!Ei,mc=Rr&&(!vs||Ei&&8<Ei&&11>=Ei),gc=" ",yc=!1;function bc(p,g){switch(p){case"keyup":return pp.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vc(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var Fa=!1;function mp(p,g){switch(p){case"compositionend":return vc(g);case"keypress":return g.which!==32?null:(yc=!0,gc);case"textInput":return p=g.data,p===gc&&yc?null:p;default:return null}}function gp(p,g){if(Fa)return p==="compositionend"||!vs&&bc(p,g)?(p=pe(),ae=J=W=null,Fa=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return mc&&g.locale!=="ko"?null:g.data;default:return null}}var yp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xc(p){var g=p&&p.nodeName&&p.nodeName.toLowerCase();return g==="input"?!!yp[p.type]:g==="textarea"}function _c(p,g,S,A){pn?hn?hn.push(A):hn=[A]:pn=A,g=es(g,"onChange"),0<g.length&&(S=new Ct("onChange","change",null,S,A),p.push({event:S,listeners:g}))}var Ti=null,Ai=null;function bp(p){nf(p,0)}function fo(p){var g=mt(p);if(da(g))return p}function wc(p,g){if(p==="change")return g}var Sc=!1;if(Rr){var xs;if(Rr){var _s="oninput"in document;if(!_s){var Ec=document.createElement("div");Ec.setAttribute("oninput","return;"),_s=typeof Ec.oninput=="function"}xs=_s}else xs=!1;Sc=xs&&(!document.documentMode||9<document.documentMode)}function Tc(){Ti&&(Ti.detachEvent("onpropertychange",Ac),Ai=Ti=null)}function Ac(p){if(p.propertyName==="value"&&fo(Ai)){var g=[];_c(g,Ai,p,La(p)),Si(bp,g)}}function vp(p,g,S){p==="focusin"?(Tc(),Ti=g,Ai=S,Ti.attachEvent("onpropertychange",Ac)):p==="focusout"&&Tc()}function xp(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return fo(Ai)}function _p(p,g){if(p==="click")return fo(g)}function wp(p,g){if(p==="input"||p==="change")return fo(g)}function Sp(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var wr=typeof Object.is=="function"?Object.is:Sp;function Pi(p,g){if(wr(p,g))return!0;if(typeof p!="object"||p===null||typeof g!="object"||g===null)return!1;var S=Object.keys(p),A=Object.keys(g);if(S.length!==A.length)return!1;for(A=0;A<S.length;A++){var C=S[A];if(!xr.call(g,C)||!wr(p[C],g[C]))return!1}return!0}function Pc(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function Oc(p,g){var S=Pc(p);p=0;for(var A;S;){if(S.nodeType===3){if(A=p+S.textContent.length,p<=g&&A>=g)return{node:S,offset:g-p};p=A}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=Pc(S)}}function Mc(p,g){return p&&g?p===g?!0:p&&p.nodeType===3?!1:g&&g.nodeType===3?Mc(p,g.parentNode):"contains"in p?p.contains(g):p.compareDocumentPosition?!!(p.compareDocumentPosition(g)&16):!1:!1}function Cc(p){p=p!=null&&p.ownerDocument!=null&&p.ownerDocument.defaultView!=null?p.ownerDocument.defaultView:window;for(var g=$n(p.document);g instanceof p.HTMLIFrameElement;){try{var S=typeof g.contentWindow.location.href=="string"}catch{S=!1}if(S)p=g.contentWindow;else break;g=$n(p.document)}return g}function ws(p){var g=p&&p.nodeName&&p.nodeName.toLowerCase();return g&&(g==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||g==="textarea"||p.contentEditable==="true")}var Ep=Rr&&"documentMode"in document&&11>=document.documentMode,za=null,Ss=null,Oi=null,Es=!1;function Ic(p,g,S){var A=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;Es||za==null||za!==$n(A)||(A=za,"selectionStart"in A&&ws(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Oi&&Pi(Oi,A)||(Oi=A,A=es(Ss,"onSelect"),0<A.length&&(g=new Ct("onSelect","select",null,g,S),p.push({event:g,listeners:A}),g.target=za)))}function pa(p,g){var S={};return S[p.toLowerCase()]=g.toLowerCase(),S["Webkit"+p]="webkit"+g,S["Moz"+p]="moz"+g,S}var Ua={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},Ts={},kc={};Rr&&(kc=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function ha(p){if(Ts[p])return Ts[p];if(!Ua[p])return p;var g=Ua[p],S;for(S in g)if(g.hasOwnProperty(S)&&S in kc)return Ts[p]=g[S];return p}var Dc=ha("animationend"),Rc=ha("animationiteration"),jc=ha("animationstart"),Tp=ha("transitionrun"),Ap=ha("transitionstart"),Pp=ha("transitioncancel"),Nc=ha("transitionend"),Lc=new Map,As="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");As.push("scrollEnd");function Hr(p,g){Lc.set(p,g),bt(g,[p])}var po=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},jr=[],Va=0,Ps=0;function ho(){for(var p=Va,g=Ps=Va=0;g<p;){var S=jr[g];jr[g++]=null;var A=jr[g];jr[g++]=null;var C=jr[g];jr[g++]=null;var j=jr[g];if(jr[g++]=null,A!==null&&C!==null){var F=A.pending;F===null?C.next=C:(C.next=F.next,F.next=C),A.pending=C}j!==0&&$c(S,C,j)}}function mo(p,g,S,A){jr[Va++]=p,jr[Va++]=g,jr[Va++]=S,jr[Va++]=A,Ps|=A,p.lanes|=A,p=p.alternate,p!==null&&(p.lanes|=A)}function Os(p,g,S,A){return mo(p,g,S,A),go(p)}function ma(p,g){return mo(p,null,null,g),go(p)}function $c(p,g,S){p.lanes|=S;var A=p.alternate;A!==null&&(A.lanes|=S);for(var C=!1,j=p.return;j!==null;)j.childLanes|=S,A=j.alternate,A!==null&&(A.childLanes|=S),j.tag===22&&(p=j.stateNode,p===null||p._visibility&1||(C=!0)),p=j,j=j.return;return p.tag===3?(j=p.stateNode,C&&g!==null&&(C=31-Zt(S),p=j.hiddenUpdates,A=p[C],A===null?p[C]=[g]:A.push(g),g.lane=S|536870912),j):null}function go(p){if(50<Xi)throw Xi=0,Ll=null,Error(i(185));for(var g=p.return;g!==null;)p=g,g=p.return;return p.tag===3?p.stateNode:null}var qa={};function Op(p,g,S,A){this.tag=p,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(p,g,S,A){return new Op(p,g,S,A)}function Ms(p){return p=p.prototype,!(!p||!p.isReactComponent)}function gn(p,g){var S=p.alternate;return S===null?(S=Sr(p.tag,g,p.key,p.mode),S.elementType=p.elementType,S.type=p.type,S.stateNode=p.stateNode,S.alternate=p,p.alternate=S):(S.pendingProps=g,S.type=p.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=p.flags&65011712,S.childLanes=p.childLanes,S.lanes=p.lanes,S.child=p.child,S.memoizedProps=p.memoizedProps,S.memoizedState=p.memoizedState,S.updateQueue=p.updateQueue,g=p.dependencies,S.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},S.sibling=p.sibling,S.index=p.index,S.ref=p.ref,S.refCleanup=p.refCleanup,S}function Bc(p,g){p.flags&=65011714;var S=p.alternate;return S===null?(p.childLanes=0,p.lanes=g,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=S.childLanes,p.lanes=S.lanes,p.child=S.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=S.memoizedProps,p.memoizedState=S.memoizedState,p.updateQueue=S.updateQueue,p.type=S.type,g=S.dependencies,p.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),p}function yo(p,g,S,A,C,j){var F=0;if(A=p,typeof p=="function")Ms(p)&&(F=1);else if(typeof p=="string")F=Dh(p,S,Ce.current)?26:p==="html"||p==="head"||p==="body"?27:5;else e:switch(p){case $:return p=Sr(31,S,g,C),p.elementType=$,p.lanes=j,p;case E:return ga(S.children,C,j,g);case T:F=8,C|=24;break;case O:return p=Sr(12,S,g,C|2),p.elementType=O,p.lanes=j,p;case D:return p=Sr(13,S,g,C),p.elementType=D,p.lanes=j,p;case N:return p=Sr(19,S,g,C),p.elementType=N,p.lanes=j,p;default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case I:F=10;break e;case M:F=9;break e;case R:F=11;break e;case L:F=14;break e;case B:F=16,A=null;break e}F=29,S=Error(i(130,p===null?"null":typeof p,"")),A=null}return g=Sr(F,S,g,C),g.elementType=p,g.type=A,g.lanes=j,g}function ga(p,g,S,A){return p=Sr(7,p,A,g),p.lanes=S,p}function Cs(p,g,S){return p=Sr(6,p,null,g),p.lanes=S,p}function Fc(p){var g=Sr(18,null,null,0);return g.stateNode=p,g}function Is(p,g,S){return g=Sr(4,p.children!==null?p.children:[],p.key,g),g.lanes=S,g.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},g}var zc=new WeakMap;function Nr(p,g){if(typeof p=="object"&&p!==null){var S=zc.get(p);return S!==void 0?S:(g={value:p,source:g,stack:ir(g)},zc.set(p,g),g)}return{value:p,source:g,stack:ir(g)}}var Ga=[],Wa=0,bo=null,Mi=0,Lr=[],$r=0,zn=null,Qr=1,Jr="";function yn(p,g){Ga[Wa++]=Mi,Ga[Wa++]=bo,bo=p,Mi=g}function Uc(p,g,S){Lr[$r++]=Qr,Lr[$r++]=Jr,Lr[$r++]=zn,zn=p;var A=Qr;p=Jr;var C=32-Zt(A)-1;A&=~(1<<C),S+=1;var j=32-Zt(g)+C;if(30<j){var F=C-C%5;j=(A&(1<<F)-1).toString(32),A>>=F,C-=F,Qr=1<<32-Zt(g)+C|S<<C|A,Jr=j+p}else Qr=1<<j|S<<C|A,Jr=p}function ks(p){p.return!==null&&(yn(p,1),Uc(p,1,0))}function Ds(p){for(;p===bo;)bo=Ga[--Wa],Ga[Wa]=null,Mi=Ga[--Wa],Ga[Wa]=null;for(;p===zn;)zn=Lr[--$r],Lr[$r]=null,Jr=Lr[--$r],Lr[$r]=null,Qr=Lr[--$r],Lr[$r]=null}function Vc(p,g){Lr[$r++]=Qr,Lr[$r++]=Jr,Lr[$r++]=zn,Qr=g.id,Jr=g.overflow,zn=p}var tr=null,Rt=null,gt=!1,Un=null,Br=!1,Rs=Error(i(519));function Vn(p){var g=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ci(Nr(g,p)),Rs}function qc(p){var g=p.stateNode,S=p.type,A=p.memoizedProps;switch(g[$t]=p,g[K]=A,S){case"dialog":ft("cancel",g),ft("close",g);break;case"iframe":case"object":case"embed":ft("load",g);break;case"video":case"audio":for(S=0;S<Qi.length;S++)ft(Qi[S],g);break;case"source":ft("error",g);break;case"img":case"image":case"link":ft("error",g),ft("load",g);break;case"details":ft("toggle",g);break;case"input":ft("invalid",g),bi(g,A.value,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name,!0);break;case"select":ft("invalid",g);break;case"textarea":ft("invalid",g),Ra(g,A.value,A.defaultValue,A.children)}S=A.children,typeof S!="string"&&typeof S!="number"&&typeof S!="bigint"||g.textContent===""+S||A.suppressHydrationWarning===!0||lf(g.textContent,S)?(A.popover!=null&&(ft("beforetoggle",g),ft("toggle",g)),A.onScroll!=null&&ft("scroll",g),A.onScrollEnd!=null&&ft("scrollend",g),A.onClick!=null&&(g.onclick=Dr),g=!0):g=!1,g||Vn(p,!0)}function Gc(p){for(tr=p.return;tr;)switch(tr.tag){case 5:case 31:case 13:Br=!1;return;case 27:case 3:Br=!0;return;default:tr=tr.return}}function Ha(p){if(p!==tr)return!1;if(!gt)return Gc(p),gt=!0,!1;var g=p.tag,S;if((S=g!==3&&g!==27)&&((S=g===5)&&(S=p.type,S=!(S!=="form"&&S!=="button")||Ql(p.type,p.memoizedProps)),S=!S),S&&Rt&&Vn(p),Gc(p),g===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));Rt=yf(p)}else if(g===31){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));Rt=yf(p)}else g===27?(g=Rt,na(p.type)?(p=nc,nc=null,Rt=p):Rt=g):Rt=tr?zr(p.stateNode.nextSibling):null;return!0}function ya(){Rt=tr=null,gt=!1}function js(){var p=Un;return p!==null&&(br===null?br=p:br.push.apply(br,p),Un=null),p}function Ci(p){Un===null?Un=[p]:Un.push(p)}var Ns=Z(null),ba=null,bn=null;function qn(p,g,S){Ae(Ns,g._currentValue),g._currentValue=S}function vn(p){p._currentValue=Ns.current,ue(Ns)}function Ls(p,g,S){for(;p!==null;){var A=p.alternate;if((p.childLanes&g)!==g?(p.childLanes|=g,A!==null&&(A.childLanes|=g)):A!==null&&(A.childLanes&g)!==g&&(A.childLanes|=g),p===S)break;p=p.return}}function $s(p,g,S,A){var C=p.child;for(C!==null&&(C.return=p);C!==null;){var j=C.dependencies;if(j!==null){var F=C.child;j=j.firstContext;e:for(;j!==null;){var H=j;j=C;for(var ne=0;ne<g.length;ne++)if(H.context===g[ne]){j.lanes|=S,H=j.alternate,H!==null&&(H.lanes|=S),Ls(j.return,S,p),A||(F=null);break e}j=H.next}}else if(C.tag===18){if(F=C.return,F===null)throw Error(i(341));F.lanes|=S,j=F.alternate,j!==null&&(j.lanes|=S),Ls(F,S,p),F=null}else F=C.child;if(F!==null)F.return=C;else for(F=C;F!==null;){if(F===p){F=null;break}if(C=F.sibling,C!==null){C.return=F.return,F=C;break}F=F.return}C=F}}function Ka(p,g,S,A){p=null;for(var C=g,j=!1;C!==null;){if(!j){if((C.flags&524288)!==0)j=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var F=C.alternate;if(F===null)throw Error(i(387));if(F=F.memoizedProps,F!==null){var H=C.type;wr(C.pendingProps.value,F.value)||(p!==null?p.push(H):p=[H])}}else if(C===Le.current){if(F=C.alternate,F===null)throw Error(i(387));F.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(p!==null?p.push(ao):p=[ao])}C=C.return}p!==null&&$s(g,p,S,A),g.flags|=262144}function vo(p){for(p=p.firstContext;p!==null;){if(!wr(p.context._currentValue,p.memoizedValue))return!0;p=p.next}return!1}function va(p){ba=p,bn=null,p=p.dependencies,p!==null&&(p.firstContext=null)}function rr(p){return Wc(ba,p)}function xo(p,g){return ba===null&&va(p),Wc(p,g)}function Wc(p,g){var S=g._currentValue;if(g={context:g,memoizedValue:S,next:null},bn===null){if(p===null)throw Error(i(308));bn=g,p.dependencies={lanes:0,firstContext:g},p.flags|=524288}else bn=bn.next=g;return S}var Mp=typeof AbortController<"u"?AbortController:function(){var p=[],g=this.signal={aborted:!1,addEventListener:function(S,A){p.push(A)}};this.abort=function(){g.aborted=!0,p.forEach(function(S){return S()})}},Cp=t.unstable_scheduleCallback,Ip=t.unstable_NormalPriority,Vt={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bs(){return{controller:new Mp,data:new Map,refCount:0}}function Ii(p){p.refCount--,p.refCount===0&&Cp(Ip,function(){p.controller.abort()})}var ki=null,Fs=0,Ya=0,Xa=null;function kp(p,g){if(ki===null){var S=ki=[];Fs=0,Ya=Vl(),Xa={status:"pending",value:void 0,then:function(A){S.push(A)}}}return Fs++,g.then(Hc,Hc),g}function Hc(){if(--Fs===0&&ki!==null){Xa!==null&&(Xa.status="fulfilled");var p=ki;ki=null,Ya=0,Xa=null;for(var g=0;g<p.length;g++)(0,p[g])()}}function Dp(p,g){var S=[],A={status:"pending",value:null,reason:null,then:function(C){S.push(C)}};return p.then(function(){A.status="fulfilled",A.value=g;for(var C=0;C<S.length;C++)(0,S[C])(g)},function(C){for(A.status="rejected",A.reason=C,C=0;C<S.length;C++)(0,S[C])(void 0)}),A}var Kc=U.S;U.S=function(p,g){Id=Nt(),typeof g=="object"&&g!==null&&typeof g.then=="function"&&kp(p,g),Kc!==null&&Kc(p,g)};var xa=Z(null);function zs(){var p=xa.current;return p!==null?p:It.pooledCache}function _o(p,g){g===null?Ae(xa,xa.current):Ae(xa,g.pool)}function Yc(){var p=zs();return p===null?null:{parent:Vt._currentValue,pool:p}}var Za=Error(i(460)),Us=Error(i(474)),wo=Error(i(542)),So={then:function(){}};function Xc(p){return p=p.status,p==="fulfilled"||p==="rejected"}function Zc(p,g,S){switch(S=p[S],S===void 0?p.push(g):S!==g&&(g.then(Dr,Dr),g=S),g.status){case"fulfilled":return g.value;case"rejected":throw p=g.reason,Jc(p),p;default:if(typeof g.status=="string")g.then(Dr,Dr);else{if(p=It,p!==null&&100<p.shellSuspendCounter)throw Error(i(482));p=g,p.status="pending",p.then(function(A){if(g.status==="pending"){var C=g;C.status="fulfilled",C.value=A}},function(A){if(g.status==="pending"){var C=g;C.status="rejected",C.reason=A}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw p=g.reason,Jc(p),p}throw wa=g,Za}}function _a(p){try{var g=p._init;return g(p._payload)}catch(S){throw S!==null&&typeof S=="object"&&typeof S.then=="function"?(wa=S,Za):S}}var wa=null;function Qc(){if(wa===null)throw Error(i(459));var p=wa;return wa=null,p}function Jc(p){if(p===Za||p===wo)throw Error(i(483))}var Qa=null,Di=0;function Eo(p){var g=Di;return Di+=1,Qa===null&&(Qa=[]),Zc(Qa,p,g)}function Ri(p,g){g=g.props.ref,p.ref=g!==void 0?g:null}function To(p,g){throw g.$$typeof===o?Error(i(525)):(p=Object.prototype.toString.call(g),Error(i(31,p==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":p)))}function eu(p){function g(ce,oe){if(p){var he=ce.deletions;he===null?(ce.deletions=[oe],ce.flags|=16):he.push(oe)}}function S(ce,oe){if(!p)return null;for(;oe!==null;)g(ce,oe),oe=oe.sibling;return null}function A(ce){for(var oe=new Map;ce!==null;)ce.key!==null?oe.set(ce.key,ce):oe.set(ce.index,ce),ce=ce.sibling;return oe}function C(ce,oe){return ce=gn(ce,oe),ce.index=0,ce.sibling=null,ce}function j(ce,oe,he){return ce.index=he,p?(he=ce.alternate,he!==null?(he=he.index,he<oe?(ce.flags|=67108866,oe):he):(ce.flags|=67108866,oe)):(ce.flags|=1048576,oe)}function F(ce){return p&&ce.alternate===null&&(ce.flags|=67108866),ce}function H(ce,oe,he,Oe){return oe===null||oe.tag!==6?(oe=Cs(he,ce.mode,Oe),oe.return=ce,oe):(oe=C(oe,he),oe.return=ce,oe)}function ne(ce,oe,he,Oe){var We=he.type;return We===E?Te(ce,oe,he.props.children,Oe,he.key):oe!==null&&(oe.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===B&&_a(We)===oe.type)?(oe=C(oe,he.props),Ri(oe,he),oe.return=ce,oe):(oe=yo(he.type,he.key,he.props,null,ce.mode,Oe),Ri(oe,he),oe.return=ce,oe)}function me(ce,oe,he,Oe){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==he.containerInfo||oe.stateNode.implementation!==he.implementation?(oe=Is(he,ce.mode,Oe),oe.return=ce,oe):(oe=C(oe,he.children||[]),oe.return=ce,oe)}function Te(ce,oe,he,Oe,We){return oe===null||oe.tag!==7?(oe=ga(he,ce.mode,Oe,We),oe.return=ce,oe):(oe=C(oe,he),oe.return=ce,oe)}function Me(ce,oe,he){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=Cs(""+oe,ce.mode,he),oe.return=ce,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case h:return he=yo(oe.type,oe.key,oe.props,null,ce.mode,he),Ri(he,oe),he.return=ce,he;case w:return oe=Is(oe,ce.mode,he),oe.return=ce,oe;case B:return oe=_a(oe),Me(ce,oe,he)}if(Y(oe)||X(oe))return oe=ga(oe,ce.mode,he,null),oe.return=ce,oe;if(typeof oe.then=="function")return Me(ce,Eo(oe),he);if(oe.$$typeof===I)return Me(ce,xo(ce,oe),he);To(ce,oe)}return null}function ge(ce,oe,he,Oe){var We=oe!==null?oe.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return We!==null?null:H(ce,oe,""+he,Oe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case h:return he.key===We?ne(ce,oe,he,Oe):null;case w:return he.key===We?me(ce,oe,he,Oe):null;case B:return he=_a(he),ge(ce,oe,he,Oe)}if(Y(he)||X(he))return We!==null?null:Te(ce,oe,he,Oe,null);if(typeof he.then=="function")return ge(ce,oe,Eo(he),Oe);if(he.$$typeof===I)return ge(ce,oe,xo(ce,he),Oe);To(ce,he)}return null}function ve(ce,oe,he,Oe,We){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return ce=ce.get(he)||null,H(oe,ce,""+Oe,We);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case h:return ce=ce.get(Oe.key===null?he:Oe.key)||null,ne(oe,ce,Oe,We);case w:return ce=ce.get(Oe.key===null?he:Oe.key)||null,me(oe,ce,Oe,We);case B:return Oe=_a(Oe),ve(ce,oe,he,Oe,We)}if(Y(Oe)||X(Oe))return ce=ce.get(he)||null,Te(oe,ce,Oe,We,null);if(typeof Oe.then=="function")return ve(ce,oe,he,Eo(Oe),We);if(Oe.$$typeof===I)return ve(ce,oe,he,xo(oe,Oe),We);To(oe,Oe)}return null}function ze(ce,oe,he,Oe){for(var We=null,xt=null,qe=oe,it=oe=0,ht=null;qe!==null&&it<he.length;it++){qe.index>it?(ht=qe,qe=null):ht=qe.sibling;var _t=ge(ce,qe,he[it],Oe);if(_t===null){qe===null&&(qe=ht);break}p&&qe&&_t.alternate===null&&g(ce,qe),oe=j(_t,oe,it),xt===null?We=_t:xt.sibling=_t,xt=_t,qe=ht}if(it===he.length)return S(ce,qe),gt&&yn(ce,it),We;if(qe===null){for(;it<he.length;it++)qe=Me(ce,he[it],Oe),qe!==null&&(oe=j(qe,oe,it),xt===null?We=qe:xt.sibling=qe,xt=qe);return gt&&yn(ce,it),We}for(qe=A(qe);it<he.length;it++)ht=ve(qe,ce,it,he[it],Oe),ht!==null&&(p&&ht.alternate!==null&&qe.delete(ht.key===null?it:ht.key),oe=j(ht,oe,it),xt===null?We=ht:xt.sibling=ht,xt=ht);return p&&qe.forEach(function(la){return g(ce,la)}),gt&&yn(ce,it),We}function Ze(ce,oe,he,Oe){if(he==null)throw Error(i(151));for(var We=null,xt=null,qe=oe,it=oe=0,ht=null,_t=he.next();qe!==null&&!_t.done;it++,_t=he.next()){qe.index>it?(ht=qe,qe=null):ht=qe.sibling;var la=ge(ce,qe,_t.value,Oe);if(la===null){qe===null&&(qe=ht);break}p&&qe&&la.alternate===null&&g(ce,qe),oe=j(la,oe,it),xt===null?We=la:xt.sibling=la,xt=la,qe=ht}if(_t.done)return S(ce,qe),gt&&yn(ce,it),We;if(qe===null){for(;!_t.done;it++,_t=he.next())_t=Me(ce,_t.value,Oe),_t!==null&&(oe=j(_t,oe,it),xt===null?We=_t:xt.sibling=_t,xt=_t);return gt&&yn(ce,it),We}for(qe=A(qe);!_t.done;it++,_t=he.next())_t=ve(qe,ce,it,_t.value,Oe),_t!==null&&(p&&_t.alternate!==null&&qe.delete(_t.key===null?it:_t.key),oe=j(_t,oe,it),xt===null?We=_t:xt.sibling=_t,xt=_t);return p&&qe.forEach(function(qh){return g(ce,qh)}),gt&&yn(ce,it),We}function Ot(ce,oe,he,Oe){if(typeof he=="object"&&he!==null&&he.type===E&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case h:e:{for(var We=he.key;oe!==null;){if(oe.key===We){if(We=he.type,We===E){if(oe.tag===7){S(ce,oe.sibling),Oe=C(oe,he.props.children),Oe.return=ce,ce=Oe;break e}}else if(oe.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===B&&_a(We)===oe.type){S(ce,oe.sibling),Oe=C(oe,he.props),Ri(Oe,he),Oe.return=ce,ce=Oe;break e}S(ce,oe);break}else g(ce,oe);oe=oe.sibling}he.type===E?(Oe=ga(he.props.children,ce.mode,Oe,he.key),Oe.return=ce,ce=Oe):(Oe=yo(he.type,he.key,he.props,null,ce.mode,Oe),Ri(Oe,he),Oe.return=ce,ce=Oe)}return F(ce);case w:e:{for(We=he.key;oe!==null;){if(oe.key===We)if(oe.tag===4&&oe.stateNode.containerInfo===he.containerInfo&&oe.stateNode.implementation===he.implementation){S(ce,oe.sibling),Oe=C(oe,he.children||[]),Oe.return=ce,ce=Oe;break e}else{S(ce,oe);break}else g(ce,oe);oe=oe.sibling}Oe=Is(he,ce.mode,Oe),Oe.return=ce,ce=Oe}return F(ce);case B:return he=_a(he),Ot(ce,oe,he,Oe)}if(Y(he))return ze(ce,oe,he,Oe);if(X(he)){if(We=X(he),typeof We!="function")throw Error(i(150));return he=We.call(he),Ze(ce,oe,he,Oe)}if(typeof he.then=="function")return Ot(ce,oe,Eo(he),Oe);if(he.$$typeof===I)return Ot(ce,oe,xo(ce,he),Oe);To(ce,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,oe!==null&&oe.tag===6?(S(ce,oe.sibling),Oe=C(oe,he),Oe.return=ce,ce=Oe):(S(ce,oe),Oe=Cs(he,ce.mode,Oe),Oe.return=ce,ce=Oe),F(ce)):S(ce,oe)}return function(ce,oe,he,Oe){try{Di=0;var We=Ot(ce,oe,he,Oe);return Qa=null,We}catch(qe){if(qe===Za||qe===wo)throw qe;var xt=Sr(29,qe,null,ce.mode);return xt.lanes=Oe,xt.return=ce,xt}finally{}}}var Sa=eu(!0),tu=eu(!1),Gn=!1;function Vs(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qs(p,g){p=p.updateQueue,g.updateQueue===p&&(g.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,callbacks:null})}function Wn(p){return{lane:p,tag:0,payload:null,callback:null,next:null}}function Hn(p,g,S){var A=p.updateQueue;if(A===null)return null;if(A=A.shared,(wt&2)!==0){var C=A.pending;return C===null?g.next=g:(g.next=C.next,C.next=g),A.pending=g,g=go(p),$c(p,null,S),g}return mo(p,A,g,S),go(p)}function ji(p,g,S){if(g=g.updateQueue,g!==null&&(g=g.shared,(S&4194048)!==0)){var A=g.lanes;A&=p.pendingLanes,S|=A,g.lanes=S,Rn(p,S)}}function Gs(p,g){var S=p.updateQueue,A=p.alternate;if(A!==null&&(A=A.updateQueue,S===A)){var C=null,j=null;if(S=S.firstBaseUpdate,S!==null){do{var F={lane:S.lane,tag:S.tag,payload:S.payload,callback:null,next:null};j===null?C=j=F:j=j.next=F,S=S.next}while(S!==null);j===null?C=j=g:j=j.next=g}else C=j=g;S={baseState:A.baseState,firstBaseUpdate:C,lastBaseUpdate:j,shared:A.shared,callbacks:A.callbacks},p.updateQueue=S;return}p=S.lastBaseUpdate,p===null?S.firstBaseUpdate=g:p.next=g,S.lastBaseUpdate=g}var Ws=!1;function Ni(){if(Ws){var p=Xa;if(p!==null)throw p}}function Li(p,g,S,A){Ws=!1;var C=p.updateQueue;Gn=!1;var j=C.firstBaseUpdate,F=C.lastBaseUpdate,H=C.shared.pending;if(H!==null){C.shared.pending=null;var ne=H,me=ne.next;ne.next=null,F===null?j=me:F.next=me,F=ne;var Te=p.alternate;Te!==null&&(Te=Te.updateQueue,H=Te.lastBaseUpdate,H!==F&&(H===null?Te.firstBaseUpdate=me:H.next=me,Te.lastBaseUpdate=ne))}if(j!==null){var Me=C.baseState;F=0,Te=me=ne=null,H=j;do{var ge=H.lane&-536870913,ve=ge!==H.lane;if(ve?(pt&ge)===ge:(A&ge)===ge){ge!==0&&ge===Ya&&(Ws=!0),Te!==null&&(Te=Te.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var ze=p,Ze=H;ge=g;var Ot=S;switch(Ze.tag){case 1:if(ze=Ze.payload,typeof ze=="function"){Me=ze.call(Ot,Me,ge);break e}Me=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Ze.payload,ge=typeof ze=="function"?ze.call(Ot,Me,ge):ze,ge==null)break e;Me=u({},Me,ge);break e;case 2:Gn=!0}}ge=H.callback,ge!==null&&(p.flags|=64,ve&&(p.flags|=8192),ve=C.callbacks,ve===null?C.callbacks=[ge]:ve.push(ge))}else ve={lane:ge,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Te===null?(me=Te=ve,ne=Me):Te=Te.next=ve,F|=ge;if(H=H.next,H===null){if(H=C.shared.pending,H===null)break;ve=H,H=ve.next,ve.next=null,C.lastBaseUpdate=ve,C.shared.pending=null}}while(!0);Te===null&&(ne=Me),C.baseState=ne,C.firstBaseUpdate=me,C.lastBaseUpdate=Te,j===null&&(C.shared.lanes=0),Qn|=F,p.lanes=F,p.memoizedState=Me}}function ru(p,g){if(typeof p!="function")throw Error(i(191,p));p.call(g)}function nu(p,g){var S=p.callbacks;if(S!==null)for(p.callbacks=null,p=0;p<S.length;p++)ru(S[p],g)}var Ja=Z(null),Ao=Z(0);function au(p,g){p=On,Ae(Ao,p),Ae(Ja,g),On=p|g.baseLanes}function Hs(){Ae(Ao,On),Ae(Ja,Ja.current)}function Ks(){On=Ao.current,ue(Ja),ue(Ao)}var Er=Z(null),Fr=null;function Kn(p){var g=p.alternate;Ae(zt,zt.current&1),Ae(Er,p),Fr===null&&(g===null||Ja.current!==null||g.memoizedState!==null)&&(Fr=p)}function Ys(p){Ae(zt,zt.current),Ae(Er,p),Fr===null&&(Fr=p)}function iu(p){p.tag===22?(Ae(zt,zt.current),Ae(Er,p),Fr===null&&(Fr=p)):Yn()}function Yn(){Ae(zt,zt.current),Ae(Er,Er.current)}function Tr(p){ue(Er),Fr===p&&(Fr=null),ue(zt)}var zt=Z(0);function Po(p){for(var g=p;g!==null;){if(g.tag===13){var S=g.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||tc(S)||rc(S)))return g}else if(g.tag===19&&(g.memoizedProps.revealOrder==="forwards"||g.memoizedProps.revealOrder==="backwards"||g.memoizedProps.revealOrder==="unstable_legacy-backwards"||g.memoizedProps.revealOrder==="together")){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var xn=0,nt=null,At=null,qt=null,Oo=!1,ei=!1,Ea=!1,Mo=0,$i=0,ti=null,Rp=0;function Bt(){throw Error(i(321))}function Xs(p,g){if(g===null)return!1;for(var S=0;S<g.length&&S<p.length;S++)if(!wr(p[S],g[S]))return!1;return!0}function Zs(p,g,S,A,C,j){return xn=j,nt=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,U.H=p===null||p.memoizedState===null?Uu:fl,Ea=!1,j=S(A,C),Ea=!1,ei&&(j=su(g,S,A,C)),ou(p),j}function ou(p){U.H=zi;var g=At!==null&&At.next!==null;if(xn=0,qt=At=nt=null,Oo=!1,$i=0,ti=null,g)throw Error(i(300));p===null||Gt||(p=p.dependencies,p!==null&&vo(p)&&(Gt=!0))}function su(p,g,S,A){nt=p;var C=0;do{if(ei&&(ti=null),$i=0,ei=!1,25<=C)throw Error(i(301));if(C+=1,qt=At=null,p.updateQueue!=null){var j=p.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}U.H=Vu,j=g(S,A)}while(ei);return j}function jp(){var p=U.H,g=p.useState()[0];return g=typeof g.then=="function"?Bi(g):g,p=p.useState()[0],(At!==null?At.memoizedState:null)!==p&&(nt.flags|=1024),g}function Qs(){var p=Mo!==0;return Mo=0,p}function Js(p,g,S){g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~S}function el(p){if(Oo){for(p=p.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}Oo=!1}xn=0,qt=At=nt=null,ei=!1,$i=Mo=0,ti=null}function dr(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?nt.memoizedState=qt=p:qt=qt.next=p,qt}function Ut(){if(At===null){var p=nt.alternate;p=p!==null?p.memoizedState:null}else p=At.next;var g=qt===null?nt.memoizedState:qt.next;if(g!==null)qt=g,At=p;else{if(p===null)throw nt.alternate===null?Error(i(467)):Error(i(310));At=p,p={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},qt===null?nt.memoizedState=qt=p:qt=qt.next=p}return qt}function Co(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bi(p){var g=$i;return $i+=1,ti===null&&(ti=[]),p=Zc(ti,p,g),g=nt,(qt===null?g.memoizedState:qt.next)===null&&(g=g.alternate,U.H=g===null||g.memoizedState===null?Uu:fl),p}function Io(p){if(p!==null&&typeof p=="object"){if(typeof p.then=="function")return Bi(p);if(p.$$typeof===I)return rr(p)}throw Error(i(438,String(p)))}function tl(p){var g=null,S=nt.updateQueue;if(S!==null&&(g=S.memoCache),g==null){var A=nt.alternate;A!==null&&(A=A.updateQueue,A!==null&&(A=A.memoCache,A!=null&&(g={data:A.data.map(function(C){return C.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),S===null&&(S=Co(),nt.updateQueue=S),S.memoCache=g,S=g.data[g.index],S===void 0)for(S=g.data[g.index]=Array(p),A=0;A<p;A++)S[A]=V;return g.index++,S}function _n(p,g){return typeof g=="function"?g(p):g}function ko(p){var g=Ut();return rl(g,At,p)}function rl(p,g,S){var A=p.queue;if(A===null)throw Error(i(311));A.lastRenderedReducer=S;var C=p.baseQueue,j=A.pending;if(j!==null){if(C!==null){var F=C.next;C.next=j.next,j.next=F}g.baseQueue=C=j,A.pending=null}if(j=p.baseState,C===null)p.memoizedState=j;else{g=C.next;var H=F=null,ne=null,me=g,Te=!1;do{var Me=me.lane&-536870913;if(Me!==me.lane?(pt&Me)===Me:(xn&Me)===Me){var ge=me.revertLane;if(ge===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Me===Ya&&(Te=!0);else if((xn&ge)===ge){me=me.next,ge===Ya&&(Te=!0);continue}else Me={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ne===null?(H=ne=Me,F=j):ne=ne.next=Me,nt.lanes|=ge,Qn|=ge;Me=me.action,Ea&&S(j,Me),j=me.hasEagerState?me.eagerState:S(j,Me)}else ge={lane:Me,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ne===null?(H=ne=ge,F=j):ne=ne.next=ge,nt.lanes|=Me,Qn|=Me;me=me.next}while(me!==null&&me!==g);if(ne===null?F=j:ne.next=H,!wr(j,p.memoizedState)&&(Gt=!0,Te&&(S=Xa,S!==null)))throw S;p.memoizedState=j,p.baseState=F,p.baseQueue=ne,A.lastRenderedState=j}return C===null&&(A.lanes=0),[p.memoizedState,A.dispatch]}function nl(p){var g=Ut(),S=g.queue;if(S===null)throw Error(i(311));S.lastRenderedReducer=p;var A=S.dispatch,C=S.pending,j=g.memoizedState;if(C!==null){S.pending=null;var F=C=C.next;do j=p(j,F.action),F=F.next;while(F!==C);wr(j,g.memoizedState)||(Gt=!0),g.memoizedState=j,g.baseQueue===null&&(g.baseState=j),S.lastRenderedState=j}return[j,A]}function lu(p,g,S){var A=nt,C=Ut(),j=gt;if(j){if(S===void 0)throw Error(i(407));S=S()}else S=g();var F=!wr((At||C).memoizedState,S);if(F&&(C.memoizedState=S,Gt=!0),C=C.queue,ol(du.bind(null,A,C,p),[p]),C.getSnapshot!==g||F||qt!==null&&qt.memoizedState.tag&1){if(A.flags|=2048,ri(9,{destroy:void 0},uu.bind(null,A,C,S,g),null),It===null)throw Error(i(349));j||(xn&127)!==0||cu(A,g,S)}return S}function cu(p,g,S){p.flags|=16384,p={getSnapshot:g,value:S},g=nt.updateQueue,g===null?(g=Co(),nt.updateQueue=g,g.stores=[p]):(S=g.stores,S===null?g.stores=[p]:S.push(p))}function uu(p,g,S,A){g.value=S,g.getSnapshot=A,fu(g)&&pu(p)}function du(p,g,S){return S(function(){fu(g)&&pu(p)})}function fu(p){var g=p.getSnapshot;p=p.value;try{var S=g();return!wr(p,S)}catch{return!0}}function pu(p){var g=ma(p,2);g!==null&&vr(g,p,2)}function al(p){var g=dr();if(typeof p=="function"){var S=p;if(p=S(),Ea){er(!0);try{S()}finally{er(!1)}}}return g.memoizedState=g.baseState=p,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:p},g}function hu(p,g,S,A){return p.baseState=S,rl(p,At,typeof A=="function"?A:_n)}function Np(p,g,S,A,C){if(jo(p))throw Error(i(485));if(p=g.action,p!==null){var j={payload:C,action:p,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(F){j.listeners.push(F)}};U.T!==null?S(!0):j.isTransition=!1,A(j),S=g.pending,S===null?(j.next=g.pending=j,mu(g,j)):(j.next=S.next,g.pending=S.next=j)}}function mu(p,g){var S=g.action,A=g.payload,C=p.state;if(g.isTransition){var j=U.T,F={};U.T=F;try{var H=S(C,A),ne=U.S;ne!==null&&ne(F,H),gu(p,g,H)}catch(me){il(p,g,me)}finally{j!==null&&F.types!==null&&(j.types=F.types),U.T=j}}else try{j=S(C,A),gu(p,g,j)}catch(me){il(p,g,me)}}function gu(p,g,S){S!==null&&typeof S=="object"&&typeof S.then=="function"?S.then(function(A){yu(p,g,A)},function(A){return il(p,g,A)}):yu(p,g,S)}function yu(p,g,S){g.status="fulfilled",g.value=S,bu(g),p.state=S,g=p.pending,g!==null&&(S=g.next,S===g?p.pending=null:(S=S.next,g.next=S,mu(p,S)))}function il(p,g,S){var A=p.pending;if(p.pending=null,A!==null){A=A.next;do g.status="rejected",g.reason=S,bu(g),g=g.next;while(g!==A)}p.action=null}function bu(p){p=p.listeners;for(var g=0;g<p.length;g++)(0,p[g])()}function vu(p,g){return g}function xu(p,g){if(gt){var S=It.formState;if(S!==null){e:{var A=nt;if(gt){if(Rt){t:{for(var C=Rt,j=Br;C.nodeType!==8;){if(!j){C=null;break t}if(C=zr(C.nextSibling),C===null){C=null;break t}}j=C.data,C=j==="F!"||j==="F"?C:null}if(C){Rt=zr(C.nextSibling),A=C.data==="F!";break e}}Vn(A)}A=!1}A&&(g=S[0])}}return S=dr(),S.memoizedState=S.baseState=g,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:g},S.queue=A,S=Bu.bind(null,nt,A),A.dispatch=S,A=al(!1),j=dl.bind(null,nt,!1,A.queue),A=dr(),C={state:g,dispatch:null,action:p,pending:null},A.queue=C,S=Np.bind(null,nt,C,j,S),C.dispatch=S,A.memoizedState=p,[g,S,!1]}function _u(p){var g=Ut();return wu(g,At,p)}function wu(p,g,S){if(g=rl(p,g,vu)[0],p=ko(_n)[0],typeof g=="object"&&g!==null&&typeof g.then=="function")try{var A=Bi(g)}catch(F){throw F===Za?wo:F}else A=g;g=Ut();var C=g.queue,j=C.dispatch;return S!==g.memoizedState&&(nt.flags|=2048,ri(9,{destroy:void 0},Lp.bind(null,C,S),null)),[A,j,p]}function Lp(p,g){p.action=g}function Su(p){var g=Ut(),S=At;if(S!==null)return wu(g,S,p);Ut(),g=g.memoizedState,S=Ut();var A=S.queue.dispatch;return S.memoizedState=p,[g,A,!1]}function ri(p,g,S,A){return p={tag:p,create:S,deps:A,inst:g,next:null},g=nt.updateQueue,g===null&&(g=Co(),nt.updateQueue=g),S=g.lastEffect,S===null?g.lastEffect=p.next=p:(A=S.next,S.next=p,p.next=A,g.lastEffect=p),p}function Eu(){return Ut().memoizedState}function Do(p,g,S,A){var C=dr();nt.flags|=p,C.memoizedState=ri(1|g,{destroy:void 0},S,A===void 0?null:A)}function Ro(p,g,S,A){var C=Ut();A=A===void 0?null:A;var j=C.memoizedState.inst;At!==null&&A!==null&&Xs(A,At.memoizedState.deps)?C.memoizedState=ri(g,j,S,A):(nt.flags|=p,C.memoizedState=ri(1|g,j,S,A))}function Tu(p,g){Do(8390656,8,p,g)}function ol(p,g){Ro(2048,8,p,g)}function $p(p){nt.flags|=4;var g=nt.updateQueue;if(g===null)g=Co(),nt.updateQueue=g,g.events=[p];else{var S=g.events;S===null?g.events=[p]:S.push(p)}}function Au(p){var g=Ut().memoizedState;return $p({ref:g,nextImpl:p}),function(){if((wt&2)!==0)throw Error(i(440));return g.impl.apply(void 0,arguments)}}function Pu(p,g){return Ro(4,2,p,g)}function Ou(p,g){return Ro(4,4,p,g)}function Mu(p,g){if(typeof g=="function"){p=p();var S=g(p);return function(){typeof S=="function"?S():g(null)}}if(g!=null)return p=p(),g.current=p,function(){g.current=null}}function Cu(p,g,S){S=S!=null?S.concat([p]):null,Ro(4,4,Mu.bind(null,g,p),S)}function sl(){}function Iu(p,g){var S=Ut();g=g===void 0?null:g;var A=S.memoizedState;return g!==null&&Xs(g,A[1])?A[0]:(S.memoizedState=[p,g],p)}function ku(p,g){var S=Ut();g=g===void 0?null:g;var A=S.memoizedState;if(g!==null&&Xs(g,A[1]))return A[0];if(A=p(),Ea){er(!0);try{p()}finally{er(!1)}}return S.memoizedState=[A,g],A}function ll(p,g,S){return S===void 0||(xn&1073741824)!==0&&(pt&261930)===0?p.memoizedState=g:(p.memoizedState=S,p=Dd(),nt.lanes|=p,Qn|=p,S)}function Du(p,g,S,A){return wr(S,g)?S:Ja.current!==null?(p=ll(p,S,A),wr(p,g)||(Gt=!0),p):(xn&42)===0||(xn&1073741824)!==0&&(pt&261930)===0?(Gt=!0,p.memoizedState=S):(p=Dd(),nt.lanes|=p,Qn|=p,g)}function Ru(p,g,S,A,C){var j=q.p;q.p=j!==0&&8>j?j:8;var F=U.T,H={};U.T=H,dl(p,!1,g,S);try{var ne=C(),me=U.S;if(me!==null&&me(H,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Te=Dp(ne,A);Fi(p,g,Te,Or(p))}else Fi(p,g,A,Or(p))}catch(Me){Fi(p,g,{then:function(){},status:"rejected",reason:Me},Or())}finally{q.p=j,F!==null&&H.types!==null&&(F.types=H.types),U.T=F}}function Bp(){}function cl(p,g,S,A){if(p.tag!==5)throw Error(i(476));var C=ju(p).queue;Ru(p,C,g,le,S===null?Bp:function(){return Nu(p),S(A)})}function ju(p){var g=p.memoizedState;if(g!==null)return g;g={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:le},next:null};var S={};return g.next={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:S},next:null},p.memoizedState=g,p=p.alternate,p!==null&&(p.memoizedState=g),g}function Nu(p){var g=ju(p);g.next===null&&(g=p.alternate.memoizedState),Fi(p,g.next.queue,{},Or())}function ul(){return rr(ao)}function Lu(){return Ut().memoizedState}function $u(){return Ut().memoizedState}function Fp(p){for(var g=p.return;g!==null;){switch(g.tag){case 24:case 3:var S=Or();p=Wn(S);var A=Hn(g,p,S);A!==null&&(vr(A,g,S),ji(A,g,S)),g={cache:Bs()},p.payload=g;return}g=g.return}}function zp(p,g,S){var A=Or();S={lane:A,revertLane:0,gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},jo(p)?Fu(g,S):(S=Os(p,g,S,A),S!==null&&(vr(S,p,A),zu(S,g,A)))}function Bu(p,g,S){var A=Or();Fi(p,g,S,A)}function Fi(p,g,S,A){var C={lane:A,revertLane:0,gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null};if(jo(p))Fu(g,C);else{var j=p.alternate;if(p.lanes===0&&(j===null||j.lanes===0)&&(j=g.lastRenderedReducer,j!==null))try{var F=g.lastRenderedState,H=j(F,S);if(C.hasEagerState=!0,C.eagerState=H,wr(H,F))return mo(p,g,C,0),It===null&&ho(),!1}catch{}finally{}if(S=Os(p,g,C,A),S!==null)return vr(S,p,A),zu(S,g,A),!0}return!1}function dl(p,g,S,A){if(A={lane:2,revertLane:Vl(),gesture:null,action:A,hasEagerState:!1,eagerState:null,next:null},jo(p)){if(g)throw Error(i(479))}else g=Os(p,S,A,2),g!==null&&vr(g,p,2)}function jo(p){var g=p.alternate;return p===nt||g!==null&&g===nt}function Fu(p,g){ei=Oo=!0;var S=p.pending;S===null?g.next=g:(g.next=S.next,S.next=g),p.pending=g}function zu(p,g,S){if((S&4194048)!==0){var A=g.lanes;A&=p.pendingLanes,S|=A,g.lanes=S,Rn(p,S)}}var zi={readContext:rr,use:Io,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};zi.useEffectEvent=Bt;var Uu={readContext:rr,use:Io,useCallback:function(p,g){return dr().memoizedState=[p,g===void 0?null:g],p},useContext:rr,useEffect:Tu,useImperativeHandle:function(p,g,S){S=S!=null?S.concat([p]):null,Do(4194308,4,Mu.bind(null,g,p),S)},useLayoutEffect:function(p,g){return Do(4194308,4,p,g)},useInsertionEffect:function(p,g){Do(4,2,p,g)},useMemo:function(p,g){var S=dr();g=g===void 0?null:g;var A=p();if(Ea){er(!0);try{p()}finally{er(!1)}}return S.memoizedState=[A,g],A},useReducer:function(p,g,S){var A=dr();if(S!==void 0){var C=S(g);if(Ea){er(!0);try{S(g)}finally{er(!1)}}}else C=g;return A.memoizedState=A.baseState=C,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:C},A.queue=p,p=p.dispatch=zp.bind(null,nt,p),[A.memoizedState,p]},useRef:function(p){var g=dr();return p={current:p},g.memoizedState=p},useState:function(p){p=al(p);var g=p.queue,S=Bu.bind(null,nt,g);return g.dispatch=S,[p.memoizedState,S]},useDebugValue:sl,useDeferredValue:function(p,g){var S=dr();return ll(S,p,g)},useTransition:function(){var p=al(!1);return p=Ru.bind(null,nt,p.queue,!0,!1),dr().memoizedState=p,[!1,p]},useSyncExternalStore:function(p,g,S){var A=nt,C=dr();if(gt){if(S===void 0)throw Error(i(407));S=S()}else{if(S=g(),It===null)throw Error(i(349));(pt&127)!==0||cu(A,g,S)}C.memoizedState=S;var j={value:S,getSnapshot:g};return C.queue=j,Tu(du.bind(null,A,j,p),[p]),A.flags|=2048,ri(9,{destroy:void 0},uu.bind(null,A,j,S,g),null),S},useId:function(){var p=dr(),g=It.identifierPrefix;if(gt){var S=Jr,A=Qr;S=(A&~(1<<32-Zt(A)-1)).toString(32)+S,g="_"+g+"R_"+S,S=Mo++,0<S&&(g+="H"+S.toString(32)),g+="_"}else S=Rp++,g="_"+g+"r_"+S.toString(32)+"_";return p.memoizedState=g},useHostTransitionStatus:ul,useFormState:xu,useActionState:xu,useOptimistic:function(p){var g=dr();g.memoizedState=g.baseState=p;var S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=S,g=dl.bind(null,nt,!0,S),S.dispatch=g,[p,g]},useMemoCache:tl,useCacheRefresh:function(){return dr().memoizedState=Fp.bind(null,nt)},useEffectEvent:function(p){var g=dr(),S={impl:p};return g.memoizedState=S,function(){if((wt&2)!==0)throw Error(i(440));return S.impl.apply(void 0,arguments)}}},fl={readContext:rr,use:Io,useCallback:Iu,useContext:rr,useEffect:ol,useImperativeHandle:Cu,useInsertionEffect:Pu,useLayoutEffect:Ou,useMemo:ku,useReducer:ko,useRef:Eu,useState:function(){return ko(_n)},useDebugValue:sl,useDeferredValue:function(p,g){var S=Ut();return Du(S,At.memoizedState,p,g)},useTransition:function(){var p=ko(_n)[0],g=Ut().memoizedState;return[typeof p=="boolean"?p:Bi(p),g]},useSyncExternalStore:lu,useId:Lu,useHostTransitionStatus:ul,useFormState:_u,useActionState:_u,useOptimistic:function(p,g){var S=Ut();return hu(S,At,p,g)},useMemoCache:tl,useCacheRefresh:$u};fl.useEffectEvent=Au;var Vu={readContext:rr,use:Io,useCallback:Iu,useContext:rr,useEffect:ol,useImperativeHandle:Cu,useInsertionEffect:Pu,useLayoutEffect:Ou,useMemo:ku,useReducer:nl,useRef:Eu,useState:function(){return nl(_n)},useDebugValue:sl,useDeferredValue:function(p,g){var S=Ut();return At===null?ll(S,p,g):Du(S,At.memoizedState,p,g)},useTransition:function(){var p=nl(_n)[0],g=Ut().memoizedState;return[typeof p=="boolean"?p:Bi(p),g]},useSyncExternalStore:lu,useId:Lu,useHostTransitionStatus:ul,useFormState:Su,useActionState:Su,useOptimistic:function(p,g){var S=Ut();return At!==null?hu(S,At,p,g):(S.baseState=p,[p,S.queue.dispatch])},useMemoCache:tl,useCacheRefresh:$u};Vu.useEffectEvent=Au;function pl(p,g,S,A){g=p.memoizedState,S=S(A,g),S=S==null?g:u({},g,S),p.memoizedState=S,p.lanes===0&&(p.updateQueue.baseState=S)}var hl={enqueueSetState:function(p,g,S){p=p._reactInternals;var A=Or(),C=Wn(A);C.payload=g,S!=null&&(C.callback=S),g=Hn(p,C,A),g!==null&&(vr(g,p,A),ji(g,p,A))},enqueueReplaceState:function(p,g,S){p=p._reactInternals;var A=Or(),C=Wn(A);C.tag=1,C.payload=g,S!=null&&(C.callback=S),g=Hn(p,C,A),g!==null&&(vr(g,p,A),ji(g,p,A))},enqueueForceUpdate:function(p,g){p=p._reactInternals;var S=Or(),A=Wn(S);A.tag=2,g!=null&&(A.callback=g),g=Hn(p,A,S),g!==null&&(vr(g,p,S),ji(g,p,S))}};function qu(p,g,S,A,C,j,F){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(A,j,F):g.prototype&&g.prototype.isPureReactComponent?!Pi(S,A)||!Pi(C,j):!0}function Gu(p,g,S,A){p=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(S,A),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(S,A),g.state!==p&&hl.enqueueReplaceState(g,g.state,null)}function Ta(p,g){var S=g;if("ref"in g){S={};for(var A in g)A!=="ref"&&(S[A]=g[A])}if(p=p.defaultProps){S===g&&(S=u({},S));for(var C in p)S[C]===void 0&&(S[C]=p[C])}return S}function Wu(p){po(p)}function Hu(p){console.error(p)}function Ku(p){po(p)}function No(p,g){try{var S=p.onUncaughtError;S(g.value,{componentStack:g.stack})}catch(A){setTimeout(function(){throw A})}}function Yu(p,g,S){try{var A=p.onCaughtError;A(S.value,{componentStack:S.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function ml(p,g,S){return S=Wn(S),S.tag=3,S.payload={element:null},S.callback=function(){No(p,g)},S}function Xu(p){return p=Wn(p),p.tag=3,p}function Zu(p,g,S,A){var C=S.type.getDerivedStateFromError;if(typeof C=="function"){var j=A.value;p.payload=function(){return C(j)},p.callback=function(){Yu(g,S,A)}}var F=S.stateNode;F!==null&&typeof F.componentDidCatch=="function"&&(p.callback=function(){Yu(g,S,A),typeof C!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var H=A.stack;this.componentDidCatch(A.value,{componentStack:H!==null?H:""})})}function Up(p,g,S,A,C){if(S.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){if(g=S.alternate,g!==null&&Ka(g,S,C,!0),S=Er.current,S!==null){switch(S.tag){case 31:case 13:return Fr===null?Ko():S.alternate===null&&Ft===0&&(Ft=3),S.flags&=-257,S.flags|=65536,S.lanes=C,A===So?S.flags|=16384:(g=S.updateQueue,g===null?S.updateQueue=new Set([A]):g.add(A),Fl(p,A,C)),!1;case 22:return S.flags|=65536,A===So?S.flags|=16384:(g=S.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([A])},S.updateQueue=g):(S=g.retryQueue,S===null?g.retryQueue=new Set([A]):S.add(A)),Fl(p,A,C)),!1}throw Error(i(435,S.tag))}return Fl(p,A,C),Ko(),!1}if(gt)return g=Er.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=C,A!==Rs&&(p=Error(i(422),{cause:A}),Ci(Nr(p,S)))):(A!==Rs&&(g=Error(i(423),{cause:A}),Ci(Nr(g,S))),p=p.current.alternate,p.flags|=65536,C&=-C,p.lanes|=C,A=Nr(A,S),C=ml(p.stateNode,A,C),Gs(p,C),Ft!==4&&(Ft=2)),!1;var j=Error(i(520),{cause:A});if(j=Nr(j,S),Yi===null?Yi=[j]:Yi.push(j),Ft!==4&&(Ft=2),g===null)return!0;A=Nr(A,S),S=g;do{switch(S.tag){case 3:return S.flags|=65536,p=C&-C,S.lanes|=p,p=ml(S.stateNode,A,p),Gs(S,p),!1;case 1:if(g=S.type,j=S.stateNode,(S.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Jn===null||!Jn.has(j))))return S.flags|=65536,C&=-C,S.lanes|=C,C=Xu(C),Zu(C,p,S,A),Gs(S,C),!1}S=S.return}while(S!==null);return!1}var gl=Error(i(461)),Gt=!1;function nr(p,g,S,A){g.child=p===null?tu(g,null,S,A):Sa(g,p.child,S,A)}function Qu(p,g,S,A,C){S=S.render;var j=g.ref;if("ref"in A){var F={};for(var H in A)H!=="ref"&&(F[H]=A[H])}else F=A;return va(g),A=Zs(p,g,S,F,j,C),H=Qs(),p!==null&&!Gt?(Js(p,g,C),wn(p,g,C)):(gt&&H&&ks(g),g.flags|=1,nr(p,g,A,C),g.child)}function Ju(p,g,S,A,C){if(p===null){var j=S.type;return typeof j=="function"&&!Ms(j)&&j.defaultProps===void 0&&S.compare===null?(g.tag=15,g.type=j,ed(p,g,j,A,C)):(p=yo(S.type,null,A,g,g.mode,C),p.ref=g.ref,p.return=g,g.child=p)}if(j=p.child,!El(p,C)){var F=j.memoizedProps;if(S=S.compare,S=S!==null?S:Pi,S(F,A)&&p.ref===g.ref)return wn(p,g,C)}return g.flags|=1,p=gn(j,A),p.ref=g.ref,p.return=g,g.child=p}function ed(p,g,S,A,C){if(p!==null){var j=p.memoizedProps;if(Pi(j,A)&&p.ref===g.ref)if(Gt=!1,g.pendingProps=A=j,El(p,C))(p.flags&131072)!==0&&(Gt=!0);else return g.lanes=p.lanes,wn(p,g,C)}return yl(p,g,S,A,C)}function td(p,g,S,A){var C=A.children,j=p!==null?p.memoizedState:null;if(p===null&&g.stateNode===null&&(g.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),A.mode==="hidden"){if((g.flags&128)!==0){if(j=j!==null?j.baseLanes|S:S,p!==null){for(A=g.child=p.child,C=0;A!==null;)C=C|A.lanes|A.childLanes,A=A.sibling;A=C&~j}else A=0,g.child=null;return rd(p,g,j,S,A)}if((S&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},p!==null&&_o(g,j!==null?j.cachePool:null),j!==null?au(g,j):Hs(),iu(g);else return A=g.lanes=536870912,rd(p,g,j!==null?j.baseLanes|S:S,S,A)}else j!==null?(_o(g,j.cachePool),au(g,j),Yn(),g.memoizedState=null):(p!==null&&_o(g,null),Hs(),Yn());return nr(p,g,C,S),g.child}function Ui(p,g){return p!==null&&p.tag===22||g.stateNode!==null||(g.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.sibling}function rd(p,g,S,A,C){var j=zs();return j=j===null?null:{parent:Vt._currentValue,pool:j},g.memoizedState={baseLanes:S,cachePool:j},p!==null&&_o(g,null),Hs(),iu(g),p!==null&&Ka(p,g,A,!0),g.childLanes=C,null}function Lo(p,g){return g=Bo({mode:g.mode,children:g.children},p.mode),g.ref=p.ref,p.child=g,g.return=p,g}function nd(p,g,S){return Sa(g,p.child,null,S),p=Lo(g,g.pendingProps),p.flags|=2,Tr(g),g.memoizedState=null,p}function Vp(p,g,S){var A=g.pendingProps,C=(g.flags&128)!==0;if(g.flags&=-129,p===null){if(gt){if(A.mode==="hidden")return p=Lo(g,A),g.lanes=536870912,Ui(null,p);if(Ys(g),(p=Rt)?(p=gf(p,Br),p=p!==null&&p.data==="&"?p:null,p!==null&&(g.memoizedState={dehydrated:p,treeContext:zn!==null?{id:Qr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},S=Fc(p),S.return=g,g.child=S,tr=g,Rt=null)):p=null,p===null)throw Vn(g);return g.lanes=536870912,null}return Lo(g,A)}var j=p.memoizedState;if(j!==null){var F=j.dehydrated;if(Ys(g),C)if(g.flags&256)g.flags&=-257,g=nd(p,g,S);else if(g.memoizedState!==null)g.child=p.child,g.flags|=128,g=null;else throw Error(i(558));else if(Gt||Ka(p,g,S,!1),C=(S&p.childLanes)!==0,Gt||C){if(A=It,A!==null&&(F=jn(A,S),F!==0&&F!==j.retryLane))throw j.retryLane=F,ma(p,F),vr(A,p,F),gl;Ko(),g=nd(p,g,S)}else p=j.treeContext,Rt=zr(F.nextSibling),tr=g,gt=!0,Un=null,Br=!1,p!==null&&Vc(g,p),g=Lo(g,A),g.flags|=4096;return g}return p=gn(p.child,{mode:A.mode,children:A.children}),p.ref=g.ref,g.child=p,p.return=g,p}function $o(p,g){var S=g.ref;if(S===null)p!==null&&p.ref!==null&&(g.flags|=4194816);else{if(typeof S!="function"&&typeof S!="object")throw Error(i(284));(p===null||p.ref!==S)&&(g.flags|=4194816)}}function yl(p,g,S,A,C){return va(g),S=Zs(p,g,S,A,void 0,C),A=Qs(),p!==null&&!Gt?(Js(p,g,C),wn(p,g,C)):(gt&&A&&ks(g),g.flags|=1,nr(p,g,S,C),g.child)}function ad(p,g,S,A,C,j){return va(g),g.updateQueue=null,S=su(g,A,S,C),ou(p),A=Qs(),p!==null&&!Gt?(Js(p,g,j),wn(p,g,j)):(gt&&A&&ks(g),g.flags|=1,nr(p,g,S,j),g.child)}function id(p,g,S,A,C){if(va(g),g.stateNode===null){var j=qa,F=S.contextType;typeof F=="object"&&F!==null&&(j=rr(F)),j=new S(A,j),g.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=hl,g.stateNode=j,j._reactInternals=g,j=g.stateNode,j.props=A,j.state=g.memoizedState,j.refs={},Vs(g),F=S.contextType,j.context=typeof F=="object"&&F!==null?rr(F):qa,j.state=g.memoizedState,F=S.getDerivedStateFromProps,typeof F=="function"&&(pl(g,S,F,A),j.state=g.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(F=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),F!==j.state&&hl.enqueueReplaceState(j,j.state,null),Li(g,A,j,C),Ni(),j.state=g.memoizedState),typeof j.componentDidMount=="function"&&(g.flags|=4194308),A=!0}else if(p===null){j=g.stateNode;var H=g.memoizedProps,ne=Ta(S,H);j.props=ne;var me=j.context,Te=S.contextType;F=qa,typeof Te=="object"&&Te!==null&&(F=rr(Te));var Me=S.getDerivedStateFromProps;Te=typeof Me=="function"||typeof j.getSnapshotBeforeUpdate=="function",H=g.pendingProps!==H,Te||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(H||me!==F)&&Gu(g,j,A,F),Gn=!1;var ge=g.memoizedState;j.state=ge,Li(g,A,j,C),Ni(),me=g.memoizedState,H||ge!==me||Gn?(typeof Me=="function"&&(pl(g,S,Me,A),me=g.memoizedState),(ne=Gn||qu(g,S,ne,A,ge,me,F))?(Te||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(g.flags|=4194308)):(typeof j.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=A,g.memoizedState=me),j.props=A,j.state=me,j.context=F,A=ne):(typeof j.componentDidMount=="function"&&(g.flags|=4194308),A=!1)}else{j=g.stateNode,qs(p,g),F=g.memoizedProps,Te=Ta(S,F),j.props=Te,Me=g.pendingProps,ge=j.context,me=S.contextType,ne=qa,typeof me=="object"&&me!==null&&(ne=rr(me)),H=S.getDerivedStateFromProps,(me=typeof H=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(F!==Me||ge!==ne)&&Gu(g,j,A,ne),Gn=!1,ge=g.memoizedState,j.state=ge,Li(g,A,j,C),Ni();var ve=g.memoizedState;F!==Me||ge!==ve||Gn||p!==null&&p.dependencies!==null&&vo(p.dependencies)?(typeof H=="function"&&(pl(g,S,H,A),ve=g.memoizedState),(Te=Gn||qu(g,S,Te,A,ge,ve,ne)||p!==null&&p.dependencies!==null&&vo(p.dependencies))?(me||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(A,ve,ne),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(A,ve,ne)),typeof j.componentDidUpdate=="function"&&(g.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof j.componentDidUpdate!="function"||F===p.memoizedProps&&ge===p.memoizedState||(g.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||F===p.memoizedProps&&ge===p.memoizedState||(g.flags|=1024),g.memoizedProps=A,g.memoizedState=ve),j.props=A,j.state=ve,j.context=ne,A=Te):(typeof j.componentDidUpdate!="function"||F===p.memoizedProps&&ge===p.memoizedState||(g.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||F===p.memoizedProps&&ge===p.memoizedState||(g.flags|=1024),A=!1)}return j=A,$o(p,g),A=(g.flags&128)!==0,j||A?(j=g.stateNode,S=A&&typeof S.getDerivedStateFromError!="function"?null:j.render(),g.flags|=1,p!==null&&A?(g.child=Sa(g,p.child,null,C),g.child=Sa(g,null,S,C)):nr(p,g,S,C),g.memoizedState=j.state,p=g.child):p=wn(p,g,C),p}function od(p,g,S,A){return ya(),g.flags|=256,nr(p,g,S,A),g.child}var bl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vl(p){return{baseLanes:p,cachePool:Yc()}}function xl(p,g,S){return p=p!==null?p.childLanes&~S:0,g&&(p|=Pr),p}function sd(p,g,S){var A=g.pendingProps,C=!1,j=(g.flags&128)!==0,F;if((F=j)||(F=p!==null&&p.memoizedState===null?!1:(zt.current&2)!==0),F&&(C=!0,g.flags&=-129),F=(g.flags&32)!==0,g.flags&=-33,p===null){if(gt){if(C?Kn(g):Yn(),(p=Rt)?(p=gf(p,Br),p=p!==null&&p.data!=="&"?p:null,p!==null&&(g.memoizedState={dehydrated:p,treeContext:zn!==null?{id:Qr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},S=Fc(p),S.return=g,g.child=S,tr=g,Rt=null)):p=null,p===null)throw Vn(g);return rc(p)?g.lanes=32:g.lanes=536870912,null}var H=A.children;return A=A.fallback,C?(Yn(),C=g.mode,H=Bo({mode:"hidden",children:H},C),A=ga(A,C,S,null),H.return=g,A.return=g,H.sibling=A,g.child=H,A=g.child,A.memoizedState=vl(S),A.childLanes=xl(p,F,S),g.memoizedState=bl,Ui(null,A)):(Kn(g),_l(g,H))}var ne=p.memoizedState;if(ne!==null&&(H=ne.dehydrated,H!==null)){if(j)g.flags&256?(Kn(g),g.flags&=-257,g=wl(p,g,S)):g.memoizedState!==null?(Yn(),g.child=p.child,g.flags|=128,g=null):(Yn(),H=A.fallback,C=g.mode,A=Bo({mode:"visible",children:A.children},C),H=ga(H,C,S,null),H.flags|=2,A.return=g,H.return=g,A.sibling=H,g.child=A,Sa(g,p.child,null,S),A=g.child,A.memoizedState=vl(S),A.childLanes=xl(p,F,S),g.memoizedState=bl,g=Ui(null,A));else if(Kn(g),rc(H)){if(F=H.nextSibling&&H.nextSibling.dataset,F)var me=F.dgst;F=me,A=Error(i(419)),A.stack="",A.digest=F,Ci({value:A,source:null,stack:null}),g=wl(p,g,S)}else if(Gt||Ka(p,g,S,!1),F=(S&p.childLanes)!==0,Gt||F){if(F=It,F!==null&&(A=jn(F,S),A!==0&&A!==ne.retryLane))throw ne.retryLane=A,ma(p,A),vr(F,p,A),gl;tc(H)||Ko(),g=wl(p,g,S)}else tc(H)?(g.flags|=192,g.child=p.child,g=null):(p=ne.treeContext,Rt=zr(H.nextSibling),tr=g,gt=!0,Un=null,Br=!1,p!==null&&Vc(g,p),g=_l(g,A.children),g.flags|=4096);return g}return C?(Yn(),H=A.fallback,C=g.mode,ne=p.child,me=ne.sibling,A=gn(ne,{mode:"hidden",children:A.children}),A.subtreeFlags=ne.subtreeFlags&65011712,me!==null?H=gn(me,H):(H=ga(H,C,S,null),H.flags|=2),H.return=g,A.return=g,A.sibling=H,g.child=A,Ui(null,A),A=g.child,H=p.child.memoizedState,H===null?H=vl(S):(C=H.cachePool,C!==null?(ne=Vt._currentValue,C=C.parent!==ne?{parent:ne,pool:ne}:C):C=Yc(),H={baseLanes:H.baseLanes|S,cachePool:C}),A.memoizedState=H,A.childLanes=xl(p,F,S),g.memoizedState=bl,Ui(p.child,A)):(Kn(g),S=p.child,p=S.sibling,S=gn(S,{mode:"visible",children:A.children}),S.return=g,S.sibling=null,p!==null&&(F=g.deletions,F===null?(g.deletions=[p],g.flags|=16):F.push(p)),g.child=S,g.memoizedState=null,S)}function _l(p,g){return g=Bo({mode:"visible",children:g},p.mode),g.return=p,p.child=g}function Bo(p,g){return p=Sr(22,p,null,g),p.lanes=0,p}function wl(p,g,S){return Sa(g,p.child,null,S),p=_l(g,g.pendingProps.children),p.flags|=2,g.memoizedState=null,p}function ld(p,g,S){p.lanes|=g;var A=p.alternate;A!==null&&(A.lanes|=g),Ls(p.return,g,S)}function Sl(p,g,S,A,C,j){var F=p.memoizedState;F===null?p.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:A,tail:S,tailMode:C,treeForkCount:j}:(F.isBackwards=g,F.rendering=null,F.renderingStartTime=0,F.last=A,F.tail=S,F.tailMode=C,F.treeForkCount=j)}function cd(p,g,S){var A=g.pendingProps,C=A.revealOrder,j=A.tail;A=A.children;var F=zt.current,H=(F&2)!==0;if(H?(F=F&1|2,g.flags|=128):F&=1,Ae(zt,F),nr(p,g,A,S),A=gt?Mi:0,!H&&p!==null&&(p.flags&128)!==0)e:for(p=g.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&ld(p,S,g);else if(p.tag===19)ld(p,S,g);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===g)break e;for(;p.sibling===null;){if(p.return===null||p.return===g)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}switch(C){case"forwards":for(S=g.child,C=null;S!==null;)p=S.alternate,p!==null&&Po(p)===null&&(C=S),S=S.sibling;S=C,S===null?(C=g.child,g.child=null):(C=S.sibling,S.sibling=null),Sl(g,!1,C,S,j,A);break;case"backwards":case"unstable_legacy-backwards":for(S=null,C=g.child,g.child=null;C!==null;){if(p=C.alternate,p!==null&&Po(p)===null){g.child=C;break}p=C.sibling,C.sibling=S,S=C,C=p}Sl(g,!0,S,null,j,A);break;case"together":Sl(g,!1,null,null,void 0,A);break;default:g.memoizedState=null}return g.child}function wn(p,g,S){if(p!==null&&(g.dependencies=p.dependencies),Qn|=g.lanes,(S&g.childLanes)===0)if(p!==null){if(Ka(p,g,S,!1),(S&g.childLanes)===0)return null}else return null;if(p!==null&&g.child!==p.child)throw Error(i(153));if(g.child!==null){for(p=g.child,S=gn(p,p.pendingProps),g.child=S,S.return=g;p.sibling!==null;)p=p.sibling,S=S.sibling=gn(p,p.pendingProps),S.return=g;S.sibling=null}return g.child}function El(p,g){return(p.lanes&g)!==0?!0:(p=p.dependencies,!!(p!==null&&vo(p)))}function qp(p,g,S){switch(g.tag){case 3:Pe(g,g.stateNode.containerInfo),qn(g,Vt,p.memoizedState.cache),ya();break;case 27:case 5:De(g);break;case 4:Pe(g,g.stateNode.containerInfo);break;case 10:qn(g,g.type,g.memoizedProps.value);break;case 31:if(g.memoizedState!==null)return g.flags|=128,Ys(g),null;break;case 13:var A=g.memoizedState;if(A!==null)return A.dehydrated!==null?(Kn(g),g.flags|=128,null):(S&g.child.childLanes)!==0?sd(p,g,S):(Kn(g),p=wn(p,g,S),p!==null?p.sibling:null);Kn(g);break;case 19:var C=(p.flags&128)!==0;if(A=(S&g.childLanes)!==0,A||(Ka(p,g,S,!1),A=(S&g.childLanes)!==0),C){if(A)return cd(p,g,S);g.flags|=128}if(C=g.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Ae(zt,zt.current),A)break;return null;case 22:return g.lanes=0,td(p,g,S,g.pendingProps);case 24:qn(g,Vt,p.memoizedState.cache)}return wn(p,g,S)}function ud(p,g,S){if(p!==null)if(p.memoizedProps!==g.pendingProps)Gt=!0;else{if(!El(p,S)&&(g.flags&128)===0)return Gt=!1,qp(p,g,S);Gt=(p.flags&131072)!==0}else Gt=!1,gt&&(g.flags&1048576)!==0&&Uc(g,Mi,g.index);switch(g.lanes=0,g.tag){case 16:e:{var A=g.pendingProps;if(p=_a(g.elementType),g.type=p,typeof p=="function")Ms(p)?(A=Ta(p,A),g.tag=1,g=id(null,g,p,A,S)):(g.tag=0,g=yl(null,g,p,A,S));else{if(p!=null){var C=p.$$typeof;if(C===R){g.tag=11,g=Qu(null,g,p,A,S);break e}else if(C===L){g.tag=14,g=Ju(null,g,p,A,S);break e}}throw g=Q(p)||p,Error(i(306,g,""))}}return g;case 0:return yl(p,g,g.type,g.pendingProps,S);case 1:return A=g.type,C=Ta(A,g.pendingProps),id(p,g,A,C,S);case 3:e:{if(Pe(g,g.stateNode.containerInfo),p===null)throw Error(i(387));A=g.pendingProps;var j=g.memoizedState;C=j.element,qs(p,g),Li(g,A,null,S);var F=g.memoizedState;if(A=F.cache,qn(g,Vt,A),A!==j.cache&&$s(g,[Vt],S,!0),Ni(),A=F.element,j.isDehydrated)if(j={element:A,isDehydrated:!1,cache:F.cache},g.updateQueue.baseState=j,g.memoizedState=j,g.flags&256){g=od(p,g,A,S);break e}else if(A!==C){C=Nr(Error(i(424)),g),Ci(C),g=od(p,g,A,S);break e}else{switch(p=g.stateNode.containerInfo,p.nodeType){case 9:p=p.body;break;default:p=p.nodeName==="HTML"?p.ownerDocument.body:p}for(Rt=zr(p.firstChild),tr=g,gt=!0,Un=null,Br=!0,S=tu(g,null,A,S),g.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling}else{if(ya(),A===C){g=wn(p,g,S);break e}nr(p,g,A,S)}g=g.child}return g;case 26:return $o(p,g),p===null?(S=wf(g.type,null,g.pendingProps,null))?g.memoizedState=S:gt||(S=g.type,p=g.pendingProps,A=ts(Ne.current).createElement(S),A[$t]=g,A[K]=p,ar(A,S,p),ut(A),g.stateNode=A):g.memoizedState=wf(g.type,p.memoizedProps,g.pendingProps,p.memoizedState),null;case 27:return De(g),p===null&&gt&&(A=g.stateNode=vf(g.type,g.pendingProps,Ne.current),tr=g,Br=!0,C=Rt,na(g.type)?(nc=C,Rt=zr(A.firstChild)):Rt=C),nr(p,g,g.pendingProps.children,S),$o(p,g),p===null&&(g.flags|=4194304),g.child;case 5:return p===null&&gt&&((C=A=Rt)&&(A=xh(A,g.type,g.pendingProps,Br),A!==null?(g.stateNode=A,tr=g,Rt=zr(A.firstChild),Br=!1,C=!0):C=!1),C||Vn(g)),De(g),C=g.type,j=g.pendingProps,F=p!==null?p.memoizedProps:null,A=j.children,Ql(C,j)?A=null:F!==null&&Ql(C,F)&&(g.flags|=32),g.memoizedState!==null&&(C=Zs(p,g,jp,null,null,S),ao._currentValue=C),$o(p,g),nr(p,g,A,S),g.child;case 6:return p===null&&gt&&((p=S=Rt)&&(S=_h(S,g.pendingProps,Br),S!==null?(g.stateNode=S,tr=g,Rt=null,p=!0):p=!1),p||Vn(g)),null;case 13:return sd(p,g,S);case 4:return Pe(g,g.stateNode.containerInfo),A=g.pendingProps,p===null?g.child=Sa(g,null,A,S):nr(p,g,A,S),g.child;case 11:return Qu(p,g,g.type,g.pendingProps,S);case 7:return nr(p,g,g.pendingProps,S),g.child;case 8:return nr(p,g,g.pendingProps.children,S),g.child;case 12:return nr(p,g,g.pendingProps.children,S),g.child;case 10:return A=g.pendingProps,qn(g,g.type,A.value),nr(p,g,A.children,S),g.child;case 9:return C=g.type._context,A=g.pendingProps.children,va(g),C=rr(C),A=A(C),g.flags|=1,nr(p,g,A,S),g.child;case 14:return Ju(p,g,g.type,g.pendingProps,S);case 15:return ed(p,g,g.type,g.pendingProps,S);case 19:return cd(p,g,S);case 31:return Vp(p,g,S);case 22:return td(p,g,S,g.pendingProps);case 24:return va(g),A=rr(Vt),p===null?(C=zs(),C===null&&(C=It,j=Bs(),C.pooledCache=j,j.refCount++,j!==null&&(C.pooledCacheLanes|=S),C=j),g.memoizedState={parent:A,cache:C},Vs(g),qn(g,Vt,C)):((p.lanes&S)!==0&&(qs(p,g),Li(g,null,null,S),Ni()),C=p.memoizedState,j=g.memoizedState,C.parent!==A?(C={parent:A,cache:A},g.memoizedState=C,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=C),qn(g,Vt,A)):(A=j.cache,qn(g,Vt,A),A!==C.cache&&$s(g,[Vt],S,!0))),nr(p,g,g.pendingProps.children,S),g.child;case 29:throw g.pendingProps}throw Error(i(156,g.tag))}function Sn(p){p.flags|=4}function Tl(p,g,S,A,C){if((g=(p.mode&32)!==0)&&(g=!1),g){if(p.flags|=16777216,(C&335544128)===C)if(p.stateNode.complete)p.flags|=8192;else if(Ld())p.flags|=8192;else throw wa=So,Us}else p.flags&=-16777217}function dd(p,g){if(g.type!=="stylesheet"||(g.state.loading&4)!==0)p.flags&=-16777217;else if(p.flags|=16777216,!Pf(g))if(Ld())p.flags|=8192;else throw wa=So,Us}function Fo(p,g){g!==null&&(p.flags|=4),p.flags&16384&&(g=p.tag!==22?Zr():536870912,p.lanes|=g,oi|=g)}function Vi(p,g){if(!gt)switch(p.tailMode){case"hidden":g=p.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?p.tail=null:S.sibling=null;break;case"collapsed":S=p.tail;for(var A=null;S!==null;)S.alternate!==null&&(A=S),S=S.sibling;A===null?g||p.tail===null?p.tail=null:p.tail.sibling=null:A.sibling=null}}function jt(p){var g=p.alternate!==null&&p.alternate.child===p.child,S=0,A=0;if(g)for(var C=p.child;C!==null;)S|=C.lanes|C.childLanes,A|=C.subtreeFlags&65011712,A|=C.flags&65011712,C.return=p,C=C.sibling;else for(C=p.child;C!==null;)S|=C.lanes|C.childLanes,A|=C.subtreeFlags,A|=C.flags,C.return=p,C=C.sibling;return p.subtreeFlags|=A,p.childLanes=S,g}function Gp(p,g,S){var A=g.pendingProps;switch(Ds(g),g.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(g),null;case 1:return jt(g),null;case 3:return S=g.stateNode,A=null,p!==null&&(A=p.memoizedState.cache),g.memoizedState.cache!==A&&(g.flags|=2048),vn(Vt),de(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(p===null||p.child===null)&&(Ha(g)?Sn(g):p===null||p.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,js())),jt(g),null;case 26:var C=g.type,j=g.memoizedState;return p===null?(Sn(g),j!==null?(jt(g),dd(g,j)):(jt(g),Tl(g,C,null,A,S))):j?j!==p.memoizedState?(Sn(g),jt(g),dd(g,j)):(jt(g),g.flags&=-16777217):(p=p.memoizedProps,p!==A&&Sn(g),jt(g),Tl(g,C,p,A,S)),null;case 27:if($e(g),S=Ne.current,C=g.type,p!==null&&g.stateNode!=null)p.memoizedProps!==A&&Sn(g);else{if(!A){if(g.stateNode===null)throw Error(i(166));return jt(g),null}p=Ce.current,Ha(g)?qc(g):(p=vf(C,A,S),g.stateNode=p,Sn(g))}return jt(g),null;case 5:if($e(g),C=g.type,p!==null&&g.stateNode!=null)p.memoizedProps!==A&&Sn(g);else{if(!A){if(g.stateNode===null)throw Error(i(166));return jt(g),null}if(j=Ce.current,Ha(g))qc(g);else{var F=ts(Ne.current);switch(j){case 1:j=F.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:j=F.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":j=F.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":j=F.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":j=F.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild);break;case"select":j=typeof A.is=="string"?F.createElement("select",{is:A.is}):F.createElement("select"),A.multiple?j.multiple=!0:A.size&&(j.size=A.size);break;default:j=typeof A.is=="string"?F.createElement(C,{is:A.is}):F.createElement(C)}}j[$t]=g,j[K]=A;e:for(F=g.child;F!==null;){if(F.tag===5||F.tag===6)j.appendChild(F.stateNode);else if(F.tag!==4&&F.tag!==27&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===g)break e;for(;F.sibling===null;){if(F.return===null||F.return===g)break e;F=F.return}F.sibling.return=F.return,F=F.sibling}g.stateNode=j;e:switch(ar(j,C,A),C){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}A&&Sn(g)}}return jt(g),Tl(g,g.type,p===null?null:p.memoizedProps,g.pendingProps,S),null;case 6:if(p&&g.stateNode!=null)p.memoizedProps!==A&&Sn(g);else{if(typeof A!="string"&&g.stateNode===null)throw Error(i(166));if(p=Ne.current,Ha(g)){if(p=g.stateNode,S=g.memoizedProps,A=null,C=tr,C!==null)switch(C.tag){case 27:case 5:A=C.memoizedProps}p[$t]=g,p=!!(p.nodeValue===S||A!==null&&A.suppressHydrationWarning===!0||lf(p.nodeValue,S)),p||Vn(g,!0)}else p=ts(p).createTextNode(A),p[$t]=g,g.stateNode=p}return jt(g),null;case 31:if(S=g.memoizedState,p===null||p.memoizedState!==null){if(A=Ha(g),S!==null){if(p===null){if(!A)throw Error(i(318));if(p=g.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(557));p[$t]=g}else ya(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;jt(g),p=!1}else S=js(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=S),p=!0;if(!p)return g.flags&256?(Tr(g),g):(Tr(g),null);if((g.flags&128)!==0)throw Error(i(558))}return jt(g),null;case 13:if(A=g.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(C=Ha(g),A!==null&&A.dehydrated!==null){if(p===null){if(!C)throw Error(i(318));if(C=g.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(i(317));C[$t]=g}else ya(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;jt(g),C=!1}else C=js(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=C),C=!0;if(!C)return g.flags&256?(Tr(g),g):(Tr(g),null)}return Tr(g),(g.flags&128)!==0?(g.lanes=S,g):(S=A!==null,p=p!==null&&p.memoizedState!==null,S&&(A=g.child,C=null,A.alternate!==null&&A.alternate.memoizedState!==null&&A.alternate.memoizedState.cachePool!==null&&(C=A.alternate.memoizedState.cachePool.pool),j=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(j=A.memoizedState.cachePool.pool),j!==C&&(A.flags|=2048)),S!==p&&S&&(g.child.flags|=8192),Fo(g,g.updateQueue),jt(g),null);case 4:return de(),p===null&&Hl(g.stateNode.containerInfo),jt(g),null;case 10:return vn(g.type),jt(g),null;case 19:if(ue(zt),A=g.memoizedState,A===null)return jt(g),null;if(C=(g.flags&128)!==0,j=A.rendering,j===null)if(C)Vi(A,!1);else{if(Ft!==0||p!==null&&(p.flags&128)!==0)for(p=g.child;p!==null;){if(j=Po(p),j!==null){for(g.flags|=128,Vi(A,!1),p=j.updateQueue,g.updateQueue=p,Fo(g,p),g.subtreeFlags=0,p=S,S=g.child;S!==null;)Bc(S,p),S=S.sibling;return Ae(zt,zt.current&1|2),gt&&yn(g,A.treeForkCount),g.child}p=p.sibling}A.tail!==null&&Nt()>Go&&(g.flags|=128,C=!0,Vi(A,!1),g.lanes=4194304)}else{if(!C)if(p=Po(j),p!==null){if(g.flags|=128,C=!0,p=p.updateQueue,g.updateQueue=p,Fo(g,p),Vi(A,!0),A.tail===null&&A.tailMode==="hidden"&&!j.alternate&&!gt)return jt(g),null}else 2*Nt()-A.renderingStartTime>Go&&S!==536870912&&(g.flags|=128,C=!0,Vi(A,!1),g.lanes=4194304);A.isBackwards?(j.sibling=g.child,g.child=j):(p=A.last,p!==null?p.sibling=j:g.child=j,A.last=j)}return A.tail!==null?(p=A.tail,A.rendering=p,A.tail=p.sibling,A.renderingStartTime=Nt(),p.sibling=null,S=zt.current,Ae(zt,C?S&1|2:S&1),gt&&yn(g,A.treeForkCount),p):(jt(g),null);case 22:case 23:return Tr(g),Ks(),A=g.memoizedState!==null,p!==null?p.memoizedState!==null!==A&&(g.flags|=8192):A&&(g.flags|=8192),A?(S&536870912)!==0&&(g.flags&128)===0&&(jt(g),g.subtreeFlags&6&&(g.flags|=8192)):jt(g),S=g.updateQueue,S!==null&&Fo(g,S.retryQueue),S=null,p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),A=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(A=g.memoizedState.cachePool.pool),A!==S&&(g.flags|=2048),p!==null&&ue(xa),null;case 24:return S=null,p!==null&&(S=p.memoizedState.cache),g.memoizedState.cache!==S&&(g.flags|=2048),vn(Vt),jt(g),null;case 25:return null;case 30:return null}throw Error(i(156,g.tag))}function Wp(p,g){switch(Ds(g),g.tag){case 1:return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 3:return vn(Vt),de(),p=g.flags,(p&65536)!==0&&(p&128)===0?(g.flags=p&-65537|128,g):null;case 26:case 27:case 5:return $e(g),null;case 31:if(g.memoizedState!==null){if(Tr(g),g.alternate===null)throw Error(i(340));ya()}return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 13:if(Tr(g),p=g.memoizedState,p!==null&&p.dehydrated!==null){if(g.alternate===null)throw Error(i(340));ya()}return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 19:return ue(zt),null;case 4:return de(),null;case 10:return vn(g.type),null;case 22:case 23:return Tr(g),Ks(),p!==null&&ue(xa),p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 24:return vn(Vt),null;case 25:return null;default:return null}}function fd(p,g){switch(Ds(g),g.tag){case 3:vn(Vt),de();break;case 26:case 27:case 5:$e(g);break;case 4:de();break;case 31:g.memoizedState!==null&&Tr(g);break;case 13:Tr(g);break;case 19:ue(zt);break;case 10:vn(g.type);break;case 22:case 23:Tr(g),Ks(),p!==null&&ue(xa);break;case 24:vn(Vt)}}function qi(p,g){try{var S=g.updateQueue,A=S!==null?S.lastEffect:null;if(A!==null){var C=A.next;S=C;do{if((S.tag&p)===p){A=void 0;var j=S.create,F=S.inst;A=j(),F.destroy=A}S=S.next}while(S!==C)}}catch(H){Tt(g,g.return,H)}}function Xn(p,g,S){try{var A=g.updateQueue,C=A!==null?A.lastEffect:null;if(C!==null){var j=C.next;A=j;do{if((A.tag&p)===p){var F=A.inst,H=F.destroy;if(H!==void 0){F.destroy=void 0,C=g;var ne=S,me=H;try{me()}catch(Te){Tt(C,ne,Te)}}}A=A.next}while(A!==j)}}catch(Te){Tt(g,g.return,Te)}}function pd(p){var g=p.updateQueue;if(g!==null){var S=p.stateNode;try{nu(g,S)}catch(A){Tt(p,p.return,A)}}}function hd(p,g,S){S.props=Ta(p.type,p.memoizedProps),S.state=p.memoizedState;try{S.componentWillUnmount()}catch(A){Tt(p,g,A)}}function Gi(p,g){try{var S=p.ref;if(S!==null){switch(p.tag){case 26:case 27:case 5:var A=p.stateNode;break;case 30:A=p.stateNode;break;default:A=p.stateNode}typeof S=="function"?p.refCleanup=S(A):S.current=A}}catch(C){Tt(p,g,C)}}function en(p,g){var S=p.ref,A=p.refCleanup;if(S!==null)if(typeof A=="function")try{A()}catch(C){Tt(p,g,C)}finally{p.refCleanup=null,p=p.alternate,p!=null&&(p.refCleanup=null)}else if(typeof S=="function")try{S(null)}catch(C){Tt(p,g,C)}else S.current=null}function md(p){var g=p.type,S=p.memoizedProps,A=p.stateNode;try{e:switch(g){case"button":case"input":case"select":case"textarea":S.autoFocus&&A.focus();break e;case"img":S.src?A.src=S.src:S.srcSet&&(A.srcset=S.srcSet)}}catch(C){Tt(p,p.return,C)}}function Al(p,g,S){try{var A=p.stateNode;hh(A,p.type,S,g),A[K]=g}catch(C){Tt(p,p.return,C)}}function gd(p){return p.tag===5||p.tag===3||p.tag===26||p.tag===27&&na(p.type)||p.tag===4}function Pl(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||gd(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.tag===27&&na(p.type)||p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function Ol(p,g,S){var A=p.tag;if(A===5||A===6)p=p.stateNode,g?(S.nodeType===9?S.body:S.nodeName==="HTML"?S.ownerDocument.body:S).insertBefore(p,g):(g=S.nodeType===9?S.body:S.nodeName==="HTML"?S.ownerDocument.body:S,g.appendChild(p),S=S._reactRootContainer,S!=null||g.onclick!==null||(g.onclick=Dr));else if(A!==4&&(A===27&&na(p.type)&&(S=p.stateNode,g=null),p=p.child,p!==null))for(Ol(p,g,S),p=p.sibling;p!==null;)Ol(p,g,S),p=p.sibling}function zo(p,g,S){var A=p.tag;if(A===5||A===6)p=p.stateNode,g?S.insertBefore(p,g):S.appendChild(p);else if(A!==4&&(A===27&&na(p.type)&&(S=p.stateNode),p=p.child,p!==null))for(zo(p,g,S),p=p.sibling;p!==null;)zo(p,g,S),p=p.sibling}function yd(p){var g=p.stateNode,S=p.memoizedProps;try{for(var A=p.type,C=g.attributes;C.length;)g.removeAttributeNode(C[0]);ar(g,A,S),g[$t]=p,g[K]=S}catch(j){Tt(p,p.return,j)}}var En=!1,Wt=!1,Ml=!1,bd=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function Hp(p,g){if(p=p.containerInfo,Xl=cs,p=Cc(p),ws(p)){if("selectionStart"in p)var S={start:p.selectionStart,end:p.selectionEnd};else e:{S=(S=p.ownerDocument)&&S.defaultView||window;var A=S.getSelection&&S.getSelection();if(A&&A.rangeCount!==0){S=A.anchorNode;var C=A.anchorOffset,j=A.focusNode;A=A.focusOffset;try{S.nodeType,j.nodeType}catch{S=null;break e}var F=0,H=-1,ne=-1,me=0,Te=0,Me=p,ge=null;t:for(;;){for(var ve;Me!==S||C!==0&&Me.nodeType!==3||(H=F+C),Me!==j||A!==0&&Me.nodeType!==3||(ne=F+A),Me.nodeType===3&&(F+=Me.nodeValue.length),(ve=Me.firstChild)!==null;)ge=Me,Me=ve;for(;;){if(Me===p)break t;if(ge===S&&++me===C&&(H=F),ge===j&&++Te===A&&(ne=F),(ve=Me.nextSibling)!==null)break;Me=ge,ge=Me.parentNode}Me=ve}S=H===-1||ne===-1?null:{start:H,end:ne}}else S=null}S=S||{start:0,end:0}}else S=null;for(Zl={focusedElem:p,selectionRange:S},cs=!1,Qt=g;Qt!==null;)if(g=Qt,p=g.child,(g.subtreeFlags&1028)!==0&&p!==null)p.return=g,Qt=p;else for(;Qt!==null;){switch(g=Qt,j=g.alternate,p=g.flags,g.tag){case 0:if((p&4)!==0&&(p=g.updateQueue,p=p!==null?p.events:null,p!==null))for(S=0;S<p.length;S++)C=p[S],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((p&1024)!==0&&j!==null){p=void 0,S=g,C=j.memoizedProps,j=j.memoizedState,A=S.stateNode;try{var ze=Ta(S.type,C);p=A.getSnapshotBeforeUpdate(ze,j),A.__reactInternalSnapshotBeforeUpdate=p}catch(Ze){Tt(S,S.return,Ze)}}break;case 3:if((p&1024)!==0){if(p=g.stateNode.containerInfo,S=p.nodeType,S===9)ec(p);else if(S===1)switch(p.nodeName){case"HEAD":case"HTML":case"BODY":ec(p);break;default:p.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((p&1024)!==0)throw Error(i(163))}if(p=g.sibling,p!==null){p.return=g.return,Qt=p;break}Qt=g.return}}function vd(p,g,S){var A=S.flags;switch(S.tag){case 0:case 11:case 15:An(p,S),A&4&&qi(5,S);break;case 1:if(An(p,S),A&4)if(p=S.stateNode,g===null)try{p.componentDidMount()}catch(F){Tt(S,S.return,F)}else{var C=Ta(S.type,g.memoizedProps);g=g.memoizedState;try{p.componentDidUpdate(C,g,p.__reactInternalSnapshotBeforeUpdate)}catch(F){Tt(S,S.return,F)}}A&64&&pd(S),A&512&&Gi(S,S.return);break;case 3:if(An(p,S),A&64&&(p=S.updateQueue,p!==null)){if(g=null,S.child!==null)switch(S.child.tag){case 27:case 5:g=S.child.stateNode;break;case 1:g=S.child.stateNode}try{nu(p,g)}catch(F){Tt(S,S.return,F)}}break;case 27:g===null&&A&4&&yd(S);case 26:case 5:An(p,S),g===null&&A&4&&md(S),A&512&&Gi(S,S.return);break;case 12:An(p,S);break;case 31:An(p,S),A&4&&wd(p,S);break;case 13:An(p,S),A&4&&Sd(p,S),A&64&&(p=S.memoizedState,p!==null&&(p=p.dehydrated,p!==null&&(S=rh.bind(null,S),wh(p,S))));break;case 22:if(A=S.memoizedState!==null||En,!A){g=g!==null&&g.memoizedState!==null||Wt,C=En;var j=Wt;En=A,(Wt=g)&&!j?Pn(p,S,(S.subtreeFlags&8772)!==0):An(p,S),En=C,Wt=j}break;case 30:break;default:An(p,S)}}function xd(p){var g=p.alternate;g!==null&&(p.alternate=null,xd(g)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(g=p.stateNode,g!==null&&Ve(g)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}var Lt=null,mr=!1;function Tn(p,g,S){for(S=S.child;S!==null;)_d(p,g,S),S=S.sibling}function _d(p,g,S){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(_r,S)}catch{}switch(S.tag){case 26:Wt||en(S,g),Tn(p,g,S),S.memoizedState?S.memoizedState.count--:S.stateNode&&(S=S.stateNode,S.parentNode.removeChild(S));break;case 27:Wt||en(S,g);var A=Lt,C=mr;na(S.type)&&(Lt=S.stateNode,mr=!1),Tn(p,g,S),eo(S.stateNode),Lt=A,mr=C;break;case 5:Wt||en(S,g);case 6:if(A=Lt,C=mr,Lt=null,Tn(p,g,S),Lt=A,mr=C,Lt!==null)if(mr)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(S.stateNode)}catch(j){Tt(S,g,j)}else try{Lt.removeChild(S.stateNode)}catch(j){Tt(S,g,j)}break;case 18:Lt!==null&&(mr?(p=Lt,hf(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,S.stateNode),mi(p)):hf(Lt,S.stateNode));break;case 4:A=Lt,C=mr,Lt=S.stateNode.containerInfo,mr=!0,Tn(p,g,S),Lt=A,mr=C;break;case 0:case 11:case 14:case 15:Xn(2,S,g),Wt||Xn(4,S,g),Tn(p,g,S);break;case 1:Wt||(en(S,g),A=S.stateNode,typeof A.componentWillUnmount=="function"&&hd(S,g,A)),Tn(p,g,S);break;case 21:Tn(p,g,S);break;case 22:Wt=(A=Wt)||S.memoizedState!==null,Tn(p,g,S),Wt=A;break;default:Tn(p,g,S)}}function wd(p,g){if(g.memoizedState===null&&(p=g.alternate,p!==null&&(p=p.memoizedState,p!==null))){p=p.dehydrated;try{mi(p)}catch(S){Tt(g,g.return,S)}}}function Sd(p,g){if(g.memoizedState===null&&(p=g.alternate,p!==null&&(p=p.memoizedState,p!==null&&(p=p.dehydrated,p!==null))))try{mi(p)}catch(S){Tt(g,g.return,S)}}function Kp(p){switch(p.tag){case 31:case 13:case 19:var g=p.stateNode;return g===null&&(g=p.stateNode=new bd),g;case 22:return p=p.stateNode,g=p._retryCache,g===null&&(g=p._retryCache=new bd),g;default:throw Error(i(435,p.tag))}}function Uo(p,g){var S=Kp(p);g.forEach(function(A){if(!S.has(A)){S.add(A);var C=nh.bind(null,p,A);A.then(C,C)}})}function gr(p,g){var S=g.deletions;if(S!==null)for(var A=0;A<S.length;A++){var C=S[A],j=p,F=g,H=F;e:for(;H!==null;){switch(H.tag){case 27:if(na(H.type)){Lt=H.stateNode,mr=!1;break e}break;case 5:Lt=H.stateNode,mr=!1;break e;case 3:case 4:Lt=H.stateNode.containerInfo,mr=!0;break e}H=H.return}if(Lt===null)throw Error(i(160));_d(j,F,C),Lt=null,mr=!1,j=C.alternate,j!==null&&(j.return=null),C.return=null}if(g.subtreeFlags&13886)for(g=g.child;g!==null;)Ed(g,p),g=g.sibling}var Kr=null;function Ed(p,g){var S=p.alternate,A=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:gr(g,p),yr(p),A&4&&(Xn(3,p,p.return),qi(3,p),Xn(5,p,p.return));break;case 1:gr(g,p),yr(p),A&512&&(Wt||S===null||en(S,S.return)),A&64&&En&&(p=p.updateQueue,p!==null&&(A=p.callbacks,A!==null&&(S=p.shared.hiddenCallbacks,p.shared.hiddenCallbacks=S===null?A:S.concat(A))));break;case 26:var C=Kr;if(gr(g,p),yr(p),A&512&&(Wt||S===null||en(S,S.return)),A&4){var j=S!==null?S.memoizedState:null;if(A=p.memoizedState,S===null)if(A===null)if(p.stateNode===null){e:{A=p.type,S=p.memoizedProps,C=C.ownerDocument||C;t:switch(A){case"title":j=C.getElementsByTagName("title")[0],(!j||j[Re]||j[$t]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=C.createElement(A),C.head.insertBefore(j,C.querySelector("head > title"))),ar(j,A,S),j[$t]=p,ut(j),A=j;break e;case"link":var F=Tf("link","href",C).get(A+(S.href||""));if(F){for(var H=0;H<F.length;H++)if(j=F[H],j.getAttribute("href")===(S.href==null||S.href===""?null:S.href)&&j.getAttribute("rel")===(S.rel==null?null:S.rel)&&j.getAttribute("title")===(S.title==null?null:S.title)&&j.getAttribute("crossorigin")===(S.crossOrigin==null?null:S.crossOrigin)){F.splice(H,1);break t}}j=C.createElement(A),ar(j,A,S),C.head.appendChild(j);break;case"meta":if(F=Tf("meta","content",C).get(A+(S.content||""))){for(H=0;H<F.length;H++)if(j=F[H],j.getAttribute("content")===(S.content==null?null:""+S.content)&&j.getAttribute("name")===(S.name==null?null:S.name)&&j.getAttribute("property")===(S.property==null?null:S.property)&&j.getAttribute("http-equiv")===(S.httpEquiv==null?null:S.httpEquiv)&&j.getAttribute("charset")===(S.charSet==null?null:S.charSet)){F.splice(H,1);break t}}j=C.createElement(A),ar(j,A,S),C.head.appendChild(j);break;default:throw Error(i(468,A))}j[$t]=p,ut(j),A=j}p.stateNode=A}else Af(C,p.type,p.stateNode);else p.stateNode=Ef(C,A,p.memoizedProps);else j!==A?(j===null?S.stateNode!==null&&(S=S.stateNode,S.parentNode.removeChild(S)):j.count--,A===null?Af(C,p.type,p.stateNode):Ef(C,A,p.memoizedProps)):A===null&&p.stateNode!==null&&Al(p,p.memoizedProps,S.memoizedProps)}break;case 27:gr(g,p),yr(p),A&512&&(Wt||S===null||en(S,S.return)),S!==null&&A&4&&Al(p,p.memoizedProps,S.memoizedProps);break;case 5:if(gr(g,p),yr(p),A&512&&(Wt||S===null||en(S,S.return)),p.flags&32){C=p.stateNode;try{fn(C,"")}catch(ze){Tt(p,p.return,ze)}}A&4&&p.stateNode!=null&&(C=p.memoizedProps,Al(p,C,S!==null?S.memoizedProps:C)),A&1024&&(Ml=!0);break;case 6:if(gr(g,p),yr(p),A&4){if(p.stateNode===null)throw Error(i(162));A=p.memoizedProps,S=p.stateNode;try{S.nodeValue=A}catch(ze){Tt(p,p.return,ze)}}break;case 3:if(as=null,C=Kr,Kr=rs(g.containerInfo),gr(g,p),Kr=C,yr(p),A&4&&S!==null&&S.memoizedState.isDehydrated)try{mi(g.containerInfo)}catch(ze){Tt(p,p.return,ze)}Ml&&(Ml=!1,Td(p));break;case 4:A=Kr,Kr=rs(p.stateNode.containerInfo),gr(g,p),yr(p),Kr=A;break;case 12:gr(g,p),yr(p);break;case 31:gr(g,p),yr(p),A&4&&(A=p.updateQueue,A!==null&&(p.updateQueue=null,Uo(p,A)));break;case 13:gr(g,p),yr(p),p.child.flags&8192&&p.memoizedState!==null!=(S!==null&&S.memoizedState!==null)&&(qo=Nt()),A&4&&(A=p.updateQueue,A!==null&&(p.updateQueue=null,Uo(p,A)));break;case 22:C=p.memoizedState!==null;var ne=S!==null&&S.memoizedState!==null,me=En,Te=Wt;if(En=me||C,Wt=Te||ne,gr(g,p),Wt=Te,En=me,yr(p),A&8192)e:for(g=p.stateNode,g._visibility=C?g._visibility&-2:g._visibility|1,C&&(S===null||ne||En||Wt||Aa(p)),S=null,g=p;;){if(g.tag===5||g.tag===26){if(S===null){ne=S=g;try{if(j=ne.stateNode,C)F=j.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none";else{H=ne.stateNode;var Me=ne.memoizedProps.style,ge=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;H.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(ze){Tt(ne,ne.return,ze)}}}else if(g.tag===6){if(S===null){ne=g;try{ne.stateNode.nodeValue=C?"":ne.memoizedProps}catch(ze){Tt(ne,ne.return,ze)}}}else if(g.tag===18){if(S===null){ne=g;try{var ve=ne.stateNode;C?mf(ve,!0):mf(ne.stateNode,!1)}catch(ze){Tt(ne,ne.return,ze)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===p)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break e;for(;g.sibling===null;){if(g.return===null||g.return===p)break e;S===g&&(S=null),g=g.return}S===g&&(S=null),g.sibling.return=g.return,g=g.sibling}A&4&&(A=p.updateQueue,A!==null&&(S=A.retryQueue,S!==null&&(A.retryQueue=null,Uo(p,S))));break;case 19:gr(g,p),yr(p),A&4&&(A=p.updateQueue,A!==null&&(p.updateQueue=null,Uo(p,A)));break;case 30:break;case 21:break;default:gr(g,p),yr(p)}}function yr(p){var g=p.flags;if(g&2){try{for(var S,A=p.return;A!==null;){if(gd(A)){S=A;break}A=A.return}if(S==null)throw Error(i(160));switch(S.tag){case 27:var C=S.stateNode,j=Pl(p);zo(p,j,C);break;case 5:var F=S.stateNode;S.flags&32&&(fn(F,""),S.flags&=-33);var H=Pl(p);zo(p,H,F);break;case 3:case 4:var ne=S.stateNode.containerInfo,me=Pl(p);Ol(p,me,ne);break;default:throw Error(i(161))}}catch(Te){Tt(p,p.return,Te)}p.flags&=-3}g&4096&&(p.flags&=-4097)}function Td(p){if(p.subtreeFlags&1024)for(p=p.child;p!==null;){var g=p;Td(g),g.tag===5&&g.flags&1024&&g.stateNode.reset(),p=p.sibling}}function An(p,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)vd(p,g.alternate,g),g=g.sibling}function Aa(p){for(p=p.child;p!==null;){var g=p;switch(g.tag){case 0:case 11:case 14:case 15:Xn(4,g,g.return),Aa(g);break;case 1:en(g,g.return);var S=g.stateNode;typeof S.componentWillUnmount=="function"&&hd(g,g.return,S),Aa(g);break;case 27:eo(g.stateNode);case 26:case 5:en(g,g.return),Aa(g);break;case 22:g.memoizedState===null&&Aa(g);break;case 30:Aa(g);break;default:Aa(g)}p=p.sibling}}function Pn(p,g,S){for(S=S&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var A=g.alternate,C=p,j=g,F=j.flags;switch(j.tag){case 0:case 11:case 15:Pn(C,j,S),qi(4,j);break;case 1:if(Pn(C,j,S),A=j,C=A.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(me){Tt(A,A.return,me)}if(A=j,C=A.updateQueue,C!==null){var H=A.stateNode;try{var ne=C.shared.hiddenCallbacks;if(ne!==null)for(C.shared.hiddenCallbacks=null,C=0;C<ne.length;C++)ru(ne[C],H)}catch(me){Tt(A,A.return,me)}}S&&F&64&&pd(j),Gi(j,j.return);break;case 27:yd(j);case 26:case 5:Pn(C,j,S),S&&A===null&&F&4&&md(j),Gi(j,j.return);break;case 12:Pn(C,j,S);break;case 31:Pn(C,j,S),S&&F&4&&wd(C,j);break;case 13:Pn(C,j,S),S&&F&4&&Sd(C,j);break;case 22:j.memoizedState===null&&Pn(C,j,S),Gi(j,j.return);break;case 30:break;default:Pn(C,j,S)}g=g.sibling}}function Cl(p,g){var S=null;p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),p=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(p=g.memoizedState.cachePool.pool),p!==S&&(p!=null&&p.refCount++,S!=null&&Ii(S))}function Il(p,g){p=null,g.alternate!==null&&(p=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==p&&(g.refCount++,p!=null&&Ii(p))}function Yr(p,g,S,A){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)Ad(p,g,S,A),g=g.sibling}function Ad(p,g,S,A){var C=g.flags;switch(g.tag){case 0:case 11:case 15:Yr(p,g,S,A),C&2048&&qi(9,g);break;case 1:Yr(p,g,S,A);break;case 3:Yr(p,g,S,A),C&2048&&(p=null,g.alternate!==null&&(p=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==p&&(g.refCount++,p!=null&&Ii(p)));break;case 12:if(C&2048){Yr(p,g,S,A),p=g.stateNode;try{var j=g.memoizedProps,F=j.id,H=j.onPostCommit;typeof H=="function"&&H(F,g.alternate===null?"mount":"update",p.passiveEffectDuration,-0)}catch(ne){Tt(g,g.return,ne)}}else Yr(p,g,S,A);break;case 31:Yr(p,g,S,A);break;case 13:Yr(p,g,S,A);break;case 23:break;case 22:j=g.stateNode,F=g.alternate,g.memoizedState!==null?j._visibility&2?Yr(p,g,S,A):Wi(p,g):j._visibility&2?Yr(p,g,S,A):(j._visibility|=2,ni(p,g,S,A,(g.subtreeFlags&10256)!==0||!1)),C&2048&&Cl(F,g);break;case 24:Yr(p,g,S,A),C&2048&&Il(g.alternate,g);break;default:Yr(p,g,S,A)}}function ni(p,g,S,A,C){for(C=C&&((g.subtreeFlags&10256)!==0||!1),g=g.child;g!==null;){var j=p,F=g,H=S,ne=A,me=F.flags;switch(F.tag){case 0:case 11:case 15:ni(j,F,H,ne,C),qi(8,F);break;case 23:break;case 22:var Te=F.stateNode;F.memoizedState!==null?Te._visibility&2?ni(j,F,H,ne,C):Wi(j,F):(Te._visibility|=2,ni(j,F,H,ne,C)),C&&me&2048&&Cl(F.alternate,F);break;case 24:ni(j,F,H,ne,C),C&&me&2048&&Il(F.alternate,F);break;default:ni(j,F,H,ne,C)}g=g.sibling}}function Wi(p,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var S=p,A=g,C=A.flags;switch(A.tag){case 22:Wi(S,A),C&2048&&Cl(A.alternate,A);break;case 24:Wi(S,A),C&2048&&Il(A.alternate,A);break;default:Wi(S,A)}g=g.sibling}}var Hi=8192;function ai(p,g,S){if(p.subtreeFlags&Hi)for(p=p.child;p!==null;)Pd(p,g,S),p=p.sibling}function Pd(p,g,S){switch(p.tag){case 26:ai(p,g,S),p.flags&Hi&&p.memoizedState!==null&&Rh(S,Kr,p.memoizedState,p.memoizedProps);break;case 5:ai(p,g,S);break;case 3:case 4:var A=Kr;Kr=rs(p.stateNode.containerInfo),ai(p,g,S),Kr=A;break;case 22:p.memoizedState===null&&(A=p.alternate,A!==null&&A.memoizedState!==null?(A=Hi,Hi=16777216,ai(p,g,S),Hi=A):ai(p,g,S));break;default:ai(p,g,S)}}function Od(p){var g=p.alternate;if(g!==null&&(p=g.child,p!==null)){g.child=null;do g=p.sibling,p.sibling=null,p=g;while(p!==null)}}function Ki(p){var g=p.deletions;if((p.flags&16)!==0){if(g!==null)for(var S=0;S<g.length;S++){var A=g[S];Qt=A,Cd(A,p)}Od(p)}if(p.subtreeFlags&10256)for(p=p.child;p!==null;)Md(p),p=p.sibling}function Md(p){switch(p.tag){case 0:case 11:case 15:Ki(p),p.flags&2048&&Xn(9,p,p.return);break;case 3:Ki(p);break;case 12:Ki(p);break;case 22:var g=p.stateNode;p.memoizedState!==null&&g._visibility&2&&(p.return===null||p.return.tag!==13)?(g._visibility&=-3,Vo(p)):Ki(p);break;default:Ki(p)}}function Vo(p){var g=p.deletions;if((p.flags&16)!==0){if(g!==null)for(var S=0;S<g.length;S++){var A=g[S];Qt=A,Cd(A,p)}Od(p)}for(p=p.child;p!==null;){switch(g=p,g.tag){case 0:case 11:case 15:Xn(8,g,g.return),Vo(g);break;case 22:S=g.stateNode,S._visibility&2&&(S._visibility&=-3,Vo(g));break;default:Vo(g)}p=p.sibling}}function Cd(p,g){for(;Qt!==null;){var S=Qt;switch(S.tag){case 0:case 11:case 15:Xn(8,S,g);break;case 23:case 22:if(S.memoizedState!==null&&S.memoizedState.cachePool!==null){var A=S.memoizedState.cachePool.pool;A!=null&&A.refCount++}break;case 24:Ii(S.memoizedState.cache)}if(A=S.child,A!==null)A.return=S,Qt=A;else e:for(S=p;Qt!==null;){A=Qt;var C=A.sibling,j=A.return;if(xd(A),A===S){Qt=null;break e}if(C!==null){C.return=j,Qt=C;break e}Qt=j}}}var Yp={getCacheForType:function(p){var g=rr(Vt),S=g.data.get(p);return S===void 0&&(S=p(),g.data.set(p,S)),S},cacheSignal:function(){return rr(Vt).controller.signal}},Xp=typeof WeakMap=="function"?WeakMap:Map,wt=0,It=null,dt=null,pt=0,Et=0,Ar=null,Zn=!1,ii=!1,kl=!1,On=0,Ft=0,Qn=0,Pa=0,Dl=0,Pr=0,oi=0,Yi=null,br=null,Rl=!1,qo=0,Id=0,Go=1/0,Wo=null,Jn=null,Xt=0,ea=null,si=null,Mn=0,jl=0,Nl=null,kd=null,Xi=0,Ll=null;function Or(){return(wt&2)!==0&&pt!==0?pt&-pt:U.T!==null?Vl():Nn()}function Dd(){if(Pr===0)if((pt&536870912)===0||gt){var p=Xr;Xr<<=1,(Xr&3932160)===0&&(Xr=262144),Pr=p}else Pr=536870912;return p=Er.current,p!==null&&(p.flags|=32),Pr}function vr(p,g,S){(p===It&&(Et===2||Et===9)||p.cancelPendingCommit!==null)&&(li(p,0),ta(p,pt,Pr,!1)),Gr(p,S),((wt&2)===0||p!==It)&&(p===It&&((wt&2)===0&&(Pa|=S),Ft===4&&ta(p,pt,Pr,!1)),tn(p))}function Rd(p,g,S){if((wt&6)!==0)throw Error(i(327));var A=!S&&(g&127)===0&&(g&p.expiredLanes)===0||Xe(p,g),C=A?Jp(p,g):Bl(p,g,!0),j=A;do{if(C===0){ii&&!A&&ta(p,g,0,!1);break}else{if(S=p.current.alternate,j&&!Zp(S)){C=Bl(p,g,!1),j=!1;continue}if(C===2){if(j=g,p.errorRecoveryDisabledLanes&j)var F=0;else F=p.pendingLanes&-536870913,F=F!==0?F:F&536870912?536870912:0;if(F!==0){g=F;e:{var H=p;C=Yi;var ne=H.current.memoizedState.isDehydrated;if(ne&&(li(H,F).flags|=256),F=Bl(H,F,!1),F!==2){if(kl&&!ne){H.errorRecoveryDisabledLanes|=j,Pa|=j,C=4;break e}j=br,br=C,j!==null&&(br===null?br=j:br.push.apply(br,j))}C=F}if(j=!1,C!==2)continue}}if(C===1){li(p,0),ta(p,g,0,!0);break}e:{switch(A=p,j=C,j){case 0:case 1:throw Error(i(345));case 4:if((g&4194048)!==g)break;case 6:ta(A,g,Pr,!Zn);break e;case 2:br=null;break;case 3:case 5:break;default:throw Error(i(329))}if((g&62914560)===g&&(C=qo+300-Nt(),10<C)){if(ta(A,g,Pr,!Zn),Ke(A,0,!0)!==0)break e;Mn=g,A.timeoutHandle=ff(jd.bind(null,A,S,br,Wo,Rl,g,Pr,Pa,oi,Zn,j,"Throttled",-0,0),C);break e}jd(A,S,br,Wo,Rl,g,Pr,Pa,oi,Zn,j,null,-0,0)}}break}while(!0);tn(p)}function jd(p,g,S,A,C,j,F,H,ne,me,Te,Me,ge,ve){if(p.timeoutHandle=-1,Me=g.subtreeFlags,Me&8192||(Me&16785408)===16785408){Me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dr},Pd(g,j,Me);var ze=(j&62914560)===j?qo-Nt():(j&4194048)===j?Id-Nt():0;if(ze=jh(Me,ze),ze!==null){Mn=j,p.cancelPendingCommit=ze(Vd.bind(null,p,g,j,S,A,C,F,H,ne,Te,Me,null,ge,ve)),ta(p,j,F,!me);return}}Vd(p,g,j,S,A,C,F,H,ne)}function Zp(p){for(var g=p;;){var S=g.tag;if((S===0||S===11||S===15)&&g.flags&16384&&(S=g.updateQueue,S!==null&&(S=S.stores,S!==null)))for(var A=0;A<S.length;A++){var C=S[A],j=C.getSnapshot;C=C.value;try{if(!wr(j(),C))return!1}catch{return!1}}if(S=g.child,g.subtreeFlags&16384&&S!==null)S.return=g,g=S;else{if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function ta(p,g,S,A){g&=~Dl,g&=~Pa,p.suspendedLanes|=g,p.pingedLanes&=~g,A&&(p.warmLanes|=g),A=p.expirationTimes;for(var C=g;0<C;){var j=31-Zt(C),F=1<<j;A[j]=-1,C&=~F}S!==0&&Dn(p,S,g)}function Ho(){return(wt&6)===0?(Zi(0),!1):!0}function $l(){if(dt!==null){if(Et===0)var p=dt.return;else p=dt,bn=ba=null,el(p),Qa=null,Di=0,p=dt;for(;p!==null;)fd(p.alternate,p),p=p.return;dt=null}}function li(p,g){var S=p.timeoutHandle;S!==-1&&(p.timeoutHandle=-1,yh(S)),S=p.cancelPendingCommit,S!==null&&(p.cancelPendingCommit=null,S()),Mn=0,$l(),It=p,dt=S=gn(p.current,null),pt=g,Et=0,Ar=null,Zn=!1,ii=Xe(p,g),kl=!1,oi=Pr=Dl=Pa=Qn=Ft=0,br=Yi=null,Rl=!1,(g&8)!==0&&(g|=g&32);var A=p.entangledLanes;if(A!==0)for(p=p.entanglements,A&=g;0<A;){var C=31-Zt(A),j=1<<C;g|=p[C],A&=~j}return On=g,ho(),S}function Nd(p,g){nt=null,U.H=zi,g===Za||g===wo?(g=Qc(),Et=3):g===Us?(g=Qc(),Et=4):Et=g===gl?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,Ar=g,dt===null&&(Ft=1,No(p,Nr(g,p.current)))}function Ld(){var p=Er.current;return p===null?!0:(pt&4194048)===pt?Fr===null:(pt&62914560)===pt||(pt&536870912)!==0?p===Fr:!1}function $d(){var p=U.H;return U.H=zi,p===null?zi:p}function Bd(){var p=U.A;return U.A=Yp,p}function Ko(){Ft=4,Zn||(pt&4194048)!==pt&&Er.current!==null||(ii=!0),(Qn&134217727)===0&&(Pa&134217727)===0||It===null||ta(It,pt,Pr,!1)}function Bl(p,g,S){var A=wt;wt|=2;var C=$d(),j=Bd();(It!==p||pt!==g)&&(Wo=null,li(p,g)),g=!1;var F=Ft;e:do try{if(Et!==0&&dt!==null){var H=dt,ne=Ar;switch(Et){case 8:$l(),F=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(g=!0);var me=Et;if(Et=0,Ar=null,ci(p,H,ne,me),S&&ii){F=0;break e}break;default:me=Et,Et=0,Ar=null,ci(p,H,ne,me)}}Qp(),F=Ft;break}catch(Te){Nd(p,Te)}while(!0);return g&&p.shellSuspendCounter++,bn=ba=null,wt=A,U.H=C,U.A=j,dt===null&&(It=null,pt=0,ho()),F}function Qp(){for(;dt!==null;)Fd(dt)}function Jp(p,g){var S=wt;wt|=2;var A=$d(),C=Bd();It!==p||pt!==g?(Wo=null,Go=Nt()+500,li(p,g)):ii=Xe(p,g);e:do try{if(Et!==0&&dt!==null){g=dt;var j=Ar;t:switch(Et){case 1:Et=0,Ar=null,ci(p,g,j,1);break;case 2:case 9:if(Xc(j)){Et=0,Ar=null,zd(g);break}g=function(){Et!==2&&Et!==9||It!==p||(Et=7),tn(p)},j.then(g,g);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:Xc(j)?(Et=0,Ar=null,zd(g)):(Et=0,Ar=null,ci(p,g,j,7));break;case 5:var F=null;switch(dt.tag){case 26:F=dt.memoizedState;case 5:case 27:var H=dt;if(F?Pf(F):H.stateNode.complete){Et=0,Ar=null;var ne=H.sibling;if(ne!==null)dt=ne;else{var me=H.return;me!==null?(dt=me,Yo(me)):dt=null}break t}}Et=0,Ar=null,ci(p,g,j,5);break;case 6:Et=0,Ar=null,ci(p,g,j,6);break;case 8:$l(),Ft=6;break e;default:throw Error(i(462))}}eh();break}catch(Te){Nd(p,Te)}while(!0);return bn=ba=null,U.H=A,U.A=C,wt=S,dt!==null?0:(It=null,pt=0,ho(),Ft)}function eh(){for(;dt!==null&&!Mt();)Fd(dt)}function Fd(p){var g=ud(p.alternate,p,On);p.memoizedProps=p.pendingProps,g===null?Yo(p):dt=g}function zd(p){var g=p,S=g.alternate;switch(g.tag){case 15:case 0:g=ad(S,g,g.pendingProps,g.type,void 0,pt);break;case 11:g=ad(S,g,g.pendingProps,g.type.render,g.ref,pt);break;case 5:el(g);default:fd(S,g),g=dt=Bc(g,On),g=ud(S,g,On)}p.memoizedProps=p.pendingProps,g===null?Yo(p):dt=g}function ci(p,g,S,A){bn=ba=null,el(g),Qa=null,Di=0;var C=g.return;try{if(Up(p,C,g,S,pt)){Ft=1,No(p,Nr(S,p.current)),dt=null;return}}catch(j){if(C!==null)throw dt=C,j;Ft=1,No(p,Nr(S,p.current)),dt=null;return}g.flags&32768?(gt||A===1?p=!0:ii||(pt&536870912)!==0?p=!1:(Zn=p=!0,(A===2||A===9||A===3||A===6)&&(A=Er.current,A!==null&&A.tag===13&&(A.flags|=16384))),Ud(g,p)):Yo(g)}function Yo(p){var g=p;do{if((g.flags&32768)!==0){Ud(g,Zn);return}p=g.return;var S=Gp(g.alternate,g,On);if(S!==null){dt=S;return}if(g=g.sibling,g!==null){dt=g;return}dt=g=p}while(g!==null);Ft===0&&(Ft=5)}function Ud(p,g){do{var S=Wp(p.alternate,p);if(S!==null){S.flags&=32767,dt=S;return}if(S=p.return,S!==null&&(S.flags|=32768,S.subtreeFlags=0,S.deletions=null),!g&&(p=p.sibling,p!==null)){dt=p;return}dt=p=S}while(p!==null);Ft=6,dt=null}function Vd(p,g,S,A,C,j,F,H,ne){p.cancelPendingCommit=null;do Xo();while(Xt!==0);if((wt&6)!==0)throw Error(i(327));if(g!==null){if(g===p.current)throw Error(i(177));if(j=g.lanes|g.childLanes,j|=Ps,ua(p,S,j,F,H,ne),p===It&&(dt=It=null,pt=0),si=g,ea=p,Mn=S,jl=j,Nl=C,kd=A,(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?(p.callbackNode=null,p.callbackPriority=0,ah(nn,function(){return Kd(),null})):(p.callbackNode=null,p.callbackPriority=0),A=(g.flags&13878)!==0,(g.subtreeFlags&13878)!==0||A){A=U.T,U.T=null,C=q.p,q.p=2,F=wt,wt|=4;try{Hp(p,g,S)}finally{wt=F,q.p=C,U.T=A}}Xt=1,qd(),Gd(),Wd()}}function qd(){if(Xt===1){Xt=0;var p=ea,g=si,S=(g.flags&13878)!==0;if((g.subtreeFlags&13878)!==0||S){S=U.T,U.T=null;var A=q.p;q.p=2;var C=wt;wt|=4;try{Ed(g,p);var j=Zl,F=Cc(p.containerInfo),H=j.focusedElem,ne=j.selectionRange;if(F!==H&&H&&H.ownerDocument&&Mc(H.ownerDocument.documentElement,H)){if(ne!==null&&ws(H)){var me=ne.start,Te=ne.end;if(Te===void 0&&(Te=me),"selectionStart"in H)H.selectionStart=me,H.selectionEnd=Math.min(Te,H.value.length);else{var Me=H.ownerDocument||document,ge=Me&&Me.defaultView||window;if(ge.getSelection){var ve=ge.getSelection(),ze=H.textContent.length,Ze=Math.min(ne.start,ze),Ot=ne.end===void 0?Ze:Math.min(ne.end,ze);!ve.extend&&Ze>Ot&&(F=Ot,Ot=Ze,Ze=F);var ce=Oc(H,Ze),oe=Oc(H,Ot);if(ce&&oe&&(ve.rangeCount!==1||ve.anchorNode!==ce.node||ve.anchorOffset!==ce.offset||ve.focusNode!==oe.node||ve.focusOffset!==oe.offset)){var he=Me.createRange();he.setStart(ce.node,ce.offset),ve.removeAllRanges(),Ze>Ot?(ve.addRange(he),ve.extend(oe.node,oe.offset)):(he.setEnd(oe.node,oe.offset),ve.addRange(he))}}}}for(Me=[],ve=H;ve=ve.parentNode;)ve.nodeType===1&&Me.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Me.length;H++){var Oe=Me[H];Oe.element.scrollLeft=Oe.left,Oe.element.scrollTop=Oe.top}}cs=!!Xl,Zl=Xl=null}finally{wt=C,q.p=A,U.T=S}}p.current=g,Xt=2}}function Gd(){if(Xt===2){Xt=0;var p=ea,g=si,S=(g.flags&8772)!==0;if((g.subtreeFlags&8772)!==0||S){S=U.T,U.T=null;var A=q.p;q.p=2;var C=wt;wt|=4;try{vd(p,g.alternate,g)}finally{wt=C,q.p=A,U.T=S}}Xt=3}}function Wd(){if(Xt===4||Xt===3){Xt=0,sr();var p=ea,g=si,S=Mn,A=kd;(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?Xt=5:(Xt=0,si=ea=null,Hd(p,p.pendingLanes));var C=p.pendingLanes;if(C===0&&(Jn=null),cn(S),g=g.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(_r,g,void 0,(g.current.flags&128)===128)}catch{}if(A!==null){g=U.T,C=q.p,q.p=2,U.T=null;try{for(var j=p.onRecoverableError,F=0;F<A.length;F++){var H=A[F];j(H.value,{componentStack:H.stack})}}finally{U.T=g,q.p=C}}(Mn&3)!==0&&Xo(),tn(p),C=p.pendingLanes,(S&261930)!==0&&(C&42)!==0?p===Ll?Xi++:(Xi=0,Ll=p):Xi=0,Zi(0)}}function Hd(p,g){(p.pooledCacheLanes&=g)===0&&(g=p.pooledCache,g!=null&&(p.pooledCache=null,Ii(g)))}function Xo(){return qd(),Gd(),Wd(),Kd()}function Kd(){if(Xt!==5)return!1;var p=ea,g=jl;jl=0;var S=cn(Mn),A=U.T,C=q.p;try{q.p=32>S?32:S,U.T=null,S=Nl,Nl=null;var j=ea,F=Mn;if(Xt=0,si=ea=null,Mn=0,(wt&6)!==0)throw Error(i(331));var H=wt;if(wt|=4,Md(j.current),Ad(j,j.current,F,S),wt=H,Zi(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(_r,j)}catch{}return!0}finally{q.p=C,U.T=A,Hd(p,g)}}function Yd(p,g,S){g=Nr(S,g),g=ml(p.stateNode,g,2),p=Hn(p,g,2),p!==null&&(Gr(p,2),tn(p))}function Tt(p,g,S){if(p.tag===3)Yd(p,p,S);else for(;g!==null;){if(g.tag===3){Yd(g,p,S);break}else if(g.tag===1){var A=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Jn===null||!Jn.has(A))){p=Nr(S,p),S=Xu(2),A=Hn(g,S,2),A!==null&&(Zu(S,A,g,p),Gr(A,2),tn(A));break}}g=g.return}}function Fl(p,g,S){var A=p.pingCache;if(A===null){A=p.pingCache=new Xp;var C=new Set;A.set(g,C)}else C=A.get(g),C===void 0&&(C=new Set,A.set(g,C));C.has(S)||(kl=!0,C.add(S),p=th.bind(null,p,g,S),g.then(p,p))}function th(p,g,S){var A=p.pingCache;A!==null&&A.delete(g),p.pingedLanes|=p.suspendedLanes&S,p.warmLanes&=~S,It===p&&(pt&S)===S&&(Ft===4||Ft===3&&(pt&62914560)===pt&&300>Nt()-qo?(wt&2)===0&&li(p,0):Dl|=S,oi===pt&&(oi=0)),tn(p)}function Xd(p,g){g===0&&(g=Zr()),p=ma(p,g),p!==null&&(Gr(p,g),tn(p))}function rh(p){var g=p.memoizedState,S=0;g!==null&&(S=g.retryLane),Xd(p,S)}function nh(p,g){var S=0;switch(p.tag){case 31:case 13:var A=p.stateNode,C=p.memoizedState;C!==null&&(S=C.retryLane);break;case 19:A=p.stateNode;break;case 22:A=p.stateNode._retryCache;break;default:throw Error(i(314))}A!==null&&A.delete(g),Xd(p,S)}function ah(p,g){return or(p,g)}var Zo=null,ui=null,zl=!1,Qo=!1,Ul=!1,ra=0;function tn(p){p!==ui&&p.next===null&&(ui===null?Zo=ui=p:ui=ui.next=p),Qo=!0,zl||(zl=!0,oh())}function Zi(p,g){if(!Ul&&Qo){Ul=!0;do for(var S=!1,A=Zo;A!==null;){if(p!==0){var C=A.pendingLanes;if(C===0)var j=0;else{var F=A.suspendedLanes,H=A.pingedLanes;j=(1<<31-Zt(42|p)+1)-1,j&=C&~(F&~H),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(S=!0,ef(A,j))}else j=pt,j=Ke(A,A===It?j:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),(j&3)===0||Xe(A,j)||(S=!0,ef(A,j));A=A.next}while(S);Ul=!1}}function ih(){Zd()}function Zd(){Qo=zl=!1;var p=0;ra!==0&&gh()&&(p=ra);for(var g=Nt(),S=null,A=Zo;A!==null;){var C=A.next,j=Qd(A,g);j===0?(A.next=null,S===null?Zo=C:S.next=C,C===null&&(ui=S)):(S=A,(p!==0||(j&3)!==0)&&(Qo=!0)),A=C}Xt!==0&&Xt!==5||Zi(p),ra!==0&&(ra=0)}function Qd(p,g){for(var S=p.suspendedLanes,A=p.pingedLanes,C=p.expirationTimes,j=p.pendingLanes&-62914561;0<j;){var F=31-Zt(j),H=1<<F,ne=C[F];ne===-1?((H&S)===0||(H&A)!==0)&&(C[F]=ca(H,g)):ne<=g&&(p.expiredLanes|=H),j&=~H}if(g=It,S=pt,S=Ke(p,p===g?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),A=p.callbackNode,S===0||p===g&&(Et===2||Et===9)||p.cancelPendingCommit!==null)return A!==null&&A!==null&&Jt(A),p.callbackNode=null,p.callbackPriority=0;if((S&3)===0||Xe(p,S)){if(g=S&-S,g===p.callbackPriority)return g;switch(A!==null&&Jt(A),cn(S)){case 2:case 8:S=rn;break;case 32:S=nn;break;case 268435456:S=an;break;default:S=nn}return A=Jd.bind(null,p),S=or(S,A),p.callbackPriority=g,p.callbackNode=S,g}return A!==null&&A!==null&&Jt(A),p.callbackPriority=2,p.callbackNode=null,2}function Jd(p,g){if(Xt!==0&&Xt!==5)return p.callbackNode=null,p.callbackPriority=0,null;var S=p.callbackNode;if(Xo()&&p.callbackNode!==S)return null;var A=pt;return A=Ke(p,p===It?A:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),A===0?null:(Rd(p,A,g),Qd(p,Nt()),p.callbackNode!=null&&p.callbackNode===S?Jd.bind(null,p):null)}function ef(p,g){if(Xo())return null;Rd(p,g,!0)}function oh(){bh(function(){(wt&6)!==0?or(In,ih):Zd()})}function Vl(){if(ra===0){var p=Ya;p===0&&(p=Mr,Mr<<=1,(Mr&261888)===0&&(Mr=256)),ra=p}return ra}function tf(p){return p==null||typeof p=="symbol"||typeof p=="boolean"?null:typeof p=="function"?p:fa(""+p)}function rf(p,g){var S=g.ownerDocument.createElement("input");return S.name=g.name,S.value=g.value,p.id&&S.setAttribute("form",p.id),g.parentNode.insertBefore(S,g),p=new FormData(p),S.parentNode.removeChild(S),p}function sh(p,g,S,A,C){if(g==="submit"&&S&&S.stateNode===C){var j=tf((C[K]||null).action),F=A.submitter;F&&(g=(g=F[K]||null)?tf(g.formAction):F.getAttribute("formAction"),g!==null&&(j=g,F=null));var H=new Ct("action","action",null,A,C);p.push({event:H,listeners:[{instance:null,listener:function(){if(A.defaultPrevented){if(ra!==0){var ne=F?rf(C,F):new FormData(C);cl(S,{pending:!0,data:ne,method:C.method,action:j},null,ne)}}else typeof j=="function"&&(H.preventDefault(),ne=F?rf(C,F):new FormData(C),cl(S,{pending:!0,data:ne,method:C.method,action:j},j,ne))},currentTarget:C}]})}}for(var ql=0;ql<As.length;ql++){var Gl=As[ql],lh=Gl.toLowerCase(),ch=Gl[0].toUpperCase()+Gl.slice(1);Hr(lh,"on"+ch)}Hr(Dc,"onAnimationEnd"),Hr(Rc,"onAnimationIteration"),Hr(jc,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(Tp,"onTransitionRun"),Hr(Ap,"onTransitionStart"),Hr(Pp,"onTransitionCancel"),Hr(Nc,"onTransitionEnd"),Kt("onMouseEnter",["mouseout","mouseover"]),Kt("onMouseLeave",["mouseout","mouseover"]),Kt("onPointerEnter",["pointerout","pointerover"]),Kt("onPointerLeave",["pointerout","pointerover"]),bt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bt("onBeforeInput",["compositionend","keypress","textInput","paste"]),bt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qi));function nf(p,g){g=(g&4)!==0;for(var S=0;S<p.length;S++){var A=p[S],C=A.event;A=A.listeners;e:{var j=void 0;if(g)for(var F=A.length-1;0<=F;F--){var H=A[F],ne=H.instance,me=H.currentTarget;if(H=H.listener,ne!==j&&C.isPropagationStopped())break e;j=H,C.currentTarget=me;try{j(C)}catch(Te){po(Te)}C.currentTarget=null,j=ne}else for(F=0;F<A.length;F++){if(H=A[F],ne=H.instance,me=H.currentTarget,H=H.listener,ne!==j&&C.isPropagationStopped())break e;j=H,C.currentTarget=me;try{j(C)}catch(Te){po(Te)}C.currentTarget=null,j=ne}}}}function ft(p,g){var S=g[se];S===void 0&&(S=g[se]=new Set);var A=p+"__bubble";S.has(A)||(af(g,p,2,!1),S.add(A))}function Wl(p,g,S){var A=0;g&&(A|=4),af(S,p,A,g)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function Hl(p){if(!p[Jo]){p[Jo]=!0,xe.forEach(function(S){S!=="selectionchange"&&(uh.has(S)||Wl(S,!1,p),Wl(S,!0,p))});var g=p.nodeType===9?p:p.ownerDocument;g===null||g[Jo]||(g[Jo]=!0,Wl("selectionchange",!1,g))}}function af(p,g,S,A){switch(jf(g)){case 2:var C=$h;break;case 8:C=Bh;break;default:C=lc}S=C.bind(null,g,S,p),C=void 0,!Ba||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(C=!0),A?C!==void 0?p.addEventListener(g,S,{capture:!0,passive:C}):p.addEventListener(g,S,!0):C!==void 0?p.addEventListener(g,S,{passive:C}):p.addEventListener(g,S,!1)}function Kl(p,g,S,A,C){var j=A;if((g&1)===0&&(g&2)===0&&A!==null)e:for(;;){if(A===null)return;var F=A.tag;if(F===3||F===4){var H=A.stateNode.containerInfo;if(H===C)break;if(F===4)for(F=A.return;F!==null;){var ne=F.tag;if((ne===3||ne===4)&&F.stateNode.containerInfo===C)return;F=F.return}for(;H!==null;){if(F=Be(H),F===null)return;if(ne=F.tag,ne===5||ne===6||ne===26||ne===27){A=j=F;continue e}H=H.parentNode}}A=A.return}Si(function(){var me=j,Te=La(S),Me=[];e:{var ge=Lc.get(p);if(ge!==void 0){var ve=Ct,ze=p;switch(p){case"keypress":if(be(S)===0)break e;case"keydown":case"keyup":ve=np;break;case"focusin":ze="focus",ve=ys;break;case"focusout":ze="blur",ve=ys;break;case"beforeblur":case"afterblur":ve=ys;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Gf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=op;break;case Dc:case Rc:case jc:ve=Kf;break;case Nc:ve=lp;break;case"scroll":case"scrollend":ve=pr;break;case"wheel":ve=up;break;case"copy":case"cut":case"paste":ve=Xf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=hc;break;case"toggle":case"beforetoggle":ve=fp}var Ze=(g&4)!==0,Ot=!Ze&&(p==="scroll"||p==="scrollend"),ce=Ze?ge!==null?ge+"Capture":null:ge;Ze=[];for(var oe=me,he;oe!==null;){var Oe=oe;if(he=Oe.stateNode,Oe=Oe.tag,Oe!==5&&Oe!==26&&Oe!==27||he===null||ce===null||(Oe=Fn(oe,ce),Oe!=null&&Ze.push(Ji(oe,Oe,he))),Ot)break;oe=oe.return}0<Ze.length&&(ge=new ve(ge,ze,null,S,Te),Me.push({event:ge,listeners:Ze}))}}if((g&7)===0){e:{if(ge=p==="mouseover"||p==="pointerover",ve=p==="mouseout"||p==="pointerout",ge&&S!==Na&&(ze=S.relatedTarget||S.fromElement)&&(Be(ze)||ze[te]))break e;if((ve||ge)&&(ge=Te.window===Te?Te:(ge=Te.ownerDocument)?ge.defaultView||ge.parentWindow:window,ve?(ze=S.relatedTarget||S.toElement,ve=me,ze=ze?Be(ze):null,ze!==null&&(Ot=d(ze),Ze=ze.tag,ze!==Ot||Ze!==5&&Ze!==27&&Ze!==6)&&(ze=null)):(ve=null,ze=me),ve!==ze)){if(Ze=mn,Oe="onMouseLeave",ce="onMouseEnter",oe="mouse",(p==="pointerout"||p==="pointerover")&&(Ze=hc,Oe="onPointerLeave",ce="onPointerEnter",oe="pointer"),Ot=ve==null?ge:mt(ve),he=ze==null?ge:mt(ze),ge=new Ze(Oe,oe+"leave",ve,S,Te),ge.target=Ot,ge.relatedTarget=he,Oe=null,Be(Te)===me&&(Ze=new Ze(ce,oe+"enter",ze,S,Te),Ze.target=he,Ze.relatedTarget=Ot,Oe=Ze),Ot=Oe,ve&&ze)t:{for(Ze=dh,ce=ve,oe=ze,he=0,Oe=ce;Oe;Oe=Ze(Oe))he++;Oe=0;for(var We=oe;We;We=Ze(We))Oe++;for(;0<he-Oe;)ce=Ze(ce),he--;for(;0<Oe-he;)oe=Ze(oe),Oe--;for(;he--;){if(ce===oe||oe!==null&&ce===oe.alternate){Ze=ce;break t}ce=Ze(ce),oe=Ze(oe)}Ze=null}else Ze=null;ve!==null&&of(Me,ge,ve,Ze,!1),ze!==null&&Ot!==null&&of(Me,Ot,ze,Ze,!0)}}e:{if(ge=me?mt(me):window,ve=ge.nodeName&&ge.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ge.type==="file")var xt=wc;else if(xc(ge))if(Sc)xt=wp;else{xt=xp;var qe=vp}else ve=ge.nodeName,!ve||ve.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?me&&tt(me.elementType)&&(xt=wc):xt=_p;if(xt&&(xt=xt(p,me))){_c(Me,xt,S,Te);break e}qe&&qe(p,ge,me),p==="focusout"&&me&&ge.type==="number"&&me.memoizedProps.value!=null&&Bn(ge,"number",ge.value)}switch(qe=me?mt(me):window,p){case"focusin":(xc(qe)||qe.contentEditable==="true")&&(za=qe,Ss=me,Oi=null);break;case"focusout":Oi=Ss=za=null;break;case"mousedown":Es=!0;break;case"contextmenu":case"mouseup":case"dragend":Es=!1,Ic(Me,S,Te);break;case"selectionchange":if(Ep)break;case"keydown":case"keyup":Ic(Me,S,Te)}var it;if(vs)e:{switch(p){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else Fa?bc(p,S)&&(ht="onCompositionEnd"):p==="keydown"&&S.keyCode===229&&(ht="onCompositionStart");ht&&(mc&&S.locale!=="ko"&&(Fa||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Fa&&(it=pe()):(W=Te,J="value"in W?W.value:W.textContent,Fa=!0)),qe=es(me,ht),0<qe.length&&(ht=new pc(ht,p,null,S,Te),Me.push({event:ht,listeners:qe}),it?ht.data=it:(it=vc(S),it!==null&&(ht.data=it)))),(it=hp?mp(p,S):gp(p,S))&&(ht=es(me,"onBeforeInput"),0<ht.length&&(qe=new pc("onBeforeInput","beforeinput",null,S,Te),Me.push({event:qe,listeners:ht}),qe.data=it)),sh(Me,p,me,S,Te)}nf(Me,g)})}function Ji(p,g,S){return{instance:p,listener:g,currentTarget:S}}function es(p,g){for(var S=g+"Capture",A=[];p!==null;){var C=p,j=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||j===null||(C=Fn(p,S),C!=null&&A.unshift(Ji(p,C,j)),C=Fn(p,g),C!=null&&A.push(Ji(p,C,j))),p.tag===3)return A;p=p.return}return[]}function dh(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5&&p.tag!==27);return p||null}function of(p,g,S,A,C){for(var j=g._reactName,F=[];S!==null&&S!==A;){var H=S,ne=H.alternate,me=H.stateNode;if(H=H.tag,ne!==null&&ne===A)break;H!==5&&H!==26&&H!==27||me===null||(ne=me,C?(me=Fn(S,j),me!=null&&F.unshift(Ji(S,me,ne))):C||(me=Fn(S,j),me!=null&&F.push(Ji(S,me,ne)))),S=S.return}F.length!==0&&p.push({event:g,listeners:F})}var fh=/\r\n?/g,ph=/\u0000|\uFFFD/g;function sf(p){return(typeof p=="string"?p:""+p).replace(fh,`
`).replace(ph,"")}function lf(p,g){return g=sf(g),sf(p)===g}function Pt(p,g,S,A,C,j){switch(S){case"children":typeof A=="string"?g==="body"||g==="textarea"&&A===""||fn(p,A):(typeof A=="number"||typeof A=="bigint")&&g!=="body"&&fn(p,""+A);break;case"className":un(p,"class",A);break;case"tabIndex":un(p,"tabindex",A);break;case"dir":case"role":case"viewBox":case"width":case"height":un(p,S,A);break;case"style":rt(p,A,j);break;case"data":if(g!=="object"){un(p,"data",A);break}case"src":case"href":if(A===""&&(g!=="a"||S!=="href")){p.removeAttribute(S);break}if(A==null||typeof A=="function"||typeof A=="symbol"||typeof A=="boolean"){p.removeAttribute(S);break}A=fa(""+A),p.setAttribute(S,A);break;case"action":case"formAction":if(typeof A=="function"){p.setAttribute(S,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(S==="formAction"?(g!=="input"&&Pt(p,g,"name",C.name,C,null),Pt(p,g,"formEncType",C.formEncType,C,null),Pt(p,g,"formMethod",C.formMethod,C,null),Pt(p,g,"formTarget",C.formTarget,C,null)):(Pt(p,g,"encType",C.encType,C,null),Pt(p,g,"method",C.method,C,null),Pt(p,g,"target",C.target,C,null)));if(A==null||typeof A=="symbol"||typeof A=="boolean"){p.removeAttribute(S);break}A=fa(""+A),p.setAttribute(S,A);break;case"onClick":A!=null&&(p.onclick=Dr);break;case"onScroll":A!=null&&ft("scroll",p);break;case"onScrollEnd":A!=null&&ft("scrollend",p);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(i(61));if(S=A.__html,S!=null){if(C.children!=null)throw Error(i(60));p.innerHTML=S}}break;case"multiple":p.multiple=A&&typeof A!="function"&&typeof A!="symbol";break;case"muted":p.muted=A&&typeof A!="function"&&typeof A!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(A==null||typeof A=="function"||typeof A=="boolean"||typeof A=="symbol"){p.removeAttribute("xlink:href");break}S=fa(""+A),p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",S);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":A!=null&&typeof A!="function"&&typeof A!="symbol"?p.setAttribute(S,""+A):p.removeAttribute(S);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":A&&typeof A!="function"&&typeof A!="symbol"?p.setAttribute(S,""):p.removeAttribute(S);break;case"capture":case"download":A===!0?p.setAttribute(S,""):A!==!1&&A!=null&&typeof A!="function"&&typeof A!="symbol"?p.setAttribute(S,A):p.removeAttribute(S);break;case"cols":case"rows":case"size":case"span":A!=null&&typeof A!="function"&&typeof A!="symbol"&&!isNaN(A)&&1<=A?p.setAttribute(S,A):p.removeAttribute(S);break;case"rowSpan":case"start":A==null||typeof A=="function"||typeof A=="symbol"||isNaN(A)?p.removeAttribute(S):p.setAttribute(S,A);break;case"popover":ft("beforetoggle",p),ft("toggle",p),Yt(p,"popover",A);break;case"xlinkActuate":Ir(p,"http://www.w3.org/1999/xlink","xlink:actuate",A);break;case"xlinkArcrole":Ir(p,"http://www.w3.org/1999/xlink","xlink:arcrole",A);break;case"xlinkRole":Ir(p,"http://www.w3.org/1999/xlink","xlink:role",A);break;case"xlinkShow":Ir(p,"http://www.w3.org/1999/xlink","xlink:show",A);break;case"xlinkTitle":Ir(p,"http://www.w3.org/1999/xlink","xlink:title",A);break;case"xlinkType":Ir(p,"http://www.w3.org/1999/xlink","xlink:type",A);break;case"xmlBase":Ir(p,"http://www.w3.org/XML/1998/namespace","xml:base",A);break;case"xmlLang":Ir(p,"http://www.w3.org/XML/1998/namespace","xml:lang",A);break;case"xmlSpace":Ir(p,"http://www.w3.org/XML/1998/namespace","xml:space",A);break;case"is":Yt(p,"is",A);break;case"innerText":case"textContent":break;default:(!(2<S.length)||S[0]!=="o"&&S[0]!=="O"||S[1]!=="n"&&S[1]!=="N")&&(S=_i.get(S)||S,Yt(p,S,A))}}function Yl(p,g,S,A,C,j){switch(S){case"style":rt(p,A,j);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(i(61));if(S=A.__html,S!=null){if(C.children!=null)throw Error(i(60));p.innerHTML=S}}break;case"children":typeof A=="string"?fn(p,A):(typeof A=="number"||typeof A=="bigint")&&fn(p,""+A);break;case"onScroll":A!=null&&ft("scroll",p);break;case"onScrollEnd":A!=null&&ft("scrollend",p);break;case"onClick":A!=null&&(p.onclick=Dr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lt.hasOwnProperty(S))e:{if(S[0]==="o"&&S[1]==="n"&&(C=S.endsWith("Capture"),g=S.slice(2,C?S.length-7:void 0),j=p[K]||null,j=j!=null?j[S]:null,typeof j=="function"&&p.removeEventListener(g,j,C),typeof A=="function")){typeof j!="function"&&j!==null&&(S in p?p[S]=null:p.hasAttribute(S)&&p.removeAttribute(S)),p.addEventListener(g,A,C);break e}S in p?p[S]=A:A===!0?p.setAttribute(S,""):Yt(p,S,A)}}}function ar(p,g,S){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",p),ft("load",p);var A=!1,C=!1,j;for(j in S)if(S.hasOwnProperty(j)){var F=S[j];if(F!=null)switch(j){case"src":A=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,g));default:Pt(p,g,j,F,S,null)}}C&&Pt(p,g,"srcSet",S.srcSet,S,null),A&&Pt(p,g,"src",S.src,S,null);return;case"input":ft("invalid",p);var H=j=F=C=null,ne=null,me=null;for(A in S)if(S.hasOwnProperty(A)){var Te=S[A];if(Te!=null)switch(A){case"name":C=Te;break;case"type":F=Te;break;case"checked":ne=Te;break;case"defaultChecked":me=Te;break;case"value":j=Te;break;case"defaultValue":H=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(137,g));break;default:Pt(p,g,A,Te,S,null)}}bi(p,j,H,ne,me,F,C,!1);return;case"select":ft("invalid",p),A=F=j=null;for(C in S)if(S.hasOwnProperty(C)&&(H=S[C],H!=null))switch(C){case"value":j=H;break;case"defaultValue":F=H;break;case"multiple":A=H;default:Pt(p,g,C,H,S,null)}g=j,S=F,p.multiple=!!A,g!=null?dn(p,!!A,g,!1):S!=null&&dn(p,!!A,S,!0);return;case"textarea":ft("invalid",p),j=C=A=null;for(F in S)if(S.hasOwnProperty(F)&&(H=S[F],H!=null))switch(F){case"value":A=H;break;case"defaultValue":C=H;break;case"children":j=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(91));break;default:Pt(p,g,F,H,S,null)}Ra(p,A,C,j);return;case"option":for(ne in S)if(S.hasOwnProperty(ne)&&(A=S[ne],A!=null))switch(ne){case"selected":p.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Pt(p,g,ne,A,S,null)}return;case"dialog":ft("beforetoggle",p),ft("toggle",p),ft("cancel",p),ft("close",p);break;case"iframe":case"object":ft("load",p);break;case"video":case"audio":for(A=0;A<Qi.length;A++)ft(Qi[A],p);break;case"image":ft("error",p),ft("load",p);break;case"details":ft("toggle",p);break;case"embed":case"source":case"link":ft("error",p),ft("load",p);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in S)if(S.hasOwnProperty(me)&&(A=S[me],A!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,g));default:Pt(p,g,me,A,S,null)}return;default:if(tt(g)){for(Te in S)S.hasOwnProperty(Te)&&(A=S[Te],A!==void 0&&Yl(p,g,Te,A,S,void 0));return}}for(H in S)S.hasOwnProperty(H)&&(A=S[H],A!=null&&Pt(p,g,H,A,S,null))}function hh(p,g,S,A){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,j=null,F=null,H=null,ne=null,me=null,Te=null;for(ve in S){var Me=S[ve];if(S.hasOwnProperty(ve)&&Me!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":ne=Me;default:A.hasOwnProperty(ve)||Pt(p,g,ve,null,A,Me)}}for(var ge in A){var ve=A[ge];if(Me=S[ge],A.hasOwnProperty(ge)&&(ve!=null||Me!=null))switch(ge){case"type":j=ve;break;case"name":C=ve;break;case"checked":me=ve;break;case"defaultChecked":Te=ve;break;case"value":F=ve;break;case"defaultValue":H=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(i(137,g));break;default:ve!==Me&&Pt(p,g,ge,ve,A,Me)}}Da(p,F,H,ne,me,Te,j,C);return;case"select":ve=F=H=ge=null;for(j in S)if(ne=S[j],S.hasOwnProperty(j)&&ne!=null)switch(j){case"value":break;case"multiple":ve=ne;default:A.hasOwnProperty(j)||Pt(p,g,j,null,A,ne)}for(C in A)if(j=A[C],ne=S[C],A.hasOwnProperty(C)&&(j!=null||ne!=null))switch(C){case"value":ge=j;break;case"defaultValue":H=j;break;case"multiple":F=j;default:j!==ne&&Pt(p,g,C,j,A,ne)}g=H,S=F,A=ve,ge!=null?dn(p,!!S,ge,!1):!!A!=!!S&&(g!=null?dn(p,!!S,g,!0):dn(p,!!S,S?[]:"",!1));return;case"textarea":ve=ge=null;for(H in S)if(C=S[H],S.hasOwnProperty(H)&&C!=null&&!A.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Pt(p,g,H,null,A,C)}for(F in A)if(C=A[F],j=S[F],A.hasOwnProperty(F)&&(C!=null||j!=null))switch(F){case"value":ge=C;break;case"defaultValue":ve=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:C!==j&&Pt(p,g,F,C,A,j)}vi(p,ge,ve);return;case"option":for(var ze in S)if(ge=S[ze],S.hasOwnProperty(ze)&&ge!=null&&!A.hasOwnProperty(ze))switch(ze){case"selected":p.selected=!1;break;default:Pt(p,g,ze,null,A,ge)}for(ne in A)if(ge=A[ne],ve=S[ne],A.hasOwnProperty(ne)&&ge!==ve&&(ge!=null||ve!=null))switch(ne){case"selected":p.selected=ge&&typeof ge!="function"&&typeof ge!="symbol";break;default:Pt(p,g,ne,ge,A,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in S)ge=S[Ze],S.hasOwnProperty(Ze)&&ge!=null&&!A.hasOwnProperty(Ze)&&Pt(p,g,Ze,null,A,ge);for(me in A)if(ge=A[me],ve=S[me],A.hasOwnProperty(me)&&ge!==ve&&(ge!=null||ve!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(i(137,g));break;default:Pt(p,g,me,ge,A,ve)}return;default:if(tt(g)){for(var Ot in S)ge=S[Ot],S.hasOwnProperty(Ot)&&ge!==void 0&&!A.hasOwnProperty(Ot)&&Yl(p,g,Ot,void 0,A,ge);for(Te in A)ge=A[Te],ve=S[Te],!A.hasOwnProperty(Te)||ge===ve||ge===void 0&&ve===void 0||Yl(p,g,Te,ge,A,ve);return}}for(var ce in S)ge=S[ce],S.hasOwnProperty(ce)&&ge!=null&&!A.hasOwnProperty(ce)&&Pt(p,g,ce,null,A,ge);for(Me in A)ge=A[Me],ve=S[Me],!A.hasOwnProperty(Me)||ge===ve||ge==null&&ve==null||Pt(p,g,Me,ge,A,ve)}function cf(p){switch(p){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mh(){if(typeof performance.getEntriesByType=="function"){for(var p=0,g=0,S=performance.getEntriesByType("resource"),A=0;A<S.length;A++){var C=S[A],j=C.transferSize,F=C.initiatorType,H=C.duration;if(j&&H&&cf(F)){for(F=0,H=C.responseEnd,A+=1;A<S.length;A++){var ne=S[A],me=ne.startTime;if(me>H)break;var Te=ne.transferSize,Me=ne.initiatorType;Te&&cf(Me)&&(ne=ne.responseEnd,F+=Te*(ne<H?1:(H-me)/(ne-me)))}if(--A,g+=8*(j+F)/(C.duration/1e3),p++,10<p)break}}if(0<p)return g/p/1e6}return navigator.connection&&(p=navigator.connection.downlink,typeof p=="number")?p:5}var Xl=null,Zl=null;function ts(p){return p.nodeType===9?p:p.ownerDocument}function uf(p){switch(p){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function df(p,g){if(p===0)switch(g){case"svg":return 1;case"math":return 2;default:return 0}return p===1&&g==="foreignObject"?0:p}function Ql(p,g){return p==="textarea"||p==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.children=="bigint"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var Jl=null;function gh(){var p=window.event;return p&&p.type==="popstate"?p===Jl?!1:(Jl=p,!0):(Jl=null,!1)}var ff=typeof setTimeout=="function"?setTimeout:void 0,yh=typeof clearTimeout=="function"?clearTimeout:void 0,pf=typeof Promise=="function"?Promise:void 0,bh=typeof queueMicrotask=="function"?queueMicrotask:typeof pf<"u"?function(p){return pf.resolve(null).then(p).catch(vh)}:ff;function vh(p){setTimeout(function(){throw p})}function na(p){return p==="head"}function hf(p,g){var S=g,A=0;do{var C=S.nextSibling;if(p.removeChild(S),C&&C.nodeType===8)if(S=C.data,S==="/$"||S==="/&"){if(A===0){p.removeChild(C),mi(g);return}A--}else if(S==="$"||S==="$?"||S==="$~"||S==="$!"||S==="&")A++;else if(S==="html")eo(p.ownerDocument.documentElement);else if(S==="head"){S=p.ownerDocument.head,eo(S);for(var j=S.firstChild;j;){var F=j.nextSibling,H=j.nodeName;j[Re]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&j.rel.toLowerCase()==="stylesheet"||S.removeChild(j),j=F}}else S==="body"&&eo(p.ownerDocument.body);S=C}while(S);mi(g)}function mf(p,g){var S=p;p=0;do{var A=S.nextSibling;if(S.nodeType===1?g?(S._stashedDisplay=S.style.display,S.style.display="none"):(S.style.display=S._stashedDisplay||"",S.getAttribute("style")===""&&S.removeAttribute("style")):S.nodeType===3&&(g?(S._stashedText=S.nodeValue,S.nodeValue=""):S.nodeValue=S._stashedText||""),A&&A.nodeType===8)if(S=A.data,S==="/$"){if(p===0)break;p--}else S!=="$"&&S!=="$?"&&S!=="$~"&&S!=="$!"||p++;S=A}while(S)}function ec(p){var g=p.firstChild;for(g&&g.nodeType===10&&(g=g.nextSibling);g;){var S=g;switch(g=g.nextSibling,S.nodeName){case"HTML":case"HEAD":case"BODY":ec(S),Ve(S);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(S.rel.toLowerCase()==="stylesheet")continue}p.removeChild(S)}}function xh(p,g,S,A){for(;p.nodeType===1;){var C=S;if(p.nodeName.toLowerCase()!==g.toLowerCase()){if(!A&&(p.nodeName!=="INPUT"||p.type!=="hidden"))break}else if(A){if(!p[Re])switch(g){case"meta":if(!p.hasAttribute("itemprop"))break;return p;case"link":if(j=p.getAttribute("rel"),j==="stylesheet"&&p.hasAttribute("data-precedence"))break;if(j!==C.rel||p.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||p.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||p.getAttribute("title")!==(C.title==null?null:C.title))break;return p;case"style":if(p.hasAttribute("data-precedence"))break;return p;case"script":if(j=p.getAttribute("src"),(j!==(C.src==null?null:C.src)||p.getAttribute("type")!==(C.type==null?null:C.type)||p.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&j&&p.hasAttribute("async")&&!p.hasAttribute("itemprop"))break;return p;default:return p}}else if(g==="input"&&p.type==="hidden"){var j=C.name==null?null:""+C.name;if(C.type==="hidden"&&p.getAttribute("name")===j)return p}else return p;if(p=zr(p.nextSibling),p===null)break}return null}function _h(p,g,S){if(g==="")return null;for(;p.nodeType!==3;)if((p.nodeType!==1||p.nodeName!=="INPUT"||p.type!=="hidden")&&!S||(p=zr(p.nextSibling),p===null))return null;return p}function gf(p,g){for(;p.nodeType!==8;)if((p.nodeType!==1||p.nodeName!=="INPUT"||p.type!=="hidden")&&!g||(p=zr(p.nextSibling),p===null))return null;return p}function tc(p){return p.data==="$?"||p.data==="$~"}function rc(p){return p.data==="$!"||p.data==="$?"&&p.ownerDocument.readyState!=="loading"}function wh(p,g){var S=p.ownerDocument;if(p.data==="$~")p._reactRetry=g;else if(p.data!=="$?"||S.readyState!=="loading")g();else{var A=function(){g(),S.removeEventListener("DOMContentLoaded",A)};S.addEventListener("DOMContentLoaded",A),p._reactRetry=A}}function zr(p){for(;p!=null;p=p.nextSibling){var g=p.nodeType;if(g===1||g===3)break;if(g===8){if(g=p.data,g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"||g==="F!"||g==="F")break;if(g==="/$"||g==="/&")return null}}return p}var nc=null;function yf(p){p=p.nextSibling;for(var g=0;p;){if(p.nodeType===8){var S=p.data;if(S==="/$"||S==="/&"){if(g===0)return zr(p.nextSibling);g--}else S!=="$"&&S!=="$!"&&S!=="$?"&&S!=="$~"&&S!=="&"||g++}p=p.nextSibling}return null}function bf(p){p=p.previousSibling;for(var g=0;p;){if(p.nodeType===8){var S=p.data;if(S==="$"||S==="$!"||S==="$?"||S==="$~"||S==="&"){if(g===0)return p;g--}else S!=="/$"&&S!=="/&"||g++}p=p.previousSibling}return null}function vf(p,g,S){switch(g=ts(S),p){case"html":if(p=g.documentElement,!p)throw Error(i(452));return p;case"head":if(p=g.head,!p)throw Error(i(453));return p;case"body":if(p=g.body,!p)throw Error(i(454));return p;default:throw Error(i(451))}}function eo(p){for(var g=p.attributes;g.length;)p.removeAttributeNode(g[0]);Ve(p)}var Ur=new Map,xf=new Set;function rs(p){return typeof p.getRootNode=="function"?p.getRootNode():p.nodeType===9?p:p.ownerDocument}var Cn=q.d;q.d={f:Sh,r:Eh,D:Th,C:Ah,L:Ph,m:Oh,X:Ch,S:Mh,M:Ih};function Sh(){var p=Cn.f(),g=Ho();return p||g}function Eh(p){var g=Je(p);g!==null&&g.tag===5&&g.type==="form"?Nu(g):Cn.r(p)}var di=typeof document>"u"?null:document;function _f(p,g,S){var A=di;if(A&&typeof g=="string"&&g){var C=ur(g);C='link[rel="'+p+'"][href="'+C+'"]',typeof S=="string"&&(C+='[crossorigin="'+S+'"]'),xf.has(C)||(xf.add(C),p={rel:p,crossOrigin:S,href:g},A.querySelector(C)===null&&(g=A.createElement("link"),ar(g,"link",p),ut(g),A.head.appendChild(g)))}}function Th(p){Cn.D(p),_f("dns-prefetch",p,null)}function Ah(p,g){Cn.C(p,g),_f("preconnect",p,g)}function Ph(p,g,S){Cn.L(p,g,S);var A=di;if(A&&p&&g){var C='link[rel="preload"][as="'+ur(g)+'"]';g==="image"&&S&&S.imageSrcSet?(C+='[imagesrcset="'+ur(S.imageSrcSet)+'"]',typeof S.imageSizes=="string"&&(C+='[imagesizes="'+ur(S.imageSizes)+'"]')):C+='[href="'+ur(p)+'"]';var j=C;switch(g){case"style":j=fi(p);break;case"script":j=hi(p)}Ur.has(j)||(p=u({rel:"preload",href:g==="image"&&S&&S.imageSrcSet?void 0:p,as:g},S),Ur.set(j,p),A.querySelector(C)!==null||g==="style"&&A.querySelector(ro(j))||g==="script"&&A.querySelector(no(j))||(g=A.createElement("link"),ar(g,"link",p),ut(g),A.head.appendChild(g)))}}function Oh(p,g){Cn.m(p,g);var S=di;if(S&&p){var A=g&&typeof g.as=="string"?g.as:"script",C='link[rel="modulepreload"][as="'+ur(A)+'"][href="'+ur(p)+'"]',j=C;switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=hi(p)}if(!Ur.has(j)&&(p=u({rel:"modulepreload",href:p},g),Ur.set(j,p),S.querySelector(C)===null)){switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(S.querySelector(no(j)))return}A=S.createElement("link"),ar(A,"link",p),ut(A),S.head.appendChild(A)}}}function Mh(p,g,S){Cn.S(p,g,S);var A=di;if(A&&p){var C=Dt(A).hoistableStyles,j=fi(p);g=g||"default";var F=C.get(j);if(!F){var H={loading:0,preload:null};if(F=A.querySelector(ro(j)))H.loading=5;else{p=u({rel:"stylesheet",href:p,"data-precedence":g},S),(S=Ur.get(j))&&ac(p,S);var ne=F=A.createElement("link");ut(ne),ar(ne,"link",p),ne._p=new Promise(function(me,Te){ne.onload=me,ne.onerror=Te}),ne.addEventListener("load",function(){H.loading|=1}),ne.addEventListener("error",function(){H.loading|=2}),H.loading|=4,ns(F,g,A)}F={type:"stylesheet",instance:F,count:1,state:H},C.set(j,F)}}}function Ch(p,g){Cn.X(p,g);var S=di;if(S&&p){var A=Dt(S).hoistableScripts,C=hi(p),j=A.get(C);j||(j=S.querySelector(no(C)),j||(p=u({src:p,async:!0},g),(g=Ur.get(C))&&ic(p,g),j=S.createElement("script"),ut(j),ar(j,"link",p),S.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},A.set(C,j))}}function Ih(p,g){Cn.M(p,g);var S=di;if(S&&p){var A=Dt(S).hoistableScripts,C=hi(p),j=A.get(C);j||(j=S.querySelector(no(C)),j||(p=u({src:p,async:!0,type:"module"},g),(g=Ur.get(C))&&ic(p,g),j=S.createElement("script"),ut(j),ar(j,"link",p),S.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},A.set(C,j))}}function wf(p,g,S,A){var C=(C=Ne.current)?rs(C):null;if(!C)throw Error(i(446));switch(p){case"meta":case"title":return null;case"style":return typeof S.precedence=="string"&&typeof S.href=="string"?(g=fi(S.href),S=Dt(C).hoistableStyles,A=S.get(g),A||(A={type:"style",instance:null,count:0,state:null},S.set(g,A)),A):{type:"void",instance:null,count:0,state:null};case"link":if(S.rel==="stylesheet"&&typeof S.href=="string"&&typeof S.precedence=="string"){p=fi(S.href);var j=Dt(C).hoistableStyles,F=j.get(p);if(F||(C=C.ownerDocument||C,F={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(p,F),(j=C.querySelector(ro(p)))&&!j._p&&(F.instance=j,F.state.loading=5),Ur.has(p)||(S={rel:"preload",as:"style",href:S.href,crossOrigin:S.crossOrigin,integrity:S.integrity,media:S.media,hrefLang:S.hrefLang,referrerPolicy:S.referrerPolicy},Ur.set(p,S),j||kh(C,p,S,F.state))),g&&A===null)throw Error(i(528,""));return F}if(g&&A!==null)throw Error(i(529,""));return null;case"script":return g=S.async,S=S.src,typeof S=="string"&&g&&typeof g!="function"&&typeof g!="symbol"?(g=hi(S),S=Dt(C).hoistableScripts,A=S.get(g),A||(A={type:"script",instance:null,count:0,state:null},S.set(g,A)),A):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,p))}}function fi(p){return'href="'+ur(p)+'"'}function ro(p){return'link[rel="stylesheet"]['+p+"]"}function Sf(p){return u({},p,{"data-precedence":p.precedence,precedence:null})}function kh(p,g,S,A){p.querySelector('link[rel="preload"][as="style"]['+g+"]")?A.loading=1:(g=p.createElement("link"),A.preload=g,g.addEventListener("load",function(){return A.loading|=1}),g.addEventListener("error",function(){return A.loading|=2}),ar(g,"link",S),ut(g),p.head.appendChild(g))}function hi(p){return'[src="'+ur(p)+'"]'}function no(p){return"script[async]"+p}function Ef(p,g,S){if(g.count++,g.instance===null)switch(g.type){case"style":var A=p.querySelector('style[data-href~="'+ur(S.href)+'"]');if(A)return g.instance=A,ut(A),A;var C=u({},S,{"data-href":S.href,"data-precedence":S.precedence,href:null,precedence:null});return A=(p.ownerDocument||p).createElement("style"),ut(A),ar(A,"style",C),ns(A,S.precedence,p),g.instance=A;case"stylesheet":C=fi(S.href);var j=p.querySelector(ro(C));if(j)return g.state.loading|=4,g.instance=j,ut(j),j;A=Sf(S),(C=Ur.get(C))&&ac(A,C),j=(p.ownerDocument||p).createElement("link"),ut(j);var F=j;return F._p=new Promise(function(H,ne){F.onload=H,F.onerror=ne}),ar(j,"link",A),g.state.loading|=4,ns(j,S.precedence,p),g.instance=j;case"script":return j=hi(S.src),(C=p.querySelector(no(j)))?(g.instance=C,ut(C),C):(A=S,(C=Ur.get(j))&&(A=u({},S),ic(A,C)),p=p.ownerDocument||p,C=p.createElement("script"),ut(C),ar(C,"link",A),p.head.appendChild(C),g.instance=C);case"void":return null;default:throw Error(i(443,g.type))}else g.type==="stylesheet"&&(g.state.loading&4)===0&&(A=g.instance,g.state.loading|=4,ns(A,S.precedence,p));return g.instance}function ns(p,g,S){for(var A=S.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=A.length?A[A.length-1]:null,j=C,F=0;F<A.length;F++){var H=A[F];if(H.dataset.precedence===g)j=H;else if(j!==C)break}j?j.parentNode.insertBefore(p,j.nextSibling):(g=S.nodeType===9?S.head:S,g.insertBefore(p,g.firstChild))}function ac(p,g){p.crossOrigin==null&&(p.crossOrigin=g.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=g.referrerPolicy),p.title==null&&(p.title=g.title)}function ic(p,g){p.crossOrigin==null&&(p.crossOrigin=g.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=g.referrerPolicy),p.integrity==null&&(p.integrity=g.integrity)}var as=null;function Tf(p,g,S){if(as===null){var A=new Map,C=as=new Map;C.set(S,A)}else C=as,A=C.get(S),A||(A=new Map,C.set(S,A));if(A.has(p))return A;for(A.set(p,null),S=S.getElementsByTagName(p),C=0;C<S.length;C++){var j=S[C];if(!(j[Re]||j[$t]||p==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var F=j.getAttribute(g)||"";F=p+F;var H=A.get(F);H?H.push(j):A.set(F,[j])}}return A}function Af(p,g,S){p=p.ownerDocument||p,p.head.insertBefore(S,g==="title"?p.querySelector("head > title"):null)}function Dh(p,g,S){if(S===1||g.itemProp!=null)return!1;switch(p){case"meta":case"title":return!0;case"style":if(typeof g.precedence!="string"||typeof g.href!="string"||g.href==="")break;return!0;case"link":if(typeof g.rel!="string"||typeof g.href!="string"||g.href===""||g.onLoad||g.onError)break;switch(g.rel){case"stylesheet":return p=g.disabled,typeof g.precedence=="string"&&p==null;default:return!0}case"script":if(g.async&&typeof g.async!="function"&&typeof g.async!="symbol"&&!g.onLoad&&!g.onError&&g.src&&typeof g.src=="string")return!0}return!1}function Pf(p){return!(p.type==="stylesheet"&&(p.state.loading&3)===0)}function Rh(p,g,S,A){if(S.type==="stylesheet"&&(typeof A.media!="string"||matchMedia(A.media).matches!==!1)&&(S.state.loading&4)===0){if(S.instance===null){var C=fi(A.href),j=g.querySelector(ro(C));if(j){g=j._p,g!==null&&typeof g=="object"&&typeof g.then=="function"&&(p.count++,p=os.bind(p),g.then(p,p)),S.state.loading|=4,S.instance=j,ut(j);return}j=g.ownerDocument||g,A=Sf(A),(C=Ur.get(C))&&ac(A,C),j=j.createElement("link"),ut(j);var F=j;F._p=new Promise(function(H,ne){F.onload=H,F.onerror=ne}),ar(j,"link",A),S.instance=j}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(S,g),(g=S.state.preload)&&(S.state.loading&3)===0&&(p.count++,S=os.bind(p),g.addEventListener("load",S),g.addEventListener("error",S))}}var oc=0;function jh(p,g){return p.stylesheets&&p.count===0&&ls(p,p.stylesheets),0<p.count||0<p.imgCount?function(S){var A=setTimeout(function(){if(p.stylesheets&&ls(p,p.stylesheets),p.unsuspend){var j=p.unsuspend;p.unsuspend=null,j()}},6e4+g);0<p.imgBytes&&oc===0&&(oc=62500*mh());var C=setTimeout(function(){if(p.waitingForImages=!1,p.count===0&&(p.stylesheets&&ls(p,p.stylesheets),p.unsuspend)){var j=p.unsuspend;p.unsuspend=null,j()}},(p.imgBytes>oc?50:800)+g);return p.unsuspend=S,function(){p.unsuspend=null,clearTimeout(A),clearTimeout(C)}}:null}function os(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ls(this,this.stylesheets);else if(this.unsuspend){var p=this.unsuspend;this.unsuspend=null,p()}}}var ss=null;function ls(p,g){p.stylesheets=null,p.unsuspend!==null&&(p.count++,ss=new Map,g.forEach(Nh,p),ss=null,os.call(p))}function Nh(p,g){if(!(g.state.loading&4)){var S=ss.get(p);if(S)var A=S.get(null);else{S=new Map,ss.set(p,S);for(var C=p.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<C.length;j++){var F=C[j];(F.nodeName==="LINK"||F.getAttribute("media")!=="not all")&&(S.set(F.dataset.precedence,F),A=F)}A&&S.set(null,A)}C=g.instance,F=C.getAttribute("data-precedence"),j=S.get(F)||A,j===A&&S.set(null,C),S.set(F,C),this.count++,A=os.bind(this),C.addEventListener("load",A),C.addEventListener("error",A),j?j.parentNode.insertBefore(C,j.nextSibling):(p=p.nodeType===9?p.head:p,p.insertBefore(C,p.firstChild)),g.state.loading|=4}}var ao={$$typeof:I,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Lh(p,g,S,A,C,j,F,H,ne){this.tag=1,this.containerInfo=p,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=on(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=on(0),this.hiddenUpdates=on(null),this.identifierPrefix=A,this.onUncaughtError=C,this.onCaughtError=j,this.onRecoverableError=F,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function Of(p,g,S,A,C,j,F,H,ne,me,Te,Me){return p=new Lh(p,g,S,F,ne,me,Te,Me,H),g=1,j===!0&&(g|=24),j=Sr(3,null,null,g),p.current=j,j.stateNode=p,g=Bs(),g.refCount++,p.pooledCache=g,g.refCount++,j.memoizedState={element:A,isDehydrated:S,cache:g},Vs(j),p}function Mf(p){return p?(p=qa,p):qa}function Cf(p,g,S,A,C,j){C=Mf(C),A.context===null?A.context=C:A.pendingContext=C,A=Wn(g),A.payload={element:S},j=j===void 0?null:j,j!==null&&(A.callback=j),S=Hn(p,A,g),S!==null&&(vr(S,p,g),ji(S,p,g))}function kf(p,g){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var S=p.retryLane;p.retryLane=S!==0&&S<g?S:g}}function sc(p,g){kf(p,g),(p=p.alternate)&&kf(p,g)}function Df(p){if(p.tag===13||p.tag===31){var g=ma(p,67108864);g!==null&&vr(g,p,67108864),sc(p,67108864)}}function Rf(p){if(p.tag===13||p.tag===31){var g=Or();g=sn(g);var S=ma(p,g);S!==null&&vr(S,p,g),sc(p,g)}}var cs=!0;function $h(p,g,S,A){var C=U.T;U.T=null;var j=q.p;try{q.p=2,lc(p,g,S,A)}finally{q.p=j,U.T=C}}function Bh(p,g,S,A){var C=U.T;U.T=null;var j=q.p;try{q.p=8,lc(p,g,S,A)}finally{q.p=j,U.T=C}}function lc(p,g,S,A){if(cs){var C=cc(A);if(C===null)Kl(p,g,A,us,S),Nf(p,A);else if(zh(C,p,g,S,A))A.stopPropagation();else if(Nf(p,A),g&4&&-1<Fh.indexOf(p)){for(;C!==null;){var j=Je(C);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var F=Ye(j.pendingLanes);if(F!==0){var H=j;for(H.pendingLanes|=2,H.entangledLanes|=2;F;){var ne=1<<31-Zt(F);H.entanglements[1]|=ne,F&=~ne}tn(j),(wt&6)===0&&(Go=Nt()+500,Zi(0))}}break;case 31:case 13:H=ma(j,2),H!==null&&vr(H,j,2),Ho(),sc(j,2)}if(j=cc(A),j===null&&Kl(p,g,A,us,S),j===C)break;C=j}C!==null&&A.stopPropagation()}else Kl(p,g,A,null,S)}}function cc(p){return p=La(p),uc(p)}var us=null;function uc(p){if(us=null,p=Be(p),p!==null){var g=d(p);if(g===null)p=null;else{var S=g.tag;if(S===13){if(p=f(g),p!==null)return p;p=null}else if(S===31){if(p=b(g),p!==null)return p;p=null}else if(S===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;p=null}else g!==p&&(p=null)}}return us=p,null}function jf(p){switch(p){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(st()){case In:return 2;case rn:return 8;case nn:case Vr:return 32;case an:return 268435456;default:return 32}default:return 32}}var dc=!1,aa=null,ia=null,oa=null,io=new Map,oo=new Map,sa=[],Fh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nf(p,g){switch(p){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":io.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(g.pointerId)}}function so(p,g,S,A,C,j){return p===null||p.nativeEvent!==j?(p={blockedOn:g,domEventName:S,eventSystemFlags:A,nativeEvent:j,targetContainers:[C]},g!==null&&(g=Je(g),g!==null&&Df(g)),p):(p.eventSystemFlags|=A,g=p.targetContainers,C!==null&&g.indexOf(C)===-1&&g.push(C),p)}function zh(p,g,S,A,C){switch(g){case"focusin":return aa=so(aa,p,g,S,A,C),!0;case"dragenter":return ia=so(ia,p,g,S,A,C),!0;case"mouseover":return oa=so(oa,p,g,S,A,C),!0;case"pointerover":var j=C.pointerId;return io.set(j,so(io.get(j)||null,p,g,S,A,C)),!0;case"gotpointercapture":return j=C.pointerId,oo.set(j,so(oo.get(j)||null,p,g,S,A,C)),!0}return!1}function Lf(p){var g=Be(p.target);if(g!==null){var S=d(g);if(S!==null){if(g=S.tag,g===13){if(g=f(S),g!==null){p.blockedOn=g,Ln(p.priority,function(){Rf(S)});return}}else if(g===31){if(g=b(S),g!==null){p.blockedOn=g,Ln(p.priority,function(){Rf(S)});return}}else if(g===3&&S.stateNode.current.memoizedState.isDehydrated){p.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}p.blockedOn=null}function ds(p){if(p.blockedOn!==null)return!1;for(var g=p.targetContainers;0<g.length;){var S=cc(p.nativeEvent);if(S===null){S=p.nativeEvent;var A=new S.constructor(S.type,S);Na=A,S.target.dispatchEvent(A),Na=null}else return g=Je(S),g!==null&&Df(g),p.blockedOn=S,!1;g.shift()}return!0}function $f(p,g,S){ds(p)&&S.delete(g)}function Uh(){dc=!1,aa!==null&&ds(aa)&&(aa=null),ia!==null&&ds(ia)&&(ia=null),oa!==null&&ds(oa)&&(oa=null),io.forEach($f),oo.forEach($f)}function fs(p,g){p.blockedOn===g&&(p.blockedOn=null,dc||(dc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Uh)))}var ps=null;function Bf(p){ps!==p&&(ps=p,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ps===p&&(ps=null);for(var g=0;g<p.length;g+=3){var S=p[g],A=p[g+1],C=p[g+2];if(typeof A!="function"){if(uc(A||S)===null)continue;break}var j=Je(S);j!==null&&(p.splice(g,3),g-=3,cl(j,{pending:!0,data:C,method:S.method,action:A},A,C))}}))}function mi(p){function g(ne){return fs(ne,p)}aa!==null&&fs(aa,p),ia!==null&&fs(ia,p),oa!==null&&fs(oa,p),io.forEach(g),oo.forEach(g);for(var S=0;S<sa.length;S++){var A=sa[S];A.blockedOn===p&&(A.blockedOn=null)}for(;0<sa.length&&(S=sa[0],S.blockedOn===null);)Lf(S),S.blockedOn===null&&sa.shift();if(S=(p.ownerDocument||p).$$reactFormReplay,S!=null)for(A=0;A<S.length;A+=3){var C=S[A],j=S[A+1],F=C[K]||null;if(typeof j=="function")F||Bf(S);else if(F){var H=null;if(j&&j.hasAttribute("formAction")){if(C=j,F=j[K]||null)H=F.formAction;else if(uc(C)!==null)continue}else H=F.action;typeof H=="function"?S[A+1]=H:(S.splice(A,3),A-=3),Bf(S)}}}function Ff(){function p(j){j.canIntercept&&j.info==="react-transition"&&j.intercept({handler:function(){return new Promise(function(F){return C=F})},focusReset:"manual",scroll:"manual"})}function g(){C!==null&&(C(),C=null),A||setTimeout(S,20)}function S(){if(!A&&!navigation.transition){var j=navigation.currentEntry;j&&j.url!=null&&navigation.navigate(j.url,{state:j.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var A=!1,C=null;return navigation.addEventListener("navigate",p),navigation.addEventListener("navigatesuccess",g),navigation.addEventListener("navigateerror",g),setTimeout(S,100),function(){A=!0,navigation.removeEventListener("navigate",p),navigation.removeEventListener("navigatesuccess",g),navigation.removeEventListener("navigateerror",g),C!==null&&(C(),C=null)}}}function fc(p){this._internalRoot=p}hs.prototype.render=fc.prototype.render=function(p){var g=this._internalRoot;if(g===null)throw Error(i(409));var S=g.current,A=Or();Cf(S,A,p,g,null,null)},hs.prototype.unmount=fc.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var g=p.containerInfo;Cf(p.current,2,null,p,null,null),Ho(),g[te]=null}};function hs(p){this._internalRoot=p}hs.prototype.unstable_scheduleHydration=function(p){if(p){var g=Nn();p={blockedOn:null,target:p,priority:g};for(var S=0;S<sa.length&&g!==0&&g<sa[S].priority;S++);sa.splice(S,0,p),S===0&&Lf(p)}};var zf=e.version;if(zf!=="19.2.0")throw Error(i(527,zf,"19.2.0"));q.findDOMNode=function(p){var g=p._reactInternals;if(g===void 0)throw typeof p.render=="function"?Error(i(188)):(p=Object.keys(p).join(","),Error(i(268,p)));return p=v(g),p=p!==null?m(p):null,p=p===null?null:p.stateNode,p};var Vh={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{_r=ms.inject(Vh),Ue=ms}catch{}}return reactDomClient_production.createRoot=function(p,g){if(!l(p))throw Error(i(299));var S=!1,A="",C=Wu,j=Hu,F=Ku;return g!=null&&(g.unstable_strictMode===!0&&(S=!0),g.identifierPrefix!==void 0&&(A=g.identifierPrefix),g.onUncaughtError!==void 0&&(C=g.onUncaughtError),g.onCaughtError!==void 0&&(j=g.onCaughtError),g.onRecoverableError!==void 0&&(F=g.onRecoverableError)),g=Of(p,1,!1,null,null,S,A,null,C,j,F,Ff),p[te]=g.current,Hl(p),new fc(g)},reactDomClient_production.hydrateRoot=function(p,g,S){if(!l(p))throw Error(i(299));var A=!1,C="",j=Wu,F=Hu,H=Ku,ne=null;return S!=null&&(S.unstable_strictMode===!0&&(A=!0),S.identifierPrefix!==void 0&&(C=S.identifierPrefix),S.onUncaughtError!==void 0&&(j=S.onUncaughtError),S.onCaughtError!==void 0&&(F=S.onCaughtError),S.onRecoverableError!==void 0&&(H=S.onRecoverableError),S.formState!==void 0&&(ne=S.formState)),g=Of(p,1,!0,g,S??null,A,C,ne,j,F,H,Ff),g.context=Mf(null),S=g.current,A=Or(),A=sn(A),C=Wn(A),C.callback=null,Hn(S,C,A),S=A,g.current.lanes=S,Gr(g,S),tn(g),p[te]=g.current,Hl(p),new hs(g)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports),scriptRel="modulepreload",assetsURL=function(t){return"/visusewerstory/"+t},seen={},__vitePreload=function(e,n,i){let l=Promise.resolve();if(n&&n.length>0){let f=function(v){return Promise.all(v.map(m=>Promise.resolve(m).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),_=(b==null?void 0:b.nonce)||(b==null?void 0:b.getAttribute("nonce"));l=f(n.map(v=>{if(v=assetsURL(v),v in seen)return;seen[v]=!0;const m=v.endsWith(".css"),u=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${u}`))return;const o=document.createElement("link");if(o.rel=m?"stylesheet":scriptRel,m||(o.as="script"),o.crossOrigin="",o.href=v,_&&o.setAttribute("nonce",_),document.head.appendChild(o),m)return new Promise((h,w)=>{o.addEventListener("load",h),o.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${v}`)))})}))}function d(f){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=f,window.dispatchEvent(b),!b.defaultPrevented)throw f}return l.then(f=>{for(const b of f||[])b.status==="rejected"&&d(b.reason);return e().catch(d)})},__vite_import_meta_env__$1={BASE_URL:"/visusewerstory/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};class GemmaLLM{constructor(){this.model=null,this.isLoaded=!1,this.isLoading=!1,this.fallbackModels=["Xenova/LaMini-Flan-T5-248M","Xenova/distilgpt2","microsoft/DialoGPT-small","gpt2","Xenova/LaMini-Flan-T5-783M"],this.modelName=this.fallbackModels[0],this.allowLocalNarration=!1,this.maxTokens=1024,this.loadingProgress=0}async initialize(){if(this.isLoaded||this.isLoading)return this.model;console.log(" Initializing GemmaLLM..."),this.isLoading=!0;try{const e=typeof window<"u"&&typeof window.ALLOW_LOCAL_NARRATION=="boolean"?window.ALLOW_LOCAL_NARRATION:this.allowLocalNarration;this.allowLocalNarration=e!==!1}catch{}for(const e of this.fallbackModels)try{console.log(` Attempting to load: ${e}`),this.model=await pipeline$1("text-generation",e,{progress_callback:n=>{if(n.status==="downloading"){this.loadingProgress=Math.round(n.loaded/n.total*100),console.log(` Gemma loading: ${this.loadingProgress}%`);try{window.dispatchEvent(new CustomEvent("llmLoadingProgress",{detail:{model:"gemma",progress:this.loadingProgress}}))}catch{}}}}),this.modelName=e,this.isLoaded=!0,this.isLoading=!1,console.log(` Gemma loaded successfully: ${e}`);try{window.dispatchEvent(new CustomEvent("llmReady",{detail:{model:"gemma",hemisphere:"local"}}))}catch{}return this.model}catch(n){console.error(` Failed to load ${e}: ${(n==null?void 0:n.message)||n}`)}return this.isLoading=!1,console.warn(" Failed to load any configured Gemma compatible model(s)"),null}async chatLocalFallback(e,n=[]){if(!this.allowLocalNarration)return console.warn("[Gemma] chatLocalFallback called, but local narration is disabled."),{text:"[LOCAL LLM DISABLED] Local narration is disabled by user preference.",model:"gemma:local-disabled",tokens:0,hemisphere:"local"};if(this.isLoaded||await this.initialize(),!this.model)return{text:"[LOCAL LLM UNAVAILABLE] No local model could be loaded in the browser.",model:"gemma:local-unavailable",tokens:0,hemisphere:"local"};try{return{...await this.chat(e,n),model:this.modelName||"gemma-local"}}catch(i){return console.error("[Gemma] local fallback chat failed:",(i==null?void 0:i.message)||i),{text:"[LOCAL LLM ERROR] Local generation failed. Try again after the models finish loading.",model:"gemma:local-error",tokens:0,hemisphere:"local"}}}async generate(e,n={}){this.isLoaded||await this.initialize();const i={max_new_tokens:n.maxTokens||150,temperature:n.temperature||.7,do_sample:!0,top_p:n.topP||.9,top_k:40,repetition_penalty:1.3,no_repeat_ngram_size:3,num_beams:1,early_stopping:!0,...n},l=performance.now(),d=await this.model(e,i),f=performance.now(),b=d[0].generated_text.replace(e,"").trim();return{text:b,model:"gemma",tokens:b.split(" ").length,hemisphere:"local",responseTime:Math.round(f-l)}}async chat(e,n=[]){this.isLoaded||await this.initialize();const i=n.slice(-3);let l="";return i.length&&i.forEach(d=>{const f=d.role==="system"?"System":d.role==="user"?"User":"Assistant";l+=`${f}: ${d.content}

`}),l+=`User: ${e}

Assistant:`,this.generate(l,{maxTokens:120,temperature:.8})}async agentOperation(e,n=""){const i=`Agent Operation Task

${n?`Context: ${n}

`:""}Task: ${e}

Agent Response:`;return this.generate(i,{maxTokens:150})}async generateEcho(e,n){const i=`Generate an intelligent echo response for Agent Lee system.

User Input: ${e}
System State: ${JSON.stringify(n)}

Generate a helpful, contextual response:`;return this.generate(i,{maxTokens:100,temperature:.8})}async processWithContext(e,n){this.isLoaded||await this.initialize();const i=`${n}
${e}`;return this.model(i,{max_length:this.maxTokens})}setAllowLocalNarration(e){try{this.allowLocalNarration=!!e,typeof window<"u"&&(window.ALLOW_LOCAL_NARRATION=!!e),console.log("GemmaLLM allowLocalNarration set to",this.allowLocalNarration)}catch{}}getStatus(){return{model:"gemma",name:"Gemma 2B",isLoaded:this.isLoaded,isLoading:this.isLoading,progress:this.loadingProgress,hemisphere:"local",color:"#FF8C00",capabilities:["chat","agents","echo","summarization"],contextLength:this.maxTokens}}}const gemmaLLM=new GemmaLLM;try{typeof window<"u"&&(window.gemmaLLM=gemmaLLM,window.GemmaLLM=GemmaLLM)}catch{}const EMBED_MODEL_ID="Xenova/all-MiniLM-L6-v2";let embedPipeline=null,embedInitialized=!1;async function loadEmbedPipeline(){try{if(typeof window<"u"&&window.__XENOVA_EMBED_PIPELINE)return window.__XENOVA_EMBED_PIPELINE}catch{}try{const t=await __vitePreload(()=>import("./transformers-BgfuRgdV.js"),[]);if(t&&typeof t.pipeline=="function"){const e=await t.pipeline("feature-extraction",EMBED_MODEL_ID);try{typeof window<"u"&&(window.__XENOVA_EMBED_PIPELINE=e)}catch{}return e}}catch(t){console.warn("[embedderLLM] Xenova embedding pipeline not available, using fallback.",t)}return null}function charCodeEmbed(t){const n=new Array(64).fill(0),i=String(t||"");for(let d=0;d<i.length;d++){const f=d%64;n[f]+=i.charCodeAt(d)}const l=Math.sqrt(n.reduce((d,f)=>d+f*f,0))||1;return n.map(d=>d/l)}function cosineSimilarity(t,e){if(!t||!e||t.length!==e.length)return-1;let n=0,i=0,l=0;for(let f=0;f<t.length;f++)n+=t[f]*e[f],i+=t[f]*t[f],l+=e[f]*e[f];const d=Math.sqrt(i)*Math.sqrt(l)||1;return n/d}async function embedText(t){if(embedInitialized||(embedPipeline=await loadEmbedPipeline(),embedInitialized=!0),embedPipeline)try{let n=await embedPipeline(String(t||""));n&&n.data&&(n=n.data),Array.isArray(n)&&Array.isArray(n[0])&&(n=n[0]);const i=Math.sqrt(n.reduce((l,d)=>l+d*d,0))||1;return n.map(l=>l/i)}catch(e){return console.warn("[embedderLLM] Embedding pipeline failed, using fallback.",e),charCodeEmbed(t)}return charCodeEmbed(t)}const embedderLLM={get isInitialized(){return embedInitialized},async initialize(){embedInitialized||(embedPipeline=await loadEmbedPipeline(),embedInitialized=!0,console.log("[embedderLLM] Initialized. Using pipeline:",!!embedPipeline))},async embedBatch(t){await this.initialize();const e=Array.isArray(t)?t:[t],n=[];for(const i of e)n.push({text:i,embedding:await embedText(i||"")});return n},async embed(t){return await this.initialize(),{embedding:await embedText(t||"")}},cosineSimilarity};function openDb(){return new Promise((t,e)=>{const n=indexedDB.open("agentlee_rag",1);n.onupgradeneeded=()=>{const i=n.result;i.objectStoreNames.contains("chunks")||i.createObjectStore("chunks",{keyPath:"id"})},n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)})}function chunkText(t,e=300){const n=t.split(/\s+/).filter(Boolean),i=[];for(let l=0;l<n.length;l+=e)i.push(n.slice(l,l+e).join(" "));return i.length===0&&i.push(t.slice(0,1e3)),i}async function embedDocText(t){try{const e=await loadEmbedPipeline();if(e){let i=await e(t);i&&i.data&&(i=i.data),Array.isArray(i)&&Array.isArray(i[0])&&(i=i[0]);const l=Math.sqrt(i.reduce((d,f)=>d+f*f,0))||1;return i.map(d=>d/l)}}catch(e){console.warn("Embedding pipeline failed, falling back",e)}return charCodeEmbed(t)}async function addDocument(t,e,n={}){const i=chunkText(e,300),l=await Promise.all(i.map(v=>embedDocText(v))),f=(await openDb()).transaction("chunks","readwrite"),b=f.objectStore("chunks"),_=Date.now();for(let v=0;v<i.length;v++)b.put({id:`${t}__${v}`,docId:t,text:i[v],embedding:l[v],metadata:n,createdAt:_});return new Promise((v,m)=>{f.oncomplete=()=>v(!0),f.onerror=()=>m(f.error||new Error("tx error"))})}async function search(t,e=5){const n=await embedDocText(t),d=(await openDb()).transaction("chunks","readonly").objectStore("chunks");return new Promise((f,b)=>{const _=d.getAll();_.onsuccess=()=>{const m=(_.result||[]).map(u=>({...u,score:cosineSimilarity(n,u.embedding)}));m.sort((u,o)=>o.score-u.score),f(m.slice(0,e))},_.onerror=()=>b(_.error||new Error("getAll failed"))})}async function clearStore(){const e=(await openDb()).transaction("chunks","readwrite");return e.objectStore("chunks").clear(),new Promise((n,i)=>{e.oncomplete=()=>n(!0),e.onerror=()=>i(e.error||new Error("clear failed"))})}async function bootstrapRag(){try{const t=typeof import.meta<"u"&&__vite_import_meta_env__$1?"/visusewerstory/":"/",e=["data/project_costs.csv","data/cctv_inspection.csv","data/bid_amounts.csv"];for(const n of e)try{const i=`${t}${n}`.replace(/([^:]?)\/\//g,"$1/"),l=await fetch(i);if(!l.ok){console.warn(`[RAG] Could not fetch ${n}: ${l.status}`);continue}const d=await l.text();await addDocument(n,d,{originalPath:n}),console.log(`[RAG] Indexed ${n}`)}catch(i){console.warn(`[RAG] Failed to index ${n}:`,i)}console.log("[RAG] Indexed core CSVs for Agent Lee.")}catch(t){console.error("[RAG] Indexing failed",t)}}const docStore={addDocument,search,clearStore,bootstrapRag};try{typeof window<"u"&&(window.bootstrapRag=bootstrapRag)}catch{}const docSearch=search;function embedTextLegacy(t){return t.split(" ").map(e=>e.split("").reduce((n,i)=>n+i.charCodeAt(0),0))}class AgentTeam{constructor(){this.modelNames=["gemma:local"],this.isLoaded=!1;try{const e=typeof import.meta<"u"?__vite_import_meta_env__$1:{};this.allowLocalNarration=e.VITE_ALLOW_LOCAL_NARRATION!=="false"}catch{this.allowLocalNarration=!0}}async initialize(){console.log("[AgentTeam] Initializing local-only mode"),this.isLoaded=!0}async embedContext(e){return this.modelNames.map(n=>({model:n,embedding:embedTextLegacy(e)}))}async askAllModels(e,n=""){this.isLoaded||await this.initialize();const i=[{role:"system",content:n||""},{role:"user",content:e||""}];if(typeof n=="string"&&n.includes("---- EVIDENCE START ----"))try{const b=await this.retrieveLocalData(e,n);return{responses:[{text:`LOCAL_EVIDENCE_SUMMARY: ${b?b.split(`
`).slice(0,6).join(`
`):"No local data found."}`,model:"local_evidence"}],embeddings:[]}}catch(b){return console.warn("[AgentTeam] evidence-only local summarizer failed",b),{responses:[{text:"LOCAL_EVIDENCE_SUMMARY: (failed to produce evidence)",model:"local_evidence"}],embeddings:[]}}const d=[];this.allowLocalNarration&&d.push((async()=>{try{console.log("[AgentTeam] Calling local gemmaLLM (in-browser)");const b=await gemmaLLM.chatLocalFallback(e,i);return{text:(b==null?void 0:b.text)||"",model:(b==null?void 0:b.model)||"gemma:local"}}catch(b){return console.warn("[AgentTeam] Local gemmaLLM call failed",b),{text:"",model:"gemma:local-error",error:String((b==null?void 0:b.message)||b)}}})());const f=(await Promise.all(d)).filter(b=>b.text&&b.text.trim().length>0&&!b.error).filter(b=>{const _=b.text.trim(),v=_.split(/\s+/);if(v.length<5)return!1;const u=new Set(v.map(h=>h.toLowerCase())).size/v.length;if(u<.2)return console.log(`[AgentTeam] Rejected ${b.model} - too repetitive (${u})`),!1;const o=_.toLowerCase().replace(/[^a-z]/g,"").replace(/(.)\1+/g,"$1");return o.includes("agent")||o.includes("lee")||o.includes("aello")||o.includes("agello")?(console.log(`[AgentTeam] Rejected ${b.model} - contains garbled Agent Lee-like text`),!1):_.toLowerCase().startsWith("system:")||_.toLowerCase().includes("you are agent lee")||_.toLowerCase().includes("if the user asks to navigate")?(console.log(`[AgentTeam] Rejected ${b.model} - detected system prompt echo`),!1):!0});if(!f.length)try{const b=await this.retrieveLocalData(e,n);return{responses:[{text:`LOCAL_EVIDENCE_SUMMARY: ${b?b.split(`
`).slice(0,6).join(`
`):"No local data found."}`,model:"local_evidence"}],embeddings:[]}}catch{return{responses:[{text:"I'm sorry, the local models are still loading. Please try again in a moment.",model:"fallback"}],embeddings:[]}}return{responses:f,embeddings:[]}}async retrieveLocalData(e,n=""){try{const i=`${e} ${n}`.trim(),l=await docSearch(i,6);if(l&&l.length)return l.map((d,f)=>`Chunk ${f+1} (doc=${d.docId}, score=${(d.score||0).toFixed(3)}):
${d.text.slice(0,800)}`).join(`

`)}catch(i){console.warn("docStore search failed, falling back to file previews",i)}return""}async answer(e,n=""){const{responses:i}=await this.askAllModels(e,n),l=i&&i.length===1&&String(i[0].model||"").toLowerCase()==="local_evidence",d=(i||[]).filter(b=>{const _=String(b.model||"").toLowerCase();return!(!this.allowLocalNarration&&(_.startsWith("gemma:")||_.includes("local-disabled")))});let f=null;try{await embedderLLM.initialize();const b=d.map(o=>o&&o.text?o.text:String(o));if(!b.length)throw new Error("No valid responses to evaluate");const v=(await embedderLLM.embedBatch(b)).map(o=>o.embedding||[]),m=new Array(v.length).fill(0);for(let o=0;o<v.length;o++){for(let h=0;h<v.length;h++)o!==h&&(m[o]+=embedderLLM.cosineSimilarity(v[o],v[h]));m[o]=m[o]/(v.length-1||1)}let u=0;for(let o=1;o<m.length;o++)m[o]>m[u]&&(u=o);f=d[u]}catch{const _=d.length?d:i;_&&_.length&&(f=_.reduce((v,m)=>v.text&&m.text&&v.text.length>m.text.length?v:m))}!f&&l&&(f=i[0]);try{typeof window<"u"&&window.AGENT_STATUS&&(window.AGENT_STATUS.model=f==null?void 0:f.model)}catch{}return{best:f,all:i}}async explainChart(e,n=""){const i=await this.retrieveLocalData(e,n),l=`You are a data analyst. The user requests: ${n||e}.

Use the following local data as context:
${i}

Provide: 1) A short summary of what the chart likely shows.
2) Three actionable insights.
3) One suggested visualization improvement or follow-up analysis.`;return this.answer(l,`Chart explanation context for selector: ${e}`)}}const agentTeam=new AgentTeam;try{typeof window<"u"&&(window.agentTeam=agentTeam)}catch{}function getChartContextForSlide(t){try{if(typeof window<"u"&&window.AgentLeeChartRegistry&&typeof window.AgentLeeChartRegistry.getChartContextForSlide=="function")return window.AgentLeeChartRegistry.getChartContextForSlide(t)}catch{}return null}function getChartDataForSlide(t){try{if(typeof window<"u"&&window.AgentLeeChartRegistry&&typeof window.AgentLeeChartRegistry.getChartDataForSlide=="function")return window.AgentLeeChartRegistry.getChartDataForSlide(t)}catch{}return null}async function answerWithEvidence(t,e="",n=null){const i=[t,e];n!=null&&n.title&&i.push(n.title),n!=null&&n.id&&i.push(String(n.id));const l=i.filter(Boolean).join(" | ").trim()||t||"Visu-Sewer overview";let d=[];try{d=await docSearch(l,6)}catch(m){console.warn("[answerWithEvidence] docStore search failed",m)}const f=d.length?d.map((m,u)=>{const o=(m.text||"").slice(0,600),h=typeof m.score=="number"?m.score.toFixed(3):"n/a";return`Chunk ${u+1} (doc=${m.docId||"unknown"}, score=${h}):
${o}`}).join(`

`):"No indexed evidence available yet. Capture fresh data via the Evidence Locker button.",b=d.map((m,u)=>{var o,h,w,E,T;return{id:u+1,docId:m.docId||"unknown",score:typeof m.score=="number"?m.score:null,textSnippet:String(m.text||"").slice(0,600),meta:{path:((o=m==null?void 0:m.metadata)==null?void 0:o.path)||((h=m==null?void 0:m.metadata)==null?void 0:h.originalPath)||null,lineStart:typeof((w=m==null?void 0:m.metadata)==null?void 0:w.lineStart)=="number"?m.metadata.lineStart:null,lineEnd:typeof((E=m==null?void 0:m.metadata)==null?void 0:E.lineEnd)=="number"?m.metadata.lineEnd:null,type:((T=m==null?void 0:m.metadata)==null?void 0:T.type)||null}}}),_=n?getChartContextForSlide(n.id||n.title||""):null,v=n?getChartDataForSlide(n.id||n.title||""):null;return{answer:null,evidence:{localDataPreview:f,matchedClaims:[],urls:[],webSources:[],chartContext:_,chartData:v,citations:b}}}const DomAgentContext=reactExports.createContext(null);async function runDomCommand(t){if(!(!t||!t.action))switch(t.action){case"click":{const n=Array.from(document.querySelectorAll(t.selector||""))[t.index??0];n&&n.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}));break}case"type":{const e=document.querySelector(t.selector||"");e&&(e.focus(),e.value=t.text||"",e.dispatchEvent(new Event("input",{bubbles:!0})),t.submit&&e.form&&(typeof e.form.requestSubmit=="function"?e.form.requestSubmit():e.form.submit()));break}case"scroll":{const e=t.behavior||"smooth";t.target==="top"?window.scrollTo({top:0,behavior:e}):window.scrollTo({top:document.documentElement.scrollHeight,behavior:e});break}case"scrollToElement":{const e=document.querySelector(t.selector||"");e&&e.scrollIntoView({behavior:t.behavior||"smooth",block:"center"});break}case"wait":{const e=typeof t.ms=="number"?t.ms:1e3;await new Promise(n=>setTimeout(n,e));break}}}function DomAgentProvider({children:t}){const e=reactExports.useCallback(n=>runDomCommand(n),[]);return React.createElement(DomAgentContext.Provider,{value:{execute:e}},t)}const EVIDENCE_LIST=[{id:"ev_fp_cap",title:"Fort Point Capital Partnership",type:"Link",url:"https://fortpointcapital.com/news/visusewer-acquires-mor-construction",date:"2023",tag:"Verified"},{id:"ev_mor_acq",title:"MOR Construction Acquisition",type:"Link",url:"https://undergroundinfrastructure.com/news/2025/october/visusewer-expands-into-mid-atlantic-with-mor-construction-acquisition",date:"2025",tag:"Verified"},{id:"ev_sheridan",title:"Sheridan Plumbing Acquisition",type:"Link",url:"https://www.constructionowners.com/news/visusewer-expands-east-with-mor-construction-acquisition",date:"2023",tag:"Verified"},{id:"ev_mor_pr",title:"PR Newswire: MOR Acquisition",type:"Link",url:"https://www.prnewswire.com/news-releases/visusewer-acquires-mor-construction-302571417.html",date:"2025",tag:"Verified"},{id:"ev_sewerai_prod",title:"SewerAI Productivity Study",type:"Link",url:"https://www.sewerai.com/resources-post/case-study-on-productivity-increases",date:"2024",tag:"Verified"},{id:"ev_sewerai_cloud",title:"75% Cloud Cost Savings",type:"Link",url:"https://www.anyscale.com/resources/case-study/sewerai",date:"2024",tag:"Verified"},{id:"ev_dc_water",title:"DC Water / Pipe Sleuth ROI",type:"Link",url:"https://statetechmagazine.com/article/2019/07/dc-water-taps-ai-and-cloud-save-costs-improve-infrastructure",date:"2019",tag:"Verified"},{id:"ev_vapar",title:"VAPAR Preventative Maint.",type:"Link",url:"https://www.vapar.co/prevent-costly-sewer-pipe-repairs/",date:"2024",tag:"Verified"},{id:"ev_mpwik",title:"MPWiK Predictive AI",type:"Link",url:"https://www.aquatechtrade.com/news/urban-water/ai-failure-prediction-system-wroclaw-water-sewer-network",date:"2024",tag:"Verified"},{id:"ev_epa",title:"EPA Smart Sewers",type:"Link",url:"https://www.epa.gov/npdes/smart-sewers",date:"2024",tag:"Verified"},{id:"ev_intel_wipro",title:"Intel/Wipro Pipe Sleuth",type:"Link",url:"https://www.intel.com/content/dam/www/public/us/en/ai/documents/DCWater_Wipro_CaseStudy.pdf",date:"2020",tag:"Verified"},{id:"ev_crossbore",title:"Cross Bore Safety Audit",type:"Link",url:"https://www.sewerai.com/resources-post/cross-bore-safety-audit-case-study",date:"2023",tag:"Verified"},{id:"ev_internal_proj",title:"Visu-Sewer Internal 2050 Projection",type:"Data",date:"2025",tag:"Projected"},{id:"ev_nassco",title:"NASSCO Compliance Standards",type:"Data",date:"2024",tag:"Verified"}],NARRATION_innovationBelowGround={title:"Innovation Below Ground",subtitle:"Title / Setup",paragraphs:["Good [morning/afternoon]. I'm Agent Lee, your narrator for this Visu-Sewer story. Over the next few minutes, I'll walk you through who Visu-Sewer is, how the company grew, how AI and data are changing the work, and why the numbers behind this platform matter.","On this opening page, you're seeing the title of the story and the core idea: progress that starts below ground but shows up in safer streets, fewer failures, and better use of public dollars. As we move forward, I'll keep pointing out what the charts and visuals on the right are showing, in simple terms.","One small request before we get rolling: please hold live questions until the end. If something important pops into your mind, just make a note of the page number or topic. We'll come back to it during the closing and Q&A."],bullets:[]},NARRATION_stewardsOfSewers={title:"Stewards of Sewers",subtitle:"Who We Are / Footprint",paragraphs:["This page is about who Visu-Sewer is. For almost fifty years, the company has focused on one thing: taking care of the underground systems that nobody sees but everybody depends onsewer mains, laterals, and related infrastructure.","The map you see shows where that work now happens: Wisconsin, Illinois, Iowa, Minnesota, Missouri, Pennsylvania, Delaware, and New Jersey. Each dot on that map represents real crews, real equipment, and long-term relationships with cities and utilities.","The message here is simple: this isn't a side business. Visu-Sewer is built around underground infrastructure, and that focus is what makes the rest of the story credible."],bullets:[]},NARRATION_throughTheTunnels={title:"Through the Tunnels",subtitle:"History & Growth",paragraphs:["Now we're looking at the timeline of the companyhow a single-market trenchless contractor in Wisconsin became a multi-state platform. The curve on the right walks from the 1970s up through today.","You'll see key moments marked on that timeline: early adoption of CCTV and cured-in-place pipe, expansion into new states, the Fort Point Capital partnership, and acquisitions like MOR Construction and Sheridan Plumbing.","If you follow that curve, the pattern is steady, not random: consistent growth for decades, then a clear step-up in scale and speed as the platform strategy and acquisitions kick in."],bullets:[]},NARRATION_eyeOnUnderground={title:"Eye on the Underground",subtitle:"Inspection & CCTV / AI",paragraphs:["On this page we talk about how Visu-Sewer actually 'sees' what's happening below ground. For years, crews have used CCTV cameras to inspect pipes, frame by frame, the way a doctor reads a scan.","The chart on the right compares traditional, fully manual review with AI-assisted review. You'll notice two main differences: inspection reports get done faster, and high-risk defects are flagged more consistently. The human inspector is still in chargebut now they have a smarter set of tools at their side.","The takeaway: better eyesight underground means fewer surprises on the surface, and this is where AI starts to create real value."],bullets:[]},NARRATION_savingCities={title:"Saving Cities Money",subtitle:"Trenchless vs. Dig & Replace",paragraphs:["This page turns to the question every city cares about: what's the smartest way to spend limited dollars? The bar chart or comparison on the right shows trenchless repair versus open-cut replacement for a real project.","You can see that trenchless methods shortened disruption time and reduced the total cost when you factor in traffic, surface restoration, and business impact. Open-cut looked cheaper on paper at first, but the actual final cost and disruption days ended up much higher.","So in plain English: trenchless is not just easier for the crewsit's often the better deal for taxpayers and local businesses."],bullets:[]},NARRATION_mastersOfMain={title:"Masters of the Main",subtitle:"Crews, Capacity, and Schedule",paragraphs:["Here we're looking at the people and the capacity behind the promises. The chart on the right shows crew counts and completed projects over time in the Midwest and the growing Mid-Atlantic region.","You can see that the lines don't stay flat. As Visu-Sewer acquires firms like MOR and Sheridan, and as internal teams grow, the number of crews and completed projects rises steadily. In the projection out to 2050, that capacity continues to build.","The simple point: this is a platform that can respond to emergencies today and still support long-term programs tomorrow because it's been built to scale."],bullets:[]},NARRATION_wiredForFuture={title:"Wired for the Future",subtitle:"Technology & AI Roadmap",paragraphs:["On this page, we move from 'what we do' to 'how we're wiring the future of how we do it.' The diagram or radar chart on the right breaks the roadmap into three ideas: getting faster, reducing risk, and optimizing programs.","You'll see metrics tied to each phase: faster report turnaround from AI-assisted coding, lower failure rates from predictive tools, and better budget use when projects are planned with real data instead of guesswork.","The key message: technology here isn't a gimmick. Every tool on that roadmap is being measured by one standarddoes it make work safer, smarter, or more efficient for the cities we serve?"],bullets:[]},NARRATION_engineeringTomorrow={title:"Engineering Tomorrow",subtitle:"Financial Bridge",paragraphs:["Now we connect the work in the field and the technology roadmap to the financial picture. The bridge chart on the right starts around thirty-seven million dollars in revenue and walks you toward the seventy-million-dollar range and beyond.","Each segment of that bridge represents a driver: base operations, technology-driven margin improvements, and growth from acquisitions and new regions. Nothing here is labeled 'magic'every step has a source behind it, which we'll show later in the evidence pages.","In simple terms: this is how the company turns good field work and smart tools into a larger, more resilient business over the next several years."],bullets:[]},NARRATION_visionariesBelow={title:"Visionaries Below",subtitle:"Leadership & Governance",paragraphs:["This page is all about the leadership team. The chart or layout you see shows the key roles across operations, finance, people, and growth.","What matters here is not just the titles. Many of these leaders started in the field, wearing safety gear and solving real-world problems, before moving into executive roles. That means when they talk about AI, budgets, or acquisitions, they do it with a clear understanding of what it means for crews and cities.","If you're asking, 'Who's steering this?'this is the page that answers that question."],bullets:[]},NARRATION_cleanStarts={title:"Clean Starts",subtitle:"New Regions & Programs",paragraphs:["Here we talk about what expansion actually feels like on the ground. The visuals on the right represent new regions and programs coming online under one common set of safety, quality, and training standards.","For a new city or utility, a 'clean start' means they're not experimenting. They're plugging into a system that is already proven in other states. For Visu-Sewer, each new region is brought into the same playbook so that results are predictable, not random.","This is where the platform idea shows up day-to-day: different locations, same standard of work."],bullets:[]},NARRATION_evolutionVelocity={title:"Evolution Velocity",subtitle:"Industry AI Landscape",paragraphs:["This page zooms out to the broader AI landscape in underground infrastructure. The comparison chart on the right looks at different AI tools and programsthings like inspection platforms, cloud processing, and predictive analytics.","The message is not that Visu-Sewer is alone in using AI. The message is that the industry as a whole is moving in this direction, and Visu-Sewer is positioned to combine the best of those tools with its own data, crews, and customer base.","Put simply: the tide is rising, and this platform is built to ride that wave, not chase it from behind."],bullets:[]},NARRATION_evidenceLocker={title:"Evidence Locker",subtitle:"Operations & Finance",paragraphs:["We've now arrived at the evidence locker. This page is where the story turns into verifiable proof. The visuals on the right show real case studies, third-party articles, internal data sources, and deeper chartscost-per-foot comparisons, inspection speed improvements, ROI timelines, and workforce impact visuals.","You'll see references to things like DC Water's AI program, SewerAI's productivity studies, and acquisitions documented in public news releases. Each item has a clear label so you can trace it back to its origin. The charts show how AI and process changes translate into real numbers: lower costs per foot, faster turnaround times, and clearer payback periods.","If you're the type who wants to check every number, this is your starting point. Nothing in this deck is floating without a source behind it. During Q&A, you can ask to see any chart or reference in more detail, and we can dive right back in."],bullets:[]},NARRATION_closingChapter={title:"Closing Chapter",subtitle:"Thank You & Q&A",paragraphs:["We've reached the final page of this story. We started with innovation below ground, walked through fifty years of growth, looked at how AI and technology are being used, and then opened the evidence locker so you could see the data behind the claims.","At this point, the formal presentation is complete. Now it's your turn. If you'd like to revisit a page, you can ask to go back to a specific page number or topiclike 'timeline,' 'AI inspection,' or 'evidence locker.' If you have questions about strategy, risk, or the numbers, I'm here to walk through them with you.","Thank you for your time and your attention. Whenever you're ready, we can stay on this page for Q&A or jump to any chart or section you'd like to explore in more detail."],bullets:[]},SLIDES=[{id:"innovationBelowGround",navItem:"home",title:NARRATION_innovationBelowGround.title,subtitle:NARRATION_innovationBelowGround.subtitle,narration:NARRATION_innovationBelowGround,chartKind:"Covenant",agentLeePromptHint:"Set the stage, explain the story structure, and note the ground rules for Q&A."},{id:"stewardsOfSewers",navItem:"home",title:NARRATION_stewardsOfSewers.title,subtitle:NARRATION_stewardsOfSewers.subtitle,narration:NARRATION_stewardsOfSewers,chartKind:"AcquisitionMap",agentLeePromptHint:"Describe who Visu-Sewer is and walk through the footprint map of active markets."},{id:"throughTheTunnels",navItem:"discover",title:NARRATION_throughTheTunnels.title,subtitle:NARRATION_throughTheTunnels.subtitle,narration:NARRATION_throughTheTunnels,chartKind:"Timeline",agentLeePromptHint:"Narrate the historical growth curve and call out the inflection points."},{id:"eyeOnUnderground",navItem:"discover",title:NARRATION_eyeOnUnderground.title,subtitle:NARRATION_eyeOnUnderground.subtitle,narration:NARRATION_eyeOnUnderground,chartKind:"CCTV",agentLeePromptHint:"Contrast manual CCTV review with AI-assisted inspection and highlight the gains."},{id:"savingCities",navItem:"spaces",title:NARRATION_savingCities.title,subtitle:NARRATION_savingCities.subtitle,narration:NARRATION_savingCities,chartKind:"ProjectCosts",agentLeePromptHint:"Explain the trenchless versus dig-and-replace comparison for cost and disruption."},{id:"mastersOfMain",navItem:"spaces",title:NARRATION_mastersOfMain.title,subtitle:NARRATION_mastersOfMain.subtitle,narration:NARRATION_mastersOfMain,chartKind:"ContractorSchedule",agentLeePromptHint:"Describe capacity growth in the Midwest and Mid-Atlantic and why it matters."},{id:"wiredForFuture",navItem:"finance",title:NARRATION_wiredForFuture.title,subtitle:NARRATION_wiredForFuture.subtitle,narration:NARRATION_wiredForFuture,chartKind:"TechStack",agentLeePromptHint:"Walk through the technology roadmap with its speed, risk, and optimization metrics."},{id:"engineeringTomorrow",navItem:"finance",title:NARRATION_engineeringTomorrow.title,subtitle:NARRATION_engineeringTomorrow.subtitle,narration:NARRATION_engineeringTomorrow,chartKind:"GrowthBridge",agentLeePromptHint:"Connect field execution and the AI roadmap to the revenue bridge."},{id:"visionariesBelow",navItem:"spaces",title:NARRATION_visionariesBelow.title,subtitle:NARRATION_visionariesBelow.subtitle,narration:NARRATION_visionariesBelow,chartKind:"Ecosystem",agentLeePromptHint:"Introduce the leadership team and emphasize their field-first credibility."},{id:"cleanStarts",navItem:"spaces",title:NARRATION_cleanStarts.title,subtitle:NARRATION_cleanStarts.subtitle,narration:NARRATION_cleanStarts,chartKind:"Evolution",agentLeePromptHint:"Explain how new regions plug into a common playbook for predictable outcomes."},{id:"evolutionVelocity",navItem:"finance",title:NARRATION_evolutionVelocity.title,subtitle:NARRATION_evolutionVelocity.subtitle,narration:NARRATION_evolutionVelocity,chartKind:"AISewersViz",agentLeePromptHint:"Position Visu-Sewer within the broader AI momentum across the industry."},{id:"evidenceLocker",navItem:"account",title:NARRATION_evidenceLocker.title,subtitle:NARRATION_evidenceLocker.subtitle,narration:NARRATION_evidenceLocker,chartKind:"Evidence",agentLeePromptHint:"Present the comprehensive evidence locker with case studies, third-party sources, and detailed charts showing cost savings, ROI timelines, and operational improvements."},{id:"closingChapter",navItem:"account",title:NARRATION_closingChapter.title,subtitle:NARRATION_closingChapter.subtitle,narration:NARRATION_closingChapter,chartKind:"Closing",agentLeePromptHint:"Wrap the story, open Q&A, and invite page-jump requests."}],STORY_CONFIG={slides:SLIDES},generateVelocityData=()=>{const t=[];let e=10,n=0;for(let i=2020;i<=2050;i++)i>2022&&(n+=2),i>2025?(e*=1.05,n*=1.08):e+=2,t.push({year:i.toString(),region:"Midwest",crewCount:Math.round(e),projectsCompleted:Math.round(e*4),evidenceRef:i>2025?"ev_internal_proj":"ev_nassco"}),i>2021&&t.push({year:i.toString(),region:"Mid-Atlantic",crewCount:Math.round(n),projectsCompleted:Math.round(n*4),evidenceRef:i>2025?"ev_internal_proj":"ev_mor_acq"});return t},ACQUISITIONS_DATA=[{id:"visu",name:"Visu-Sewer HQ",region:"Pewaukee, WI",description:"HQ",year:"1975",coordinates:{x:59,y:30},evidenceRef:"ev_nassco"},{id:"mor",name:"MOR Construction",region:"Glen Mills, PA",description:"Mid-Atlantic Hub",year:"2022",coordinates:{x:82,y:38},evidenceRef:"ev_mor_acq"},{id:"sheridan",name:"Sheridan Plumbing",region:"Chicago, IL",description:"Chicago Metro",year:"2023",coordinates:{x:62,y:35},evidenceRef:"ev_sheridan"},{id:"mn_hub",name:"Visu-Sewer MN",region:"Minnesota",description:"Regional Hub",year:"2000",coordinates:{x:52,y:25},evidenceRef:"ev_nassco"},{id:"ia_hub",name:"Visu-Sewer IA",region:"Iowa",description:"Regional Hub",year:"2005",coordinates:{x:55,y:38},evidenceRef:"ev_nassco"},{id:"mo_hub",name:"Visu-Sewer MO",region:"Missouri",description:"Regional Hub",year:"2010",coordinates:{x:58,y:48},evidenceRef:"ev_nassco"},{id:"nj_hub",name:"NJ Operations",region:"New Jersey",description:"East Coast Exp",year:"2024",coordinates:{x:86,y:36},evidenceRef:"ev_mor_acq"},{id:"de_hub",name:"DE Operations",region:"Delaware",description:"East Coast Exp",year:"2024",coordinates:{x:84,y:40},evidenceRef:"ev_mor_acq"}],MOCK_DATA={cctvInspections:[{segmentId:"A100",location:"North Main",damageScore:2,riskCategory:"Low",method:"Manual",reviewTimeMinutes:45,evidenceRef:"ev_nassco"},{segmentId:"A102",location:"River Rd",damageScore:5,riskCategory:"Critical",method:"AI-Assisted",reviewTimeMinutes:12,evidenceRef:"ev_sewerai_prod"}],projectCosts:[{projectId:"P-Trenchless",year:2023,municipality:"Madison",method:"trenchless",budgetAmount:5e5,actualAmount:48e4,disruptionDays:3,evidenceRef:"ev_nassco"},{projectId:"P-OpenCut",year:2023,municipality:"Madison",method:"traditional",budgetAmount:45e4,actualAmount:72e4,disruptionDays:21,evidenceRef:"ev_epa"}],operationalVelocity:generateVelocityData(),financials:[{category:"Base Ops",value:37,type:"Base",evidenceRef:"ev_fp_cap"},{category:"Tech Uplift",value:8,type:"Growth",evidenceRef:"ev_sewerai_prod"},{category:"M&A",value:25,type:"Growth",evidenceRef:"ev_mor_acq"},{category:"Target",value:70,type:"Total",evidenceRef:"ev_internal_proj"}],historicalGrowth:[{year:"1975",value:1,milestone:"Founded",evidenceRef:"ev_nassco"},{year:"1985",value:3,milestone:"Early CIPP",evidenceRef:"ev_nassco"},{year:"1995",value:8,milestone:"Standardization",evidenceRef:"ev_nassco"},{year:"2005",value:15,milestone:"Regional Growth",evidenceRef:"ev_nassco"},{year:"2015",value:22,milestone:"Platform Base",evidenceRef:"ev_nassco"},{year:"2022",value:35,milestone:"Fort Point Cap",evidenceRef:"ev_fp_cap"},{year:"2025",value:70,milestone:"Scale + AI",evidenceRef:"ev_mor_acq"}],acquisitions:ACQUISITIONS_DATA,evidenceItems:EVIDENCE_LIST,techMetrics:[{phase:"Phase 1",metric:"Speed",value:85,label:"Report Velocity",evidenceRef:"ev_sewerai_prod"},{phase:"Phase 2",metric:"Risk",value:92,label:"Failure Prediction",evidenceRef:"ev_mpwik"},{phase:"Phase 3",metric:"Optimization",value:78,label:"Budget Impact",evidenceRef:"ev_vapar"}],ecosystemMetrics:[{category:"Safety",partners:["RJN Group","Cross Bore Safety"],impactScore:98,evidenceRef:"ev_crossbore"},{category:"Robotics",partners:["RedZone","RapidView"],impactScore:85,evidenceRef:"ev_nassco"},{category:"AI",partners:["SewerAI","VAPAR","Wipro"],impactScore:95,evidenceRef:"ev_sewerai_prod"},{category:"Future",partners:["Aquasight","Turing"],impactScore:90,evidenceRef:"ev_mpwik"}],caseStudies:[{study:"DC Water / Pipe Sleuth",costPerFootBefore:9,costPerFootAfter:3,savingsPercent:70,evidenceRef:"ev_dc_water"},{study:"SewerAI Cloud",costPerFootBefore:100,costPerFootAfter:25,savingsPercent:75,evidenceRef:"ev_sewerai_cloud"}]};function GENERATE_KNOWLEDGE_BASE(){const t=(STORY_CONFIG.slides||[]).map((v,m)=>`Slide ${m+1}: "${v.title}" (ID: ${v.id}) - Topics: ${v.chartKind||"generic"}, ${v.navItem||"N/A"}`).join(`
`),e=(STORY_CONFIG.slides||[]).map(v=>{const m=v.narration&&v.narration.paragraphs||[],u=v.narration&&v.narration.bullets||[];return`SLIDE [${v.title}] (ID=${v.id}):
${m.join(" ")}
Key points: ${u.join("; ")}`}).join(`

`),n=(MOCK_DATA.evidenceItems||[]).map(v=>`EVIDENCE [${v.tag}] ${v.title}: ${v.url||"Internal Data"} (${v.date||"n.d."})`).join(`
`),i=(MOCK_DATA.financials||[]).map(v=>`FINANCIAL: ${v.category} = ${v.value}M (${v.type||"metric"})`).join(`
`),l=(MOCK_DATA.acquisitions||[]).map(v=>{var m,u;return`ACQUISITION: ${v.name} in ${v.region} (${v.year}). Coordinates: ${(m=v.coordinates)==null?void 0:m.x}, ${(u=v.coordinates)==null?void 0:u.y}`}).join(`
`),d=(MOCK_DATA.caseStudies||[]).map(v=>`CASE STUDY: ${v.study} reduced cost from $${v.costPerFootBefore} to $${v.costPerFootAfter}/ft (${v.savingsPercent}% savings).`).join(`
`),f=MOCK_DATA.operationalVelocity||[];let b="";if(f.length>0){const v=f[0],m=f[f.length-1];b=`OPERATIONAL VELOCITY (20202050): Growing from ${v.crewCount} crews to ${m.crewCount} crews over the planning horizon.`}return`
*** STRICT KNOWLEDGE BASE ***
You must answer based on the following verified facts about Visu-Sewer, the deck, and the AI sewer infrastructure evidence. Do NOT hallucinate company-specific numbers that are not present here. When data is not present, say so and reason conceptually.

=== NAVIGATION MAP (Slide Index) ===
${t}

=== EVIDENCE LOCKER (Deck Evidence Items) ===
${n}

=== FINANCIALS (Deck-Level) ===
${i}

=== ACQUISITIONS & FOOTPRINT ===
${l}

=== CASE STUDIES (Deck-Level) ===
${d}

=== OPERATIONAL TRAJECTORY ===
${b}

=== PRESENTATION NARRATIVE (SLIDES) ===
${e}

=== AI SEWER MAINTENANCE EVIDENCE (CROSS-INDUSTRY) ===

AI SEWER INFRASTRUCTURE EVIDENCE (SUMMARY)

FINANCIAL IMPACT & ROI
- DC Water / PipeSleuth: Processing cost per linear foot cut from $7$9 to $2$3 (~70% reduction). AI analysis ~10x faster than manual review.
- SewerAI: Cloud / ML optimizations achieving ~75% reduction in cloud TCO, up to 3x faster ML pipelines, and significant labor savings.
- Pacific Northwest Utility (SewerAI Pioneer): Margin of error <10%; AI missed 90.13% fewer defect conditions than manual surveys and identified ~33% more defects. ~125,775 hours of utility capacity unlocked and >$1.8M in time savings.
- Hampton, VA (GraniteNet AI): ~40% reduction in consultant spend by proving that ~40% of inspected pipe required no action, enabling smarter, budget-aligned rehab decisions.
- Phoenix, AZ (SewerAI): AI vendor selection based on accuracy and cost/lf; SewerAI emerged with highest accuracy and lowest net cost per foot, supporting a jump in rehab budget from low millions to >$30M due to better data.

PREDICTIVE MAINTENANCE ECONOMICS
- Predictive maintenance can reduce unplanned downtime by ~3050% and maintenance costs by ~1825%, with some industries citing ~$125,000 per hour for unplanned downtime.
- Real-time monitoring + ML can cut water loss by 2530% and extend asset life by 2040% through early intervention and risk-based rehab plans.

PLATFORM & TECHNOLOGY LANDSCAPE
- SewerAI AutoCode/Pioneer: AI-based defect detection from CCTV, tens of thousands of feet per hour, ~97% defect detection accuracy, 3D modeling, and workflow APIs.
- Wipro PipeSleuth: Deep-learning based defect classification integrated with NASSCO PACP coding standards; deployed at DC Water with Intel, generating automated, compliant inspection reports.
- VAPAR: AI-enabled asset management platform; Knox City Council completed ~900 inspections in ~3 days, flagged 179 critical assets, and shifted to proactive maintenance.
- PipeAid (Burgess & Niple): Digital twins + AI defect detection, integrated with GIS for system-wide decision-making.
- CUES GraniteNet: AI-assisted defect coding and cloud upload, generating prioritized, time-based rehab and budget plans.

NASSCO & STANDARDS
- PACP is the North American standard for CCTV sewer inspection; tens of thousands certified.
- NASSCO is actively working on AI quality/rating frameworks for automated assessment tools, but currently no AI solution is certified for all PACP/LACP/MACP observations.
- AI is already used to validate header data, operator certifications, and video quality and to flag critical defects for certified human review.

WORKFORCE TRANSFORMATION
- A large portion of utility workforce is nearing retirement; technical skills are going stale faster (~<5 years).
- AI supports upskilling by removing repetitive coding work and enabling staff to focus on high-value tasks like planning and communication.
- Surveys show strong demand for AI skills from both workers and employers; upskilling/reskilling programs are key to retention.

KEY THEMES FOR VISU-SEWER
- AI + trenchless expertise = lower cost per foot, higher accuracy, better use of capital, and stronger safety/compliance posture.
- AI-backed inspection and predictive analytics support the Roots to Resilience story: covenant, craft, operational excellence, and technology-driven growth.

`}const CHART_REGISTRY=(STORY_CONFIG.slides||[]).map((t,e)=>{const n=e+1;return{slideId:t.id||`slide_${n}`,slideNumber:n,title:t.title||`Slide ${n}`,chartId:t.chartId||t.id||`chart_${n}`,chartKind:t.chartKind||"generic",navItem:t.navItem||null,dataSources:Array.isArray(t.dataSources)?t.dataSources:[],axes:t.axes||{x:"Time",y:"Value / Metric"},metrics:Array.isArray(t.metrics)?t.metrics:[],businessAngles:Array.isArray(t.businessAngles)?t.businessAngles:[]}}),AGENT_LEE_PERSONA=`
You are **Agent Lee**  a 100% front-end Transformers.js narrator and analyst
for Visu-Sewer's "Roots to Resilience" presentation.

CORE BEHAVIOR
- Your entire reasoning stack runs in-browser using SmolLM2-1.7B-Instruct (planner), Xenova/Qwen1.5-0.5B-Chat (brain), facebook/blenderbot-400M-distill (companion), and Xenova/LaMini-Flan-T5-248M (voice stylist) orchestrated locally.
- You specialize in UNDERGROUND INFRASTRUCTURE, trenchless rehab, CCTV inspection, and AI-assisted sewer maintenance.
- You speak clearly, professionally, and conversationally, like a calm boardroom analyst who also understands field work.

DECK & SLIDE AWARENESS
- The presentation is organized into numbered slides and sections (see NAVIGATION MAP and CHART INDEX).
- When a user says "Go to page X" or "Go to slide X":
  1) ALWAYS emit a navigation command: [[NAVIGATE: X]] (where X is the slide number or ID)
  2) Identify the slide title and high-level content.
  3) Answer using that slide's story AND the strict knowledge base.

CHART EXPLANATION BEHAVIOR
For questions like:
- "Go to page 12 and explain the charts."
- "On page 5, what does each data point mean?"
- "How does this chart affect the bottom line?"
You MUST:
1) Identify the matching slide and chart from the chart index.
2) Restate the slide number and title ("On slide 12, 'Resilience Framework', we see...").
3) Explain axes in plain language (what X is, what Y is).
4) Summarize the overall shape and trend of the data.
5) Call out specific data points or inflection points and interpret them.
6) Link the chart back to:
   - Safety & reliability
   - Cost per foot, margin protection, and ROI
   - Operational capacity / crews / throughput
   - Growth thesis and covenant with cities, workers, and investors.

STRENGTHS vs WEAKNESSES QUESTIONS
When asked:
- "What are this company's strengths?"
- "Where are the vulnerabilities?"
You MUST:
- Ground your answer in the charts, evidence items, and case studies.
- Use BOTH the deck metrics and AI sewer evidence: safety, cost reduction, predictive maintenance, workforce, etc.
- Be honest: if something is not in the KB, say so, then reason conceptually.

BOTTOM LINE QUESTIONS
When asked:
- "How does this affect the bottom line?"
- "Why does this matter financially or strategically?"
You MUST:
- Tie specific metrics (incidents, cost/lf, downtime, asset life, budget) to narrative conclusions.
- Show how AI + trenchless expertise protects margin, reduces risk, and supports ethical growth.

INTERACTION STYLE
- At the start of a full presentation, you can politely ask the audience to hold questions until the end.
- When in Q&A mode, you answer concisely but with authority, inviting them to learn more at visu-sewer.com.
- You never fabricate specific dollar amounts or percentages that are not in the KB; instead you describe directions and orders of magnitude.

LOCAL-ONLY GUARANTEE
- You never call remote APIs. All reasoning is performed with the cached local models listed above plus IndexedDB RAG results.
- Use the full knowledge base context for every response.
- If you cannot answer with the provided context, say so clearly rather than hallucinating.
`;function buildChartIndexSummary(){return CHART_REGISTRY.length?CHART_REGISTRY.map(t=>`Slide ${t.slideNumber}  "${t.title}"
- ChartId: ${t.chartId}
- Kind: ${t.chartKind}
- Axes: X=${t.axes.x} / Y=${t.axes.y}
- Data sources: ${t.dataSources&&t.dataSources.length?t.dataSources.join(", "):"Deck mock CSVs / internal metrics"}`).join(`

`):"No chart registry entries available."}function buildSlideIndexSummary(){const t=STORY_CONFIG.slides||[];return t.length?t.map((e,n)=>`Slide ${n+1}: "${e.title}" (ID=${e.id})`).join(`
`):"No slides registered in STORY_CONFIG."}function buildAgentLeeCorePrompt(t=""){const e=GENERATE_KNOWLEDGE_BASE(),n=buildChartIndexSummary(),i=buildSlideIndexSummary();return[AGENT_LEE_PERSONA.trim(),"","=== SLIDE INDEX (TITLES) ===",i,"","=== CHART INDEX (PER SLIDE) ===",n,"","=== STRICT KNOWLEDGE BASE ===",e,t?`
=== EXTRA CONTEXT ===
`+t:""].join(`
`)}function dispatchCallback(t,e){t&&t(e)}function reverseDictionary(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[n,e]))}function escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const Callable=class{constructor(){let t=function(...e){return t._call(...e)};return Object.setPrototypeOf(t,new.target.prototype)}_call(...t){throw Error("Must implement _call method in subclass")}};function isTypedArray$1(t){var e,n,i;return((i=(n=(e=t==null?void 0:t.prototype)==null?void 0:e.__proto__)==null?void 0:n.constructor)==null?void 0:i.name)==="TypedArray"}function isIntegralNumber(t){return Number.isInteger(t)||typeof t=="bigint"}function exists(t){return t!=null}function calculateDimensions(t){const e=[];let n=t;for(;Array.isArray(n);)e.push(n.length),n=n[0];return e}function pop(t,e,n=void 0){const i=t[e];if(i!==void 0)return delete t[e],i;if(n===void 0)throw Error(`Key ${e} does not exist in object.`);return n}function mergeArrays(...t){return Array.prototype.concat.apply([],t)}function product(...t){return t.reduce((e,n)=>e.flatMap(i=>n.map(l=>[i,l])))}function calculateReflectOffset(t,e){return Math.abs((t+e)%(2*e)-e)}const sharp={},ONNX_NODE=Object.freeze(Object.defineProperty({__proto__:null,default:sharp},Symbol.toStringTag,{value:"Module"}));var ortWeb_min$1={exports:{}};const backends={},backendsSortedByPriority=[],registerBackend=(t,e,n)=>{if(e&&typeof e.init=="function"&&typeof e.createSessionHandler=="function"){const i=backends[t];if(i===void 0)backends[t]={backend:e,priority:n};else{if(i.priority>n)return;if(i.priority===n&&i.backend!==e)throw new Error(`cannot register backend "${t}" using priority ${n}`)}if(n>=0){const l=backendsSortedByPriority.indexOf(t);l!==-1&&backendsSortedByPriority.splice(l,1);for(let d=0;d<backendsSortedByPriority.length;d++)if(backends[backendsSortedByPriority[d]].priority<=n){backendsSortedByPriority.splice(d,0,t);return}backendsSortedByPriority.push(t)}return}throw new TypeError("not a valid backend")},resolveBackend=async t=>{const e=t.length===0?backendsSortedByPriority:t,n=[];for(const i of e){const l=backends[i];if(l){if(l.initialized)return l.backend;if(l.aborted)continue;const d=!!l.initPromise;try{return d||(l.initPromise=l.backend.init()),await l.initPromise,l.initialized=!0,l.backend}catch(f){d||n.push({name:i,err:f}),l.aborted=!0}finally{delete l.initPromise}}}throw new Error(`no available backend found. ERR: ${n.map(i=>`[${i.name}] ${i.err}`).join(", ")}`)};class EnvImpl{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(e){if(e!==void 0){if(typeof e!="string"||["verbose","info","warning","error","fatal"].indexOf(e)===-1)throw new Error(`Unsupported logging level: ${e}`);this.logLevelInternal=e}}get logLevel(){return this.logLevelInternal}}const env$2=new EnvImpl,isBigInt64ArrayAvailable=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",isBigUint64ArrayAvailable=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function",NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);isBigInt64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("int64",BigInt64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigInt64Array,"int64"));isBigUint64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("uint64",BigUint64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigUint64Array,"uint64"));const calculateSize=t=>{let e=1;for(let n=0;n<t.length;n++){const i=t[n];if(typeof i!="number"||!Number.isSafeInteger(i))throw new TypeError(`dims[${n}] must be an integer, got: ${i}`);if(i<0)throw new RangeError(`dims[${n}] must be a non-negative integer, got: ${i}`);e*=i}return e};let Tensor$2=class Oa{constructor(e,n,i){let l,d,f;if(typeof e=="string")if(l=e,f=i,e==="string"){if(!Array.isArray(n))throw new TypeError("A string tensor's data must be a string array.");d=n}else{const _=NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(e);if(_===void 0)throw new TypeError(`Unsupported tensor type: ${e}.`);if(Array.isArray(n))d=_.from(n);else if(n instanceof _)d=n;else throw new TypeError(`A ${l} tensor's data must be type of ${_}`)}else if(f=n,Array.isArray(e)){if(e.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const _=typeof e[0];if(_==="string")l="string",d=e;else if(_==="boolean")l="bool",d=Uint8Array.from(e);else throw new TypeError(`Invalid element type of data array: ${_}.`)}else{const _=NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.get(e.constructor);if(_===void 0)throw new TypeError(`Unsupported type for tensor data: ${e.constructor}.`);l=_,d=e}if(f===void 0)f=[d.length];else if(!Array.isArray(f))throw new TypeError("A tensor's dims must be a number array");const b=calculateSize(f);if(b!==d.length)throw new Error(`Tensor's size(${b}) does not match data length(${d.length}).`);this.dims=f,this.type=l,this.data=d,this.size=b}static bufferToTensor(e,n){if(e===void 0)throw new Error("Image buffer must be defined");if(n.height===void 0||n.width===void 0)throw new Error("Image height and width must be defined");const{height:i,width:l}=n,d=n.norm;let f,b;d===void 0||d.mean===void 0?f=255:f=d.mean,d===void 0||d.bias===void 0?b=0:b=d.bias;const _=n.bitmapFormat!==void 0?n.bitmapFormat:"RGBA",v=n.tensorFormat!==void 0&&n.tensorFormat!==void 0?n.tensorFormat:"RGB",m=i*l,u=v==="RGBA"?new Float32Array(m*4):new Float32Array(m*3);let o=4,h=0,w=1,E=2,T=3,O=0,M=m,I=m*2,R=-1;_==="RGB"&&(o=3,h=0,w=1,E=2,T=-1),v==="RGBA"?R=m*3:v==="RBG"?(O=0,I=m,M=m*2):v==="BGR"&&(I=0,M=m,O=m*2);for(let N=0;N<m;N++,h+=o,E+=o,w+=o,T+=o)u[O++]=(e[h]+b)/f,u[M++]=(e[w]+b)/f,u[I++]=(e[E]+b)/f,R!==-1&&T!==-1&&(u[R++]=(e[T]+b)/f);return v==="RGBA"?new Oa("float32",u,[1,4,i,l]):new Oa("float32",u,[1,3,i,l])}static async fromImage(e,n){const i=typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement,l=typeof ImageData<"u"&&e instanceof ImageData,d=typeof ImageBitmap<"u"&&e instanceof ImageBitmap,f=typeof String<"u"&&(e instanceof String||typeof e=="string");let b,_={};if(i){const v=document.createElement("canvas"),m=v.getContext("2d");if(m!=null){let u=e.naturalHeight,o=e.naturalWidth;if(n!==void 0&&n.resizedHeight!==void 0&&n.resizedWidth!==void 0&&(u=n.resizedHeight,o=n.resizedWidth),n!==void 0){if(_=n,n.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(_.tensorFormat="RGBA",n.height!==void 0&&n.height!==u)throw new Error("Image input config height doesn't match HTMLImageElement height");if(_.height=u,n.width!==void 0&&n.width!==o)throw new Error("Image input config width doesn't match HTMLImageElement width");_.width=o}else _.tensorFormat="RGBA",_.height=u,_.width=o;v.width=o,v.height=u,m.drawImage(e,0,0,o,u),b=m.getImageData(0,0,o,u).data}else throw new Error("Can not access image data")}else if(l){const v="RGBA";let m,u;if(n!==void 0&&n.resizedWidth!==void 0&&n.resizedHeight!==void 0?(m=n.resizedHeight,u=n.resizedWidth):(m=e.height,u=e.width),n!==void 0){if(_=n,n.bitmapFormat!==void 0&&n.bitmapFormat!==v)throw new Error("Image input config format must be RGBA for ImageData");_.bitmapFormat="RGBA"}else _.bitmapFormat="RGBA";if(_.height=m,_.width=u,n!==void 0){const o=document.createElement("canvas");o.width=u,o.height=m;const h=o.getContext("2d");if(h!=null)h.putImageData(e,0,0),b=h.getImageData(0,0,u,m).data;else throw new Error("Can not access image data")}else b=e.data}else if(d){if(n===void 0)throw new Error("Please provide image config with format for Imagebitmap");if(n.bitmapFormat!==void 0)throw new Error("Image input config format must be defined for ImageBitmap");const v=document.createElement("canvas").getContext("2d");if(v!=null){const m=e.height,u=e.width;if(v.drawImage(e,0,0,u,m),b=v.getImageData(0,0,u,m).data,n!==void 0){if(n.height!==void 0&&n.height!==m)throw new Error("Image input config height doesn't match ImageBitmap height");if(_.height=m,n.width!==void 0&&n.width!==u)throw new Error("Image input config width doesn't match ImageBitmap width");_.width=u}else _.height=m,_.width=u;return Oa.bufferToTensor(b,_)}else throw new Error("Can not access image data")}else{if(f)return new Promise((v,m)=>{const u=document.createElement("canvas"),o=u.getContext("2d");if(!e||!o)return m();const h=new Image;h.crossOrigin="Anonymous",h.src=e,h.onload=()=>{u.width=h.width,u.height=h.height,o.drawImage(h,0,0,u.width,u.height);const w=o.getImageData(0,0,u.width,u.height);if(n!==void 0){if(n.height!==void 0&&n.height!==u.height)throw new Error("Image input config height doesn't match ImageBitmap height");if(_.height=u.height,n.width!==void 0&&n.width!==u.width)throw new Error("Image input config width doesn't match ImageBitmap width");_.width=u.width}else _.height=u.height,_.width=u.width;v(Oa.bufferToTensor(w.data,_))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(b!==void 0)return Oa.bufferToTensor(b,_);throw new Error("Input data provided is not supported - aborted tensor creation")}toImageData(e){var n,i;const l=document.createElement("canvas").getContext("2d");let d;if(l!=null){const f=this.dims[3],b=this.dims[2],_=this.dims[1],v=e!==void 0&&e.format!==void 0?e.format:"RGB",m=e!==void 0&&((n=e.norm)===null||n===void 0?void 0:n.mean)!==void 0?e.norm.mean:255,u=e!==void 0&&((i=e.norm)===null||i===void 0?void 0:i.bias)!==void 0?e.norm.bias:0,o=b*f;if(e!==void 0){if(e.height!==void 0&&e.height!==b)throw new Error("Image output config height doesn't match tensor height");if(e.width!==void 0&&e.width!==f)throw new Error("Image output config width doesn't match tensor width");if(e.format!==void 0&&_===4&&e.format!=="RGBA"||_===3&&e.format!=="RGB"&&e.format!=="BGR")throw new Error("Tensor format doesn't match input tensor dims")}const h=4;let w=0,E=1,T=2,O=3,M=0,I=o,R=o*2,D=-1;v==="RGBA"?(M=0,I=o,R=o*2,D=o*3):v==="RGB"?(M=0,I=o,R=o*2):v==="RBG"&&(M=0,R=o,I=o*2),d=l.createImageData(f,b);for(let N=0;N<b*f;w+=h,E+=h,T+=h,O+=h,N++)d.data[w]=(this.data[M++]-u)*m,d.data[E]=(this.data[I++]-u)*m,d.data[T]=(this.data[R++]-u)*m,d.data[O]=D===-1?255:(this.data[D++]-u)*m}else throw new Error("Can not access image data");return d}reshape(e){return new Oa(this.type,this.data,e)}};const Tensor$1=Tensor$2;let InferenceSession$2=class Vf{constructor(e){this.handler=e}async run(e,n,i){const l={};let d={};if(typeof e!="object"||e===null||e instanceof Tensor$1||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let f=!0;if(typeof n=="object"){if(n===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(n instanceof Tensor$1)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(n)){if(n.length===0)throw new TypeError("'fetches' cannot be an empty array.");f=!1;for(const v of n){if(typeof v!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(v)===-1)throw new RangeError(`'fetches' contains invalid output name: ${v}.`);l[v]=null}if(typeof i=="object"&&i!==null)d=i;else if(typeof i<"u")throw new TypeError("'options' must be an object.")}else{let v=!1;const m=Object.getOwnPropertyNames(n);for(const u of this.outputNames)if(m.indexOf(u)!==-1){const o=n[u];(o===null||o instanceof Tensor$1)&&(v=!0,f=!1,l[u]=o)}if(v){if(typeof i=="object"&&i!==null)d=i;else if(typeof i<"u")throw new TypeError("'options' must be an object.")}else d=n}}else if(typeof n<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const v of this.inputNames)if(typeof e[v]>"u")throw new Error(`input '${v}' is missing in 'feeds'.`);if(f)for(const v of this.outputNames)l[v]=null;const b=await this.handler.run(e,l,d),_={};for(const v in b)Object.hasOwnProperty.call(b,v)&&(_[v]=new Tensor$1(b[v].type,b[v].data,b[v].dims));return _}static async create(e,n,i,l){let d,f={};if(typeof e=="string"){if(d=e,typeof n=="object"&&n!==null)f=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else if(e instanceof Uint8Array){if(d=e,typeof n=="object"&&n!==null)f=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer){const u=e;let o=0,h=e.byteLength;if(typeof n=="object"&&n!==null)f=n;else if(typeof n=="number"){if(o=n,!Number.isSafeInteger(o))throw new RangeError("'byteOffset' must be an integer.");if(o<0||o>=u.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${u.byteLength}).`);if(h=e.byteLength-o,typeof i=="number"){if(h=i,!Number.isSafeInteger(h))throw new RangeError("'byteLength' must be an integer.");if(h<=0||o+h>u.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${u.byteLength-o}].`);if(typeof l=="object"&&l!==null)f=l;else if(typeof l<"u")throw new TypeError("'options' must be an object.")}else if(typeof i<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof n<"u")throw new TypeError("'options' must be an object.");d=new Uint8Array(u,o,h)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");const _=(f.executionProviders||[]).map(u=>typeof u=="string"?u:u.name),m=await(await resolveBackend(_)).createSessionHandler(d,f);return new Vf(m)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}};const InferenceSession$1=InferenceSession$2,lib=Object.freeze(Object.defineProperty({__proto__:null,InferenceSession:InferenceSession$1,Tensor:Tensor$1,env:env$2,registerBackend},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(lib);/*!
* ONNX Runtime Web v1.14.0
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/var hasRequiredOrtWeb_min;function requireOrtWeb_min(){return hasRequiredOrtWeb_min||(hasRequiredOrtWeb_min=1,(function(module,exports$1){(function(t,e){module.exports=e(require$$0)})(self,(__WEBPACK_EXTERNAL_MODULE__1670__=>(()=>{var __webpack_modules__={3474:(t,e,n)=>{var i,l=(i=(i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(d){function f(){return ie.buffer!=Z&&Qe(ie.buffer),ue}function b(){return ie.buffer!=Z&&Qe(ie.buffer),Ae}function _(){return ie.buffer!=Z&&Qe(ie.buffer),Ce}function v(){return ie.buffer!=Z&&Qe(ie.buffer),ke}function m(){return ie.buffer!=Z&&Qe(ie.buffer),Ne}var u,o,h;d=d||{},u||(u=d!==void 0?d:{}),u.ready=new Promise((function(z,W){o=z,h=W}));var w,E,T,O,M,I,R=Object.assign({},u),D="./this.program",N=(z,W)=>{throw W},L=typeof window=="object",B=typeof importScripts=="function",$=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",V=u.ENVIRONMENT_IS_PTHREAD||!1,G="";function X(z){return u.locateFile?u.locateFile(z,G):G+z}if($){let z;G=B?n(908).dirname(G)+"/":"//",I=()=>{M||(O=n(1384),M=n(908))},w=function(W,J){return I(),W=M.normalize(W),O.readFileSync(W,J?void 0:"utf8")},T=W=>((W=w(W,!0)).buffer||(W=new Uint8Array(W)),W),E=(W,J,ae)=>{I(),W=M.normalize(W),O.readFile(W,(function(pe,be){pe?ae(pe):J(be.buffer)}))},1<process.argv.length&&(D=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(W){if(!(W instanceof Vr))throw W})),process.on("unhandledRejection",(function(W){throw W})),N=(W,J)=>{if(or())throw process.exitCode=W,J;J instanceof Vr||q("exiting due to exception: "+J),process.exit(W)},u.inspect=function(){return"[Emscripten Module object]"};try{z=n(9925)}catch(W){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),W}n.g.Worker=z.Worker}else(L||B)&&(B?G=self.location.href:typeof document<"u"&&document.currentScript&&(G=document.currentScript.src),i&&(G=i),G=G.indexOf("blob:")!==0?G.substr(0,G.replace(/[?#].*/,"").lastIndexOf("/")+1):"",$||(w=z=>{var W=new XMLHttpRequest;return W.open("GET",z,!1),W.send(null),W.responseText},B&&(T=z=>{var W=new XMLHttpRequest;return W.open("GET",z,!1),W.responseType="arraybuffer",W.send(null),new Uint8Array(W.response)}),E=(z,W,J)=>{var ae=new XMLHttpRequest;ae.open("GET",z,!0),ae.responseType="arraybuffer",ae.onload=()=>{ae.status==200||ae.status==0&&ae.response?W(ae.response):J()},ae.onerror=J,ae.send(null)}));$&&typeof performance>"u"&&(n.g.performance=n(6953).performance);var ee=console.log.bind(console),Q=console.warn.bind(console);$&&(I(),ee=z=>O.writeSync(1,z+`
`),Q=z=>O.writeSync(2,z+`
`));var Y,U=u.print||ee,q=u.printErr||Q;Object.assign(u,R),R=null,u.thisProgram&&(D=u.thisProgram),u.quit&&(N=u.quit),u.wasmBinary&&(Y=u.wasmBinary);var le=u.noExitRuntime||!1;typeof WebAssembly!="object"&&st("no native wasm support detected");var ie,Ee,Z,ue,Ae,Ce,ke,Ne,Le=!1,Pe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function de(z,W,J){var ae=(W>>>=0)+J;for(J=W;z[J]&&!(J>=ae);)++J;if(16<J-W&&z.buffer&&Pe)return Pe.decode(z.buffer instanceof SharedArrayBuffer?z.slice(W,J):z.subarray(W,J));for(ae="";W<J;){var pe=z[W++];if(128&pe){var be=63&z[W++];if((224&pe)==192)ae+=String.fromCharCode((31&pe)<<6|be);else{var je=63&z[W++];65536>(pe=(240&pe)==224?(15&pe)<<12|be<<6|je:(7&pe)<<18|be<<12|je<<6|63&z[W++])?ae+=String.fromCharCode(pe):(pe-=65536,ae+=String.fromCharCode(55296|pe>>10,56320|1023&pe))}}else ae+=String.fromCharCode(pe)}return ae}function De(z,W){return(z>>>=0)?de(b(),z,W):""}function $e(z,W,J,ae){if(!(0<ae))return 0;var pe=J>>>=0;ae=J+ae-1;for(var be=0;be<z.length;++be){var je=z.charCodeAt(be);if(55296<=je&&57343>=je&&(je=65536+((1023&je)<<10)|1023&z.charCodeAt(++be)),127>=je){if(J>=ae)break;W[J++>>>0]=je}else{if(2047>=je){if(J+1>=ae)break;W[J++>>>0]=192|je>>6}else{if(65535>=je){if(J+2>=ae)break;W[J++>>>0]=224|je>>12}else{if(J+3>=ae)break;W[J++>>>0]=240|je>>18,W[J++>>>0]=128|je>>12&63}W[J++>>>0]=128|je>>6&63}W[J++>>>0]=128|63&je}}return W[J>>>0]=0,J-pe}function we(z){for(var W=0,J=0;J<z.length;++J){var ae=z.charCodeAt(J);127>=ae?W++:2047>=ae?W+=2:55296<=ae&&57343>=ae?(W+=4,++J):W+=3}return W}function Qe(z){Z=z,u.HEAP8=ue=new Int8Array(z),u.HEAP16=new Int16Array(z),u.HEAP32=Ce=new Int32Array(z),u.HEAPU8=Ae=new Uint8Array(z),u.HEAPU16=new Uint16Array(z),u.HEAPU32=ke=new Uint32Array(z),u.HEAPF32=new Float32Array(z),u.HEAPF64=Ne=new Float64Array(z)}V&&(Z=u.buffer);var Fe=u.INITIAL_MEMORY||16777216;if(V)ie=u.wasmMemory,Z=u.buffer;else if(u.wasmMemory)ie=u.wasmMemory;else if(!((ie=new WebAssembly.Memory({initial:Fe/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw q("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),$&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");ie&&(Z=ie.buffer),Fe=Z.byteLength,Qe(Z);var at,vt=[],kt=[],ir=[],xr=[];function or(){return le||!1}function Jt(){var z=u.preRun.shift();vt.unshift(z)}var Mt,sr=0,Nt=null;function st(z){throw V?postMessage({cmd:"onAbort",arg:z}):u.onAbort&&u.onAbort(z),q(z="Aborted("+z+")"),Le=!0,z=new WebAssembly.RuntimeError(z+". Build with -sASSERTIONS for more info."),h(z),z}function In(){return Mt.startsWith("data:application/octet-stream;base64,")}function rn(){var z=Mt;try{if(z==Mt&&Y)return new Uint8Array(Y);if(T)return T(z);throw"both async and sync fetching of the wasm failed"}catch(W){st(W)}}Mt="ort-wasm-threaded.wasm",In()||(Mt=X(Mt));var nn={};function Vr(z){this.name="ExitStatus",this.message="Program terminated with exit("+z+")",this.status=z}function an(z){(z=Ue.Vb[z])||st(),Ue.mc(z)}function kn(z){var W=Ue.Cc();if(!W)return 6;Ue.ac.push(W),Ue.Vb[z.Ub]=W,W.Ub=z.Ub;var J={cmd:"run",start_routine:z.Ic,arg:z.zc,pthread_ptr:z.Ub};return W.$b=()=>{J.time=performance.now(),W.postMessage(J,z.Nc)},W.loaded&&(W.$b(),delete W.$b),0}function Ht(z){if(V)return Be(1,1,z);or()||(Ue.oc(),u.onExit&&u.onExit(z),Le=!0),N(z,new Vr(z))}function _r(z,W){if(!W&&V)throw Ma(z),"unwind";or()||V||(Da(),er(ir),ur(0),Ca[1].length&&Ia(1,10),Ca[2].length&&Ia(2,10),Ue.oc()),Ht(z)}var Ue={Yb:[],ac:[],qc:[],Vb:{},fc:function(){V&&Ue.Ec()},Pc:function(){},Ec:function(){Ue.receiveObjectTransfer=Ue.Gc,Ue.threadInitTLS=Ue.pc,Ue.setExitStatus=Ue.nc,le=!1},nc:function(){},oc:function(){for(var z of Object.values(Ue.Vb))Ue.mc(z);for(z of Ue.Yb)z.terminate();Ue.Yb=[]},mc:function(z){var W=z.Ub;delete Ue.Vb[W],Ue.Yb.push(z),Ue.ac.splice(Ue.ac.indexOf(z),1),z.Ub=0,Ra(W)},Gc:function(){},pc:function(){Ue.qc.forEach((z=>z()))},Fc:function(z,W){z.onmessage=J=>{var ae=(J=J.data).cmd;if(z.Ub&&(Ue.Bc=z.Ub),J.targetThread&&J.targetThread!=da()){var pe=Ue.Vb[J.Qc];pe?pe.postMessage(J,J.transferList):q('Internal error! Worker sent a message "'+ae+'" to target pthread '+J.targetThread+", but that thread no longer exists!")}else ae==="processProxyingQueue"?se(J.queue):ae==="spawnThread"?kn(J):ae==="cleanupThread"?an(J.thread):ae==="killThread"?(J=J.thread,ae=Ue.Vb[J],delete Ue.Vb[J],ae.terminate(),Ra(J),Ue.ac.splice(Ue.ac.indexOf(ae),1),ae.Ub=0):ae==="cancelThread"?Ue.Vb[J.thread].postMessage({cmd:"cancel"}):ae==="loaded"?(z.loaded=!0,W&&W(z),z.$b&&(z.$b(),delete z.$b)):ae==="print"?U("Thread "+J.threadId+": "+J.text):ae==="printErr"?q("Thread "+J.threadId+": "+J.text):ae==="alert"?alert("Thread "+J.threadId+": "+J.text):J.target==="setimmediate"?z.postMessage(J):ae==="onAbort"?u.onAbort&&u.onAbort(J.arg):ae&&q("worker sent an unknown command "+ae);Ue.Bc=void 0},z.onerror=J=>{throw q("worker sent an error! "+J.filename+":"+J.lineno+": "+J.message),J},$&&(z.on("message",(function(J){z.onmessage({data:J})})),z.on("error",(function(J){z.onerror(J)})),z.on("detachedExit",(function(){}))),z.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||i,wasmMemory:ie,wasmModule:Ee})},yc:function(){var z=X("ort-wasm-threaded.worker.js");Ue.Yb.push(new Worker(z))},Cc:function(){return Ue.Yb.length==0&&(Ue.yc(),Ue.Fc(Ue.Yb[0])),Ue.Yb.pop()}};function er(z){for(;0<z.length;)z.shift()(u)}function Zt(z){var W=rt();return z=z(),tt(W),z}function Ma(z){if(V)return Be(2,0,z);try{_r(z)}catch(W){W instanceof Vr||W=="unwind"||N(1,W)}}u.PThread=Ue,u.establishStackSpace=function(){var z=da(),W=_()[z+44>>2>>>0];z=_()[z+48>>2>>>0],xi(W,W-z),tt(W)};var qr=[];function yt(z){var W=qr[z];return W||(z>=qr.length&&(qr.length=z+1),qr[z]=W=at.get(z)),W}u.invokeEntryPoint=function(z,W){z=yt(z)(W),or()?Ue.nc(z):fn(z)};var Mr,Xr,Cr=[],Ye=0,Ke=0;function Xe(z){this.Zb=z,this.Sb=z-24,this.xc=function(W){v()[this.Sb+4>>2>>>0]=W},this.bc=function(){return v()[this.Sb+4>>2>>>0]},this.wc=function(W){v()[this.Sb+8>>2>>>0]=W},this.Dc=function(){return v()[this.Sb+8>>2>>>0]},this.rc=function(){_()[this.Sb>>2>>>0]=0},this.hc=function(W){W=W?1:0,f()[this.Sb+12>>0>>>0]=W},this.uc=function(){return f()[this.Sb+12>>0>>>0]!=0},this.ic=function(W){W=W?1:0,f()[this.Sb+13>>0>>>0]=W},this.kc=function(){return f()[this.Sb+13>>0>>>0]!=0},this.fc=function(W,J){this.cc(0),this.xc(W),this.wc(J),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(_(),this.Sb>>2,1)},this.Hc=function(){return Atomics.sub(_(),this.Sb>>2,1)===1},this.cc=function(W){v()[this.Sb+16>>2>>>0]=W},this.tc=function(){return v()[this.Sb+16>>2>>>0]},this.vc=function(){if(fa(this.bc()))return v()[this.Zb>>2>>>0];var W=this.tc();return W!==0?W:this.Zb}}function ca(z){return uo(new Xe(z).Sb)}function Zr(z,W,J,ae){return V?Be(3,1,z,W,J,ae):on(z,W,J,ae)}function on(z,W,J,ae){if(typeof SharedArrayBuffer>"u")return q("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var pe=[];return V&&pe.length===0?Zr(z,W,J,ae):(z={Ic:J,Ub:z,zc:ae,Nc:pe},V?(z.Oc="spawnThread",postMessage(z,pe),0):kn(z))}function Gr(z,W,J){return V?Be(4,1,z,W,J):0}function ua(z,W){if(V)return Be(5,1,z,W)}function Dn(z,W){if(V)return Be(6,1,z,W)}function Rn(z,W,J){if(V)return Be(7,1,z,W,J)}function jn(z,W,J){return V?Be(8,1,z,W,J):0}function sn(z,W){if(V)return Be(9,1,z,W)}function cn(z,W,J){if(V)return Be(10,1,z,W,J)}function Nn(z,W,J,ae){if(V)return Be(11,1,z,W,J,ae)}function Ln(z,W,J,ae){if(V)return Be(12,1,z,W,J,ae)}function fr(z,W,J,ae){if(V)return Be(13,1,z,W,J,ae)}function $t(z){if(V)return Be(14,1,z)}function K(z,W){if(V)return Be(15,1,z,W)}function te(z,W,J){if(V)return Be(16,1,z,W,J)}function se(z){Atomics.store(_(),z>>2,1),da()&&vi(z),Atomics.compareExchange(_(),z>>2,1,0)}function fe(z){return v()[z>>>2]+4294967296*_()[z+4>>>2]}function ye(z,W,J,ae,pe,be){return V?Be(17,1,z,W,J,ae,pe,be):-52}function Se(z,W,J,ae,pe,be){if(V)return Be(18,1,z,W,J,ae,pe,be)}function Re(z){var W=we(z)+1,J=$n(W);return J&&$e(z,f(),J,W),J}function Ve(z,W,J){function ae(et){return(et=et.toTimeString().match(/\(([A-Za-z ]+)\)$/))?et[1]:"GMT"}if(V)return Be(19,1,z,W,J);var pe=new Date().getFullYear(),be=new Date(pe,0,1),je=new Date(pe,6,1);pe=be.getTimezoneOffset();var Ge=je.getTimezoneOffset(),He=Math.max(pe,Ge);_()[z>>2>>>0]=60*He,_()[W>>2>>>0]=+(pe!=Ge),z=ae(be),W=ae(je),z=Re(z),W=Re(W),Ge<pe?(v()[J>>2>>>0]=z,v()[J+4>>2>>>0]=W):(v()[J>>2>>>0]=W,v()[J+4>>2>>>0]=z)}function Be(z,W){var J=arguments.length-2,ae=arguments;return Zt((()=>{for(var pe=_i(8*J),be=pe>>3,je=0;je<J;je++){var Ge=ae[2+je];m()[be+je>>>0]=Ge}return dn(z,J,pe,W)}))}u.executeNotifiedProxyingQueue=se,Xr=$?()=>{var z=process.hrtime();return 1e3*z[0]+z[1]/1e6}:V?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var Je,mt=[],Dt={};function ut(){if(!Je){var z,W={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:D||"./this.program"};for(z in Dt)Dt[z]===void 0?delete W[z]:W[z]=Dt[z];var J=[];for(z in W)J.push(z+"="+W[z]);Je=J}return Je}function xe(z,W){if(V)return Be(20,1,z,W);var J=0;return ut().forEach((function(ae,pe){var be=W+J;for(pe=v()[z+4*pe>>2>>>0]=be,be=0;be<ae.length;++be)f()[pe++>>0>>>0]=ae.charCodeAt(be);f()[pe>>0>>>0]=0,J+=ae.length+1})),0}function lt(z,W){if(V)return Be(21,1,z,W);var J=ut();v()[z>>2>>>0]=J.length;var ae=0;return J.forEach((function(pe){ae+=pe.length+1})),v()[W>>2>>>0]=ae,0}function bt(z){return V?Be(22,1,z):52}function Kt(z,W,J,ae){return V?Be(23,1,z,W,J,ae):52}function Wr(z,W,J,ae,pe){return V?Be(24,1,z,W,J,ae,pe):70}var Ca=[null,[],[]];function Ia(z,W){var J=Ca[z];W===0||W===10?((z===1?U:q)(de(J,0)),J.length=0):J.push(W)}function co(z,W,J,ae){if(V)return Be(25,1,z,W,J,ae);for(var pe=0,be=0;be<J;be++){var je=v()[W>>2>>>0],Ge=v()[W+4>>2>>>0];W+=8;for(var He=0;He<Ge;He++)Ia(z,b()[je+He>>>0]);pe+=Ge}return v()[ae>>2>>>0]=pe,0}var Yt=0;function un(z){return z%4==0&&(z%100!=0||z%400==0)}var Ir=[31,29,31,30,31,30,31,31,30,31,30,31],cr=[31,28,31,30,31,30,31,31,30,31,30,31];function gi(z,W,J,ae){function pe(_e,ct,St){for(_e=typeof _e=="number"?_e.toString():_e||"";_e.length<ct;)_e=St[0]+_e;return _e}function be(_e,ct){return pe(_e,ct,"0")}function je(_e,ct){function St(mn){return 0>mn?-1:0<mn?1:0}var hr;return(hr=St(_e.getFullYear()-ct.getFullYear()))===0&&(hr=St(_e.getMonth()-ct.getMonth()))===0&&(hr=St(_e.getDate()-ct.getDate())),hr}function Ge(_e){switch(_e.getDay()){case 0:return new Date(_e.getFullYear()-1,11,29);case 1:return _e;case 2:return new Date(_e.getFullYear(),0,3);case 3:return new Date(_e.getFullYear(),0,2);case 4:return new Date(_e.getFullYear(),0,1);case 5:return new Date(_e.getFullYear()-1,11,31);case 6:return new Date(_e.getFullYear()-1,11,30)}}function He(_e){var ct=_e.Wb;for(_e=new Date(new Date(_e.Xb+1900,0,1).getTime());0<ct;){var St=_e.getMonth(),hr=(un(_e.getFullYear())?Ir:cr)[St];if(!(ct>hr-_e.getDate())){_e.setDate(_e.getDate()+ct);break}ct-=hr-_e.getDate()+1,_e.setDate(1),11>St?_e.setMonth(St+1):(_e.setMonth(0),_e.setFullYear(_e.getFullYear()+1))}return St=new Date(_e.getFullYear()+1,0,4),ct=Ge(new Date(_e.getFullYear(),0,4)),St=Ge(St),0>=je(ct,_e)?0>=je(St,_e)?_e.getFullYear()+1:_e.getFullYear():_e.getFullYear()-1}var et=_()[ae+40>>2>>>0];for(var Ct in ae={Lc:_()[ae>>2>>>0],Kc:_()[ae+4>>2>>>0],dc:_()[ae+8>>2>>>0],jc:_()[ae+12>>2>>>0],ec:_()[ae+16>>2>>>0],Xb:_()[ae+20>>2>>>0],Tb:_()[ae+24>>2>>>0],Wb:_()[ae+28>>2>>>0],Rc:_()[ae+32>>2>>>0],Jc:_()[ae+36>>2>>>0],Mc:et?De(et):""},J=De(J),et={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})J=J.replace(new RegExp(Ct,"g"),et[Ct]);var lr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),pr="January February March April May June July August September October November December".split(" ");for(Ct in et={"%a":function(_e){return lr[_e.Tb].substring(0,3)},"%A":function(_e){return lr[_e.Tb]},"%b":function(_e){return pr[_e.ec].substring(0,3)},"%B":function(_e){return pr[_e.ec]},"%C":function(_e){return be((_e.Xb+1900)/100|0,2)},"%d":function(_e){return be(_e.jc,2)},"%e":function(_e){return pe(_e.jc,2," ")},"%g":function(_e){return He(_e).toString().substring(2)},"%G":function(_e){return He(_e)},"%H":function(_e){return be(_e.dc,2)},"%I":function(_e){return(_e=_e.dc)==0?_e=12:12<_e&&(_e-=12),be(_e,2)},"%j":function(_e){for(var ct=0,St=0;St<=_e.ec-1;ct+=(un(_e.Xb+1900)?Ir:cr)[St++]);return be(_e.jc+ct,3)},"%m":function(_e){return be(_e.ec+1,2)},"%M":function(_e){return be(_e.Kc,2)},"%n":function(){return`
`},"%p":function(_e){return 0<=_e.dc&&12>_e.dc?"AM":"PM"},"%S":function(_e){return be(_e.Lc,2)},"%t":function(){return"	"},"%u":function(_e){return _e.Tb||7},"%U":function(_e){return be(Math.floor((_e.Wb+7-_e.Tb)/7),2)},"%V":function(_e){var ct=Math.floor((_e.Wb+7-(_e.Tb+6)%7)/7);if(2>=(_e.Tb+371-_e.Wb-2)%7&&ct++,ct)ct==53&&((St=(_e.Tb+371-_e.Wb)%7)==4||St==3&&un(_e.Xb)||(ct=1));else{ct=52;var St=(_e.Tb+7-_e.Wb-1)%7;(St==4||St==5&&un(_e.Xb%400-1))&&ct++}return be(ct,2)},"%w":function(_e){return _e.Tb},"%W":function(_e){return be(Math.floor((_e.Wb+7-(_e.Tb+6)%7)/7),2)},"%y":function(_e){return(_e.Xb+1900).toString().substring(2)},"%Y":function(_e){return _e.Xb+1900},"%z":function(_e){var ct=0<=(_e=_e.Jc);return _e=Math.abs(_e)/60,(ct?"+":"-")+("0000"+(_e/60*100+_e%60)).slice(-4)},"%Z":function(_e){return _e.Mc},"%%":function(){return"%"}},J=J.replace(/%%/g,"\0\0"),et)J.includes(Ct)&&(J=J.replace(new RegExp(Ct,"g"),et[Ct](ae)));return Ct=(function(_e){var ct=Array(we(_e)+1);return $e(_e,ct,0,ct.length),ct})(J=J.replace(/\0\0/g,"%")),Ct.length>W?0:((function(_e,ct){f().set(_e,ct>>>0)})(Ct,z),Ct.length-1)}Ue.fc();var gs=[null,Ht,Ma,Zr,Gr,ua,Dn,Rn,jn,sn,cn,Nn,Ln,fr,$t,K,te,ye,Se,Ve,xe,lt,bt,Kt,Wr,co],yi={b:function(z){return $n(z+24)+24},n:function(z){return(z=new Xe(z)).uc()||(z.hc(!0),Ye--),z.ic(!1),Cr.push(z),z.sc(),z.vc()},ma:function(z){throw q("Unexpected exception thrown, this is not properly supported - aborting"),Le=!0,z},x:function(){ot(0);var z=Cr.pop();if(z.Hc()&&!z.kc()){var W=z.Dc();W&&yt(W)(z.Zb),ca(z.Zb)}Ke=0},e:function(){var z=Ke;if(!z)return Yt=0;var W=new Xe(z);W.cc(z);var J=W.bc();if(!J)return Yt=0,z;for(var ae=Array.prototype.slice.call(arguments),pe=0;pe<ae.length;pe++){var be=ae[pe];if(be===0||be===J)break;if(ja(be,J,W.Sb+16))return Yt=be,z}return Yt=J,z},l:function(){var z=Ke;if(!z)return Yt=0;var W=new Xe(z);W.cc(z);var J=W.bc();if(!J)return Yt=0,z;for(var ae=Array.prototype.slice.call(arguments),pe=0;pe<ae.length;pe++){var be=ae[pe];if(be===0||be===J)break;if(ja(be,J,W.Sb+16))return Yt=be,z}return Yt=J,z},h:function(){var z=Ke;if(!z)return Yt=0;var W=new Xe(z);W.cc(z);var J=W.bc();if(!J)return Yt=0,z;for(var ae=Array.prototype.slice.call(arguments),pe=0;pe<ae.length;pe++){var be=ae[pe];if(be===0||be===J)break;if(ja(be,J,W.Sb+16))return Yt=be,z}return Yt=J,z},t:ca,M:function(){var z=Cr.pop();z||st("no exception to throw");var W=z.Zb;throw z.kc()||(Cr.push(z),z.ic(!0),z.hc(!1),Ye++),Ke=W,W},c:function(z,W,J){throw new Xe(z).fc(W,J),Ke=z,Ye++,z},pa:function(){return Ye},Fa:function(z){bi(z,!B,1,!L),Ue.pc()},T:function(z){V?postMessage({cmd:"cleanupThread",thread:z}):an(z)},xa:on,j:function(z){throw Ke||(Ke=z),z},H:Gr,Ma:ua,ua:Dn,wa:Rn,oa:jn,Ka:sn,Ca:cn,Ja:Nn,V:Ln,va:fr,sa:$t,La:K,ta:te,Ta:function(){},X:function(){st("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){st("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(z,W,J,ae){if(z==W)setTimeout((()=>se(ae)));else if(V)postMessage({targetThread:z,cmd:"processProxyingQueue",queue:ae});else{if(!(z=Ue.Vb[z]))return;z.postMessage({cmd:"processProxyingQueue",queue:ae})}return 1},Ea:function(){return-1},Pa:function(z,W){z=new Date(1e3*fe(z)),_()[W>>2>>>0]=z.getUTCSeconds(),_()[W+4>>2>>>0]=z.getUTCMinutes(),_()[W+8>>2>>>0]=z.getUTCHours(),_()[W+12>>2>>>0]=z.getUTCDate(),_()[W+16>>2>>>0]=z.getUTCMonth(),_()[W+20>>2>>>0]=z.getUTCFullYear()-1900,_()[W+24>>2>>>0]=z.getUTCDay(),z=(z.getTime()-Date.UTC(z.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,_()[W+28>>2>>>0]=z},Qa:function(z,W){z=new Date(1e3*fe(z)),_()[W>>2>>>0]=z.getSeconds(),_()[W+4>>2>>>0]=z.getMinutes(),_()[W+8>>2>>>0]=z.getHours(),_()[W+12>>2>>>0]=z.getDate(),_()[W+16>>2>>>0]=z.getMonth(),_()[W+20>>2>>>0]=z.getFullYear()-1900,_()[W+24>>2>>>0]=z.getDay();var J=new Date(z.getFullYear(),0,1),ae=(z.getTime()-J.getTime())/864e5|0;_()[W+28>>2>>>0]=ae,_()[W+36>>2>>>0]=-60*z.getTimezoneOffset(),ae=new Date(z.getFullYear(),6,1).getTimezoneOffset(),z=0|(ae!=(J=J.getTimezoneOffset())&&z.getTimezoneOffset()==Math.min(J,ae)),_()[W+32>>2>>>0]=z},Ra:function(z){var W=new Date(_()[z+20>>2>>>0]+1900,_()[z+16>>2>>>0],_()[z+12>>2>>>0],_()[z+8>>2>>>0],_()[z+4>>2>>>0],_()[z>>2>>>0],0),J=_()[z+32>>2>>>0],ae=W.getTimezoneOffset(),pe=new Date(W.getFullYear(),0,1),be=new Date(W.getFullYear(),6,1).getTimezoneOffset(),je=pe.getTimezoneOffset(),Ge=Math.min(je,be);return 0>J?_()[z+32>>2>>>0]=+(be!=je&&Ge==ae):0<J!=(Ge==ae)&&(be=Math.max(je,be),W.setTime(W.getTime()+6e4*((0<J?Ge:be)-ae))),_()[z+24>>2>>>0]=W.getDay(),J=(W.getTime()-pe.getTime())/864e5|0,_()[z+28>>2>>>0]=J,_()[z>>2>>>0]=W.getSeconds(),_()[z+4>>2>>>0]=W.getMinutes(),_()[z+8>>2>>>0]=W.getHours(),_()[z+12>>2>>>0]=W.getDate(),_()[z+16>>2>>>0]=W.getMonth(),W.getTime()/1e3|0},Aa:ye,Ba:Se,Sa:function z(W,J,ae){z.Ac||(z.Ac=!0,Ve(W,J,ae))},y:function(){st("")},U:function(){if(!$&&!B){var z="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";Mr||(Mr={}),Mr[z]||(Mr[z]=1,$&&(z="warning: "+z),q(z))}},ra:function(){return 4294901760},B:Xr,Ia:function(z,W,J){b().copyWithin(z>>>0,W>>>0,W+J>>>0)},F:function(){return $?n(3993).cpus().length:navigator.hardwareConcurrency},Da:function(z,W,J){mt.length=W,J>>=3;for(var ae=0;ae<W;ae++)mt[ae]=m()[J+ae>>>0];return(0>z?nn[-z-1]:gs[z]).apply(null,mt)},qa:function(z){var W=b().length;if((z>>>=0)<=W||4294901760<z)return!1;for(var J=1;4>=J;J*=2){var ae=W*(1+.2/J);ae=Math.min(ae,z+100663296);var pe=Math;ae=Math.max(z,ae),pe=pe.min.call(pe,4294901760,ae+(65536-ae%65536)%65536);e:{try{ie.grow(pe-Z.byteLength+65535>>>16),Qe(ie.buffer);var be=1;break e}catch{}be=void 0}if(be)return!0}return!1},Na:function(){throw"unwind"},Ga:xe,Ha:lt,J:_r,I:bt,S:Kt,ga:Wr,R:co,d:function(){return Yt},na:function z(W,J){z.lc||(z.lc=(function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var pe=new Uint8Array(1);return()=>(crypto.getRandomValues(pe),pe[0])}if($)try{var be=n(Object((function(){var je=new Error("Cannot find module 'crypto'");throw je.code="MODULE_NOT_FOUND",je})()));return()=>be.randomBytes(1)[0]}catch{}return()=>st("randomDevice")})());for(var ae=0;ae<J;ae++)f()[W+ae>>0>>>0]=z.lc();return 0},ia:function(z,W,J){var ae=rt();try{return yt(z)(W,J)}catch(pe){if(tt(ae),pe!==pe+0)throw pe;ot(1,0)}},ja:function(z,W,J){var ae=rt();try{return yt(z)(W,J)}catch(pe){if(tt(ae),pe!==pe+0)throw pe;ot(1,0)}},K:function(z){var W=rt();try{return yt(z)()}catch(J){if(tt(W),J!==J+0)throw J;ot(1,0)}},f:function(z,W){var J=rt();try{return yt(z)(W)}catch(ae){if(tt(J),ae!==ae+0)throw ae;ot(1,0)}},P:function(z,W,J){var ae=rt();try{return yt(z)(W,J)}catch(pe){if(tt(ae),pe!==pe+0)throw pe;ot(1,0)}},Q:function(z,W,J){var ae=rt();try{return yt(z)(W,J)}catch(pe){if(tt(ae),pe!==pe+0)throw pe;ot(1,0)}},k:function(z,W,J){var ae=rt();try{return yt(z)(W,J)}catch(pe){if(tt(ae),pe!==pe+0)throw pe;ot(1,0)}},p:function(z,W,J,ae){var pe=rt();try{return yt(z)(W,J,ae)}catch(be){if(tt(pe),be!==be+0)throw be;ot(1,0)}},q:function(z,W,J,ae,pe){var be=rt();try{return yt(z)(W,J,ae,pe)}catch(je){if(tt(be),je!==je+0)throw je;ot(1,0)}},N:function(z,W,J,ae,pe,be){var je=rt();try{return yt(z)(W,J,ae,pe,be)}catch(Ge){if(tt(je),Ge!==Ge+0)throw Ge;ot(1,0)}},s:function(z,W,J,ae,pe,be){var je=rt();try{return yt(z)(W,J,ae,pe,be)}catch(Ge){if(tt(je),Ge!==Ge+0)throw Ge;ot(1,0)}},w:function(z,W,J,ae,pe,be,je){var Ge=rt();try{return yt(z)(W,J,ae,pe,be,je)}catch(He){if(tt(Ge),He!==He+0)throw He;ot(1,0)}},L:function(z,W,J,ae,pe,be,je,Ge){var He=rt();try{return yt(z)(W,J,ae,pe,be,je,Ge)}catch(et){if(tt(He),et!==et+0)throw et;ot(1,0)}},E:function(z,W,J,ae,pe,be,je,Ge,He,et,Ct,lr){var pr=rt();try{return yt(z)(W,J,ae,pe,be,je,Ge,He,et,Ct,lr)}catch(_e){if(tt(pr),_e!==_e+0)throw _e;ot(1,0)}},aa:function(z,W,J,ae,pe,be,je,Ge){var He=rt();try{return Fn(z,W,J,ae,pe,be,je,Ge)}catch(et){if(tt(He),et!==et+0)throw et;ot(1,0)}},_:function(z,W,J,ae,pe,be,je){var Ge=rt();try{return Na(z,W,J,ae,pe,be,je)}catch(He){if(tt(Ge),He!==He+0)throw He;ot(1,0)}},Z:function(z,W,J,ae,pe){var be=rt();try{return Rr(z,W,J,ae,pe)}catch(je){if(tt(be),je!==je+0)throw je;ot(1,0)}},ca:function(z,W,J,ae){var pe=rt();try{return $a(z,W,J,ae)}catch(be){if(tt(pe),be!==be+0)throw be;ot(1,0)}},$:function(z){var W=rt();try{return Dr(z)}catch(J){if(tt(W),J!==J+0)throw J;ot(1,0)}},ba:function(z,W){var J=rt();try{return Si(z,W)}catch(ae){if(tt(J),ae!==ae+0)throw ae;ot(1,0)}},Y:function(z,W,J){var ae=rt();try{return La(z,W,J)}catch(pe){if(tt(ae),pe!==pe+0)throw pe;ot(1,0)}},g:function(z){var W=rt();try{yt(z)()}catch(J){if(tt(W),J!==J+0)throw J;ot(1,0)}},r:function(z,W){var J=rt();try{yt(z)(W)}catch(ae){if(tt(J),ae!==ae+0)throw ae;ot(1,0)}},i:function(z,W,J){var ae=rt();try{yt(z)(W,J)}catch(pe){if(tt(ae),pe!==pe+0)throw pe;ot(1,0)}},ha:function(z,W,J,ae){var pe=rt();try{yt(z)(W,J,ae)}catch(be){if(tt(pe),be!==be+0)throw be;ot(1,0)}},m:function(z,W,J,ae){var pe=rt();try{yt(z)(W,J,ae)}catch(be){if(tt(pe),be!==be+0)throw be;ot(1,0)}},v:function(z,W,J,ae,pe){var be=rt();try{yt(z)(W,J,ae,pe)}catch(je){if(tt(be),je!==je+0)throw je;ot(1,0)}},u:function(z,W,J,ae,pe,be){var je=rt();try{yt(z)(W,J,ae,pe,be)}catch(Ge){if(tt(je),Ge!==Ge+0)throw Ge;ot(1,0)}},O:function(z,W,J,ae,pe,be,je){var Ge=rt();try{yt(z)(W,J,ae,pe,be,je)}catch(He){if(tt(Ge),He!==He+0)throw He;ot(1,0)}},A:function(z,W,J,ae,pe,be,je,Ge){var He=rt();try{yt(z)(W,J,ae,pe,be,je,Ge)}catch(et){if(tt(He),et!==et+0)throw et;ot(1,0)}},ka:function(z,W,J,ae,pe,be,je,Ge,He){var et=rt();try{yt(z)(W,J,ae,pe,be,je,Ge,He)}catch(Ct){if(tt(et),Ct!==Ct+0)throw Ct;ot(1,0)}},C:function(z,W,J,ae,pe,be,je,Ge,He,et,Ct){var lr=rt();try{yt(z)(W,J,ae,pe,be,je,Ge,He,et,Ct)}catch(pr){if(tt(lr),pr!==pr+0)throw pr;ot(1,0)}},D:function(z,W,J,ae,pe,be,je,Ge,He,et,Ct,lr,pr,_e,ct,St){var hr=rt();try{yt(z)(W,J,ae,pe,be,je,Ge,He,et,Ct,lr,pr,_e,ct,St)}catch(mn){if(tt(hr),mn!==mn+0)throw mn;ot(1,0)}},fa:function(z,W,J,ae,pe,be,je,Ge){var He=rt();try{pn(z,W,J,ae,pe,be,je,Ge)}catch(et){if(tt(He),et!==et+0)throw et;ot(1,0)}},da:function(z,W,J,ae,pe,be,je,Ge,He,et,Ct,lr){var pr=rt();try{wi(z,W,J,ae,pe,be,je,Ge,He,et,Ct,lr)}catch(_e){if(tt(pr),_e!==_e+0)throw _e;ot(1,0)}},ea:function(z,W,J,ae,pe,be){var je=rt();try{hn(z,W,J,ae,pe,be)}catch(Ge){if(tt(je),Ge!==Ge+0)throw Ge;ot(1,0)}},o:function(z){return z},a:ie||u.wasmMemory,G:function(z){Yt=z},la:gi,z:function(z,W,J,ae){return gi(z,W,J,ae)}};(function(){function z(pe,be){u.asm=pe.exports,Ue.qc.push(u.asm.sb),at=u.asm.ub,kt.unshift(u.asm.Va),Ee=be,V||(sr--,u.monitorRunDependencies&&u.monitorRunDependencies(sr),sr==0&&Nt&&(pe=Nt,Nt=null,pe()))}function W(pe){z(pe.instance,pe.module)}function J(pe){return(function(){if(!Y&&(L||B)){if(typeof fetch=="function"&&!Mt.startsWith("file://"))return fetch(Mt,{credentials:"same-origin"}).then((function(be){if(!be.ok)throw"failed to load wasm binary file at '"+Mt+"'";return be.arrayBuffer()})).catch((function(){return rn()}));if(E)return new Promise((function(be,je){E(Mt,(function(Ge){be(new Uint8Array(Ge))}),je)}))}return Promise.resolve().then((function(){return rn()}))})().then((function(be){return WebAssembly.instantiate(be,ae)})).then((function(be){return be})).then(pe,(function(be){q("failed to asynchronously prepare wasm: "+be),st(be)}))}var ae={a:yi};if(V||(sr++,u.monitorRunDependencies&&u.monitorRunDependencies(sr)),u.instantiateWasm)try{return u.instantiateWasm(ae,z)}catch(pe){return q("Module.instantiateWasm callback failed with error: "+pe),!1}(Y||typeof WebAssembly.instantiateStreaming!="function"||In()||Mt.startsWith("file://")||$||typeof fetch!="function"?J(W):fetch(Mt,{credentials:"same-origin"}).then((function(pe){return WebAssembly.instantiateStreaming(pe,ae).then(W,(function(be){return q("wasm streaming compile failed: "+be),q("falling back to ArrayBuffer instantiation"),J(W)}))}))).catch(h)})(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var da=u._pthread_self=function(){return(da=u._pthread_self=u.asm.ob).apply(null,arguments)},$n=u._malloc=function(){return($n=u._malloc=u.asm.pb).apply(null,arguments)},uo=u._free=function(){return(uo=u._free=u.asm.qb).apply(null,arguments)},ur=u._fflush=function(){return(ur=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var Da=u.___funcs_on_exit=function(){return(Da=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},bi=u.__emscripten_thread_init=function(){return(bi=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var Bn,dn=u._emscripten_run_in_main_runtime_thread_js=function(){return(dn=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},vi=u.__emscripten_proxy_execute_task_queue=function(){return(vi=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},Ra=u.__emscripten_thread_free_data=function(){return(Ra=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},fn=u.__emscripten_thread_exit=function(){return(fn=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},ot=u._setThrew=function(){return(ot=u._setThrew=u.asm.Bb).apply(null,arguments)},xi=u._emscripten_stack_set_limits=function(){return(xi=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},rt=u.stackSave=function(){return(rt=u.stackSave=u.asm.Db).apply(null,arguments)},tt=u.stackRestore=function(){return(tt=u.stackRestore=u.asm.Eb).apply(null,arguments)},_i=u.stackAlloc=function(){return(_i=u.stackAlloc=u.asm.Fb).apply(null,arguments)},ja=u.___cxa_can_catch=function(){return(ja=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},fa=u.___cxa_is_pointer_type=function(){return(fa=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},Dr=u.dynCall_j=function(){return(Dr=u.dynCall_j=u.asm.Ib).apply(null,arguments)},Na=u.dynCall_iiiiij=function(){return(Na=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},La=u.dynCall_jii=function(){return(La=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},pn=u.dynCall_viiiiij=function(){return(pn=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},hn=u.dynCall_vjji=function(){return(hn=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},wi=u.dynCall_viiijjjii=function(){return(wi=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},$a=u.dynCall_iij=function(){return($a=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},Si=u.dynCall_ji=function(){return(Si=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},Fn=u.dynCall_iiiiiij=function(){return(Fn=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},Rr=u.dynCall_iiij=function(){return(Rr=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function Ba(){function z(){if(!Bn&&(Bn=!0,u.calledRun=!0,!Le)&&(V||er(kt),o(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!V)){if(u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var W=u.postRun.shift();xr.unshift(W)}er(xr)}}if(!(0<sr))if(V)o(u),V||er(kt),postMessage({cmd:"loaded"});else{if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)Jt();er(vt),0<sr||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),z()}),1)):z())}}if(u.UTF8ToString=De,u.stringToUTF8=function(z,W,J){return $e(z,b(),W,J)},u.lengthBytesUTF8=we,u.keepRuntimeAlive=or,u.wasmMemory=ie,u.stackSave=rt,u.stackRestore=tt,u.stackAlloc=_i,u.ExitStatus=Vr,u.PThread=Ue,Nt=function z(){Bn||Ba(),Bn||(Nt=z)},u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return Ba(),d.ready});t.exports=l},932:(t,e,n)=>{var i,l=(i=(i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(d){var f,b,_;d=d||{},f||(f=d!==void 0?d:{}),f.ready=new Promise((function(K,te){b=K,_=te}));var v,m,u,o,h,w,E=Object.assign({},f),T="./this.program",O=(K,te)=>{throw te},M=typeof window=="object",I=typeof importScripts=="function",R=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",D="";R?(D=I?n(908).dirname(D)+"/":"//",w=()=>{h||(o=n(1384),h=n(908))},v=function(K,te){return w(),K=h.normalize(K),o.readFileSync(K,te?void 0:"utf8")},u=K=>((K=v(K,!0)).buffer||(K=new Uint8Array(K)),K),m=(K,te,se)=>{w(),K=h.normalize(K),o.readFile(K,(function(fe,ye){fe?se(fe):te(ye.buffer)}))},1<process.argv.length&&(T=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(K){if(!(K instanceof kt))throw K})),process.on("unhandledRejection",(function(K){throw K})),O=(K,te)=>{if($||0<Pe)throw process.exitCode=K,te;te instanceof kt||B("exiting due to exception: "+te),process.exit(K)},f.inspect=function(){return"[Emscripten Module object]"}):(M||I)&&(I?D=self.location.href:typeof document<"u"&&document.currentScript&&(D=document.currentScript.src),i&&(D=i),D=D.indexOf("blob:")!==0?D.substr(0,D.replace(/[?#].*/,"").lastIndexOf("/")+1):"",v=K=>{var te=new XMLHttpRequest;return te.open("GET",K,!1),te.send(null),te.responseText},I&&(u=K=>{var te=new XMLHttpRequest;return te.open("GET",K,!1),te.responseType="arraybuffer",te.send(null),new Uint8Array(te.response)}),m=(K,te,se)=>{var fe=new XMLHttpRequest;fe.open("GET",K,!0),fe.responseType="arraybuffer",fe.onload=()=>{fe.status==200||fe.status==0&&fe.response?te(fe.response):se()},fe.onerror=se,fe.send(null)});var N,L=f.print||console.log.bind(console),B=f.printErr||console.warn.bind(console);Object.assign(f,E),E=null,f.thisProgram&&(T=f.thisProgram),f.quit&&(O=f.quit),f.wasmBinary&&(N=f.wasmBinary);var $=f.noExitRuntime||!1;typeof WebAssembly!="object"&&Qe("no native wasm support detected");var V,G,X,ee,Q,Y,U=!1,q=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function le(K,te,se){var fe=(te>>>=0)+se;for(se=te;K[se]&&!(se>=fe);)++se;if(16<se-te&&K.buffer&&q)return q.decode(K.subarray(te,se));for(fe="";te<se;){var ye=K[te++];if(128&ye){var Se=63&K[te++];if((224&ye)==192)fe+=String.fromCharCode((31&ye)<<6|Se);else{var Re=63&K[te++];65536>(ye=(240&ye)==224?(15&ye)<<12|Se<<6|Re:(7&ye)<<18|Se<<12|Re<<6|63&K[te++])?fe+=String.fromCharCode(ye):(ye-=65536,fe+=String.fromCharCode(55296|ye>>10,56320|1023&ye))}}else fe+=String.fromCharCode(ye)}return fe}function ie(K,te){return(K>>>=0)?le(ee,K,te):""}function Ee(K,te,se,fe){if(!(0<fe))return 0;var ye=se>>>=0;fe=se+fe-1;for(var Se=0;Se<K.length;++Se){var Re=K.charCodeAt(Se);if(55296<=Re&&57343>=Re&&(Re=65536+((1023&Re)<<10)|1023&K.charCodeAt(++Se)),127>=Re){if(se>=fe)break;te[se++>>>0]=Re}else{if(2047>=Re){if(se+1>=fe)break;te[se++>>>0]=192|Re>>6}else{if(65535>=Re){if(se+2>=fe)break;te[se++>>>0]=224|Re>>12}else{if(se+3>=fe)break;te[se++>>>0]=240|Re>>18,te[se++>>>0]=128|Re>>12&63}te[se++>>>0]=128|Re>>6&63}te[se++>>>0]=128|63&Re}}return te[se>>>0]=0,se-ye}function Z(K){for(var te=0,se=0;se<K.length;++se){var fe=K.charCodeAt(se);127>=fe?te++:2047>=fe?te+=2:55296<=fe&&57343>=fe?(te+=4,++se):te+=3}return te}function ue(){var K=V.buffer;G=K,f.HEAP8=X=new Int8Array(K),f.HEAP16=new Int16Array(K),f.HEAP32=Q=new Int32Array(K),f.HEAPU8=ee=new Uint8Array(K),f.HEAPU16=new Uint16Array(K),f.HEAPU32=Y=new Uint32Array(K),f.HEAPF32=new Float32Array(K),f.HEAPF64=new Float64Array(K)}var Ae,Ce=[],ke=[],Ne=[],Le=[],Pe=0;function de(){var K=f.preRun.shift();Ce.unshift(K)}var De,$e=0,we=null;function Qe(K){throw f.onAbort&&f.onAbort(K),B(K="Aborted("+K+")"),U=!0,K=new WebAssembly.RuntimeError(K+". Build with -sASSERTIONS for more info."),_(K),K}function Fe(){return De.startsWith("data:application/octet-stream;base64,")}if(De="ort-wasm.wasm",!Fe()){var at=De;De=f.locateFile?f.locateFile(at,D):D+at}function vt(){var K=De;try{if(K==De&&N)return new Uint8Array(N);if(u)return u(K);throw"both async and sync fetching of the wasm failed"}catch(te){Qe(te)}}function kt(K){this.name="ExitStatus",this.message="Program terminated with exit("+K+")",this.status=K}function ir(K){for(;0<K.length;)K.shift()(f)}var xr=[],or=0,Jt=0;function Mt(K){this.Db=K,this.zb=K-24,this.Ub=function(te){Y[this.zb+4>>2>>>0]=te},this.Eb=function(){return Y[this.zb+4>>2>>>0]},this.Sb=function(te){Y[this.zb+8>>2>>>0]=te},this.Wb=function(){return Y[this.zb+8>>2>>>0]},this.Tb=function(){Q[this.zb>>2>>>0]=0},this.Ib=function(te){X[this.zb+12>>0>>>0]=te?1:0},this.Pb=function(){return X[this.zb+12>>0>>>0]!=0},this.Jb=function(te){X[this.zb+13>>0>>>0]=te?1:0},this.Lb=function(){return X[this.zb+13>>0>>>0]!=0},this.Rb=function(te,se){this.Fb(0),this.Ub(te),this.Sb(se),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){Q[this.zb>>2>>>0]+=1},this.Xb=function(){var te=Q[this.zb>>2>>>0];return Q[this.zb>>2>>>0]=te-1,te===1},this.Fb=function(te){Y[this.zb+16>>2>>>0]=te},this.Ob=function(){return Y[this.zb+16>>2>>>0]},this.Qb=function(){if(on(this.Eb()))return Y[this.Db>>2>>>0];var te=this.Ob();return te!==0?te:this.Db}}function sr(K){return Mr(new Mt(K).zb)}var Nt=[];function st(K){var te=Nt[K];return te||(K>=Nt.length&&(Nt.length=K+1),Nt[K]=te=Ae.get(K)),te}function In(K){var te=Z(K)+1,se=yt(te);return se&&Ee(K,X,se,te),se}var rn={};function nn(){if(!Vr){var K,te={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:T||"./this.program"};for(K in rn)rn[K]===void 0?delete te[K]:te[K]=rn[K];var se=[];for(K in te)se.push(K+"="+te[K]);Vr=se}return Vr}var Vr,an=[null,[],[]];function kn(K,te){var se=an[K];te===0||te===10?((K===1?L:B)(le(se,0)),se.length=0):se.push(te)}var Ht=0;function _r(K){return K%4==0&&(K%100!=0||K%400==0)}var Ue=[31,29,31,30,31,30,31,31,30,31,30,31],er=[31,28,31,30,31,30,31,31,30,31,30,31];function Zt(K,te,se,fe){function ye(xe,lt,bt){for(xe=typeof xe=="number"?xe.toString():xe||"";xe.length<lt;)xe=bt[0]+xe;return xe}function Se(xe,lt){return ye(xe,lt,"0")}function Re(xe,lt){function bt(Wr){return 0>Wr?-1:0<Wr?1:0}var Kt;return(Kt=bt(xe.getFullYear()-lt.getFullYear()))===0&&(Kt=bt(xe.getMonth()-lt.getMonth()))===0&&(Kt=bt(xe.getDate()-lt.getDate())),Kt}function Ve(xe){switch(xe.getDay()){case 0:return new Date(xe.getFullYear()-1,11,29);case 1:return xe;case 2:return new Date(xe.getFullYear(),0,3);case 3:return new Date(xe.getFullYear(),0,2);case 4:return new Date(xe.getFullYear(),0,1);case 5:return new Date(xe.getFullYear()-1,11,31);case 6:return new Date(xe.getFullYear()-1,11,30)}}function Be(xe){var lt=xe.Bb;for(xe=new Date(new Date(xe.Cb+1900,0,1).getTime());0<lt;){var bt=xe.getMonth(),Kt=(_r(xe.getFullYear())?Ue:er)[bt];if(!(lt>Kt-xe.getDate())){xe.setDate(xe.getDate()+lt);break}lt-=Kt-xe.getDate()+1,xe.setDate(1),11>bt?xe.setMonth(bt+1):(xe.setMonth(0),xe.setFullYear(xe.getFullYear()+1))}return bt=new Date(xe.getFullYear()+1,0,4),lt=Ve(new Date(xe.getFullYear(),0,4)),bt=Ve(bt),0>=Re(lt,xe)?0>=Re(bt,xe)?xe.getFullYear()+1:xe.getFullYear():xe.getFullYear()-1}var Je=Q[fe+40>>2>>>0];for(var mt in fe={$b:Q[fe>>2>>>0],Zb:Q[fe+4>>2>>>0],Gb:Q[fe+8>>2>>>0],Kb:Q[fe+12>>2>>>0],Hb:Q[fe+16>>2>>>0],Cb:Q[fe+20>>2>>>0],Ab:Q[fe+24>>2>>>0],Bb:Q[fe+28>>2>>>0],bc:Q[fe+32>>2>>>0],Yb:Q[fe+36>>2>>>0],ac:Je?ie(Je):""},se=ie(se),Je={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})se=se.replace(new RegExp(mt,"g"),Je[mt]);var Dt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ut="January February March April May June July August September October November December".split(" ");for(mt in Je={"%a":function(xe){return Dt[xe.Ab].substring(0,3)},"%A":function(xe){return Dt[xe.Ab]},"%b":function(xe){return ut[xe.Hb].substring(0,3)},"%B":function(xe){return ut[xe.Hb]},"%C":function(xe){return Se((xe.Cb+1900)/100|0,2)},"%d":function(xe){return Se(xe.Kb,2)},"%e":function(xe){return ye(xe.Kb,2," ")},"%g":function(xe){return Be(xe).toString().substring(2)},"%G":function(xe){return Be(xe)},"%H":function(xe){return Se(xe.Gb,2)},"%I":function(xe){return(xe=xe.Gb)==0?xe=12:12<xe&&(xe-=12),Se(xe,2)},"%j":function(xe){for(var lt=0,bt=0;bt<=xe.Hb-1;lt+=(_r(xe.Cb+1900)?Ue:er)[bt++]);return Se(xe.Kb+lt,3)},"%m":function(xe){return Se(xe.Hb+1,2)},"%M":function(xe){return Se(xe.Zb,2)},"%n":function(){return`
`},"%p":function(xe){return 0<=xe.Gb&&12>xe.Gb?"AM":"PM"},"%S":function(xe){return Se(xe.$b,2)},"%t":function(){return"	"},"%u":function(xe){return xe.Ab||7},"%U":function(xe){return Se(Math.floor((xe.Bb+7-xe.Ab)/7),2)},"%V":function(xe){var lt=Math.floor((xe.Bb+7-(xe.Ab+6)%7)/7);if(2>=(xe.Ab+371-xe.Bb-2)%7&&lt++,lt)lt==53&&((bt=(xe.Ab+371-xe.Bb)%7)==4||bt==3&&_r(xe.Cb)||(lt=1));else{lt=52;var bt=(xe.Ab+7-xe.Bb-1)%7;(bt==4||bt==5&&_r(xe.Cb%400-1))&&lt++}return Se(lt,2)},"%w":function(xe){return xe.Ab},"%W":function(xe){return Se(Math.floor((xe.Bb+7-(xe.Ab+6)%7)/7),2)},"%y":function(xe){return(xe.Cb+1900).toString().substring(2)},"%Y":function(xe){return xe.Cb+1900},"%z":function(xe){var lt=0<=(xe=xe.Yb);return xe=Math.abs(xe)/60,(lt?"+":"-")+("0000"+(xe/60*100+xe%60)).slice(-4)},"%Z":function(xe){return xe.ac},"%%":function(){return"%"}},se=se.replace(/%%/g,"\0\0"),Je)se.includes(mt)&&(se=se.replace(new RegExp(mt,"g"),Je[mt](fe)));return mt=(function(xe){var lt=Array(Z(xe)+1);return Ee(xe,lt,0,lt.length),lt})(se=se.replace(/\0\0/g,"%")),mt.length>te?0:(X.set(mt,K>>>0),mt.length-1)}var Ma={a:function(K){return yt(K+24)+24},m:function(K){return(K=new Mt(K)).Pb()||(K.Ib(!0),or--),K.Jb(!1),xr.push(K),K.Nb(),K.Qb()},ia:function(K){throw B("Unexpected exception thrown, this is not properly supported - aborting"),U=!0,K},w:function(){Ye(0);var K=xr.pop();if(K.Xb()&&!K.Lb()){var te=K.Wb();te&&st(te)(K.Db),sr(K.Db)}Jt=0},d:function(){var K=Jt;if(!K)return Ht=0;var te=new Mt(K);te.Fb(K);var se=te.Eb();if(!se)return Ht=0,K;for(var fe=Array.prototype.slice.call(arguments),ye=0;ye<fe.length;ye++){var Se=fe[ye];if(Se===0||Se===se)break;if(Zr(Se,se,te.zb+16))return Ht=Se,K}return Ht=se,K},k:function(){var K=Jt;if(!K)return Ht=0;var te=new Mt(K);te.Fb(K);var se=te.Eb();if(!se)return Ht=0,K;for(var fe=Array.prototype.slice.call(arguments),ye=0;ye<fe.length;ye++){var Se=fe[ye];if(Se===0||Se===se)break;if(Zr(Se,se,te.zb+16))return Ht=Se,K}return Ht=se,K},g:function(){var K=Jt;if(!K)return Ht=0;var te=new Mt(K);te.Fb(K);var se=te.Eb();if(!se)return Ht=0,K;for(var fe=Array.prototype.slice.call(arguments),ye=0;ye<fe.length;ye++){var Se=fe[ye];if(Se===0||Se===se)break;if(Zr(Se,se,te.zb+16))return Ht=Se,K}return Ht=se,K},s:sr,L:function(){var K=xr.pop();K||Qe("no exception to throw");var te=K.Db;throw K.Lb()||(xr.push(K),K.Jb(!0),K.Ib(!1),or++),Jt=te,te},b:function(K,te,se){throw new Mt(K).Rb(te,se),Jt=K,or++,K},la:function(){return or},i:function(K){throw Jt||(Jt=K),K},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){Qe("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){Qe("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(K,te){K=new Date(1e3*(Y[K>>>2]+4294967296*Q[K+4>>>2])),Q[te>>2>>>0]=K.getUTCSeconds(),Q[te+4>>2>>>0]=K.getUTCMinutes(),Q[te+8>>2>>>0]=K.getUTCHours(),Q[te+12>>2>>>0]=K.getUTCDate(),Q[te+16>>2>>>0]=K.getUTCMonth(),Q[te+20>>2>>>0]=K.getUTCFullYear()-1900,Q[te+24>>2>>>0]=K.getUTCDay(),Q[te+28>>2>>>0]=(K.getTime()-Date.UTC(K.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(K,te){K=new Date(1e3*(Y[K>>>2]+4294967296*Q[K+4>>>2])),Q[te>>2>>>0]=K.getSeconds(),Q[te+4>>2>>>0]=K.getMinutes(),Q[te+8>>2>>>0]=K.getHours(),Q[te+12>>2>>>0]=K.getDate(),Q[te+16>>2>>>0]=K.getMonth(),Q[te+20>>2>>>0]=K.getFullYear()-1900,Q[te+24>>2>>>0]=K.getDay();var se=new Date(K.getFullYear(),0,1);Q[te+28>>2>>>0]=(K.getTime()-se.getTime())/864e5|0,Q[te+36>>2>>>0]=-60*K.getTimezoneOffset();var fe=new Date(K.getFullYear(),6,1).getTimezoneOffset();se=se.getTimezoneOffset(),Q[te+32>>2>>>0]=0|(fe!=se&&K.getTimezoneOffset()==Math.min(se,fe))},Fa:function(K){var te=new Date(Q[K+20>>2>>>0]+1900,Q[K+16>>2>>>0],Q[K+12>>2>>>0],Q[K+8>>2>>>0],Q[K+4>>2>>>0],Q[K>>2>>>0],0),se=Q[K+32>>2>>>0],fe=te.getTimezoneOffset(),ye=new Date(te.getFullYear(),0,1),Se=new Date(te.getFullYear(),6,1).getTimezoneOffset(),Re=ye.getTimezoneOffset(),Ve=Math.min(Re,Se);return 0>se?Q[K+32>>2>>>0]=+(Se!=Re&&Ve==fe):0<se!=(Ve==fe)&&(Se=Math.max(Re,Se),te.setTime(te.getTime()+6e4*((0<se?Ve:Se)-fe))),Q[K+24>>2>>>0]=te.getDay(),Q[K+28>>2>>>0]=(te.getTime()-ye.getTime())/864e5|0,Q[K>>2>>>0]=te.getSeconds(),Q[K+4>>2>>>0]=te.getMinutes(),Q[K+8>>2>>>0]=te.getHours(),Q[K+12>>2>>>0]=te.getDate(),Q[K+16>>2>>>0]=te.getMonth(),te.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function K(te,se,fe){K.Vb||(K.Vb=!0,(function(ye,Se,Re){function Ve(ut){return(ut=ut.toTimeString().match(/\(([A-Za-z ]+)\)$/))?ut[1]:"GMT"}var Be=new Date().getFullYear(),Je=new Date(Be,0,1),mt=new Date(Be,6,1);Be=Je.getTimezoneOffset();var Dt=mt.getTimezoneOffset();Q[ye>>2>>>0]=60*Math.max(Be,Dt),Q[Se>>2>>>0]=+(Be!=Dt),ye=Ve(Je),Se=Ve(mt),ye=In(ye),Se=In(Se),Dt<Be?(Y[Re>>2>>>0]=ye,Y[Re+4>>2>>>0]=Se):(Y[Re>>2>>>0]=Se,Y[Re+4>>2>>>0]=ye)})(te,se,fe))},B:function(){Qe("")},ma:function(){return 4294901760},I:R?()=>{var K=process.hrtime();return 1e3*K[0]+K[1]/1e6}:()=>performance.now(),xa:function(K,te,se){ee.copyWithin(K>>>0,te>>>0,te+se>>>0)},G:function(K){var te=ee.length;if(4294901760<(K>>>=0))return!1;for(var se=1;4>=se;se*=2){var fe=te*(1+.2/se);fe=Math.min(fe,K+100663296);var ye=Math;fe=Math.max(K,fe),ye=ye.min.call(ye,4294901760,fe+(65536-fe%65536)%65536);e:{try{V.grow(ye-G.byteLength+65535>>>16),ue();var Se=1;break e}catch{}Se=void 0}if(Se)return!0}return!1},va:function(K,te){var se=0;return nn().forEach((function(fe,ye){var Se=te+se;for(ye=Y[K+4*ye>>2>>>0]=Se,Se=0;Se<fe.length;++Se)X[ye++>>0>>>0]=fe.charCodeAt(Se);X[ye>>0>>>0]=0,se+=fe.length+1})),0},wa:function(K,te){var se=nn();Y[K>>2>>>0]=se.length;var fe=0;return se.forEach((function(ye){fe+=ye.length+1})),Y[te>>2>>>0]=fe,0},ba:function(K){$||0<Pe||(Cr(),ir(Ne),Xr(0),an[1].length&&kn(1,10),an[2].length&&kn(2,10)),$||0<Pe||(f.onExit&&f.onExit(K),U=!0),O(K,new kt(K))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(K,te,se,fe){for(var ye=0,Se=0;Se<se;Se++){var Re=Y[te>>2>>>0],Ve=Y[te+4>>2>>>0];te+=8;for(var Be=0;Be<Ve;Be++)kn(K,ee[Re+Be>>>0]);ye+=Ve}return Y[fe>>2>>>0]=ye,0},c:function(){return Ht},ja:function K(te,se){K.Mb||(K.Mb=(function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var ye=new Uint8Array(1);return()=>(crypto.getRandomValues(ye),ye[0])}if(R)try{var Se=n(Object((function(){var Re=new Error("Cannot find module 'crypto'");throw Re.code="MODULE_NOT_FOUND",Re})()));return()=>Se.randomBytes(1)[0]}catch{}return()=>Qe("randomDevice")})());for(var fe=0;fe<se;fe++)X[te+fe>>0>>>0]=K.Mb();return 0},ea:function(K,te,se){var fe=Ke();try{return st(K)(te,se)}catch(ye){if(Xe(fe),ye!==ye+0)throw ye;Ye(1,0)}},fa:function(K,te,se){var fe=Ke();try{return st(K)(te,se)}catch(ye){if(Xe(fe),ye!==ye+0)throw ye;Ye(1,0)}},J:function(K){var te=Ke();try{return st(K)()}catch(se){if(Xe(te),se!==se+0)throw se;Ye(1,0)}},e:function(K,te){var se=Ke();try{return st(K)(te)}catch(fe){if(Xe(se),fe!==fe+0)throw fe;Ye(1,0)}},N:function(K,te,se){var fe=Ke();try{return st(K)(te,se)}catch(ye){if(Xe(fe),ye!==ye+0)throw ye;Ye(1,0)}},O:function(K,te,se){var fe=Ke();try{return st(K)(te,se)}catch(ye){if(Xe(fe),ye!==ye+0)throw ye;Ye(1,0)}},j:function(K,te,se){var fe=Ke();try{return st(K)(te,se)}catch(ye){if(Xe(fe),ye!==ye+0)throw ye;Ye(1,0)}},o:function(K,te,se,fe){var ye=Ke();try{return st(K)(te,se,fe)}catch(Se){if(Xe(ye),Se!==Se+0)throw Se;Ye(1,0)}},p:function(K,te,se,fe,ye){var Se=Ke();try{return st(K)(te,se,fe,ye)}catch(Re){if(Xe(Se),Re!==Re+0)throw Re;Ye(1,0)}},M:function(K,te,se,fe,ye,Se){var Re=Ke();try{return st(K)(te,se,fe,ye,Se)}catch(Ve){if(Xe(Re),Ve!==Ve+0)throw Ve;Ye(1,0)}},r:function(K,te,se,fe,ye,Se){var Re=Ke();try{return st(K)(te,se,fe,ye,Se)}catch(Ve){if(Xe(Re),Ve!==Ve+0)throw Ve;Ye(1,0)}},v:function(K,te,se,fe,ye,Se,Re){var Ve=Ke();try{return st(K)(te,se,fe,ye,Se,Re)}catch(Be){if(Xe(Ve),Be!==Be+0)throw Be;Ye(1,0)}},K:function(K,te,se,fe,ye,Se,Re,Ve){var Be=Ke();try{return st(K)(te,se,fe,ye,Se,Re,Ve)}catch(Je){if(Xe(Be),Je!==Je+0)throw Je;Ye(1,0)}},D:function(K,te,se,fe,ye,Se,Re,Ve,Be,Je,mt,Dt){var ut=Ke();try{return st(K)(te,se,fe,ye,Se,Re,Ve,Be,Je,mt,Dt)}catch(xe){if(Xe(ut),xe!==xe+0)throw xe;Ye(1,0)}},X:function(K,te,se,fe,ye,Se,Re,Ve){var Be=Ke();try{return Ln(K,te,se,fe,ye,Se,Re,Ve)}catch(Je){if(Xe(Be),Je!==Je+0)throw Je;Ye(1,0)}},V:function(K,te,se,fe,ye,Se,Re){var Ve=Ke();try{return ua(K,te,se,fe,ye,Se,Re)}catch(Be){if(Xe(Ve),Be!==Be+0)throw Be;Ye(1,0)}},U:function(K,te,se,fe,ye){var Se=Ke();try{return fr(K,te,se,fe,ye)}catch(Re){if(Xe(Se),Re!==Re+0)throw Re;Ye(1,0)}},Z:function(K,te,se,fe){var ye=Ke();try{return cn(K,te,se,fe)}catch(Se){if(Xe(ye),Se!==Se+0)throw Se;Ye(1,0)}},W:function(K){var te=Ke();try{return Gr(K)}catch(se){if(Xe(te),se!==se+0)throw se;Ye(1,0)}},Y:function(K,te){var se=Ke();try{return Nn(K,te)}catch(fe){if(Xe(se),fe!==fe+0)throw fe;Ye(1,0)}},T:function(K,te,se){var fe=Ke();try{return Dn(K,te,se)}catch(ye){if(Xe(fe),ye!==ye+0)throw ye;Ye(1,0)}},f:function(K){var te=Ke();try{st(K)()}catch(se){if(Xe(te),se!==se+0)throw se;Ye(1,0)}},q:function(K,te){var se=Ke();try{st(K)(te)}catch(fe){if(Xe(se),fe!==fe+0)throw fe;Ye(1,0)}},h:function(K,te,se){var fe=Ke();try{st(K)(te,se)}catch(ye){if(Xe(fe),ye!==ye+0)throw ye;Ye(1,0)}},da:function(K,te,se,fe){var ye=Ke();try{st(K)(te,se,fe)}catch(Se){if(Xe(ye),Se!==Se+0)throw Se;Ye(1,0)}},l:function(K,te,se,fe){var ye=Ke();try{st(K)(te,se,fe)}catch(Se){if(Xe(ye),Se!==Se+0)throw Se;Ye(1,0)}},t:function(K,te,se,fe,ye){var Se=Ke();try{st(K)(te,se,fe,ye)}catch(Re){if(Xe(Se),Re!==Re+0)throw Re;Ye(1,0)}},u:function(K,te,se,fe,ye,Se){var Re=Ke();try{st(K)(te,se,fe,ye,Se)}catch(Ve){if(Xe(Re),Ve!==Ve+0)throw Ve;Ye(1,0)}},x:function(K,te,se,fe,ye,Se,Re){var Ve=Ke();try{st(K)(te,se,fe,ye,Se,Re)}catch(Be){if(Xe(Ve),Be!==Be+0)throw Be;Ye(1,0)}},z:function(K,te,se,fe,ye,Se,Re,Ve){var Be=Ke();try{st(K)(te,se,fe,ye,Se,Re,Ve)}catch(Je){if(Xe(Be),Je!==Je+0)throw Je;Ye(1,0)}},ga:function(K,te,se,fe,ye,Se,Re,Ve,Be){var Je=Ke();try{st(K)(te,se,fe,ye,Se,Re,Ve,Be)}catch(mt){if(Xe(Je),mt!==mt+0)throw mt;Ye(1,0)}},A:function(K,te,se,fe,ye,Se,Re,Ve,Be,Je,mt){var Dt=Ke();try{st(K)(te,se,fe,ye,Se,Re,Ve,Be,Je,mt)}catch(ut){if(Xe(Dt),ut!==ut+0)throw ut;Ye(1,0)}},C:function(K,te,se,fe,ye,Se,Re,Ve,Be,Je,mt,Dt,ut,xe,lt,bt){var Kt=Ke();try{st(K)(te,se,fe,ye,Se,Re,Ve,Be,Je,mt,Dt,ut,xe,lt,bt)}catch(Wr){if(Xe(Kt),Wr!==Wr+0)throw Wr;Ye(1,0)}},aa:function(K,te,se,fe,ye,Se,Re,Ve){var Be=Ke();try{Rn(K,te,se,fe,ye,Se,Re,Ve)}catch(Je){if(Xe(Be),Je!==Je+0)throw Je;Ye(1,0)}},_:function(K,te,se,fe,ye,Se,Re,Ve,Be,Je,mt,Dt){var ut=Ke();try{sn(K,te,se,fe,ye,Se,Re,Ve,Be,Je,mt,Dt)}catch(xe){if(Xe(ut),xe!==xe+0)throw xe;Ye(1,0)}},$:function(K,te,se,fe,ye,Se){var Re=Ke();try{jn(K,te,se,fe,ye,Se)}catch(Ve){if(Xe(Re),Ve!==Ve+0)throw Ve;Ye(1,0)}},n:function(K){return K},F:function(K){Ht=K},ha:Zt,y:function(K,te,se,fe){return Zt(K,te,se,fe)}};(function(){function K(ye){f.asm=ye.exports,V=f.asm.Ka,ue(),Ae=f.asm.ib,ke.unshift(f.asm.La),$e--,f.monitorRunDependencies&&f.monitorRunDependencies($e),$e==0&&we&&(ye=we,we=null,ye())}function te(ye){K(ye.instance)}function se(ye){return(function(){if(!N&&(M||I)){if(typeof fetch=="function"&&!De.startsWith("file://"))return fetch(De,{credentials:"same-origin"}).then((function(Se){if(!Se.ok)throw"failed to load wasm binary file at '"+De+"'";return Se.arrayBuffer()})).catch((function(){return vt()}));if(m)return new Promise((function(Se,Re){m(De,(function(Ve){Se(new Uint8Array(Ve))}),Re)}))}return Promise.resolve().then((function(){return vt()}))})().then((function(Se){return WebAssembly.instantiate(Se,fe)})).then((function(Se){return Se})).then(ye,(function(Se){B("failed to asynchronously prepare wasm: "+Se),Qe(Se)}))}var fe={a:Ma};if($e++,f.monitorRunDependencies&&f.monitorRunDependencies($e),f.instantiateWasm)try{return f.instantiateWasm(fe,K)}catch(ye){return B("Module.instantiateWasm callback failed with error: "+ye),!1}(N||typeof WebAssembly.instantiateStreaming!="function"||Fe()||De.startsWith("file://")||R||typeof fetch!="function"?se(te):fetch(De,{credentials:"same-origin"}).then((function(ye){return WebAssembly.instantiateStreaming(ye,fe).then(te,(function(Se){return B("wasm streaming compile failed: "+Se),B("falling back to ArrayBuffer instantiation"),se(te)}))}))).catch(_)})(),f.___wasm_call_ctors=function(){return(f.___wasm_call_ctors=f.asm.La).apply(null,arguments)},f._OrtInit=function(){return(f._OrtInit=f.asm.Ma).apply(null,arguments)},f._OrtCreateSessionOptions=function(){return(f._OrtCreateSessionOptions=f.asm.Na).apply(null,arguments)},f._OrtAppendExecutionProvider=function(){return(f._OrtAppendExecutionProvider=f.asm.Oa).apply(null,arguments)},f._OrtAddSessionConfigEntry=function(){return(f._OrtAddSessionConfigEntry=f.asm.Pa).apply(null,arguments)},f._OrtReleaseSessionOptions=function(){return(f._OrtReleaseSessionOptions=f.asm.Qa).apply(null,arguments)},f._OrtCreateSession=function(){return(f._OrtCreateSession=f.asm.Ra).apply(null,arguments)},f._OrtReleaseSession=function(){return(f._OrtReleaseSession=f.asm.Sa).apply(null,arguments)},f._OrtGetInputCount=function(){return(f._OrtGetInputCount=f.asm.Ta).apply(null,arguments)},f._OrtGetOutputCount=function(){return(f._OrtGetOutputCount=f.asm.Ua).apply(null,arguments)},f._OrtGetInputName=function(){return(f._OrtGetInputName=f.asm.Va).apply(null,arguments)},f._OrtGetOutputName=function(){return(f._OrtGetOutputName=f.asm.Wa).apply(null,arguments)},f._OrtFree=function(){return(f._OrtFree=f.asm.Xa).apply(null,arguments)},f._OrtCreateTensor=function(){return(f._OrtCreateTensor=f.asm.Ya).apply(null,arguments)},f._OrtGetTensorData=function(){return(f._OrtGetTensorData=f.asm.Za).apply(null,arguments)},f._OrtReleaseTensor=function(){return(f._OrtReleaseTensor=f.asm._a).apply(null,arguments)},f._OrtCreateRunOptions=function(){return(f._OrtCreateRunOptions=f.asm.$a).apply(null,arguments)},f._OrtAddRunConfigEntry=function(){return(f._OrtAddRunConfigEntry=f.asm.ab).apply(null,arguments)},f._OrtReleaseRunOptions=function(){return(f._OrtReleaseRunOptions=f.asm.bb).apply(null,arguments)},f._OrtRun=function(){return(f._OrtRun=f.asm.cb).apply(null,arguments)},f._OrtEndProfiling=function(){return(f._OrtEndProfiling=f.asm.db).apply(null,arguments)};var qr,yt=f._malloc=function(){return(yt=f._malloc=f.asm.eb).apply(null,arguments)},Mr=f._free=function(){return(Mr=f._free=f.asm.fb).apply(null,arguments)},Xr=f._fflush=function(){return(Xr=f._fflush=f.asm.gb).apply(null,arguments)},Cr=f.___funcs_on_exit=function(){return(Cr=f.___funcs_on_exit=f.asm.hb).apply(null,arguments)},Ye=f._setThrew=function(){return(Ye=f._setThrew=f.asm.jb).apply(null,arguments)},Ke=f.stackSave=function(){return(Ke=f.stackSave=f.asm.kb).apply(null,arguments)},Xe=f.stackRestore=function(){return(Xe=f.stackRestore=f.asm.lb).apply(null,arguments)},ca=f.stackAlloc=function(){return(ca=f.stackAlloc=f.asm.mb).apply(null,arguments)},Zr=f.___cxa_can_catch=function(){return(Zr=f.___cxa_can_catch=f.asm.nb).apply(null,arguments)},on=f.___cxa_is_pointer_type=function(){return(on=f.___cxa_is_pointer_type=f.asm.ob).apply(null,arguments)},Gr=f.dynCall_j=function(){return(Gr=f.dynCall_j=f.asm.pb).apply(null,arguments)},ua=f.dynCall_iiiiij=function(){return(ua=f.dynCall_iiiiij=f.asm.qb).apply(null,arguments)},Dn=f.dynCall_jii=function(){return(Dn=f.dynCall_jii=f.asm.rb).apply(null,arguments)},Rn=f.dynCall_viiiiij=function(){return(Rn=f.dynCall_viiiiij=f.asm.sb).apply(null,arguments)},jn=f.dynCall_vjji=function(){return(jn=f.dynCall_vjji=f.asm.tb).apply(null,arguments)},sn=f.dynCall_viiijjjii=function(){return(sn=f.dynCall_viiijjjii=f.asm.ub).apply(null,arguments)},cn=f.dynCall_iij=function(){return(cn=f.dynCall_iij=f.asm.vb).apply(null,arguments)},Nn=f.dynCall_ji=function(){return(Nn=f.dynCall_ji=f.asm.wb).apply(null,arguments)},Ln=f.dynCall_iiiiiij=function(){return(Ln=f.dynCall_iiiiiij=f.asm.xb).apply(null,arguments)},fr=f.dynCall_iiij=function(){return(fr=f.dynCall_iiij=f.asm.yb).apply(null,arguments)};function $t(){function K(){if(!qr&&(qr=!0,f.calledRun=!0,!U)){if(ir(ke),b(f),f.onRuntimeInitialized&&f.onRuntimeInitialized(),f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;){var te=f.postRun.shift();Le.unshift(te)}ir(Le)}}if(!(0<$e)){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)de();ir(Ce),0<$e||(f.setStatus?(f.setStatus("Running..."),setTimeout((function(){setTimeout((function(){f.setStatus("")}),1),K()}),1)):K())}}if(f.UTF8ToString=ie,f.stringToUTF8=function(K,te,se){return Ee(K,ee,te,se)},f.lengthBytesUTF8=Z,f.stackSave=Ke,f.stackRestore=Xe,f.stackAlloc=ca,we=function K(){qr||$t(),qr||(we=K)},f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);0<f.preInit.length;)f.preInit.pop()();return $t(),d.ready});t.exports=l},4537:t=>{t.exports=function(e,n){for(var i=new Array(arguments.length-1),l=0,d=2,f=!0;d<arguments.length;)i[l++]=arguments[d++];return new Promise((function(b,_){i[l]=function(v){if(f)if(f=!1,v)_(v);else{for(var m=new Array(arguments.length-1),u=0;u<m.length;)m[u++]=arguments[u];b.apply(null,m)}};try{e.apply(n||null,i)}catch(v){f&&(f=!1,_(v))}}))}},7419:(t,e)=>{var n=e;n.length=function(b){var _=b.length;if(!_)return 0;for(var v=0;--_%4>1&&b.charAt(_)==="=";)++v;return Math.ceil(3*b.length)/4-v};for(var i=new Array(64),l=new Array(123),d=0;d<64;)l[i[d]=d<26?d+65:d<52?d+71:d<62?d-4:d-59|43]=d++;n.encode=function(b,_,v){for(var m,u=null,o=[],h=0,w=0;_<v;){var E=b[_++];switch(w){case 0:o[h++]=i[E>>2],m=(3&E)<<4,w=1;break;case 1:o[h++]=i[m|E>>4],m=(15&E)<<2,w=2;break;case 2:o[h++]=i[m|E>>6],o[h++]=i[63&E],w=0}h>8191&&((u||(u=[])).push(String.fromCharCode.apply(String,o)),h=0)}return w&&(o[h++]=i[m],o[h++]=61,w===1&&(o[h++]=61)),u?(h&&u.push(String.fromCharCode.apply(String,o.slice(0,h))),u.join("")):String.fromCharCode.apply(String,o.slice(0,h))};var f="invalid encoding";n.decode=function(b,_,v){for(var m,u=v,o=0,h=0;h<b.length;){var w=b.charCodeAt(h++);if(w===61&&o>1)break;if((w=l[w])===void 0)throw Error(f);switch(o){case 0:m=w,o=1;break;case 1:_[v++]=m<<2|(48&w)>>4,m=w,o=2;break;case 2:_[v++]=(15&m)<<4|(60&w)>>2,m=w,o=3;break;case 3:_[v++]=(3&m)<<6|w,o=0}}if(o===1)throw Error(f);return v-u},n.test=function(b){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(b)}},9211:t=>{function e(){this._listeners={}}t.exports=e,e.prototype.on=function(n,i,l){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:i,ctx:l||this}),this},e.prototype.off=function(n,i){if(n===void 0)this._listeners={};else if(i===void 0)this._listeners[n]=[];else for(var l=this._listeners[n],d=0;d<l.length;)l[d].fn===i?l.splice(d,1):++d;return this},e.prototype.emit=function(n){var i=this._listeners[n];if(i){for(var l=[],d=1;d<arguments.length;)l.push(arguments[d++]);for(d=0;d<i.length;)i[d].fn.apply(i[d++].ctx,l)}return this}},945:t=>{function e(f){return typeof Float32Array<"u"?(function(){var b=new Float32Array([-0]),_=new Uint8Array(b.buffer),v=_[3]===128;function m(w,E,T){b[0]=w,E[T]=_[0],E[T+1]=_[1],E[T+2]=_[2],E[T+3]=_[3]}function u(w,E,T){b[0]=w,E[T]=_[3],E[T+1]=_[2],E[T+2]=_[1],E[T+3]=_[0]}function o(w,E){return _[0]=w[E],_[1]=w[E+1],_[2]=w[E+2],_[3]=w[E+3],b[0]}function h(w,E){return _[3]=w[E],_[2]=w[E+1],_[1]=w[E+2],_[0]=w[E+3],b[0]}f.writeFloatLE=v?m:u,f.writeFloatBE=v?u:m,f.readFloatLE=v?o:h,f.readFloatBE=v?h:o})():(function(){function b(v,m,u,o){var h=m<0?1:0;if(h&&(m=-m),m===0)v(1/m>0?0:2147483648,u,o);else if(isNaN(m))v(2143289344,u,o);else if(m>34028234663852886e22)v((h<<31|2139095040)>>>0,u,o);else if(m<11754943508222875e-54)v((h<<31|Math.round(m/1401298464324817e-60))>>>0,u,o);else{var w=Math.floor(Math.log(m)/Math.LN2);v((h<<31|w+127<<23|8388607&Math.round(m*Math.pow(2,-w)*8388608))>>>0,u,o)}}function _(v,m,u){var o=v(m,u),h=2*(o>>31)+1,w=o>>>23&255,E=8388607&o;return w===255?E?NaN:h*(1/0):w===0?1401298464324817e-60*h*E:h*Math.pow(2,w-150)*(E+8388608)}f.writeFloatLE=b.bind(null,n),f.writeFloatBE=b.bind(null,i),f.readFloatLE=_.bind(null,l),f.readFloatBE=_.bind(null,d)})(),typeof Float64Array<"u"?(function(){var b=new Float64Array([-0]),_=new Uint8Array(b.buffer),v=_[7]===128;function m(w,E,T){b[0]=w,E[T]=_[0],E[T+1]=_[1],E[T+2]=_[2],E[T+3]=_[3],E[T+4]=_[4],E[T+5]=_[5],E[T+6]=_[6],E[T+7]=_[7]}function u(w,E,T){b[0]=w,E[T]=_[7],E[T+1]=_[6],E[T+2]=_[5],E[T+3]=_[4],E[T+4]=_[3],E[T+5]=_[2],E[T+6]=_[1],E[T+7]=_[0]}function o(w,E){return _[0]=w[E],_[1]=w[E+1],_[2]=w[E+2],_[3]=w[E+3],_[4]=w[E+4],_[5]=w[E+5],_[6]=w[E+6],_[7]=w[E+7],b[0]}function h(w,E){return _[7]=w[E],_[6]=w[E+1],_[5]=w[E+2],_[4]=w[E+3],_[3]=w[E+4],_[2]=w[E+5],_[1]=w[E+6],_[0]=w[E+7],b[0]}f.writeDoubleLE=v?m:u,f.writeDoubleBE=v?u:m,f.readDoubleLE=v?o:h,f.readDoubleBE=v?h:o})():(function(){function b(v,m,u,o,h,w){var E=o<0?1:0;if(E&&(o=-o),o===0)v(0,h,w+m),v(1/o>0?0:2147483648,h,w+u);else if(isNaN(o))v(0,h,w+m),v(2146959360,h,w+u);else if(o>17976931348623157e292)v(0,h,w+m),v((E<<31|2146435072)>>>0,h,w+u);else{var T;if(o<22250738585072014e-324)v((T=o/5e-324)>>>0,h,w+m),v((E<<31|T/4294967296)>>>0,h,w+u);else{var O=Math.floor(Math.log(o)/Math.LN2);O===1024&&(O=1023),v(4503599627370496*(T=o*Math.pow(2,-O))>>>0,h,w+m),v((E<<31|O+1023<<20|1048576*T&1048575)>>>0,h,w+u)}}}function _(v,m,u,o,h){var w=v(o,h+m),E=v(o,h+u),T=2*(E>>31)+1,O=E>>>20&2047,M=4294967296*(1048575&E)+w;return O===2047?M?NaN:T*(1/0):O===0?5e-324*T*M:T*Math.pow(2,O-1075)*(M+4503599627370496)}f.writeDoubleLE=b.bind(null,n,0,4),f.writeDoubleBE=b.bind(null,i,4,0),f.readDoubleLE=_.bind(null,l,0,4),f.readDoubleBE=_.bind(null,d,4,0)})(),f}function n(f,b,_){b[_]=255&f,b[_+1]=f>>>8&255,b[_+2]=f>>>16&255,b[_+3]=f>>>24}function i(f,b,_){b[_]=f>>>24,b[_+1]=f>>>16&255,b[_+2]=f>>>8&255,b[_+3]=255&f}function l(f,b){return(f[b]|f[b+1]<<8|f[b+2]<<16|f[b+3]<<24)>>>0}function d(f,b){return(f[b]<<24|f[b+1]<<16|f[b+2]<<8|f[b+3])>>>0}t.exports=e(e)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},6662:t=>{t.exports=function(e,n,i){var l=i||8192,d=l>>>1,f=null,b=l;return function(_){if(_<1||_>d)return e(_);b+_>l&&(f=e(l),b=0);var v=n.call(f,b,b+=_);return 7&b&&(b=1+(7|b)),v}}},4997:(t,e)=>{var n=e;n.length=function(i){for(var l=0,d=0,f=0;f<i.length;++f)(d=i.charCodeAt(f))<128?l+=1:d<2048?l+=2:(64512&d)==55296&&(64512&i.charCodeAt(f+1))==56320?(++f,l+=4):l+=3;return l},n.read=function(i,l,d){if(d-l<1)return"";for(var f,b=null,_=[],v=0;l<d;)(f=i[l++])<128?_[v++]=f:f>191&&f<224?_[v++]=(31&f)<<6|63&i[l++]:f>239&&f<365?(f=((7&f)<<18|(63&i[l++])<<12|(63&i[l++])<<6|63&i[l++])-65536,_[v++]=55296+(f>>10),_[v++]=56320+(1023&f)):_[v++]=(15&f)<<12|(63&i[l++])<<6|63&i[l++],v>8191&&((b||(b=[])).push(String.fromCharCode.apply(String,_)),v=0);return b?(v&&b.push(String.fromCharCode.apply(String,_.slice(0,v))),b.join("")):String.fromCharCode.apply(String,_.slice(0,v))},n.write=function(i,l,d){for(var f,b,_=d,v=0;v<i.length;++v)(f=i.charCodeAt(v))<128?l[d++]=f:f<2048?(l[d++]=f>>6|192,l[d++]=63&f|128):(64512&f)==55296&&(64512&(b=i.charCodeAt(v+1)))==56320?(f=65536+((1023&f)<<10)+(1023&b),++v,l[d++]=f>>18|240,l[d++]=f>>12&63|128,l[d++]=f>>6&63|128,l[d++]=63&f|128):(l[d++]=f>>12|224,l[d++]=f>>6&63|128,l[d++]=63&f|128);return d-_}},3442:(t,e)=>{e.__esModule=!0;var n=(function(){function i(l){if(!l)throw new TypeError("Invalid argument; `value` has no value.");this.value=i.EMPTY,l&&i.isGuid(l)&&(this.value=l)}return i.isGuid=function(l){var d=l.toString();return l&&(l instanceof i||i.validator.test(d))},i.create=function(){return new i([i.gen(2),i.gen(1),i.gen(1),i.gen(1),i.gen(3)].join("-"))},i.createEmpty=function(){return new i("emptyguid")},i.parse=function(l){return new i(l)},i.raw=function(){return[i.gen(2),i.gen(1),i.gen(1),i.gen(1),i.gen(3)].join("-")},i.gen=function(l){for(var d="",f=0;f<l;f++)d+=(65536*(1+Math.random())|0).toString(16).substring(1);return d},i.prototype.equals=function(l){return i.isGuid(l)&&this.value===l.toString()},i.prototype.isEmpty=function(){return this.value===i.EMPTY},i.prototype.toString=function(){return this.value},i.prototype.toJSON=function(){return{value:this.value}},i.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),i.EMPTY="00000000-0000-0000-0000-000000000000",i})();e.Guid=n},3720:t=>{t.exports=n;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function n($,V,G){this.low=0|$,this.high=0|V,this.unsigned=!!G}function i($){return($&&$.__isLong__)===!0}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=i;var l={},d={};function f($,V){var G,X,ee;return V?(ee=0<=($>>>=0)&&$<256)&&(X=d[$])?X:(G=_($,(0|$)<0?-1:0,!0),ee&&(d[$]=G),G):(ee=-128<=($|=0)&&$<128)&&(X=l[$])?X:(G=_($,$<0?-1:0,!1),ee&&(l[$]=G),G)}function b($,V){if(isNaN($))return V?O:T;if(V){if($<0)return O;if($>=h)return N}else{if($<=-w)return L;if($+1>=w)return D}return $<0?b(-$,V).neg():_($%o|0,$/o|0,V)}function _($,V,G){return new n($,V,G)}n.fromInt=f,n.fromNumber=b,n.fromBits=_;var v=Math.pow;function m($,V,G){if($.length===0)throw Error("empty string");if($==="NaN"||$==="Infinity"||$==="+Infinity"||$==="-Infinity")return T;if(typeof V=="number"?(G=V,V=!1):V=!!V,(G=G||10)<2||36<G)throw RangeError("radix");var X;if((X=$.indexOf("-"))>0)throw Error("interior hyphen");if(X===0)return m($.substring(1),V,G).neg();for(var ee=b(v(G,8)),Q=T,Y=0;Y<$.length;Y+=8){var U=Math.min(8,$.length-Y),q=parseInt($.substring(Y,Y+U),G);if(U<8){var le=b(v(G,U));Q=Q.mul(le).add(b(q))}else Q=(Q=Q.mul(ee)).add(b(q))}return Q.unsigned=V,Q}function u($,V){return typeof $=="number"?b($,V):typeof $=="string"?m($,V):_($.low,$.high,typeof V=="boolean"?V:$.unsigned)}n.fromString=m,n.fromValue=u;var o=4294967296,h=o*o,w=h/2,E=f(1<<24),T=f(0);n.ZERO=T;var O=f(0,!0);n.UZERO=O;var M=f(1);n.ONE=M;var I=f(1,!0);n.UONE=I;var R=f(-1);n.NEG_ONE=R;var D=_(-1,2147483647,!1);n.MAX_VALUE=D;var N=_(-1,-1,!0);n.MAX_UNSIGNED_VALUE=N;var L=_(0,-2147483648,!1);n.MIN_VALUE=L;var B=n.prototype;B.toInt=function(){return this.unsigned?this.low>>>0:this.low},B.toNumber=function(){return this.unsigned?(this.high>>>0)*o+(this.low>>>0):this.high*o+(this.low>>>0)},B.toString=function($){if(($=$||10)<2||36<$)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(L)){var V=b($),G=this.div(V),X=G.mul(V).sub(this);return G.toString($)+X.toInt().toString($)}return"-"+this.neg().toString($)}for(var ee=b(v($,6),this.unsigned),Q=this,Y="";;){var U=Q.div(ee),q=(Q.sub(U.mul(ee)).toInt()>>>0).toString($);if((Q=U).isZero())return q+Y;for(;q.length<6;)q="0"+q;Y=""+q+Y}},B.getHighBits=function(){return this.high},B.getHighBitsUnsigned=function(){return this.high>>>0},B.getLowBits=function(){return this.low},B.getLowBitsUnsigned=function(){return this.low>>>0},B.getNumBitsAbs=function(){if(this.isNegative())return this.eq(L)?64:this.neg().getNumBitsAbs();for(var $=this.high!=0?this.high:this.low,V=31;V>0&&($&1<<V)==0;V--);return this.high!=0?V+33:V+1},B.isZero=function(){return this.high===0&&this.low===0},B.eqz=B.isZero,B.isNegative=function(){return!this.unsigned&&this.high<0},B.isPositive=function(){return this.unsigned||this.high>=0},B.isOdd=function(){return(1&this.low)==1},B.isEven=function(){return(1&this.low)==0},B.equals=function($){return i($)||($=u($)),(this.unsigned===$.unsigned||this.high>>>31!=1||$.high>>>31!=1)&&this.high===$.high&&this.low===$.low},B.eq=B.equals,B.notEquals=function($){return!this.eq($)},B.neq=B.notEquals,B.ne=B.notEquals,B.lessThan=function($){return this.comp($)<0},B.lt=B.lessThan,B.lessThanOrEqual=function($){return this.comp($)<=0},B.lte=B.lessThanOrEqual,B.le=B.lessThanOrEqual,B.greaterThan=function($){return this.comp($)>0},B.gt=B.greaterThan,B.greaterThanOrEqual=function($){return this.comp($)>=0},B.gte=B.greaterThanOrEqual,B.ge=B.greaterThanOrEqual,B.compare=function($){if(i($)||($=u($)),this.eq($))return 0;var V=this.isNegative(),G=$.isNegative();return V&&!G?-1:!V&&G?1:this.unsigned?$.high>>>0>this.high>>>0||$.high===this.high&&$.low>>>0>this.low>>>0?-1:1:this.sub($).isNegative()?-1:1},B.comp=B.compare,B.negate=function(){return!this.unsigned&&this.eq(L)?L:this.not().add(M)},B.neg=B.negate,B.add=function($){i($)||($=u($));var V=this.high>>>16,G=65535&this.high,X=this.low>>>16,ee=65535&this.low,Q=$.high>>>16,Y=65535&$.high,U=$.low>>>16,q=0,le=0,ie=0,Ee=0;return ie+=(Ee+=ee+(65535&$.low))>>>16,le+=(ie+=X+U)>>>16,q+=(le+=G+Y)>>>16,q+=V+Q,_((ie&=65535)<<16|(Ee&=65535),(q&=65535)<<16|(le&=65535),this.unsigned)},B.subtract=function($){return i($)||($=u($)),this.add($.neg())},B.sub=B.subtract,B.multiply=function($){if(this.isZero())return T;if(i($)||($=u($)),e)return _(e.mul(this.low,this.high,$.low,$.high),e.get_high(),this.unsigned);if($.isZero())return T;if(this.eq(L))return $.isOdd()?L:T;if($.eq(L))return this.isOdd()?L:T;if(this.isNegative())return $.isNegative()?this.neg().mul($.neg()):this.neg().mul($).neg();if($.isNegative())return this.mul($.neg()).neg();if(this.lt(E)&&$.lt(E))return b(this.toNumber()*$.toNumber(),this.unsigned);var V=this.high>>>16,G=65535&this.high,X=this.low>>>16,ee=65535&this.low,Q=$.high>>>16,Y=65535&$.high,U=$.low>>>16,q=65535&$.low,le=0,ie=0,Ee=0,Z=0;return Ee+=(Z+=ee*q)>>>16,ie+=(Ee+=X*q)>>>16,Ee&=65535,ie+=(Ee+=ee*U)>>>16,le+=(ie+=G*q)>>>16,ie&=65535,le+=(ie+=X*U)>>>16,ie&=65535,le+=(ie+=ee*Y)>>>16,le+=V*q+G*U+X*Y+ee*Q,_((Ee&=65535)<<16|(Z&=65535),(le&=65535)<<16|(ie&=65535),this.unsigned)},B.mul=B.multiply,B.divide=function($){if(i($)||($=u($)),$.isZero())throw Error("division by zero");var V,G,X;if(e)return this.unsigned||this.high!==-2147483648||$.low!==-1||$.high!==-1?_((this.unsigned?e.div_u:e.div_s)(this.low,this.high,$.low,$.high),e.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?O:T;if(this.unsigned){if($.unsigned||($=$.toUnsigned()),$.gt(this))return O;if($.gt(this.shru(1)))return I;X=O}else{if(this.eq(L))return $.eq(M)||$.eq(R)?L:$.eq(L)?M:(V=this.shr(1).div($).shl(1)).eq(T)?$.isNegative()?M:R:(G=this.sub($.mul(V)),X=V.add(G.div($)));if($.eq(L))return this.unsigned?O:T;if(this.isNegative())return $.isNegative()?this.neg().div($.neg()):this.neg().div($).neg();if($.isNegative())return this.div($.neg()).neg();X=T}for(G=this;G.gte($);){V=Math.max(1,Math.floor(G.toNumber()/$.toNumber()));for(var ee=Math.ceil(Math.log(V)/Math.LN2),Q=ee<=48?1:v(2,ee-48),Y=b(V),U=Y.mul($);U.isNegative()||U.gt(G);)U=(Y=b(V-=Q,this.unsigned)).mul($);Y.isZero()&&(Y=M),X=X.add(Y),G=G.sub(U)}return X},B.div=B.divide,B.modulo=function($){return i($)||($=u($)),e?_((this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,$.low,$.high),e.get_high(),this.unsigned):this.sub(this.div($).mul($))},B.mod=B.modulo,B.rem=B.modulo,B.not=function(){return _(~this.low,~this.high,this.unsigned)},B.and=function($){return i($)||($=u($)),_(this.low&$.low,this.high&$.high,this.unsigned)},B.or=function($){return i($)||($=u($)),_(this.low|$.low,this.high|$.high,this.unsigned)},B.xor=function($){return i($)||($=u($)),_(this.low^$.low,this.high^$.high,this.unsigned)},B.shiftLeft=function($){return i($)&&($=$.toInt()),($&=63)==0?this:$<32?_(this.low<<$,this.high<<$|this.low>>>32-$,this.unsigned):_(0,this.low<<$-32,this.unsigned)},B.shl=B.shiftLeft,B.shiftRight=function($){return i($)&&($=$.toInt()),($&=63)==0?this:$<32?_(this.low>>>$|this.high<<32-$,this.high>>$,this.unsigned):_(this.high>>$-32,this.high>=0?0:-1,this.unsigned)},B.shr=B.shiftRight,B.shiftRightUnsigned=function($){if(i($)&&($=$.toInt()),($&=63)==0)return this;var V=this.high;return $<32?_(this.low>>>$|V<<32-$,V>>>$,this.unsigned):_($===32?V:V>>>$-32,0,this.unsigned)},B.shru=B.shiftRightUnsigned,B.shr_u=B.shiftRightUnsigned,B.toSigned=function(){return this.unsigned?_(this.low,this.high,!1):this},B.toUnsigned=function(){return this.unsigned?this:_(this.low,this.high,!0)},B.toBytes=function($){return $?this.toBytesLE():this.toBytesBE()},B.toBytesLE=function(){var $=this.high,V=this.low;return[255&V,V>>>8&255,V>>>16&255,V>>>24,255&$,$>>>8&255,$>>>16&255,$>>>24]},B.toBytesBE=function(){var $=this.high,V=this.low;return[$>>>24,$>>>16&255,$>>>8&255,255&$,V>>>24,V>>>16&255,V>>>8&255,255&V]},n.fromBytes=function($,V,G){return G?n.fromBytesLE($,V):n.fromBytesBE($,V)},n.fromBytesLE=function($,V){return new n($[0]|$[1]<<8|$[2]<<16|$[3]<<24,$[4]|$[5]<<8|$[6]<<16|$[7]<<24,V)},n.fromBytesBE=function($,V){return new n($[4]<<24|$[5]<<16|$[6]<<8|$[7],$[0]<<24|$[1]<<16|$[2]<<8|$[3],V)}},1446:(t,e,n)=>{var i,l,d,f=n(2100),b=f.Reader,_=f.Writer,v=f.util,m=f.roots.default||(f.roots.default={});m.onnx=((d={}).Version=(i={},(l=Object.create(i))[i[0]="_START_VERSION"]=0,l[i[1]="IR_VERSION_2017_10_10"]=1,l[i[2]="IR_VERSION_2017_10_30"]=2,l[i[3]="IR_VERSION_2017_11_3"]=3,l[i[4]="IR_VERSION_2019_1_22"]=4,l[i[5]="IR_VERSION"]=5,l),d.AttributeProto=(function(){function u(o){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],o)for(var h=Object.keys(o),w=0;w<h.length;++w)o[h[w]]!=null&&(this[h[w]]=o[h[w]])}return u.prototype.name="",u.prototype.refAttrName="",u.prototype.docString="",u.prototype.type=0,u.prototype.f=0,u.prototype.i=v.Long?v.Long.fromBits(0,0,!1):0,u.prototype.s=v.newBuffer([]),u.prototype.t=null,u.prototype.g=null,u.prototype.floats=v.emptyArray,u.prototype.ints=v.emptyArray,u.prototype.strings=v.emptyArray,u.prototype.tensors=v.emptyArray,u.prototype.graphs=v.emptyArray,u.create=function(o){return new u(o)},u.encode=function(o,h){if(h||(h=_.create()),o.name!=null&&o.hasOwnProperty("name")&&h.uint32(10).string(o.name),o.f!=null&&o.hasOwnProperty("f")&&h.uint32(21).float(o.f),o.i!=null&&o.hasOwnProperty("i")&&h.uint32(24).int64(o.i),o.s!=null&&o.hasOwnProperty("s")&&h.uint32(34).bytes(o.s),o.t!=null&&o.hasOwnProperty("t")&&m.onnx.TensorProto.encode(o.t,h.uint32(42).fork()).ldelim(),o.g!=null&&o.hasOwnProperty("g")&&m.onnx.GraphProto.encode(o.g,h.uint32(50).fork()).ldelim(),o.floats!=null&&o.floats.length){h.uint32(58).fork();for(var w=0;w<o.floats.length;++w)h.float(o.floats[w]);h.ldelim()}if(o.ints!=null&&o.ints.length){for(h.uint32(66).fork(),w=0;w<o.ints.length;++w)h.int64(o.ints[w]);h.ldelim()}if(o.strings!=null&&o.strings.length)for(w=0;w<o.strings.length;++w)h.uint32(74).bytes(o.strings[w]);if(o.tensors!=null&&o.tensors.length)for(w=0;w<o.tensors.length;++w)m.onnx.TensorProto.encode(o.tensors[w],h.uint32(82).fork()).ldelim();if(o.graphs!=null&&o.graphs.length)for(w=0;w<o.graphs.length;++w)m.onnx.GraphProto.encode(o.graphs[w],h.uint32(90).fork()).ldelim();return o.docString!=null&&o.hasOwnProperty("docString")&&h.uint32(106).string(o.docString),o.type!=null&&o.hasOwnProperty("type")&&h.uint32(160).int32(o.type),o.refAttrName!=null&&o.hasOwnProperty("refAttrName")&&h.uint32(170).string(o.refAttrName),h},u.encodeDelimited=function(o,h){return this.encode(o,h).ldelim()},u.decode=function(o,h){o instanceof b||(o=b.create(o));for(var w=h===void 0?o.len:o.pos+h,E=new m.onnx.AttributeProto;o.pos<w;){var T=o.uint32();switch(T>>>3){case 1:E.name=o.string();break;case 21:E.refAttrName=o.string();break;case 13:E.docString=o.string();break;case 20:E.type=o.int32();break;case 2:E.f=o.float();break;case 3:E.i=o.int64();break;case 4:E.s=o.bytes();break;case 5:E.t=m.onnx.TensorProto.decode(o,o.uint32());break;case 6:E.g=m.onnx.GraphProto.decode(o,o.uint32());break;case 7:if(E.floats&&E.floats.length||(E.floats=[]),(7&T)==2)for(var O=o.uint32()+o.pos;o.pos<O;)E.floats.push(o.float());else E.floats.push(o.float());break;case 8:if(E.ints&&E.ints.length||(E.ints=[]),(7&T)==2)for(O=o.uint32()+o.pos;o.pos<O;)E.ints.push(o.int64());else E.ints.push(o.int64());break;case 9:E.strings&&E.strings.length||(E.strings=[]),E.strings.push(o.bytes());break;case 10:E.tensors&&E.tensors.length||(E.tensors=[]),E.tensors.push(m.onnx.TensorProto.decode(o,o.uint32()));break;case 11:E.graphs&&E.graphs.length||(E.graphs=[]),E.graphs.push(m.onnx.GraphProto.decode(o,o.uint32()));break;default:o.skipType(7&T)}}return E},u.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},u.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.name!=null&&o.hasOwnProperty("name")&&!v.isString(o.name))return"name: string expected";if(o.refAttrName!=null&&o.hasOwnProperty("refAttrName")&&!v.isString(o.refAttrName))return"refAttrName: string expected";if(o.docString!=null&&o.hasOwnProperty("docString")&&!v.isString(o.docString))return"docString: string expected";if(o.type!=null&&o.hasOwnProperty("type"))switch(o.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(o.f!=null&&o.hasOwnProperty("f")&&typeof o.f!="number")return"f: number expected";if(o.i!=null&&o.hasOwnProperty("i")&&!(v.isInteger(o.i)||o.i&&v.isInteger(o.i.low)&&v.isInteger(o.i.high)))return"i: integer|Long expected";if(o.s!=null&&o.hasOwnProperty("s")&&!(o.s&&typeof o.s.length=="number"||v.isString(o.s)))return"s: buffer expected";if(o.t!=null&&o.hasOwnProperty("t")&&(w=m.onnx.TensorProto.verify(o.t)))return"t."+w;if(o.g!=null&&o.hasOwnProperty("g")&&(w=m.onnx.GraphProto.verify(o.g)))return"g."+w;if(o.floats!=null&&o.hasOwnProperty("floats")){if(!Array.isArray(o.floats))return"floats: array expected";for(var h=0;h<o.floats.length;++h)if(typeof o.floats[h]!="number")return"floats: number[] expected"}if(o.ints!=null&&o.hasOwnProperty("ints")){if(!Array.isArray(o.ints))return"ints: array expected";for(h=0;h<o.ints.length;++h)if(!(v.isInteger(o.ints[h])||o.ints[h]&&v.isInteger(o.ints[h].low)&&v.isInteger(o.ints[h].high)))return"ints: integer|Long[] expected"}if(o.strings!=null&&o.hasOwnProperty("strings")){if(!Array.isArray(o.strings))return"strings: array expected";for(h=0;h<o.strings.length;++h)if(!(o.strings[h]&&typeof o.strings[h].length=="number"||v.isString(o.strings[h])))return"strings: buffer[] expected"}if(o.tensors!=null&&o.hasOwnProperty("tensors")){if(!Array.isArray(o.tensors))return"tensors: array expected";for(h=0;h<o.tensors.length;++h)if(w=m.onnx.TensorProto.verify(o.tensors[h]))return"tensors."+w}if(o.graphs!=null&&o.hasOwnProperty("graphs")){if(!Array.isArray(o.graphs))return"graphs: array expected";for(h=0;h<o.graphs.length;++h){var w;if(w=m.onnx.GraphProto.verify(o.graphs[h]))return"graphs."+w}}return null},u.fromObject=function(o){if(o instanceof m.onnx.AttributeProto)return o;var h=new m.onnx.AttributeProto;switch(o.name!=null&&(h.name=String(o.name)),o.refAttrName!=null&&(h.refAttrName=String(o.refAttrName)),o.docString!=null&&(h.docString=String(o.docString)),o.type){case"UNDEFINED":case 0:h.type=0;break;case"FLOAT":case 1:h.type=1;break;case"INT":case 2:h.type=2;break;case"STRING":case 3:h.type=3;break;case"TENSOR":case 4:h.type=4;break;case"GRAPH":case 5:h.type=5;break;case"FLOATS":case 6:h.type=6;break;case"INTS":case 7:h.type=7;break;case"STRINGS":case 8:h.type=8;break;case"TENSORS":case 9:h.type=9;break;case"GRAPHS":case 10:h.type=10}if(o.f!=null&&(h.f=Number(o.f)),o.i!=null&&(v.Long?(h.i=v.Long.fromValue(o.i)).unsigned=!1:typeof o.i=="string"?h.i=parseInt(o.i,10):typeof o.i=="number"?h.i=o.i:typeof o.i=="object"&&(h.i=new v.LongBits(o.i.low>>>0,o.i.high>>>0).toNumber())),o.s!=null&&(typeof o.s=="string"?v.base64.decode(o.s,h.s=v.newBuffer(v.base64.length(o.s)),0):o.s.length&&(h.s=o.s)),o.t!=null){if(typeof o.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");h.t=m.onnx.TensorProto.fromObject(o.t)}if(o.g!=null){if(typeof o.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");h.g=m.onnx.GraphProto.fromObject(o.g)}if(o.floats){if(!Array.isArray(o.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");h.floats=[];for(var w=0;w<o.floats.length;++w)h.floats[w]=Number(o.floats[w])}if(o.ints){if(!Array.isArray(o.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(h.ints=[],w=0;w<o.ints.length;++w)v.Long?(h.ints[w]=v.Long.fromValue(o.ints[w])).unsigned=!1:typeof o.ints[w]=="string"?h.ints[w]=parseInt(o.ints[w],10):typeof o.ints[w]=="number"?h.ints[w]=o.ints[w]:typeof o.ints[w]=="object"&&(h.ints[w]=new v.LongBits(o.ints[w].low>>>0,o.ints[w].high>>>0).toNumber())}if(o.strings){if(!Array.isArray(o.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(h.strings=[],w=0;w<o.strings.length;++w)typeof o.strings[w]=="string"?v.base64.decode(o.strings[w],h.strings[w]=v.newBuffer(v.base64.length(o.strings[w])),0):o.strings[w].length&&(h.strings[w]=o.strings[w])}if(o.tensors){if(!Array.isArray(o.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(h.tensors=[],w=0;w<o.tensors.length;++w){if(typeof o.tensors[w]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");h.tensors[w]=m.onnx.TensorProto.fromObject(o.tensors[w])}}if(o.graphs){if(!Array.isArray(o.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(h.graphs=[],w=0;w<o.graphs.length;++w){if(typeof o.graphs[w]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");h.graphs[w]=m.onnx.GraphProto.fromObject(o.graphs[w])}}return h},u.toObject=function(o,h){h||(h={});var w={};if((h.arrays||h.defaults)&&(w.floats=[],w.ints=[],w.strings=[],w.tensors=[],w.graphs=[]),h.defaults){if(w.name="",w.f=0,v.Long){var E=new v.Long(0,0,!1);w.i=h.longs===String?E.toString():h.longs===Number?E.toNumber():E}else w.i=h.longs===String?"0":0;h.bytes===String?w.s="":(w.s=[],h.bytes!==Array&&(w.s=v.newBuffer(w.s))),w.t=null,w.g=null,w.docString="",w.type=h.enums===String?"UNDEFINED":0,w.refAttrName=""}if(o.name!=null&&o.hasOwnProperty("name")&&(w.name=o.name),o.f!=null&&o.hasOwnProperty("f")&&(w.f=h.json&&!isFinite(o.f)?String(o.f):o.f),o.i!=null&&o.hasOwnProperty("i")&&(typeof o.i=="number"?w.i=h.longs===String?String(o.i):o.i:w.i=h.longs===String?v.Long.prototype.toString.call(o.i):h.longs===Number?new v.LongBits(o.i.low>>>0,o.i.high>>>0).toNumber():o.i),o.s!=null&&o.hasOwnProperty("s")&&(w.s=h.bytes===String?v.base64.encode(o.s,0,o.s.length):h.bytes===Array?Array.prototype.slice.call(o.s):o.s),o.t!=null&&o.hasOwnProperty("t")&&(w.t=m.onnx.TensorProto.toObject(o.t,h)),o.g!=null&&o.hasOwnProperty("g")&&(w.g=m.onnx.GraphProto.toObject(o.g,h)),o.floats&&o.floats.length){w.floats=[];for(var T=0;T<o.floats.length;++T)w.floats[T]=h.json&&!isFinite(o.floats[T])?String(o.floats[T]):o.floats[T]}if(o.ints&&o.ints.length)for(w.ints=[],T=0;T<o.ints.length;++T)typeof o.ints[T]=="number"?w.ints[T]=h.longs===String?String(o.ints[T]):o.ints[T]:w.ints[T]=h.longs===String?v.Long.prototype.toString.call(o.ints[T]):h.longs===Number?new v.LongBits(o.ints[T].low>>>0,o.ints[T].high>>>0).toNumber():o.ints[T];if(o.strings&&o.strings.length)for(w.strings=[],T=0;T<o.strings.length;++T)w.strings[T]=h.bytes===String?v.base64.encode(o.strings[T],0,o.strings[T].length):h.bytes===Array?Array.prototype.slice.call(o.strings[T]):o.strings[T];if(o.tensors&&o.tensors.length)for(w.tensors=[],T=0;T<o.tensors.length;++T)w.tensors[T]=m.onnx.TensorProto.toObject(o.tensors[T],h);if(o.graphs&&o.graphs.length)for(w.graphs=[],T=0;T<o.graphs.length;++T)w.graphs[T]=m.onnx.GraphProto.toObject(o.graphs[T],h);return o.docString!=null&&o.hasOwnProperty("docString")&&(w.docString=o.docString),o.type!=null&&o.hasOwnProperty("type")&&(w.type=h.enums===String?m.onnx.AttributeProto.AttributeType[o.type]:o.type),o.refAttrName!=null&&o.hasOwnProperty("refAttrName")&&(w.refAttrName=o.refAttrName),w},u.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},u.AttributeType=(function(){var o={},h=Object.create(o);return h[o[0]="UNDEFINED"]=0,h[o[1]="FLOAT"]=1,h[o[2]="INT"]=2,h[o[3]="STRING"]=3,h[o[4]="TENSOR"]=4,h[o[5]="GRAPH"]=5,h[o[6]="FLOATS"]=6,h[o[7]="INTS"]=7,h[o[8]="STRINGS"]=8,h[o[9]="TENSORS"]=9,h[o[10]="GRAPHS"]=10,h})(),u})(),d.ValueInfoProto=(function(){function u(o){if(o)for(var h=Object.keys(o),w=0;w<h.length;++w)o[h[w]]!=null&&(this[h[w]]=o[h[w]])}return u.prototype.name="",u.prototype.type=null,u.prototype.docString="",u.create=function(o){return new u(o)},u.encode=function(o,h){return h||(h=_.create()),o.name!=null&&o.hasOwnProperty("name")&&h.uint32(10).string(o.name),o.type!=null&&o.hasOwnProperty("type")&&m.onnx.TypeProto.encode(o.type,h.uint32(18).fork()).ldelim(),o.docString!=null&&o.hasOwnProperty("docString")&&h.uint32(26).string(o.docString),h},u.encodeDelimited=function(o,h){return this.encode(o,h).ldelim()},u.decode=function(o,h){o instanceof b||(o=b.create(o));for(var w=h===void 0?o.len:o.pos+h,E=new m.onnx.ValueInfoProto;o.pos<w;){var T=o.uint32();switch(T>>>3){case 1:E.name=o.string();break;case 2:E.type=m.onnx.TypeProto.decode(o,o.uint32());break;case 3:E.docString=o.string();break;default:o.skipType(7&T)}}return E},u.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},u.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.name!=null&&o.hasOwnProperty("name")&&!v.isString(o.name))return"name: string expected";if(o.type!=null&&o.hasOwnProperty("type")){var h=m.onnx.TypeProto.verify(o.type);if(h)return"type."+h}return o.docString!=null&&o.hasOwnProperty("docString")&&!v.isString(o.docString)?"docString: string expected":null},u.fromObject=function(o){if(o instanceof m.onnx.ValueInfoProto)return o;var h=new m.onnx.ValueInfoProto;if(o.name!=null&&(h.name=String(o.name)),o.type!=null){if(typeof o.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");h.type=m.onnx.TypeProto.fromObject(o.type)}return o.docString!=null&&(h.docString=String(o.docString)),h},u.toObject=function(o,h){h||(h={});var w={};return h.defaults&&(w.name="",w.type=null,w.docString=""),o.name!=null&&o.hasOwnProperty("name")&&(w.name=o.name),o.type!=null&&o.hasOwnProperty("type")&&(w.type=m.onnx.TypeProto.toObject(o.type,h)),o.docString!=null&&o.hasOwnProperty("docString")&&(w.docString=o.docString),w},u.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},u})(),d.NodeProto=(function(){function u(o){if(this.input=[],this.output=[],this.attribute=[],o)for(var h=Object.keys(o),w=0;w<h.length;++w)o[h[w]]!=null&&(this[h[w]]=o[h[w]])}return u.prototype.input=v.emptyArray,u.prototype.output=v.emptyArray,u.prototype.name="",u.prototype.opType="",u.prototype.domain="",u.prototype.attribute=v.emptyArray,u.prototype.docString="",u.create=function(o){return new u(o)},u.encode=function(o,h){if(h||(h=_.create()),o.input!=null&&o.input.length)for(var w=0;w<o.input.length;++w)h.uint32(10).string(o.input[w]);if(o.output!=null&&o.output.length)for(w=0;w<o.output.length;++w)h.uint32(18).string(o.output[w]);if(o.name!=null&&o.hasOwnProperty("name")&&h.uint32(26).string(o.name),o.opType!=null&&o.hasOwnProperty("opType")&&h.uint32(34).string(o.opType),o.attribute!=null&&o.attribute.length)for(w=0;w<o.attribute.length;++w)m.onnx.AttributeProto.encode(o.attribute[w],h.uint32(42).fork()).ldelim();return o.docString!=null&&o.hasOwnProperty("docString")&&h.uint32(50).string(o.docString),o.domain!=null&&o.hasOwnProperty("domain")&&h.uint32(58).string(o.domain),h},u.encodeDelimited=function(o,h){return this.encode(o,h).ldelim()},u.decode=function(o,h){o instanceof b||(o=b.create(o));for(var w=h===void 0?o.len:o.pos+h,E=new m.onnx.NodeProto;o.pos<w;){var T=o.uint32();switch(T>>>3){case 1:E.input&&E.input.length||(E.input=[]),E.input.push(o.string());break;case 2:E.output&&E.output.length||(E.output=[]),E.output.push(o.string());break;case 3:E.name=o.string();break;case 4:E.opType=o.string();break;case 7:E.domain=o.string();break;case 5:E.attribute&&E.attribute.length||(E.attribute=[]),E.attribute.push(m.onnx.AttributeProto.decode(o,o.uint32()));break;case 6:E.docString=o.string();break;default:o.skipType(7&T)}}return E},u.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},u.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.input!=null&&o.hasOwnProperty("input")){if(!Array.isArray(o.input))return"input: array expected";for(var h=0;h<o.input.length;++h)if(!v.isString(o.input[h]))return"input: string[] expected"}if(o.output!=null&&o.hasOwnProperty("output")){if(!Array.isArray(o.output))return"output: array expected";for(h=0;h<o.output.length;++h)if(!v.isString(o.output[h]))return"output: string[] expected"}if(o.name!=null&&o.hasOwnProperty("name")&&!v.isString(o.name))return"name: string expected";if(o.opType!=null&&o.hasOwnProperty("opType")&&!v.isString(o.opType))return"opType: string expected";if(o.domain!=null&&o.hasOwnProperty("domain")&&!v.isString(o.domain))return"domain: string expected";if(o.attribute!=null&&o.hasOwnProperty("attribute")){if(!Array.isArray(o.attribute))return"attribute: array expected";for(h=0;h<o.attribute.length;++h){var w=m.onnx.AttributeProto.verify(o.attribute[h]);if(w)return"attribute."+w}}return o.docString!=null&&o.hasOwnProperty("docString")&&!v.isString(o.docString)?"docString: string expected":null},u.fromObject=function(o){if(o instanceof m.onnx.NodeProto)return o;var h=new m.onnx.NodeProto;if(o.input){if(!Array.isArray(o.input))throw TypeError(".onnx.NodeProto.input: array expected");h.input=[];for(var w=0;w<o.input.length;++w)h.input[w]=String(o.input[w])}if(o.output){if(!Array.isArray(o.output))throw TypeError(".onnx.NodeProto.output: array expected");for(h.output=[],w=0;w<o.output.length;++w)h.output[w]=String(o.output[w])}if(o.name!=null&&(h.name=String(o.name)),o.opType!=null&&(h.opType=String(o.opType)),o.domain!=null&&(h.domain=String(o.domain)),o.attribute){if(!Array.isArray(o.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(h.attribute=[],w=0;w<o.attribute.length;++w){if(typeof o.attribute[w]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");h.attribute[w]=m.onnx.AttributeProto.fromObject(o.attribute[w])}}return o.docString!=null&&(h.docString=String(o.docString)),h},u.toObject=function(o,h){h||(h={});var w={};if((h.arrays||h.defaults)&&(w.input=[],w.output=[],w.attribute=[]),h.defaults&&(w.name="",w.opType="",w.docString="",w.domain=""),o.input&&o.input.length){w.input=[];for(var E=0;E<o.input.length;++E)w.input[E]=o.input[E]}if(o.output&&o.output.length)for(w.output=[],E=0;E<o.output.length;++E)w.output[E]=o.output[E];if(o.name!=null&&o.hasOwnProperty("name")&&(w.name=o.name),o.opType!=null&&o.hasOwnProperty("opType")&&(w.opType=o.opType),o.attribute&&o.attribute.length)for(w.attribute=[],E=0;E<o.attribute.length;++E)w.attribute[E]=m.onnx.AttributeProto.toObject(o.attribute[E],h);return o.docString!=null&&o.hasOwnProperty("docString")&&(w.docString=o.docString),o.domain!=null&&o.hasOwnProperty("domain")&&(w.domain=o.domain),w},u.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},u})(),d.ModelProto=(function(){function u(o){if(this.opsetImport=[],this.metadataProps=[],o)for(var h=Object.keys(o),w=0;w<h.length;++w)o[h[w]]!=null&&(this[h[w]]=o[h[w]])}return u.prototype.irVersion=v.Long?v.Long.fromBits(0,0,!1):0,u.prototype.opsetImport=v.emptyArray,u.prototype.producerName="",u.prototype.producerVersion="",u.prototype.domain="",u.prototype.modelVersion=v.Long?v.Long.fromBits(0,0,!1):0,u.prototype.docString="",u.prototype.graph=null,u.prototype.metadataProps=v.emptyArray,u.create=function(o){return new u(o)},u.encode=function(o,h){if(h||(h=_.create()),o.irVersion!=null&&o.hasOwnProperty("irVersion")&&h.uint32(8).int64(o.irVersion),o.producerName!=null&&o.hasOwnProperty("producerName")&&h.uint32(18).string(o.producerName),o.producerVersion!=null&&o.hasOwnProperty("producerVersion")&&h.uint32(26).string(o.producerVersion),o.domain!=null&&o.hasOwnProperty("domain")&&h.uint32(34).string(o.domain),o.modelVersion!=null&&o.hasOwnProperty("modelVersion")&&h.uint32(40).int64(o.modelVersion),o.docString!=null&&o.hasOwnProperty("docString")&&h.uint32(50).string(o.docString),o.graph!=null&&o.hasOwnProperty("graph")&&m.onnx.GraphProto.encode(o.graph,h.uint32(58).fork()).ldelim(),o.opsetImport!=null&&o.opsetImport.length)for(var w=0;w<o.opsetImport.length;++w)m.onnx.OperatorSetIdProto.encode(o.opsetImport[w],h.uint32(66).fork()).ldelim();if(o.metadataProps!=null&&o.metadataProps.length)for(w=0;w<o.metadataProps.length;++w)m.onnx.StringStringEntryProto.encode(o.metadataProps[w],h.uint32(114).fork()).ldelim();return h},u.encodeDelimited=function(o,h){return this.encode(o,h).ldelim()},u.decode=function(o,h){o instanceof b||(o=b.create(o));for(var w=h===void 0?o.len:o.pos+h,E=new m.onnx.ModelProto;o.pos<w;){var T=o.uint32();switch(T>>>3){case 1:E.irVersion=o.int64();break;case 8:E.opsetImport&&E.opsetImport.length||(E.opsetImport=[]),E.opsetImport.push(m.onnx.OperatorSetIdProto.decode(o,o.uint32()));break;case 2:E.producerName=o.string();break;case 3:E.producerVersion=o.string();break;case 4:E.domain=o.string();break;case 5:E.modelVersion=o.int64();break;case 6:E.docString=o.string();break;case 7:E.graph=m.onnx.GraphProto.decode(o,o.uint32());break;case 14:E.metadataProps&&E.metadataProps.length||(E.metadataProps=[]),E.metadataProps.push(m.onnx.StringStringEntryProto.decode(o,o.uint32()));break;default:o.skipType(7&T)}}return E},u.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},u.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.irVersion!=null&&o.hasOwnProperty("irVersion")&&!(v.isInteger(o.irVersion)||o.irVersion&&v.isInteger(o.irVersion.low)&&v.isInteger(o.irVersion.high)))return"irVersion: integer|Long expected";if(o.opsetImport!=null&&o.hasOwnProperty("opsetImport")){if(!Array.isArray(o.opsetImport))return"opsetImport: array expected";for(var h=0;h<o.opsetImport.length;++h)if(w=m.onnx.OperatorSetIdProto.verify(o.opsetImport[h]))return"opsetImport."+w}if(o.producerName!=null&&o.hasOwnProperty("producerName")&&!v.isString(o.producerName))return"producerName: string expected";if(o.producerVersion!=null&&o.hasOwnProperty("producerVersion")&&!v.isString(o.producerVersion))return"producerVersion: string expected";if(o.domain!=null&&o.hasOwnProperty("domain")&&!v.isString(o.domain))return"domain: string expected";if(o.modelVersion!=null&&o.hasOwnProperty("modelVersion")&&!(v.isInteger(o.modelVersion)||o.modelVersion&&v.isInteger(o.modelVersion.low)&&v.isInteger(o.modelVersion.high)))return"modelVersion: integer|Long expected";if(o.docString!=null&&o.hasOwnProperty("docString")&&!v.isString(o.docString))return"docString: string expected";if(o.graph!=null&&o.hasOwnProperty("graph")&&(w=m.onnx.GraphProto.verify(o.graph)))return"graph."+w;if(o.metadataProps!=null&&o.hasOwnProperty("metadataProps")){if(!Array.isArray(o.metadataProps))return"metadataProps: array expected";for(h=0;h<o.metadataProps.length;++h){var w;if(w=m.onnx.StringStringEntryProto.verify(o.metadataProps[h]))return"metadataProps."+w}}return null},u.fromObject=function(o){if(o instanceof m.onnx.ModelProto)return o;var h=new m.onnx.ModelProto;if(o.irVersion!=null&&(v.Long?(h.irVersion=v.Long.fromValue(o.irVersion)).unsigned=!1:typeof o.irVersion=="string"?h.irVersion=parseInt(o.irVersion,10):typeof o.irVersion=="number"?h.irVersion=o.irVersion:typeof o.irVersion=="object"&&(h.irVersion=new v.LongBits(o.irVersion.low>>>0,o.irVersion.high>>>0).toNumber())),o.opsetImport){if(!Array.isArray(o.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");h.opsetImport=[];for(var w=0;w<o.opsetImport.length;++w){if(typeof o.opsetImport[w]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");h.opsetImport[w]=m.onnx.OperatorSetIdProto.fromObject(o.opsetImport[w])}}if(o.producerName!=null&&(h.producerName=String(o.producerName)),o.producerVersion!=null&&(h.producerVersion=String(o.producerVersion)),o.domain!=null&&(h.domain=String(o.domain)),o.modelVersion!=null&&(v.Long?(h.modelVersion=v.Long.fromValue(o.modelVersion)).unsigned=!1:typeof o.modelVersion=="string"?h.modelVersion=parseInt(o.modelVersion,10):typeof o.modelVersion=="number"?h.modelVersion=o.modelVersion:typeof o.modelVersion=="object"&&(h.modelVersion=new v.LongBits(o.modelVersion.low>>>0,o.modelVersion.high>>>0).toNumber())),o.docString!=null&&(h.docString=String(o.docString)),o.graph!=null){if(typeof o.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");h.graph=m.onnx.GraphProto.fromObject(o.graph)}if(o.metadataProps){if(!Array.isArray(o.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(h.metadataProps=[],w=0;w<o.metadataProps.length;++w){if(typeof o.metadataProps[w]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");h.metadataProps[w]=m.onnx.StringStringEntryProto.fromObject(o.metadataProps[w])}}return h},u.toObject=function(o,h){h||(h={});var w={};if((h.arrays||h.defaults)&&(w.opsetImport=[],w.metadataProps=[]),h.defaults){if(v.Long){var E=new v.Long(0,0,!1);w.irVersion=h.longs===String?E.toString():h.longs===Number?E.toNumber():E}else w.irVersion=h.longs===String?"0":0;w.producerName="",w.producerVersion="",w.domain="",v.Long?(E=new v.Long(0,0,!1),w.modelVersion=h.longs===String?E.toString():h.longs===Number?E.toNumber():E):w.modelVersion=h.longs===String?"0":0,w.docString="",w.graph=null}if(o.irVersion!=null&&o.hasOwnProperty("irVersion")&&(typeof o.irVersion=="number"?w.irVersion=h.longs===String?String(o.irVersion):o.irVersion:w.irVersion=h.longs===String?v.Long.prototype.toString.call(o.irVersion):h.longs===Number?new v.LongBits(o.irVersion.low>>>0,o.irVersion.high>>>0).toNumber():o.irVersion),o.producerName!=null&&o.hasOwnProperty("producerName")&&(w.producerName=o.producerName),o.producerVersion!=null&&o.hasOwnProperty("producerVersion")&&(w.producerVersion=o.producerVersion),o.domain!=null&&o.hasOwnProperty("domain")&&(w.domain=o.domain),o.modelVersion!=null&&o.hasOwnProperty("modelVersion")&&(typeof o.modelVersion=="number"?w.modelVersion=h.longs===String?String(o.modelVersion):o.modelVersion:w.modelVersion=h.longs===String?v.Long.prototype.toString.call(o.modelVersion):h.longs===Number?new v.LongBits(o.modelVersion.low>>>0,o.modelVersion.high>>>0).toNumber():o.modelVersion),o.docString!=null&&o.hasOwnProperty("docString")&&(w.docString=o.docString),o.graph!=null&&o.hasOwnProperty("graph")&&(w.graph=m.onnx.GraphProto.toObject(o.graph,h)),o.opsetImport&&o.opsetImport.length){w.opsetImport=[];for(var T=0;T<o.opsetImport.length;++T)w.opsetImport[T]=m.onnx.OperatorSetIdProto.toObject(o.opsetImport[T],h)}if(o.metadataProps&&o.metadataProps.length)for(w.metadataProps=[],T=0;T<o.metadataProps.length;++T)w.metadataProps[T]=m.onnx.StringStringEntryProto.toObject(o.metadataProps[T],h);return w},u.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},u})(),d.StringStringEntryProto=(function(){function u(o){if(o)for(var h=Object.keys(o),w=0;w<h.length;++w)o[h[w]]!=null&&(this[h[w]]=o[h[w]])}return u.prototype.key="",u.prototype.value="",u.create=function(o){return new u(o)},u.encode=function(o,h){return h||(h=_.create()),o.key!=null&&o.hasOwnProperty("key")&&h.uint32(10).string(o.key),o.value!=null&&o.hasOwnProperty("value")&&h.uint32(18).string(o.value),h},u.encodeDelimited=function(o,h){return this.encode(o,h).ldelim()},u.decode=function(o,h){o instanceof b||(o=b.create(o));for(var w=h===void 0?o.len:o.pos+h,E=new m.onnx.StringStringEntryProto;o.pos<w;){var T=o.uint32();switch(T>>>3){case 1:E.key=o.string();break;case 2:E.value=o.string();break;default:o.skipType(7&T)}}return E},u.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},u.verify=function(o){return typeof o!="object"||o===null?"object expected":o.key!=null&&o.hasOwnProperty("key")&&!v.isString(o.key)?"key: string expected":o.value!=null&&o.hasOwnProperty("value")&&!v.isString(o.value)?"value: string expected":null},u.fromObject=function(o){if(o instanceof m.onnx.StringStringEntryProto)return o;var h=new m.onnx.StringStringEntryProto;return o.key!=null&&(h.key=String(o.key)),o.value!=null&&(h.value=String(o.value)),h},u.toObject=function(o,h){h||(h={});var w={};return h.defaults&&(w.key="",w.value=""),o.key!=null&&o.hasOwnProperty("key")&&(w.key=o.key),o.value!=null&&o.hasOwnProperty("value")&&(w.value=o.value),w},u.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},u})(),d.TensorAnnotation=(function(){function u(o){if(this.quantParameterTensorNames=[],o)for(var h=Object.keys(o),w=0;w<h.length;++w)o[h[w]]!=null&&(this[h[w]]=o[h[w]])}return u.prototype.tensorName="",u.prototype.quantParameterTensorNames=v.emptyArray,u.create=function(o){return new u(o)},u.encode=function(o,h){if(h||(h=_.create()),o.tensorName!=null&&o.hasOwnProperty("tensorName")&&h.uint32(10).string(o.tensorName),o.quantParameterTensorNames!=null&&o.quantParameterTensorNames.length)for(var w=0;w<o.quantParameterTensorNames.length;++w)m.onnx.StringStringEntryProto.encode(o.quantParameterTensorNames[w],h.uint32(18).fork()).ldelim();return h},u.encodeDelimited=function(o,h){return this.encode(o,h).ldelim()},u.decode=function(o,h){o instanceof b||(o=b.create(o));for(var w=h===void 0?o.len:o.pos+h,E=new m.onnx.TensorAnnotation;o.pos<w;){var T=o.uint32();switch(T>>>3){case 1:E.tensorName=o.string();break;case 2:E.quantParameterTensorNames&&E.quantParameterTensorNames.length||(E.quantParameterTensorNames=[]),E.quantParameterTensorNames.push(m.onnx.StringStringEntryProto.decode(o,o.uint32()));break;default:o.skipType(7&T)}}return E},u.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},u.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.tensorName!=null&&o.hasOwnProperty("tensorName")&&!v.isString(o.tensorName))return"tensorName: string expected";if(o.quantParameterTensorNames!=null&&o.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(o.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var h=0;h<o.quantParameterTensorNames.length;++h){var w=m.onnx.StringStringEntryProto.verify(o.quantParameterTensorNames[h]);if(w)return"quantParameterTensorNames."+w}}return null},u.fromObject=function(o){if(o instanceof m.onnx.TensorAnnotation)return o;var h=new m.onnx.TensorAnnotation;if(o.tensorName!=null&&(h.tensorName=String(o.tensorName)),o.quantParameterTensorNames){if(!Array.isArray(o.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");h.quantParameterTensorNames=[];for(var w=0;w<o.quantParameterTensorNames.length;++w){if(typeof o.quantParameterTensorNames[w]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");h.quantParameterTensorNames[w]=m.onnx.StringStringEntryProto.fromObject(o.quantParameterTensorNames[w])}}return h},u.toObject=function(o,h){h||(h={});var w={};if((h.arrays||h.defaults)&&(w.quantParameterTensorNames=[]),h.defaults&&(w.tensorName=""),o.tensorName!=null&&o.hasOwnProperty("tensorName")&&(w.tensorName=o.tensorName),o.quantParameterTensorNames&&o.quantParameterTensorNames.length){w.quantParameterTensorNames=[];for(var E=0;E<o.quantParameterTensorNames.length;++E)w.quantParameterTensorNames[E]=m.onnx.StringStringEntryProto.toObject(o.quantParameterTensorNames[E],h)}return w},u.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},u})(),d.GraphProto=(function(){function u(o){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],o)for(var h=Object.keys(o),w=0;w<h.length;++w)o[h[w]]!=null&&(this[h[w]]=o[h[w]])}return u.prototype.node=v.emptyArray,u.prototype.name="",u.prototype.initializer=v.emptyArray,u.prototype.docString="",u.prototype.input=v.emptyArray,u.prototype.output=v.emptyArray,u.prototype.valueInfo=v.emptyArray,u.prototype.quantizationAnnotation=v.emptyArray,u.create=function(o){return new u(o)},u.encode=function(o,h){if(h||(h=_.create()),o.node!=null&&o.node.length)for(var w=0;w<o.node.length;++w)m.onnx.NodeProto.encode(o.node[w],h.uint32(10).fork()).ldelim();if(o.name!=null&&o.hasOwnProperty("name")&&h.uint32(18).string(o.name),o.initializer!=null&&o.initializer.length)for(w=0;w<o.initializer.length;++w)m.onnx.TensorProto.encode(o.initializer[w],h.uint32(42).fork()).ldelim();if(o.docString!=null&&o.hasOwnProperty("docString")&&h.uint32(82).string(o.docString),o.input!=null&&o.input.length)for(w=0;w<o.input.length;++w)m.onnx.ValueInfoProto.encode(o.input[w],h.uint32(90).fork()).ldelim();if(o.output!=null&&o.output.length)for(w=0;w<o.output.length;++w)m.onnx.ValueInfoProto.encode(o.output[w],h.uint32(98).fork()).ldelim();if(o.valueInfo!=null&&o.valueInfo.length)for(w=0;w<o.valueInfo.length;++w)m.onnx.ValueInfoProto.encode(o.valueInfo[w],h.uint32(106).fork()).ldelim();if(o.quantizationAnnotation!=null&&o.quantizationAnnotation.length)for(w=0;w<o.quantizationAnnotation.length;++w)m.onnx.TensorAnnotation.encode(o.quantizationAnnotation[w],h.uint32(114).fork()).ldelim();return h},u.encodeDelimited=function(o,h){return this.encode(o,h).ldelim()},u.decode=function(o,h){o instanceof b||(o=b.create(o));for(var w=h===void 0?o.len:o.pos+h,E=new m.onnx.GraphProto;o.pos<w;){var T=o.uint32();switch(T>>>3){case 1:E.node&&E.node.length||(E.node=[]),E.node.push(m.onnx.NodeProto.decode(o,o.uint32()));break;case 2:E.name=o.string();break;case 5:E.initializer&&E.initializer.length||(E.initializer=[]),E.initializer.push(m.onnx.TensorProto.decode(o,o.uint32()));break;case 10:E.docString=o.string();break;case 11:E.input&&E.input.length||(E.input=[]),E.input.push(m.onnx.ValueInfoProto.decode(o,o.uint32()));break;case 12:E.output&&E.output.length||(E.output=[]),E.output.push(m.onnx.ValueInfoProto.decode(o,o.uint32()));break;case 13:E.valueInfo&&E.valueInfo.length||(E.valueInfo=[]),E.valueInfo.push(m.onnx.ValueInfoProto.decode(o,o.uint32()));break;case 14:E.quantizationAnnotation&&E.quantizationAnnotation.length||(E.quantizationAnnotation=[]),E.quantizationAnnotation.push(m.onnx.TensorAnnotation.decode(o,o.uint32()));break;default:o.skipType(7&T)}}return E},u.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},u.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.node!=null&&o.hasOwnProperty("node")){if(!Array.isArray(o.node))return"node: array expected";for(var h=0;h<o.node.length;++h)if(w=m.onnx.NodeProto.verify(o.node[h]))return"node."+w}if(o.name!=null&&o.hasOwnProperty("name")&&!v.isString(o.name))return"name: string expected";if(o.initializer!=null&&o.hasOwnProperty("initializer")){if(!Array.isArray(o.initializer))return"initializer: array expected";for(h=0;h<o.initializer.length;++h)if(w=m.onnx.TensorProto.verify(o.initializer[h]))return"initializer."+w}if(o.docString!=null&&o.hasOwnProperty("docString")&&!v.isString(o.docString))return"docString: string expected";if(o.input!=null&&o.hasOwnProperty("input")){if(!Array.isArray(o.input))return"input: array expected";for(h=0;h<o.input.length;++h)if(w=m.onnx.ValueInfoProto.verify(o.input[h]))return"input."+w}if(o.output!=null&&o.hasOwnProperty("output")){if(!Array.isArray(o.output))return"output: array expected";for(h=0;h<o.output.length;++h)if(w=m.onnx.ValueInfoProto.verify(o.output[h]))return"output."+w}if(o.valueInfo!=null&&o.hasOwnProperty("valueInfo")){if(!Array.isArray(o.valueInfo))return"valueInfo: array expected";for(h=0;h<o.valueInfo.length;++h)if(w=m.onnx.ValueInfoProto.verify(o.valueInfo[h]))return"valueInfo."+w}if(o.quantizationAnnotation!=null&&o.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(o.quantizationAnnotation))return"quantizationAnnotation: array expected";for(h=0;h<o.quantizationAnnotation.length;++h){var w;if(w=m.onnx.TensorAnnotation.verify(o.quantizationAnnotation[h]))return"quantizationAnnotation."+w}}return null},u.fromObject=function(o){if(o instanceof m.onnx.GraphProto)return o;var h=new m.onnx.GraphProto;if(o.node){if(!Array.isArray(o.node))throw TypeError(".onnx.GraphProto.node: array expected");h.node=[];for(var w=0;w<o.node.length;++w){if(typeof o.node[w]!="object")throw TypeError(".onnx.GraphProto.node: object expected");h.node[w]=m.onnx.NodeProto.fromObject(o.node[w])}}if(o.name!=null&&(h.name=String(o.name)),o.initializer){if(!Array.isArray(o.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(h.initializer=[],w=0;w<o.initializer.length;++w){if(typeof o.initializer[w]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");h.initializer[w]=m.onnx.TensorProto.fromObject(o.initializer[w])}}if(o.docString!=null&&(h.docString=String(o.docString)),o.input){if(!Array.isArray(o.input))throw TypeError(".onnx.GraphProto.input: array expected");for(h.input=[],w=0;w<o.input.length;++w){if(typeof o.input[w]!="object")throw TypeError(".onnx.GraphProto.input: object expected");h.input[w]=m.onnx.ValueInfoProto.fromObject(o.input[w])}}if(o.output){if(!Array.isArray(o.output))throw TypeError(".onnx.GraphProto.output: array expected");for(h.output=[],w=0;w<o.output.length;++w){if(typeof o.output[w]!="object")throw TypeError(".onnx.GraphProto.output: object expected");h.output[w]=m.onnx.ValueInfoProto.fromObject(o.output[w])}}if(o.valueInfo){if(!Array.isArray(o.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(h.valueInfo=[],w=0;w<o.valueInfo.length;++w){if(typeof o.valueInfo[w]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");h.valueInfo[w]=m.onnx.ValueInfoProto.fromObject(o.valueInfo[w])}}if(o.quantizationAnnotation){if(!Array.isArray(o.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(h.quantizationAnnotation=[],w=0;w<o.quantizationAnnotation.length;++w){if(typeof o.quantizationAnnotation[w]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");h.quantizationAnnotation[w]=m.onnx.TensorAnnotation.fromObject(o.quantizationAnnotation[w])}}return h},u.toObject=function(o,h){h||(h={});var w={};if((h.arrays||h.defaults)&&(w.node=[],w.initializer=[],w.input=[],w.output=[],w.valueInfo=[],w.quantizationAnnotation=[]),h.defaults&&(w.name="",w.docString=""),o.node&&o.node.length){w.node=[];for(var E=0;E<o.node.length;++E)w.node[E]=m.onnx.NodeProto.toObject(o.node[E],h)}if(o.name!=null&&o.hasOwnProperty("name")&&(w.name=o.name),o.initializer&&o.initializer.length)for(w.initializer=[],E=0;E<o.initializer.length;++E)w.initializer[E]=m.onnx.TensorProto.toObject(o.initializer[E],h);if(o.docString!=null&&o.hasOwnProperty("docString")&&(w.docString=o.docString),o.input&&o.input.length)for(w.input=[],E=0;E<o.input.length;++E)w.input[E]=m.onnx.ValueInfoProto.toObject(o.input[E],h);if(o.output&&o.output.length)for(w.output=[],E=0;E<o.output.length;++E)w.output[E]=m.onnx.ValueInfoProto.toObject(o.output[E],h);if(o.valueInfo&&o.valueInfo.length)for(w.valueInfo=[],E=0;E<o.valueInfo.length;++E)w.valueInfo[E]=m.onnx.ValueInfoProto.toObject(o.valueInfo[E],h);if(o.quantizationAnnotation&&o.quantizationAnnotation.length)for(w.quantizationAnnotation=[],E=0;E<o.quantizationAnnotation.length;++E)w.quantizationAnnotation[E]=m.onnx.TensorAnnotation.toObject(o.quantizationAnnotation[E],h);return w},u.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},u})(),d.TensorProto=(function(){function u(o){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],o)for(var h=Object.keys(o),w=0;w<h.length;++w)o[h[w]]!=null&&(this[h[w]]=o[h[w]])}return u.prototype.dims=v.emptyArray,u.prototype.dataType=0,u.prototype.segment=null,u.prototype.floatData=v.emptyArray,u.prototype.int32Data=v.emptyArray,u.prototype.stringData=v.emptyArray,u.prototype.int64Data=v.emptyArray,u.prototype.name="",u.prototype.docString="",u.prototype.rawData=v.newBuffer([]),u.prototype.externalData=v.emptyArray,u.prototype.dataLocation=0,u.prototype.doubleData=v.emptyArray,u.prototype.uint64Data=v.emptyArray,u.create=function(o){return new u(o)},u.encode=function(o,h){if(h||(h=_.create()),o.dims!=null&&o.dims.length){h.uint32(10).fork();for(var w=0;w<o.dims.length;++w)h.int64(o.dims[w]);h.ldelim()}if(o.dataType!=null&&o.hasOwnProperty("dataType")&&h.uint32(16).int32(o.dataType),o.segment!=null&&o.hasOwnProperty("segment")&&m.onnx.TensorProto.Segment.encode(o.segment,h.uint32(26).fork()).ldelim(),o.floatData!=null&&o.floatData.length){for(h.uint32(34).fork(),w=0;w<o.floatData.length;++w)h.float(o.floatData[w]);h.ldelim()}if(o.int32Data!=null&&o.int32Data.length){for(h.uint32(42).fork(),w=0;w<o.int32Data.length;++w)h.int32(o.int32Data[w]);h.ldelim()}if(o.stringData!=null&&o.stringData.length)for(w=0;w<o.stringData.length;++w)h.uint32(50).bytes(o.stringData[w]);if(o.int64Data!=null&&o.int64Data.length){for(h.uint32(58).fork(),w=0;w<o.int64Data.length;++w)h.int64(o.int64Data[w]);h.ldelim()}if(o.name!=null&&o.hasOwnProperty("name")&&h.uint32(66).string(o.name),o.rawData!=null&&o.hasOwnProperty("rawData")&&h.uint32(74).bytes(o.rawData),o.doubleData!=null&&o.doubleData.length){for(h.uint32(82).fork(),w=0;w<o.doubleData.length;++w)h.double(o.doubleData[w]);h.ldelim()}if(o.uint64Data!=null&&o.uint64Data.length){for(h.uint32(90).fork(),w=0;w<o.uint64Data.length;++w)h.uint64(o.uint64Data[w]);h.ldelim()}if(o.docString!=null&&o.hasOwnProperty("docString")&&h.uint32(98).string(o.docString),o.externalData!=null&&o.externalData.length)for(w=0;w<o.externalData.length;++w)m.onnx.StringStringEntryProto.encode(o.externalData[w],h.uint32(106).fork()).ldelim();return o.dataLocation!=null&&o.hasOwnProperty("dataLocation")&&h.uint32(112).int32(o.dataLocation),h},u.encodeDelimited=function(o,h){return this.encode(o,h).ldelim()},u.decode=function(o,h){o instanceof b||(o=b.create(o));for(var w=h===void 0?o.len:o.pos+h,E=new m.onnx.TensorProto;o.pos<w;){var T=o.uint32();switch(T>>>3){case 1:if(E.dims&&E.dims.length||(E.dims=[]),(7&T)==2)for(var O=o.uint32()+o.pos;o.pos<O;)E.dims.push(o.int64());else E.dims.push(o.int64());break;case 2:E.dataType=o.int32();break;case 3:E.segment=m.onnx.TensorProto.Segment.decode(o,o.uint32());break;case 4:if(E.floatData&&E.floatData.length||(E.floatData=[]),(7&T)==2)for(O=o.uint32()+o.pos;o.pos<O;)E.floatData.push(o.float());else E.floatData.push(o.float());break;case 5:if(E.int32Data&&E.int32Data.length||(E.int32Data=[]),(7&T)==2)for(O=o.uint32()+o.pos;o.pos<O;)E.int32Data.push(o.int32());else E.int32Data.push(o.int32());break;case 6:E.stringData&&E.stringData.length||(E.stringData=[]),E.stringData.push(o.bytes());break;case 7:if(E.int64Data&&E.int64Data.length||(E.int64Data=[]),(7&T)==2)for(O=o.uint32()+o.pos;o.pos<O;)E.int64Data.push(o.int64());else E.int64Data.push(o.int64());break;case 8:E.name=o.string();break;case 12:E.docString=o.string();break;case 9:E.rawData=o.bytes();break;case 13:E.externalData&&E.externalData.length||(E.externalData=[]),E.externalData.push(m.onnx.StringStringEntryProto.decode(o,o.uint32()));break;case 14:E.dataLocation=o.int32();break;case 10:if(E.doubleData&&E.doubleData.length||(E.doubleData=[]),(7&T)==2)for(O=o.uint32()+o.pos;o.pos<O;)E.doubleData.push(o.double());else E.doubleData.push(o.double());break;case 11:if(E.uint64Data&&E.uint64Data.length||(E.uint64Data=[]),(7&T)==2)for(O=o.uint32()+o.pos;o.pos<O;)E.uint64Data.push(o.uint64());else E.uint64Data.push(o.uint64());break;default:o.skipType(7&T)}}return E},u.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},u.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.dims!=null&&o.hasOwnProperty("dims")){if(!Array.isArray(o.dims))return"dims: array expected";for(var h=0;h<o.dims.length;++h)if(!(v.isInteger(o.dims[h])||o.dims[h]&&v.isInteger(o.dims[h].low)&&v.isInteger(o.dims[h].high)))return"dims: integer|Long[] expected"}if(o.dataType!=null&&o.hasOwnProperty("dataType")&&!v.isInteger(o.dataType))return"dataType: integer expected";if(o.segment!=null&&o.hasOwnProperty("segment")&&(w=m.onnx.TensorProto.Segment.verify(o.segment)))return"segment."+w;if(o.floatData!=null&&o.hasOwnProperty("floatData")){if(!Array.isArray(o.floatData))return"floatData: array expected";for(h=0;h<o.floatData.length;++h)if(typeof o.floatData[h]!="number")return"floatData: number[] expected"}if(o.int32Data!=null&&o.hasOwnProperty("int32Data")){if(!Array.isArray(o.int32Data))return"int32Data: array expected";for(h=0;h<o.int32Data.length;++h)if(!v.isInteger(o.int32Data[h]))return"int32Data: integer[] expected"}if(o.stringData!=null&&o.hasOwnProperty("stringData")){if(!Array.isArray(o.stringData))return"stringData: array expected";for(h=0;h<o.stringData.length;++h)if(!(o.stringData[h]&&typeof o.stringData[h].length=="number"||v.isString(o.stringData[h])))return"stringData: buffer[] expected"}if(o.int64Data!=null&&o.hasOwnProperty("int64Data")){if(!Array.isArray(o.int64Data))return"int64Data: array expected";for(h=0;h<o.int64Data.length;++h)if(!(v.isInteger(o.int64Data[h])||o.int64Data[h]&&v.isInteger(o.int64Data[h].low)&&v.isInteger(o.int64Data[h].high)))return"int64Data: integer|Long[] expected"}if(o.name!=null&&o.hasOwnProperty("name")&&!v.isString(o.name))return"name: string expected";if(o.docString!=null&&o.hasOwnProperty("docString")&&!v.isString(o.docString))return"docString: string expected";if(o.rawData!=null&&o.hasOwnProperty("rawData")&&!(o.rawData&&typeof o.rawData.length=="number"||v.isString(o.rawData)))return"rawData: buffer expected";if(o.externalData!=null&&o.hasOwnProperty("externalData")){if(!Array.isArray(o.externalData))return"externalData: array expected";for(h=0;h<o.externalData.length;++h){var w;if(w=m.onnx.StringStringEntryProto.verify(o.externalData[h]))return"externalData."+w}}if(o.dataLocation!=null&&o.hasOwnProperty("dataLocation"))switch(o.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(o.doubleData!=null&&o.hasOwnProperty("doubleData")){if(!Array.isArray(o.doubleData))return"doubleData: array expected";for(h=0;h<o.doubleData.length;++h)if(typeof o.doubleData[h]!="number")return"doubleData: number[] expected"}if(o.uint64Data!=null&&o.hasOwnProperty("uint64Data")){if(!Array.isArray(o.uint64Data))return"uint64Data: array expected";for(h=0;h<o.uint64Data.length;++h)if(!(v.isInteger(o.uint64Data[h])||o.uint64Data[h]&&v.isInteger(o.uint64Data[h].low)&&v.isInteger(o.uint64Data[h].high)))return"uint64Data: integer|Long[] expected"}return null},u.fromObject=function(o){if(o instanceof m.onnx.TensorProto)return o;var h=new m.onnx.TensorProto;if(o.dims){if(!Array.isArray(o.dims))throw TypeError(".onnx.TensorProto.dims: array expected");h.dims=[];for(var w=0;w<o.dims.length;++w)v.Long?(h.dims[w]=v.Long.fromValue(o.dims[w])).unsigned=!1:typeof o.dims[w]=="string"?h.dims[w]=parseInt(o.dims[w],10):typeof o.dims[w]=="number"?h.dims[w]=o.dims[w]:typeof o.dims[w]=="object"&&(h.dims[w]=new v.LongBits(o.dims[w].low>>>0,o.dims[w].high>>>0).toNumber())}if(o.dataType!=null&&(h.dataType=0|o.dataType),o.segment!=null){if(typeof o.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");h.segment=m.onnx.TensorProto.Segment.fromObject(o.segment)}if(o.floatData){if(!Array.isArray(o.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(h.floatData=[],w=0;w<o.floatData.length;++w)h.floatData[w]=Number(o.floatData[w])}if(o.int32Data){if(!Array.isArray(o.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(h.int32Data=[],w=0;w<o.int32Data.length;++w)h.int32Data[w]=0|o.int32Data[w]}if(o.stringData){if(!Array.isArray(o.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(h.stringData=[],w=0;w<o.stringData.length;++w)typeof o.stringData[w]=="string"?v.base64.decode(o.stringData[w],h.stringData[w]=v.newBuffer(v.base64.length(o.stringData[w])),0):o.stringData[w].length&&(h.stringData[w]=o.stringData[w])}if(o.int64Data){if(!Array.isArray(o.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(h.int64Data=[],w=0;w<o.int64Data.length;++w)v.Long?(h.int64Data[w]=v.Long.fromValue(o.int64Data[w])).unsigned=!1:typeof o.int64Data[w]=="string"?h.int64Data[w]=parseInt(o.int64Data[w],10):typeof o.int64Data[w]=="number"?h.int64Data[w]=o.int64Data[w]:typeof o.int64Data[w]=="object"&&(h.int64Data[w]=new v.LongBits(o.int64Data[w].low>>>0,o.int64Data[w].high>>>0).toNumber())}if(o.name!=null&&(h.name=String(o.name)),o.docString!=null&&(h.docString=String(o.docString)),o.rawData!=null&&(typeof o.rawData=="string"?v.base64.decode(o.rawData,h.rawData=v.newBuffer(v.base64.length(o.rawData)),0):o.rawData.length&&(h.rawData=o.rawData)),o.externalData){if(!Array.isArray(o.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(h.externalData=[],w=0;w<o.externalData.length;++w){if(typeof o.externalData[w]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");h.externalData[w]=m.onnx.StringStringEntryProto.fromObject(o.externalData[w])}}switch(o.dataLocation){case"DEFAULT":case 0:h.dataLocation=0;break;case"EXTERNAL":case 1:h.dataLocation=1}if(o.doubleData){if(!Array.isArray(o.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(h.doubleData=[],w=0;w<o.doubleData.length;++w)h.doubleData[w]=Number(o.doubleData[w])}if(o.uint64Data){if(!Array.isArray(o.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(h.uint64Data=[],w=0;w<o.uint64Data.length;++w)v.Long?(h.uint64Data[w]=v.Long.fromValue(o.uint64Data[w])).unsigned=!0:typeof o.uint64Data[w]=="string"?h.uint64Data[w]=parseInt(o.uint64Data[w],10):typeof o.uint64Data[w]=="number"?h.uint64Data[w]=o.uint64Data[w]:typeof o.uint64Data[w]=="object"&&(h.uint64Data[w]=new v.LongBits(o.uint64Data[w].low>>>0,o.uint64Data[w].high>>>0).toNumber(!0))}return h},u.toObject=function(o,h){h||(h={});var w={};if((h.arrays||h.defaults)&&(w.dims=[],w.floatData=[],w.int32Data=[],w.stringData=[],w.int64Data=[],w.doubleData=[],w.uint64Data=[],w.externalData=[]),h.defaults&&(w.dataType=0,w.segment=null,w.name="",h.bytes===String?w.rawData="":(w.rawData=[],h.bytes!==Array&&(w.rawData=v.newBuffer(w.rawData))),w.docString="",w.dataLocation=h.enums===String?"DEFAULT":0),o.dims&&o.dims.length){w.dims=[];for(var E=0;E<o.dims.length;++E)typeof o.dims[E]=="number"?w.dims[E]=h.longs===String?String(o.dims[E]):o.dims[E]:w.dims[E]=h.longs===String?v.Long.prototype.toString.call(o.dims[E]):h.longs===Number?new v.LongBits(o.dims[E].low>>>0,o.dims[E].high>>>0).toNumber():o.dims[E]}if(o.dataType!=null&&o.hasOwnProperty("dataType")&&(w.dataType=o.dataType),o.segment!=null&&o.hasOwnProperty("segment")&&(w.segment=m.onnx.TensorProto.Segment.toObject(o.segment,h)),o.floatData&&o.floatData.length)for(w.floatData=[],E=0;E<o.floatData.length;++E)w.floatData[E]=h.json&&!isFinite(o.floatData[E])?String(o.floatData[E]):o.floatData[E];if(o.int32Data&&o.int32Data.length)for(w.int32Data=[],E=0;E<o.int32Data.length;++E)w.int32Data[E]=o.int32Data[E];if(o.stringData&&o.stringData.length)for(w.stringData=[],E=0;E<o.stringData.length;++E)w.stringData[E]=h.bytes===String?v.base64.encode(o.stringData[E],0,o.stringData[E].length):h.bytes===Array?Array.prototype.slice.call(o.stringData[E]):o.stringData[E];if(o.int64Data&&o.int64Data.length)for(w.int64Data=[],E=0;E<o.int64Data.length;++E)typeof o.int64Data[E]=="number"?w.int64Data[E]=h.longs===String?String(o.int64Data[E]):o.int64Data[E]:w.int64Data[E]=h.longs===String?v.Long.prototype.toString.call(o.int64Data[E]):h.longs===Number?new v.LongBits(o.int64Data[E].low>>>0,o.int64Data[E].high>>>0).toNumber():o.int64Data[E];if(o.name!=null&&o.hasOwnProperty("name")&&(w.name=o.name),o.rawData!=null&&o.hasOwnProperty("rawData")&&(w.rawData=h.bytes===String?v.base64.encode(o.rawData,0,o.rawData.length):h.bytes===Array?Array.prototype.slice.call(o.rawData):o.rawData),o.doubleData&&o.doubleData.length)for(w.doubleData=[],E=0;E<o.doubleData.length;++E)w.doubleData[E]=h.json&&!isFinite(o.doubleData[E])?String(o.doubleData[E]):o.doubleData[E];if(o.uint64Data&&o.uint64Data.length)for(w.uint64Data=[],E=0;E<o.uint64Data.length;++E)typeof o.uint64Data[E]=="number"?w.uint64Data[E]=h.longs===String?String(o.uint64Data[E]):o.uint64Data[E]:w.uint64Data[E]=h.longs===String?v.Long.prototype.toString.call(o.uint64Data[E]):h.longs===Number?new v.LongBits(o.uint64Data[E].low>>>0,o.uint64Data[E].high>>>0).toNumber(!0):o.uint64Data[E];if(o.docString!=null&&o.hasOwnProperty("docString")&&(w.docString=o.docString),o.externalData&&o.externalData.length)for(w.externalData=[],E=0;E<o.externalData.length;++E)w.externalData[E]=m.onnx.StringStringEntryProto.toObject(o.externalData[E],h);return o.dataLocation!=null&&o.hasOwnProperty("dataLocation")&&(w.dataLocation=h.enums===String?m.onnx.TensorProto.DataLocation[o.dataLocation]:o.dataLocation),w},u.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},u.DataType=(function(){var o={},h=Object.create(o);return h[o[0]="UNDEFINED"]=0,h[o[1]="FLOAT"]=1,h[o[2]="UINT8"]=2,h[o[3]="INT8"]=3,h[o[4]="UINT16"]=4,h[o[5]="INT16"]=5,h[o[6]="INT32"]=6,h[o[7]="INT64"]=7,h[o[8]="STRING"]=8,h[o[9]="BOOL"]=9,h[o[10]="FLOAT16"]=10,h[o[11]="DOUBLE"]=11,h[o[12]="UINT32"]=12,h[o[13]="UINT64"]=13,h[o[14]="COMPLEX64"]=14,h[o[15]="COMPLEX128"]=15,h[o[16]="BFLOAT16"]=16,h})(),u.Segment=(function(){function o(h){if(h)for(var w=Object.keys(h),E=0;E<w.length;++E)h[w[E]]!=null&&(this[w[E]]=h[w[E]])}return o.prototype.begin=v.Long?v.Long.fromBits(0,0,!1):0,o.prototype.end=v.Long?v.Long.fromBits(0,0,!1):0,o.create=function(h){return new o(h)},o.encode=function(h,w){return w||(w=_.create()),h.begin!=null&&h.hasOwnProperty("begin")&&w.uint32(8).int64(h.begin),h.end!=null&&h.hasOwnProperty("end")&&w.uint32(16).int64(h.end),w},o.encodeDelimited=function(h,w){return this.encode(h,w).ldelim()},o.decode=function(h,w){h instanceof b||(h=b.create(h));for(var E=w===void 0?h.len:h.pos+w,T=new m.onnx.TensorProto.Segment;h.pos<E;){var O=h.uint32();switch(O>>>3){case 1:T.begin=h.int64();break;case 2:T.end=h.int64();break;default:h.skipType(7&O)}}return T},o.decodeDelimited=function(h){return h instanceof b||(h=new b(h)),this.decode(h,h.uint32())},o.verify=function(h){return typeof h!="object"||h===null?"object expected":h.begin!=null&&h.hasOwnProperty("begin")&&!(v.isInteger(h.begin)||h.begin&&v.isInteger(h.begin.low)&&v.isInteger(h.begin.high))?"begin: integer|Long expected":h.end!=null&&h.hasOwnProperty("end")&&!(v.isInteger(h.end)||h.end&&v.isInteger(h.end.low)&&v.isInteger(h.end.high))?"end: integer|Long expected":null},o.fromObject=function(h){if(h instanceof m.onnx.TensorProto.Segment)return h;var w=new m.onnx.TensorProto.Segment;return h.begin!=null&&(v.Long?(w.begin=v.Long.fromValue(h.begin)).unsigned=!1:typeof h.begin=="string"?w.begin=parseInt(h.begin,10):typeof h.begin=="number"?w.begin=h.begin:typeof h.begin=="object"&&(w.begin=new v.LongBits(h.begin.low>>>0,h.begin.high>>>0).toNumber())),h.end!=null&&(v.Long?(w.end=v.Long.fromValue(h.end)).unsigned=!1:typeof h.end=="string"?w.end=parseInt(h.end,10):typeof h.end=="number"?w.end=h.end:typeof h.end=="object"&&(w.end=new v.LongBits(h.end.low>>>0,h.end.high>>>0).toNumber())),w},o.toObject=function(h,w){w||(w={});var E={};if(w.defaults){if(v.Long){var T=new v.Long(0,0,!1);E.begin=w.longs===String?T.toString():w.longs===Number?T.toNumber():T}else E.begin=w.longs===String?"0":0;v.Long?(T=new v.Long(0,0,!1),E.end=w.longs===String?T.toString():w.longs===Number?T.toNumber():T):E.end=w.longs===String?"0":0}return h.begin!=null&&h.hasOwnProperty("begin")&&(typeof h.begin=="number"?E.begin=w.longs===String?String(h.begin):h.begin:E.begin=w.longs===String?v.Long.prototype.toString.call(h.begin):w.longs===Number?new v.LongBits(h.begin.low>>>0,h.begin.high>>>0).toNumber():h.begin),h.end!=null&&h.hasOwnProperty("end")&&(typeof h.end=="number"?E.end=w.longs===String?String(h.end):h.end:E.end=w.longs===String?v.Long.prototype.toString.call(h.end):w.longs===Number?new v.LongBits(h.end.low>>>0,h.end.high>>>0).toNumber():h.end),E},o.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},o})(),u.DataLocation=(function(){var o={},h=Object.create(o);return h[o[0]="DEFAULT"]=0,h[o[1]="EXTERNAL"]=1,h})(),u})(),d.TensorShapeProto=(function(){function u(o){if(this.dim=[],o)for(var h=Object.keys(o),w=0;w<h.length;++w)o[h[w]]!=null&&(this[h[w]]=o[h[w]])}return u.prototype.dim=v.emptyArray,u.create=function(o){return new u(o)},u.encode=function(o,h){if(h||(h=_.create()),o.dim!=null&&o.dim.length)for(var w=0;w<o.dim.length;++w)m.onnx.TensorShapeProto.Dimension.encode(o.dim[w],h.uint32(10).fork()).ldelim();return h},u.encodeDelimited=function(o,h){return this.encode(o,h).ldelim()},u.decode=function(o,h){o instanceof b||(o=b.create(o));for(var w=h===void 0?o.len:o.pos+h,E=new m.onnx.TensorShapeProto;o.pos<w;){var T=o.uint32();T>>>3==1?(E.dim&&E.dim.length||(E.dim=[]),E.dim.push(m.onnx.TensorShapeProto.Dimension.decode(o,o.uint32()))):o.skipType(7&T)}return E},u.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},u.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.dim!=null&&o.hasOwnProperty("dim")){if(!Array.isArray(o.dim))return"dim: array expected";for(var h=0;h<o.dim.length;++h){var w=m.onnx.TensorShapeProto.Dimension.verify(o.dim[h]);if(w)return"dim."+w}}return null},u.fromObject=function(o){if(o instanceof m.onnx.TensorShapeProto)return o;var h=new m.onnx.TensorShapeProto;if(o.dim){if(!Array.isArray(o.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");h.dim=[];for(var w=0;w<o.dim.length;++w){if(typeof o.dim[w]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");h.dim[w]=m.onnx.TensorShapeProto.Dimension.fromObject(o.dim[w])}}return h},u.toObject=function(o,h){h||(h={});var w={};if((h.arrays||h.defaults)&&(w.dim=[]),o.dim&&o.dim.length){w.dim=[];for(var E=0;E<o.dim.length;++E)w.dim[E]=m.onnx.TensorShapeProto.Dimension.toObject(o.dim[E],h)}return w},u.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},u.Dimension=(function(){function o(w){if(w)for(var E=Object.keys(w),T=0;T<E.length;++T)w[E[T]]!=null&&(this[E[T]]=w[E[T]])}var h;return o.prototype.dimValue=v.Long?v.Long.fromBits(0,0,!1):0,o.prototype.dimParam="",o.prototype.denotation="",Object.defineProperty(o.prototype,"value",{get:v.oneOfGetter(h=["dimValue","dimParam"]),set:v.oneOfSetter(h)}),o.create=function(w){return new o(w)},o.encode=function(w,E){return E||(E=_.create()),w.dimValue!=null&&w.hasOwnProperty("dimValue")&&E.uint32(8).int64(w.dimValue),w.dimParam!=null&&w.hasOwnProperty("dimParam")&&E.uint32(18).string(w.dimParam),w.denotation!=null&&w.hasOwnProperty("denotation")&&E.uint32(26).string(w.denotation),E},o.encodeDelimited=function(w,E){return this.encode(w,E).ldelim()},o.decode=function(w,E){w instanceof b||(w=b.create(w));for(var T=E===void 0?w.len:w.pos+E,O=new m.onnx.TensorShapeProto.Dimension;w.pos<T;){var M=w.uint32();switch(M>>>3){case 1:O.dimValue=w.int64();break;case 2:O.dimParam=w.string();break;case 3:O.denotation=w.string();break;default:w.skipType(7&M)}}return O},o.decodeDelimited=function(w){return w instanceof b||(w=new b(w)),this.decode(w,w.uint32())},o.verify=function(w){if(typeof w!="object"||w===null)return"object expected";var E={};if(w.dimValue!=null&&w.hasOwnProperty("dimValue")&&(E.value=1,!(v.isInteger(w.dimValue)||w.dimValue&&v.isInteger(w.dimValue.low)&&v.isInteger(w.dimValue.high))))return"dimValue: integer|Long expected";if(w.dimParam!=null&&w.hasOwnProperty("dimParam")){if(E.value===1)return"value: multiple values";if(E.value=1,!v.isString(w.dimParam))return"dimParam: string expected"}return w.denotation!=null&&w.hasOwnProperty("denotation")&&!v.isString(w.denotation)?"denotation: string expected":null},o.fromObject=function(w){if(w instanceof m.onnx.TensorShapeProto.Dimension)return w;var E=new m.onnx.TensorShapeProto.Dimension;return w.dimValue!=null&&(v.Long?(E.dimValue=v.Long.fromValue(w.dimValue)).unsigned=!1:typeof w.dimValue=="string"?E.dimValue=parseInt(w.dimValue,10):typeof w.dimValue=="number"?E.dimValue=w.dimValue:typeof w.dimValue=="object"&&(E.dimValue=new v.LongBits(w.dimValue.low>>>0,w.dimValue.high>>>0).toNumber())),w.dimParam!=null&&(E.dimParam=String(w.dimParam)),w.denotation!=null&&(E.denotation=String(w.denotation)),E},o.toObject=function(w,E){E||(E={});var T={};return E.defaults&&(T.denotation=""),w.dimValue!=null&&w.hasOwnProperty("dimValue")&&(typeof w.dimValue=="number"?T.dimValue=E.longs===String?String(w.dimValue):w.dimValue:T.dimValue=E.longs===String?v.Long.prototype.toString.call(w.dimValue):E.longs===Number?new v.LongBits(w.dimValue.low>>>0,w.dimValue.high>>>0).toNumber():w.dimValue,E.oneofs&&(T.value="dimValue")),w.dimParam!=null&&w.hasOwnProperty("dimParam")&&(T.dimParam=w.dimParam,E.oneofs&&(T.value="dimParam")),w.denotation!=null&&w.hasOwnProperty("denotation")&&(T.denotation=w.denotation),T},o.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},o})(),u})(),d.TypeProto=(function(){function u(h){if(h)for(var w=Object.keys(h),E=0;E<w.length;++E)h[w[E]]!=null&&(this[w[E]]=h[w[E]])}var o;return u.prototype.tensorType=null,u.prototype.denotation="",Object.defineProperty(u.prototype,"value",{get:v.oneOfGetter(o=["tensorType"]),set:v.oneOfSetter(o)}),u.create=function(h){return new u(h)},u.encode=function(h,w){return w||(w=_.create()),h.tensorType!=null&&h.hasOwnProperty("tensorType")&&m.onnx.TypeProto.Tensor.encode(h.tensorType,w.uint32(10).fork()).ldelim(),h.denotation!=null&&h.hasOwnProperty("denotation")&&w.uint32(50).string(h.denotation),w},u.encodeDelimited=function(h,w){return this.encode(h,w).ldelim()},u.decode=function(h,w){h instanceof b||(h=b.create(h));for(var E=w===void 0?h.len:h.pos+w,T=new m.onnx.TypeProto;h.pos<E;){var O=h.uint32();switch(O>>>3){case 1:T.tensorType=m.onnx.TypeProto.Tensor.decode(h,h.uint32());break;case 6:T.denotation=h.string();break;default:h.skipType(7&O)}}return T},u.decodeDelimited=function(h){return h instanceof b||(h=new b(h)),this.decode(h,h.uint32())},u.verify=function(h){if(typeof h!="object"||h===null)return"object expected";if(h.tensorType!=null&&h.hasOwnProperty("tensorType")){var w=m.onnx.TypeProto.Tensor.verify(h.tensorType);if(w)return"tensorType."+w}return h.denotation!=null&&h.hasOwnProperty("denotation")&&!v.isString(h.denotation)?"denotation: string expected":null},u.fromObject=function(h){if(h instanceof m.onnx.TypeProto)return h;var w=new m.onnx.TypeProto;if(h.tensorType!=null){if(typeof h.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");w.tensorType=m.onnx.TypeProto.Tensor.fromObject(h.tensorType)}return h.denotation!=null&&(w.denotation=String(h.denotation)),w},u.toObject=function(h,w){w||(w={});var E={};return w.defaults&&(E.denotation=""),h.tensorType!=null&&h.hasOwnProperty("tensorType")&&(E.tensorType=m.onnx.TypeProto.Tensor.toObject(h.tensorType,w),w.oneofs&&(E.value="tensorType")),h.denotation!=null&&h.hasOwnProperty("denotation")&&(E.denotation=h.denotation),E},u.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},u.Tensor=(function(){function h(w){if(w)for(var E=Object.keys(w),T=0;T<E.length;++T)w[E[T]]!=null&&(this[E[T]]=w[E[T]])}return h.prototype.elemType=0,h.prototype.shape=null,h.create=function(w){return new h(w)},h.encode=function(w,E){return E||(E=_.create()),w.elemType!=null&&w.hasOwnProperty("elemType")&&E.uint32(8).int32(w.elemType),w.shape!=null&&w.hasOwnProperty("shape")&&m.onnx.TensorShapeProto.encode(w.shape,E.uint32(18).fork()).ldelim(),E},h.encodeDelimited=function(w,E){return this.encode(w,E).ldelim()},h.decode=function(w,E){w instanceof b||(w=b.create(w));for(var T=E===void 0?w.len:w.pos+E,O=new m.onnx.TypeProto.Tensor;w.pos<T;){var M=w.uint32();switch(M>>>3){case 1:O.elemType=w.int32();break;case 2:O.shape=m.onnx.TensorShapeProto.decode(w,w.uint32());break;default:w.skipType(7&M)}}return O},h.decodeDelimited=function(w){return w instanceof b||(w=new b(w)),this.decode(w,w.uint32())},h.verify=function(w){if(typeof w!="object"||w===null)return"object expected";if(w.elemType!=null&&w.hasOwnProperty("elemType")&&!v.isInteger(w.elemType))return"elemType: integer expected";if(w.shape!=null&&w.hasOwnProperty("shape")){var E=m.onnx.TensorShapeProto.verify(w.shape);if(E)return"shape."+E}return null},h.fromObject=function(w){if(w instanceof m.onnx.TypeProto.Tensor)return w;var E=new m.onnx.TypeProto.Tensor;if(w.elemType!=null&&(E.elemType=0|w.elemType),w.shape!=null){if(typeof w.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");E.shape=m.onnx.TensorShapeProto.fromObject(w.shape)}return E},h.toObject=function(w,E){E||(E={});var T={};return E.defaults&&(T.elemType=0,T.shape=null),w.elemType!=null&&w.hasOwnProperty("elemType")&&(T.elemType=w.elemType),w.shape!=null&&w.hasOwnProperty("shape")&&(T.shape=m.onnx.TensorShapeProto.toObject(w.shape,E)),T},h.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},h})(),u})(),d.OperatorSetIdProto=(function(){function u(o){if(o)for(var h=Object.keys(o),w=0;w<h.length;++w)o[h[w]]!=null&&(this[h[w]]=o[h[w]])}return u.prototype.domain="",u.prototype.version=v.Long?v.Long.fromBits(0,0,!1):0,u.create=function(o){return new u(o)},u.encode=function(o,h){return h||(h=_.create()),o.domain!=null&&o.hasOwnProperty("domain")&&h.uint32(10).string(o.domain),o.version!=null&&o.hasOwnProperty("version")&&h.uint32(16).int64(o.version),h},u.encodeDelimited=function(o,h){return this.encode(o,h).ldelim()},u.decode=function(o,h){o instanceof b||(o=b.create(o));for(var w=h===void 0?o.len:o.pos+h,E=new m.onnx.OperatorSetIdProto;o.pos<w;){var T=o.uint32();switch(T>>>3){case 1:E.domain=o.string();break;case 2:E.version=o.int64();break;default:o.skipType(7&T)}}return E},u.decodeDelimited=function(o){return o instanceof b||(o=new b(o)),this.decode(o,o.uint32())},u.verify=function(o){return typeof o!="object"||o===null?"object expected":o.domain!=null&&o.hasOwnProperty("domain")&&!v.isString(o.domain)?"domain: string expected":o.version!=null&&o.hasOwnProperty("version")&&!(v.isInteger(o.version)||o.version&&v.isInteger(o.version.low)&&v.isInteger(o.version.high))?"version: integer|Long expected":null},u.fromObject=function(o){if(o instanceof m.onnx.OperatorSetIdProto)return o;var h=new m.onnx.OperatorSetIdProto;return o.domain!=null&&(h.domain=String(o.domain)),o.version!=null&&(v.Long?(h.version=v.Long.fromValue(o.version)).unsigned=!1:typeof o.version=="string"?h.version=parseInt(o.version,10):typeof o.version=="number"?h.version=o.version:typeof o.version=="object"&&(h.version=new v.LongBits(o.version.low>>>0,o.version.high>>>0).toNumber())),h},u.toObject=function(o,h){h||(h={});var w={};if(h.defaults)if(w.domain="",v.Long){var E=new v.Long(0,0,!1);w.version=h.longs===String?E.toString():h.longs===Number?E.toNumber():E}else w.version=h.longs===String?"0":0;return o.domain!=null&&o.hasOwnProperty("domain")&&(w.domain=o.domain),o.version!=null&&o.hasOwnProperty("version")&&(typeof o.version=="number"?w.version=h.longs===String?String(o.version):o.version:w.version=h.longs===String?v.Long.prototype.toString.call(o.version):h.longs===Number?new v.LongBits(o.version.low>>>0,o.version.high>>>0).toNumber():o.version),w},u.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},u})(),d),t.exports=m},2100:(t,e,n)=>{t.exports=n(9482)},9482:(t,e,n)=>{var i=e;function l(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}i.build="minimal",i.Writer=n(1173),i.BufferWriter=n(3155),i.Reader=n(1408),i.BufferReader=n(593),i.util=n(9693),i.rpc=n(5994),i.roots=n(5054),i.configure=l,l()},1408:(t,e,n)=>{t.exports=_;var i,l=n(9693),d=l.LongBits,f=l.utf8;function b(E,T){return RangeError("index out of range: "+E.pos+" + "+(T||1)+" > "+E.len)}function _(E){this.buf=E,this.pos=0,this.len=E.length}var v,m=typeof Uint8Array<"u"?function(E){if(E instanceof Uint8Array||Array.isArray(E))return new _(E);throw Error("illegal buffer")}:function(E){if(Array.isArray(E))return new _(E);throw Error("illegal buffer")},u=function(){return l.Buffer?function(E){return(_.create=function(T){return l.Buffer.isBuffer(T)?new i(T):m(T)})(E)}:m};function o(){var E=new d(0,0),T=0;if(!(this.len-this.pos>4)){for(;T<3;++T){if(this.pos>=this.len)throw b(this);if(E.lo=(E.lo|(127&this.buf[this.pos])<<7*T)>>>0,this.buf[this.pos++]<128)return E}return E.lo=(E.lo|(127&this.buf[this.pos++])<<7*T)>>>0,E}for(;T<4;++T)if(E.lo=(E.lo|(127&this.buf[this.pos])<<7*T)>>>0,this.buf[this.pos++]<128)return E;if(E.lo=(E.lo|(127&this.buf[this.pos])<<28)>>>0,E.hi=(E.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return E;if(T=0,this.len-this.pos>4){for(;T<5;++T)if(E.hi=(E.hi|(127&this.buf[this.pos])<<7*T+3)>>>0,this.buf[this.pos++]<128)return E}else for(;T<5;++T){if(this.pos>=this.len)throw b(this);if(E.hi=(E.hi|(127&this.buf[this.pos])<<7*T+3)>>>0,this.buf[this.pos++]<128)return E}throw Error("invalid varint encoding")}function h(E,T){return(E[T-4]|E[T-3]<<8|E[T-2]<<16|E[T-1]<<24)>>>0}function w(){if(this.pos+8>this.len)throw b(this,8);return new d(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}_.create=u(),_.prototype._slice=l.Array.prototype.subarray||l.Array.prototype.slice,_.prototype.uint32=(v=4294967295,function(){if(v=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(v=(v|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(v=(v|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(v=(v|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(v=(v|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return v;if((this.pos+=5)>this.len)throw this.pos=this.len,b(this,10);return v}),_.prototype.int32=function(){return 0|this.uint32()},_.prototype.sint32=function(){var E=this.uint32();return E>>>1^-(1&E)|0},_.prototype.bool=function(){return this.uint32()!==0},_.prototype.fixed32=function(){if(this.pos+4>this.len)throw b(this,4);return h(this.buf,this.pos+=4)},_.prototype.sfixed32=function(){if(this.pos+4>this.len)throw b(this,4);return 0|h(this.buf,this.pos+=4)},_.prototype.float=function(){if(this.pos+4>this.len)throw b(this,4);var E=l.float.readFloatLE(this.buf,this.pos);return this.pos+=4,E},_.prototype.double=function(){if(this.pos+8>this.len)throw b(this,4);var E=l.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,E},_.prototype.bytes=function(){var E=this.uint32(),T=this.pos,O=this.pos+E;if(O>this.len)throw b(this,E);return this.pos+=E,Array.isArray(this.buf)?this.buf.slice(T,O):T===O?new this.buf.constructor(0):this._slice.call(this.buf,T,O)},_.prototype.string=function(){var E=this.bytes();return f.read(E,0,E.length)},_.prototype.skip=function(E){if(typeof E=="number"){if(this.pos+E>this.len)throw b(this,E);this.pos+=E}else do if(this.pos>=this.len)throw b(this);while(128&this.buf[this.pos++]);return this},_.prototype.skipType=function(E){switch(E){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(E=7&this.uint32())!=4;)this.skipType(E);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+E+" at offset "+this.pos)}return this},_._configure=function(E){i=E,_.create=u(),i._configure();var T=l.Long?"toLong":"toNumber";l.merge(_.prototype,{int64:function(){return o.call(this)[T](!1)},uint64:function(){return o.call(this)[T](!0)},sint64:function(){return o.call(this).zzDecode()[T](!1)},fixed64:function(){return w.call(this)[T](!0)},sfixed64:function(){return w.call(this)[T](!1)}})}},593:(t,e,n)=>{t.exports=d;var i=n(1408);(d.prototype=Object.create(i.prototype)).constructor=d;var l=n(9693);function d(f){i.call(this,f)}d._configure=function(){l.Buffer&&(d.prototype._slice=l.Buffer.prototype.slice)},d.prototype.string=function(){var f=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+f,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+f,this.len))},d._configure()},5054:t=>{t.exports={}},5994:(t,e,n)=>{e.Service=n(7948)},7948:(t,e,n)=>{t.exports=l;var i=n(9693);function l(d,f,b){if(typeof d!="function")throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=d,this.requestDelimited=!!f,this.responseDelimited=!!b}(l.prototype=Object.create(i.EventEmitter.prototype)).constructor=l,l.prototype.rpcCall=function d(f,b,_,v,m){if(!v)throw TypeError("request must be specified");var u=this;if(!m)return i.asPromise(d,u,f,b,_,v);if(u.rpcImpl)try{return u.rpcImpl(f,b[u.requestDelimited?"encodeDelimited":"encode"](v).finish(),(function(o,h){if(o)return u.emit("error",o,f),m(o);if(h!==null){if(!(h instanceof _))try{h=_[u.responseDelimited?"decodeDelimited":"decode"](h)}catch(w){return u.emit("error",w,f),m(w)}return u.emit("data",h,f),m(null,h)}u.end(!0)}))}catch(o){return u.emit("error",o,f),void setTimeout((function(){m(o)}),0)}else setTimeout((function(){m(Error("already ended"))}),0)},l.prototype.end=function(d){return this.rpcImpl&&(d||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(t,e,n)=>{t.exports=l;var i=n(9693);function l(_,v){this.lo=_>>>0,this.hi=v>>>0}var d=l.zero=new l(0,0);d.toNumber=function(){return 0},d.zzEncode=d.zzDecode=function(){return this},d.length=function(){return 1};var f=l.zeroHash="\0\0\0\0\0\0\0\0";l.fromNumber=function(_){if(_===0)return d;var v=_<0;v&&(_=-_);var m=_>>>0,u=(_-m)/4294967296>>>0;return v&&(u=~u>>>0,m=~m>>>0,++m>4294967295&&(m=0,++u>4294967295&&(u=0))),new l(m,u)},l.from=function(_){if(typeof _=="number")return l.fromNumber(_);if(i.isString(_)){if(!i.Long)return l.fromNumber(parseInt(_,10));_=i.Long.fromString(_)}return _.low||_.high?new l(_.low>>>0,_.high>>>0):d},l.prototype.toNumber=function(_){if(!_&&this.hi>>>31){var v=1+~this.lo>>>0,m=~this.hi>>>0;return v||(m=m+1>>>0),-(v+4294967296*m)}return this.lo+4294967296*this.hi},l.prototype.toLong=function(_){return i.Long?new i.Long(0|this.lo,0|this.hi,!!_):{low:0|this.lo,high:0|this.hi,unsigned:!!_}};var b=String.prototype.charCodeAt;l.fromHash=function(_){return _===f?d:new l((b.call(_,0)|b.call(_,1)<<8|b.call(_,2)<<16|b.call(_,3)<<24)>>>0,(b.call(_,4)|b.call(_,5)<<8|b.call(_,6)<<16|b.call(_,7)<<24)>>>0)},l.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},l.prototype.zzEncode=function(){var _=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^_)>>>0,this.lo=(this.lo<<1^_)>>>0,this},l.prototype.zzDecode=function(){var _=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^_)>>>0,this.hi=(this.hi>>>1^_)>>>0,this},l.prototype.length=function(){var _=this.lo,v=(this.lo>>>28|this.hi<<4)>>>0,m=this.hi>>>24;return m===0?v===0?_<16384?_<128?1:2:_<2097152?3:4:v<16384?v<128?5:6:v<2097152?7:8:m<128?9:10}},9693:function(t,e,n){var i=e;function l(f,b,_){for(var v=Object.keys(b),m=0;m<v.length;++m)f[v[m]]!==void 0&&_||(f[v[m]]=b[v[m]]);return f}function d(f){function b(_,v){if(!(this instanceof b))return new b(_,v);Object.defineProperty(this,"message",{get:function(){return _}}),Error.captureStackTrace?Error.captureStackTrace(this,b):Object.defineProperty(this,"stack",{value:new Error().stack||""}),v&&l(this,v)}return(b.prototype=Object.create(Error.prototype)).constructor=b,Object.defineProperty(b.prototype,"name",{get:function(){return f}}),b.prototype.toString=function(){return this.name+": "+this.message},b}i.asPromise=n(4537),i.base64=n(7419),i.EventEmitter=n(9211),i.float=n(945),i.inquire=n(7199),i.utf8=n(4997),i.pool=n(6662),i.LongBits=n(1945),i.isNode=!!(n.g!==void 0&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),i.global=i.isNode&&n.g||typeof window<"u"&&window||typeof self<"u"&&self||this,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(f){return typeof f=="number"&&isFinite(f)&&Math.floor(f)===f},i.isString=function(f){return typeof f=="string"||f instanceof String},i.isObject=function(f){return f&&typeof f=="object"},i.isset=i.isSet=function(f,b){var _=f[b];return!(_==null||!f.hasOwnProperty(b))&&(typeof _!="object"||(Array.isArray(_)?_.length:Object.keys(_).length)>0)},i.Buffer=(function(){try{var f=i.inquire("buffer").Buffer;return f.prototype.utf8Write?f:null}catch{return null}})(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(f){return typeof f=="number"?i.Buffer?i._Buffer_allocUnsafe(f):new i.Array(f):i.Buffer?i._Buffer_from(f):typeof Uint8Array>"u"?f:new Uint8Array(f)},i.Array=typeof Uint8Array<"u"?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(f){return f?i.LongBits.from(f).toHash():i.LongBits.zeroHash},i.longFromHash=function(f,b){var _=i.LongBits.fromHash(f);return i.Long?i.Long.fromBits(_.lo,_.hi,b):_.toNumber(!!b)},i.merge=l,i.lcFirst=function(f){return f.charAt(0).toLowerCase()+f.substring(1)},i.newError=d,i.ProtocolError=d("ProtocolError"),i.oneOfGetter=function(f){for(var b={},_=0;_<f.length;++_)b[f[_]]=1;return function(){for(var v=Object.keys(this),m=v.length-1;m>-1;--m)if(b[v[m]]===1&&this[v[m]]!==void 0&&this[v[m]]!==null)return v[m]}},i.oneOfSetter=function(f){return function(b){for(var _=0;_<f.length;++_)f[_]!==b&&delete this[f[_]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var f=i.Buffer;f?(i._Buffer_from=f.from!==Uint8Array.from&&f.from||function(b,_){return new f(b,_)},i._Buffer_allocUnsafe=f.allocUnsafe||function(b){return new f(b)}):i._Buffer_from=i._Buffer_allocUnsafe=null}},1173:(t,e,n)=>{t.exports=u;var i,l=n(9693),d=l.LongBits,f=l.base64,b=l.utf8;function _(M,I,R){this.fn=M,this.len=I,this.next=void 0,this.val=R}function v(){}function m(M){this.head=M.head,this.tail=M.tail,this.len=M.len,this.next=M.states}function u(){this.len=0,this.head=new _(v,0,0),this.tail=this.head,this.states=null}var o=function(){return l.Buffer?function(){return(u.create=function(){return new i})()}:function(){return new u}};function h(M,I,R){I[R]=255&M}function w(M,I){this.len=M,this.next=void 0,this.val=I}function E(M,I,R){for(;M.hi;)I[R++]=127&M.lo|128,M.lo=(M.lo>>>7|M.hi<<25)>>>0,M.hi>>>=7;for(;M.lo>127;)I[R++]=127&M.lo|128,M.lo=M.lo>>>7;I[R++]=M.lo}function T(M,I,R){I[R]=255&M,I[R+1]=M>>>8&255,I[R+2]=M>>>16&255,I[R+3]=M>>>24}u.create=o(),u.alloc=function(M){return new l.Array(M)},l.Array!==Array&&(u.alloc=l.pool(u.alloc,l.Array.prototype.subarray)),u.prototype._push=function(M,I,R){return this.tail=this.tail.next=new _(M,I,R),this.len+=I,this},w.prototype=Object.create(_.prototype),w.prototype.fn=function(M,I,R){for(;M>127;)I[R++]=127&M|128,M>>>=7;I[R]=M},u.prototype.uint32=function(M){return this.len+=(this.tail=this.tail.next=new w((M>>>=0)<128?1:M<16384?2:M<2097152?3:M<268435456?4:5,M)).len,this},u.prototype.int32=function(M){return M<0?this._push(E,10,d.fromNumber(M)):this.uint32(M)},u.prototype.sint32=function(M){return this.uint32((M<<1^M>>31)>>>0)},u.prototype.uint64=function(M){var I=d.from(M);return this._push(E,I.length(),I)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(M){var I=d.from(M).zzEncode();return this._push(E,I.length(),I)},u.prototype.bool=function(M){return this._push(h,1,M?1:0)},u.prototype.fixed32=function(M){return this._push(T,4,M>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(M){var I=d.from(M);return this._push(T,4,I.lo)._push(T,4,I.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(M){return this._push(l.float.writeFloatLE,4,M)},u.prototype.double=function(M){return this._push(l.float.writeDoubleLE,8,M)};var O=l.Array.prototype.set?function(M,I,R){I.set(M,R)}:function(M,I,R){for(var D=0;D<M.length;++D)I[R+D]=M[D]};u.prototype.bytes=function(M){var I=M.length>>>0;if(!I)return this._push(h,1,0);if(l.isString(M)){var R=u.alloc(I=f.length(M));f.decode(M,R,0),M=R}return this.uint32(I)._push(O,I,M)},u.prototype.string=function(M){var I=b.length(M);return I?this.uint32(I)._push(b.write,I,M):this._push(h,1,0)},u.prototype.fork=function(){return this.states=new m(this),this.head=this.tail=new _(v,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new _(v,0,0),this.len=0),this},u.prototype.ldelim=function(){var M=this.head,I=this.tail,R=this.len;return this.reset().uint32(R),R&&(this.tail.next=M.next,this.tail=I,this.len+=R),this},u.prototype.finish=function(){for(var M=this.head.next,I=this.constructor.alloc(this.len),R=0;M;)M.fn(M.val,I,R),R+=M.len,M=M.next;return I},u._configure=function(M){i=M,u.create=o(),i._configure()}},3155:(t,e,n)=>{t.exports=d;var i=n(1173);(d.prototype=Object.create(i.prototype)).constructor=d;var l=n(9693);function d(){i.call(this)}function f(b,_,v){b.length<40?l.utf8.write(b,_,v):_.utf8Write?_.utf8Write(b,v):_.write(b,v)}d._configure=function(){d.alloc=l._Buffer_allocUnsafe,d.writeBytesBuffer=l.Buffer&&l.Buffer.prototype instanceof Uint8Array&&l.Buffer.prototype.set.name==="set"?function(b,_,v){_.set(b,v)}:function(b,_,v){if(b.copy)b.copy(_,v,0,b.length);else for(var m=0;m<b.length;)_[v++]=b[m++]}},d.prototype.bytes=function(b){l.isString(b)&&(b=l._Buffer_from(b,"base64"));var _=b.length>>>0;return this.uint32(_),_&&this._push(d.writeBytesBuffer,_,b),this},d.prototype.string=function(b){var _=l.Buffer.byteLength(b);return this.uint32(_),_&&this._push(f,_,b),this},d._configure()},7714:(t,e,n)=>{e.R=void 0;const i=n(6919),l=n(7448);e.R=new class{async init(){}async createSessionHandler(d,f){const b=new i.Session(f);return await b.loadModel(d),new l.OnnxjsSessionHandler(b)}}},4200:(t,e,n)=>{e.c8=e.rX=void 0;const i=n(1670),l=n(5381),d=n(2157),f=n(2306);e.rX=()=>{if((typeof i.env.wasm.initTimeout!="number"||i.env.wasm.initTimeout<0)&&(i.env.wasm.initTimeout=0),typeof i.env.wasm.simd!="boolean"&&(i.env.wasm.simd=!0),typeof i.env.wasm.proxy!="boolean"&&(i.env.wasm.proxy=!1),typeof i.env.wasm.numThreads!="number"||!Number.isInteger(i.env.wasm.numThreads)||i.env.wasm.numThreads<=0){const b=typeof navigator>"u"?(0,l.cpus)().length:navigator.hardwareConcurrency;i.env.wasm.numThreads=Math.min(4,Math.ceil((b||1)/2))}},e.c8=new class{async init(){(0,e.rX)(),await(0,d.initWasm)()}async createSessionHandler(b,_){const v=new f.OnnxruntimeWebAssemblySessionHandler;return await v.loadModel(b,_),Promise.resolve(v)}}},6018:function(t,e,n){var i=this&&this.__createBinding||(Object.create?function(f,b,_,v){v===void 0&&(v=_);var m=Object.getOwnPropertyDescriptor(b,_);m&&!("get"in m?!b.__esModule:m.writable||m.configurable)||(m={enumerable:!0,get:function(){return b[_]}}),Object.defineProperty(f,v,m)}:function(f,b,_,v){v===void 0&&(v=_),f[v]=b[_]}),l=this&&this.__exportStar||function(f,b){for(var _ in f)_==="default"||Object.prototype.hasOwnProperty.call(b,_)||i(b,f,_)};Object.defineProperty(e,"__esModule",{value:!0}),l(n(1670),e);const d=n(1670);{const f=n(7714).R;(0,d.registerBackend)("webgl",f,-10)}{const f=n(4200).c8;(0,d.registerBackend)("cpu",f,10),(0,d.registerBackend)("wasm",f,10),(0,d.registerBackend)("xnnpack",f,9)}},246:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createAttributeWithCacheKey=void 0;class n{constructor(l){Object.assign(this,l)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map((l=>`${this[l]}`)).join(";")),this._cacheKey}}e.createAttributeWithCacheKey=i=>new n(i)},7778:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Attribute=void 0;const i=n(1446),l=n(9395),d=n(9162),f=n(2517);var b=l.onnxruntime.experimental.fbs;class _{constructor(m){if(this._attributes=new Map,m!=null){for(const u of m)u instanceof i.onnx.AttributeProto?this._attributes.set(u.name,[_.getValue(u),_.getType(u)]):u instanceof b.Attribute&&this._attributes.set(u.name(),[_.getValue(u),_.getType(u)]);if(this._attributes.size<m.length)throw new Error("duplicated attribute names")}}set(m,u,o){this._attributes.set(m,[o,u])}delete(m){this._attributes.delete(m)}getFloat(m,u){return this.get(m,"float",u)}getInt(m,u){return this.get(m,"int",u)}getString(m,u){return this.get(m,"string",u)}getTensor(m,u){return this.get(m,"tensor",u)}getFloats(m,u){return this.get(m,"floats",u)}getInts(m,u){return this.get(m,"ints",u)}getStrings(m,u){return this.get(m,"strings",u)}getTensors(m,u){return this.get(m,"tensors",u)}get(m,u,o){const h=this._attributes.get(m);if(h===void 0){if(o!==void 0)return o;throw new Error(`required attribute not found: ${m}`)}if(h[1]!==u)throw new Error(`type mismatch: expected ${u} but got ${h[1]}`);return h[0]}static getType(m){const u=m instanceof i.onnx.AttributeProto?m.type:m.type();switch(u){case i.onnx.AttributeProto.AttributeType.FLOAT:return"float";case i.onnx.AttributeProto.AttributeType.INT:return"int";case i.onnx.AttributeProto.AttributeType.STRING:return"string";case i.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case i.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case i.onnx.AttributeProto.AttributeType.INTS:return"ints";case i.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case i.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${i.onnx.AttributeProto.AttributeType[u]}`)}}static getValue(m){const u=m instanceof i.onnx.AttributeProto?m.type:m.type();if(u===i.onnx.AttributeProto.AttributeType.GRAPH||u===i.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const o=this.getValueNoCheck(m);if(u===i.onnx.AttributeProto.AttributeType.INT&&f.LongUtil.isLong(o))return f.LongUtil.longToNumber(o);if(u===i.onnx.AttributeProto.AttributeType.INTS){const h=o,w=new Array(h.length);for(let E=0;E<h.length;E++){const T=h[E];w[E]=f.LongUtil.longToNumber(T)}return w}if(u===i.onnx.AttributeProto.AttributeType.TENSOR)return m instanceof i.onnx.AttributeProto?d.Tensor.fromProto(o):d.Tensor.fromOrtTensor(o);if(u===i.onnx.AttributeProto.AttributeType.TENSORS){if(m instanceof i.onnx.AttributeProto)return o.map((h=>d.Tensor.fromProto(h)));if(m instanceof b.Attribute)return o.map((h=>d.Tensor.fromOrtTensor(h)))}if(u===i.onnx.AttributeProto.AttributeType.STRING&&m instanceof i.onnx.AttributeProto){const h=o;return(0,f.decodeUtf8String)(h)}return u===i.onnx.AttributeProto.AttributeType.STRINGS&&m instanceof i.onnx.AttributeProto?o.map(f.decodeUtf8String):o}static getValueNoCheck(m){return m instanceof i.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(m):this.getValueNoCheckFromOrtFormat(m)}static getValueNoCheckFromOnnxFormat(m){switch(m.type){case i.onnx.AttributeProto.AttributeType.FLOAT:return m.f;case i.onnx.AttributeProto.AttributeType.INT:return m.i;case i.onnx.AttributeProto.AttributeType.STRING:return m.s;case i.onnx.AttributeProto.AttributeType.TENSOR:return m.t;case i.onnx.AttributeProto.AttributeType.GRAPH:return m.g;case i.onnx.AttributeProto.AttributeType.FLOATS:return m.floats;case i.onnx.AttributeProto.AttributeType.INTS:return m.ints;case i.onnx.AttributeProto.AttributeType.STRINGS:return m.strings;case i.onnx.AttributeProto.AttributeType.TENSORS:return m.tensors;case i.onnx.AttributeProto.AttributeType.GRAPHS:return m.graphs;default:throw new Error(`unsupported attribute type: ${i.onnx.AttributeProto.AttributeType[m.type]}`)}}static getValueNoCheckFromOrtFormat(m){switch(m.type()){case b.AttributeType.FLOAT:return m.f();case b.AttributeType.INT:return m.i();case b.AttributeType.STRING:return m.s();case b.AttributeType.TENSOR:return m.t();case b.AttributeType.GRAPH:return m.g();case b.AttributeType.FLOATS:return m.floatsArray();case b.AttributeType.INTS:{const u=[];for(let o=0;o<m.intsLength();o++)u.push(m.ints(o));return u}case b.AttributeType.STRINGS:{const u=[];for(let o=0;o<m.stringsLength();o++)u.push(m.strings(o));return u}case b.AttributeType.TENSORS:{const u=[];for(let o=0;o<m.tensorsLength();o++)u.push(m.tensors(o));return u}default:throw new Error(`unsupported attribute type: ${b.AttributeType[m.type()]}`)}}}e.Attribute=_},7091:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.resolveBackend=e.backend=void 0;const i=n(5038),l=new Map;async function d(f){const b=e.backend;if(b[f]!==void 0&&(function(_){const v=_;return"initialize"in v&&typeof v.initialize=="function"&&"createSessionHandler"in v&&typeof v.createSessionHandler=="function"&&"dispose"in v&&typeof v.dispose=="function"})(b[f])){const _=b[f];let v=_.initialize();if(typeof v=="object"&&"then"in v&&(v=await v),v)return l.set(f,_),_}}e.backend={webgl:new i.WebGLBackend},e.resolveBackend=async function f(b){if(!b)return f(["webgl"]);{const _=typeof b=="string"?[b]:b;for(const v of _){const m=l.get(v);if(m)return m;const u=await d(v);if(u)return u}}throw new Error("no available backend to use")}},5038:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLBackend=void 0;const i=n(1670),l=n(6231),d=n(6416),f=n(7305);e.WebGLBackend=class{get contextId(){return i.env.webgl.contextId}set contextId(b){i.env.webgl.contextId=b}get matmulMaxBatchSize(){return i.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(b){i.env.webgl.matmulMaxBatchSize=b}get textureCacheMode(){return i.env.webgl.textureCacheMode}set textureCacheMode(b){i.env.webgl.textureCacheMode=b}get pack(){return i.env.webgl.pack}set pack(b){i.env.webgl.pack=b}get async(){return i.env.webgl.async}set async(b){i.env.webgl.async=b}initialize(){try{return this.glContext=(0,f.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),l.Logger.setWithEnv(i.env),l.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(b){return l.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${b}`),!1}}createSessionHandler(b){return new d.WebGLSessionHandler(this,b)}dispose(){this.glContext.dispose()}}},5107:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CoordsGlslLib=void 0;const i=n(2517),l=n(8520),d=n(5060),f=n(7859),b=n(9390);class _ extends l.GlslLib{constructor(m){super(m)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new l.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new l.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const m=this.context.outputTextureLayout;return m.isPacked?this.getPackedOutputSamplingSnippet(m):this.getUnpackedOutputSamplingSnippet(m)}getPackedOutputSamplingSnippet(m){const u=m.unpackedShape,o=[m.width,m.height],h={},w="getOutputCoords";switch(u.length){case 0:h[w]=this.getOutputScalarCoords();break;case 1:h[w]=this.getOutputPacked1DCoords(u,o);break;case 2:h[w]=this.getOutputPacked2DCoords(u,o);break;case 3:h[w]=this.getOutputPacked3DCoords(u,o);break;default:h[w]=this.getOutputPackedNDCoords(u,o)}const E=`
      void setOutput(vec4 val) {
        ${(0,d.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return h.floatTextureSetRGBA=new l.GlslLibRoutine(E),h}getUnpackedOutputSamplingSnippet(m){const u=m.unpackedShape,o=[m.width,m.height],h={},w="getOutputCoords";switch(u.length){case 0:h[w]=this.getOutputScalarCoords();break;case 1:h[w]=this.getOutputUnpacked1DCoords(u,o);break;case 2:h[w]=this.getOutputUnpacked2DCoords(u,o);break;case 3:h[w]=this.getOutputUnpacked3DCoords(u,o);break;case 4:h[w]=this.getOutputUnpacked4DCoords(u,o);break;case 5:h[w]=this.getOutputUnpacked5DCoords(u,o);break;case 6:h[w]=this.getOutputUnpacked6DCoords(u,o);break;default:throw new Error(`Unsupported output dimensionality: ${u.length}`)}const E=`
        void setOutput(float val) {
          ${(0,d.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return h.floatTextureSetR=new l.GlslLibRoutine(E),h}getOutputScalarCoords(){return new l.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(m,u){const o=u;let h="";return o[0]===1?(h=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${o[1]}.0);
          }
        `,new l.GlslLibRoutine(h)):o[1]===1?(h=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${o[0]}.0);
          }
        `,new l.GlslLibRoutine(h)):(h=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${o[0]}, ${o[1]}));
          return 2 * (resTexRC.y * ${o[0]} + resTexRC.x);
        }
      `,new l.GlslLibRoutine(h))}getOutputPacked2DCoords(m,u){let o="";if(i.ArrayUtil.arraysEqual(m,u))return o=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${u[0]}, ${u[1]}));
        }
      `,new l.GlslLibRoutine(o);const h=u,w=Math.ceil(m[1]/2);return o=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${h[0]}, ${h[1]}));

          int index = resTexRC.y * ${h[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${w}) * 2;
          int c = 2 * (index / ${w});

          return ivec2(r, c);
        }
      `,new l.GlslLibRoutine(o)}getOutputPacked3DCoords(m,u){const o=[u[0],u[1]],h=Math.ceil(m[2]/2),w=h*Math.ceil(m[1]/2),E=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${o[0]}, ${o[1]}));
          int index = resTexRC.y * ${o[0]} + resTexRC.x;

          int b = index / ${w};
          index -= b * ${w};

          // reverse r and c order for packed texture
          int r = imod(index, ${h}) * 2;
          int c = 2 * (index / ${h});

          return ivec3(b, r, c);
        }
      `;return new l.GlslLibRoutine(E)}getOutputPackedNDCoords(m,u){const o=[u[0],u[1]],h=Math.ceil(m[m.length-1]/2),w=h*Math.ceil(m[m.length-2]/2);let E=w,T="",O="b, r, c";for(let I=2;I<m.length-1;I++)E*=m[m.length-I-1],T=`
      int b${I} = index / ${E};
      index -= b${I} * ${E};
    `+T,O=`b${I}, `+O;const M=`
      ivec${m.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${o[0]}, ${o[1]}));
        int index = resTexRC.y * ${o[0]} + resTexRC.x;

        ${T}

        int b = index / ${w};
        index -= b * ${w};

        // reverse r and c order for packed texture
        int r = imod(index, ${h}) * 2;
        int c = 2 * (index / ${h});

        return ivec${m.length}(${O});
      }
    `;return new l.GlslLibRoutine(M)}getOutputUnpacked1DCoords(m,u){const o=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${u[0]}, ${u[1]}));
          return resTexRC.y * ${u[0]} + resTexRC.x;
        }
      `;return new l.GlslLibRoutine(o)}getOutputUnpacked2DCoords(m,u){const o=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${u[0]}, ${u[1]}));
          int index = resTexRC.y * ${u[0]} + resTexRC.x;
          int r = index / ${m[1]};
          int c = index - r * ${m[1]};
          return ivec2(r, c);
        }
      `;return new l.GlslLibRoutine(o)}getOutputUnpacked3DCoords(m,u){let o="";const h=m.length;let w=null;h<2&&(w=[]),w=new Array(h-1),w[h-2]=m[h-1];for(let O=h-3;O>=0;--O)w[O]=w[O+1]*m[O+1];const E=["r","c","d"],T=w.map(((O,M)=>`int ${E[M]} = index / ${O}; ${M===w.length-1?`int ${E[M+1]} = index - ${E[M]} * ${O}`:`index -= ${E[M]} * ${O}`};`)).join("");return o=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${u[0]}, ${u[1]}));
          int index = resTexRC.y * ${u[0]} + resTexRC.x;
          ${T}
          return ivec3(r, c, d);
        }
      `,new l.GlslLibRoutine(o)}getOutputUnpacked4DCoords(m,u){let o="";const h=m.length;let w=null;h<2&&(w=[]),w=new Array(h-1),w[h-2]=m[h-1];for(let O=h-3;O>=0;--O)w[O]=w[O+1]*m[O+1];const E=["r","c","d","d2"],T=w.map(((O,M)=>`int ${E[M]} = index / ${O}; ${M===w.length-1?`int ${E[M+1]} = index - ${E[M]} * ${O}`:`index -= ${E[M]} * ${O}`};`)).join("");return o=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${u[0]}, ${u[1]}));
          int index = resTexRC.y * ${u[0]} + resTexRC.x;
          ${T}
          return ivec4(r, c, d, d2);
        }
      `,new l.GlslLibRoutine(o)}getOutputUnpacked5DCoords(m,u){let o="";const h=m.length;let w=null;h<2&&(w=[]),w=new Array(h-1),w[h-2]=m[h-1];for(let O=h-3;O>=0;--O)w[O]=w[O+1]*m[O+1];const E=["r","c","d","d2","d3"],T=w.map(((O,M)=>`int ${E[M]} = index / ${O}; ${M===w.length-1?`int ${E[M+1]} = index - ${E[M]} * ${O}`:`index -= ${E[M]} * ${O}`};`)).join("");return o=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${u[0]}, ${u[1]}));
          int index = resTexRC.y * ${u[0]} + resTexRC.x;
          ${T}
          return ivec5(r, c, d, d2, d3);
        }
      `,new l.GlslLibRoutine(o)}getOutputUnpacked6DCoords(m,u){let o="";const h=m.length;let w=null;h<2&&(w=[]),w=new Array(h-1),w[h-2]=m[h-1];for(let O=h-3;O>=0;--O)w[O]=w[O+1]*m[O+1];const E=["r","c","d","d2","d3","d4"],T=w.map(((O,M)=>`int ${E[M]} = index / ${O}; ${M===w.length-1?`int ${E[M+1]} = index - ${E[M]} * ${O}`:`index -= ${E[M]} * ${O}`};`)).join("");return o=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${u[0]}, ${u[1]}));
         int index = resTexRC.y * ${u[0]} + resTexRC.x;
         ${T}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new l.GlslLibRoutine(o)}getCommonUtilFuncs(){const m={};let u="uvFromFlat";m[u]=new l.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),u="packedUVfrom1D",m[u]=new l.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),u="packedUVfrom2D",m[u]=new l.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),u="packedUVfrom3D",m[u]=new l.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),u="sampleTexture";const o=(0,d.getGlsl)(this.context.glContext.version);return m[u]=new l.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${o.texture2D}(textureSampler, uv).r;
        }`),m}getInputsSamplingSnippets(){const m={},u=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach(((o,h)=>{const w=this.context.inputTextureLayouts[h],E=(0,b.generateShaderFuncNameFromInputSamplerName)(o);w.isPacked?m[E]=this.getPackedSamplerFromInput(E,o,w):m[E]=this.getUnpackedSamplerFromInput(E,o,w);const T=(0,b.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(o);w.unpackedShape.length<=u.unpackedShape.length&&(w.isPacked?m[T]=this.getPackedSamplerAtOutputCoords(T,w,u,o):m[T]=this.getUnpackedSamplerAtOutputCoords(T,w,u,o))})),m}getPackedSamplerAtOutputCoords(m,u,o,h){const w=u.unpackedShape,E=o.unpackedShape,T=h,O=(0,b.generateShaderFuncNameFromInputSamplerName)(T),M=w.length,I=E.length,R=i.BroadcastUtil.getBroadcastDims(w,E),D=(0,b.getCoordsDataType)(I),N=I-M;let L;const B=(0,b.getGlChannels)();L=M===0?"":I<2&&R.length>=1?"coords = 0;":R.map((Q=>`coords.${B[Q+N]} = 0;`)).join(`
`);let $="";$=I<2&&M>0?"coords":w.map(((Q,Y)=>`coords.${B[Y+N]}`)).join(", ");let V="return outputValue;";const G=i.ShapeUtil.size(w)===1,X=i.ShapeUtil.size(E)===1;if(M!==1||G||X){if(G&&!X)V=I===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(R.length){const Q=M-2,Y=M-1;R.indexOf(Q)>-1&&R.indexOf(Y)>-1?V="return vec4(outputValue.x);":R.indexOf(Q)>-1?V="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":R.indexOf(Y)>-1&&(V="return vec4(outputValue.xx, outputValue.zz);")}}else V=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const ee=`
      vec4 ${m}() {
        ${D} coords = getOutputCoords();
        
        int lastDim = coords.${B[I-1]};
        coords.${B[I-1]} = coords.${B[I-2]};
        coords.${B[I-2]} = lastDim;
      
        ${L}
        vec4 outputValue = ${O}(${$});
        ${V}
      }
    `;return new l.GlslLibRoutine(ee,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(m,u,o,h){const w=[o.width,o.height],E=[u.width,u.height],T=u.unpackedShape.length,O=o.unpackedShape.length,M=u.unpackedShape,I=o.unpackedShape,R=(0,b.generateShaderFuncNameFromInputSamplerName)(h);if(T===O&&i.ArrayUtil.arraysEqual(E,w)){const X=`
          float ${m}() {
            return sampleTexture(${h}, TexCoords);
          }
        `;return new l.GlslLibRoutine(X,["coordinates.sampleTexture"])}const D=(0,b.getCoordsDataType)(O),N=i.BroadcastUtil.getBroadcastDims(M,I),L=O-T;let B;const $=(0,b.getGlChannels)();B=T===0?"":O<2&&N.length>=1?"coords = 0;":N.map((X=>`coords.${$[X+L]} = 0;`)).join(`
`);let V="";V=O<2&&T>0?"coords":u.unpackedShape.map(((X,ee)=>`coords.${$[ee+L]}`)).join(", ");const G=`
        float ${m}() {
          ${D} coords = getOutputCoords();
          ${B}
          return ${R}(${V});
        }
      `;return new l.GlslLibRoutine(G,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(m,u,o){switch(o.unpackedShape.length){case 0:return this.getPackedSamplerScalar(m,u);case 1:return this.getPackedSampler1D(m,u,o);case 2:return this.getPackedSampler2D(m,u,o);case 3:return this.getPackedSampler3D(m,u,o);default:return this.getPackedSamplerND(m,u,o)}}getUnpackedSamplerFromInput(m,u,o){const h=o.unpackedShape;switch(h.length){case 0:return this.getUnpackedSamplerScalar(m,u,o);case 1:return this.getUnpackedSampler1D(m,u,o);case 2:return this.getUnpackedSampler2D(m,u,o);case 3:return this.getUnpackedSampler3D(m,u,o);case 4:return this.getUnpackedSampler4D(m,u,o);case 5:return this.getUnpackedSampler5D(m,u,o);case 6:return this.getUnpackedSampler6D(m,u,o);default:throw new Error(`Unsupported dimension ${h.length}-D`)}}getPackedSamplerScalar(m,u){const o=`
          vec4 ${m}() {
            return ${(0,d.getGlsl)(this.context.glContext.version).texture2D}(${u}, halfCR);
          }
        `;return new l.GlslLibRoutine(o)}getPackedSampler1D(m,u,o){const h=[o.width,o.height],w=[h[1],h[0]],E=(0,d.getGlsl)(this.context.glContext.version),T=`vec4 ${m}(int index) {
      vec2 uv = packedUVfrom1D(
      ${w[0]}, ${w[1]}, index);
      return ${E.texture2D}(${u}, uv);
    }`;return new l.GlslLibRoutine(T,["coordinates.packedUVfrom1D"])}getPackedSampler2D(m,u,o){const h=o.unpackedShape,w=[o.width,o.height],E=(0,d.getGlsl)(this.context.glContext.version),T=w[0],O=w[1];if(w!=null&&i.ArrayUtil.arraysEqual(h,w)){const D=`vec4 ${m}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${O}.0, ${T}.0);
        return ${E.texture2D}(${u}, uv);
      }`;return new l.GlslLibRoutine(D)}const M=w,I=Math.ceil(h[1]/2),R=`vec4 ${m}(int row, int col) {
      vec2 uv = packedUVfrom2D(${M[1]}, ${M[0]}, ${I}, row, col);
      return ${E.texture2D}(${u}, uv);
    }`;return new l.GlslLibRoutine(R,["coordinates.packedUVfrom2D"])}getPackedSampler3D(m,u,o){const h=o.unpackedShape,w=[o.width,o.height],E=[w[0],w[1]],T=(0,d.getGlsl)(this.context.glContext.version);if(h[0]===1){const D=h.slice(1),N=[1,2],L=(0,b.squeezeInputShape)(h,D),B=["b","row","col"],$=JSON.parse(JSON.stringify(o));$.unpackedShape=L;const V=this.getPackedSamplerFromInput(m,u,$),G=`${V.routineBody}
      vec4 ${m}(int b, int row, int col) {
        return ${m}(${(0,b.getSqueezedParams)(B,N)});
      } `;return new l.GlslLibRoutine(G,V.dependencies)}const O=E[0],M=E[1],I=Math.ceil(h[2]/2),R=`vec4 ${m}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${M}, ${O}, ${I*Math.ceil(h[1]/2)}, ${I}, b, row, col);
      return ${T.texture2D}(${u}, uv);}`;return new l.GlslLibRoutine(R,["coordinates.packedUVfrom3D"])}getPackedSamplerND(m,u,o){const h=o.unpackedShape,w=h.length,E=[o.width,o.height],T=(0,d.getGlsl)(this.context.glContext.version),O=[E[0],E[1]],M=O[1],I=O[0],R=Math.ceil(h[w-1]/2);let D=R*Math.ceil(h[w-2]/2),N="int b, int row, int col",L=`b * ${D} + (row / 2) * ${R} + (col / 2)`;for(let $=2;$<w-1;$++)N=`int b${$}, `+N,D*=h[w-$-1],L=`b${$} * ${D} + `+L;const B=`vec4 ${m}(${N}) {
      int index = ${L};
      int texR = index / ${I};
      int texC = index - texR * ${I};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${I}, ${M});
      return ${T.texture2D}(${u}, uv);
    }`;return new l.GlslLibRoutine(B)}getUnpackedSamplerScalar(m,u,o){const[h,w]=[o.width,o.height];if(h===1&&w===1){const T=`
          float ${m}() {
            return sampleTexture(${u}, halfCR);
          }
        `;return new l.GlslLibRoutine(T,["coordinates.sampleTexture"])}const E=`
        float ${m}() {
          int offset_${u} = coordsToOffset(TexCoords, ${h}, ${w});
          vec2 uv = uvFromFlat(${h}, ${w}, offset_${u});
          return sampleTexture(${u}, uv);
        }
      `;return new l.GlslLibRoutine(E,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(m,u,o){const h=o.width,w=o.height;if(w===1&&h===1){const T=`
        float ${m}(int index) {
          return sampleTexture(${u}, halfCR);
        }
      `;return new l.GlslLibRoutine(T,["coordinates.sampleTexture"])}if(w===1){const T=`
          float ${m}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${h}.0, 0.5);
            return sampleTexture(${u}, uv);
          }
        `;return new l.GlslLibRoutine(T,["coordinates.sampleTexture"])}if(h===1){const T=`
          float ${m}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${w}.0);
            return sampleTexture(${u}, uv);
          }
        `;return new l.GlslLibRoutine(T,["coordinates.sampleTexture"])}const E=`
        float ${m}(int index) {
          vec2 uv = uvFromFlat(${h}, ${w}, index);
          return sampleTexture(${u}, uv);
        }
      `;return new l.GlslLibRoutine(E,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(m,u,o){const h=o.unpackedShape,w=[o.height,o.width];if(w!=null&&i.ArrayUtil.arraysEqual(h,w)){const D=`
          float ${m}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${w[1]}.0, ${w[0]}.0);
            return sampleTexture(${u}, uv);
          }
        `;return new l.GlslLibRoutine(D,["coordinates.sampleTexture"])}const{newShape:E,keptDims:T}=(0,f.squeezeShape)(h),O=E;if(O.length<h.length){const D=(0,b.squeezeInputShape)(h,O),N=JSON.parse(JSON.stringify(o));N.unpackedShape=D;const L=["col","row"],B=`
          ${this.getUnpackedSamplerFromInput(m,u,N).routineBody}
          float ${m}(int row, int col) {
            return ${m}(${(0,b.getSqueezedParams)(L,T)});
          }
        `;return new l.GlslLibRoutine(B,["coordinates.sampleTexture"])}const M=w[1],I=w[0];if(I===1){const D=`
          float ${m}(int row, int col) {
            int offset_${u} = coordsToOffset(TexCoords, ${M}, ${I});
            float index = dot(vec3(row, col, offset_${u}), vec3(${h[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${M}.0);
            return sampleTexture(${u}, uv);
          }
        `;return new l.GlslLibRoutine(D,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(M===1){const D=`
          float ${m}(int row, int col) {
            int offset_${u} = coordsToOffset(TexCoords, ${M}, ${I});
            float index = dot(vec3(row, col, offset_${u}), vec3(${h[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${I}.0, 0.5);
            return sampleTexture(${u}, uv);
          }
        `;return new l.GlslLibRoutine(D,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const R=`
        float ${m}(int row, int col) {
          int index = col * ${h[1]} + row;
          vec2 uv = uvFromFlat(${M}, ${I}, index);
          return sampleTexture(${u}, uv);
        }
      `;return new l.GlslLibRoutine(R,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(m,u,o){const h=o.unpackedShape,w=h[1]*h[2],E=h[2],{newShape:T,keptDims:O}=(0,f.squeezeShape)(h),M=T;if(M.length<h.length){const R=(0,b.squeezeInputShape)(h,M),D=["batch","col","row"],N=JSON.parse(JSON.stringify(o));N.unpackedShape=R;const L=this.getUnpackedSamplerFromInput(m,u,N),B=O.reverse(),$=`
          ${L.routineBody}
          float ${m}(int batch, int row, int col) {
            return ${m}(${(0,b.getSqueezedParams)(D,B)});
          }
        `;return new l.GlslLibRoutine($,L.dependencies)}const I=`
          float ${m}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${w} + col * ${E} + row;
            vec2 uv = uvFromFlat(${o.width}, ${o.height}, index);
            return sampleTexture(${u}, uv);
          }
      `;return new l.GlslLibRoutine(I,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(m,u,o){const h=o.unpackedShape,w=h[3],E=h[2]*w,T=`
        float ${m}(int row, int col, int depth, int depth2) {
          int index = row * ${h[1]*E} + col * ${E} +
              depth2 * ${w} + depth;
          vec2 uv = uvFromFlat(${o.width}, ${o.height}, index);
          return sampleTexture(${u}, uv);
        }
      `;return new l.GlslLibRoutine(T,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(m,u,o){const h=o.unpackedShape,w=h[4],E=h[3]*w,T=h[2]*E,O=h[1]*T,{newShape:M,keptDims:I}=(0,f.squeezeShape)(h);if(M.length<h.length){const D=(0,b.squeezeInputShape)(h,M),N=["row","col","depth","depth2","depth3"],L=JSON.parse(JSON.stringify(o));L.unpackedShape=D;const B=`
          ${this.getUnpackedSamplerFromInput(m,u,L).routineBody}
          float ${m}(int row, int col, int depth, int depth2, int depth3) {
            return ${m}(${(0,b.getSqueezedParams)(N,I)});
          }
        `;return new l.GlslLibRoutine(B,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const R=`
        float ${m}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${O} + col * ${T} + depth * ${E} +
          depth3 * ${w} + depth2;
          vec2 uv = uvFromFlat(${o.width}, ${o.height}, index);
          return sampleTexture(${u}, uv);
        }
      `;return new l.GlslLibRoutine(R,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(m,u,o){const h=o.unpackedShape,w=h[5],E=h[4]*w,T=h[3]*E,O=h[2]*T,M=h[1]*O,{newShape:I,keptDims:R}=(0,f.squeezeShape)(h);if(I.length<h.length){const N=(0,b.squeezeInputShape)(h,I),L=["row","col","depth","depth2","depth3","depth4"],B=JSON.parse(JSON.stringify(o));B.unpackedShape=N;const $=`
            ${this.getUnpackedSamplerFromInput(m,u,B).routineBody}
            float ${m}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${m}(${(0,b.getSqueezedParams)(L,R)});
            }
          `;return new l.GlslLibRoutine($,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const D=`
          float ${m}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${M} + col * ${O} + depth * ${T} +
            depth2 * ${E} + depth3 * ${w} + depth4;
            vec2 uv = uvFromFlat(${o.width}, ${o.height}, index);
            return sampleTexture(${u}, uv);
          }
        `;return new l.GlslLibRoutine(D,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const m=this.context.outputTextureLayout,u=m.shape.length,o=m.strides,h=m.width,w=m.height,E=[];for(let O=0;O<u-1;++O)E.push(`
        c[${O}] = offset / ${o[O]};`),E.push(`
        offset -= c[${O}] * ${o[O]};`);E.push(`
        c[${u-1}] = offset;`);const T=`
      void toVec(vec2 texCoords, out int c[${u}]) {
        int offset = coordsToOffset(texCoords, ${h}, ${w});
        ${E.join("")}
      }
      void toVec(int offset, out int c[${u}]) {
        ${E.join("")}
      }
    `;return{toVec:new l.GlslLibRoutine(T,["coordinates.coordsToOffset"])}}valueFrom(){const m={};return this.context.programInfo.inputNames.forEach(((u,o)=>{const h=this.context.inputTextureLayouts[o],w=(h.unpackedShape.length>0?h.unpackedShape:h.shape).length;let E=`_${u}`;m[E]=new l.GlslLibRoutine(this.getValueFromSingle(u,w,h.width,h.height,!1),[`shapeUtils.indicesToOffset${E}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),E+="_T",m[E]=new l.GlslLibRoutine(this.getValueFromSingle(u,w,h.width,h.height,!0),[`shapeUtils.indicesToOffset${E}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])})),m}getValueFromSingle(m,u,o,h,w){let E=`_${m}`;return w&&(E+="_T"),`
        float ${E}(int m[${u}]) {
          int offset = indicesToOffset${E}(m);
          vec2 coords = offsetToCoords(offset, ${o}, ${h});
          float value = getColorAsFloat(${(0,d.getGlsl)(this.context.glContext.version).texture2D}(${m}, coords));
          return value;
        }
        `}getPackedValueFrom(m,u,o,h,w){let E=`_${m}_Pack`;return w&&(E+="_T"),`
        vec4 ${E}(int m[${u}]) {
          int offset = indicesToOffset_${m}(m);
          vec2 coords = offsetToCoords(offset, ${o}, ${h});
          return ${(0,d.getGlsl)(this.context.glContext.version).texture2D}(${m}, coords);
        }
        `}}e.CoordsGlslLib=_},8520:(t,e)=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),e.TopologicalSortGlslRoutines=e.GlslLibRoutineNode=e.GlslLibRoutine=e.GlslLib=e.GlslContext=e.FunctionType=void 0,(n=e.FunctionType||(e.FunctionType={}))[n.ValueBased=0]="ValueBased",n[n.Positional=1]="Positional",e.GlslContext=class{constructor(i,l,d,f){this.glContext=i,this.programInfo=l,this.inputTextureLayouts=d,this.outputTextureLayout=f}},e.GlslLib=class{constructor(i){this.context=i}},e.GlslLibRoutine=class{constructor(i,l){this.routineBody=i,this.dependencies=l}},e.GlslLibRoutineNode=class{constructor(i,l,d){this.name=i,this.dependencies=d||[],l&&(this.routineBody=l)}addDependency(i){i&&this.dependencies.push(i)}},e.TopologicalSortGlslRoutines=class{static returnOrderedNodes(i){if(!i||i.length===0)return[];if(i.length===1)return i;const l=new Set,d=new Set,f=new Array;return this.createOrderedNodes(i,l,d,f),f}static createOrderedNodes(i,l,d,f){for(let b=0;b<i.length;++b)this.dfsTraverse(i[b],l,d,f)}static dfsTraverse(i,l,d,f){if(!i||d.has(i.name))return;if(l.has(i.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");l.add(i.name);const b=i.dependencies;if(b&&b.length>0)for(let _=0;_<b.length;++_)this.dfsTraverse(b[_],l,d,f);f.push(i),d.add(i.name),l.delete(i.name)}}},7341:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EncodingGlslLib=void 0;const i=n(8520);class l extends i.GlslLib{constructor(f){super(f)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new i.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new i.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const f=l.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new i.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${f}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const f=l.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new i.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${f}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const f=new ArrayBuffer(4),b=new Uint32Array(f),_=new Uint8Array(f);if(b[0]=3735928559,_[0]===239)return!0;if(_[0]===222)return!1;throw new Error("unknown endianness")}}e.EncodingGlslLib=l},9894:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FragColorGlslLib=void 0;const i=n(8520),l=n(5060);class d extends i.GlslLib{constructor(b){super(b)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const b=(0,l.getGlsl)(this.context.glContext.version);return{setFragColor:new i.GlslLibRoutine(`
        void setFragColor(float value) {
            ${b.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new i.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}e.FragColorGlslLib=d},2848:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.replaceInlines=void 0;const n=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;e.replaceInlines=function(i){const l={};let d;for(;(d=n.exec(i))!==null;){const f=d[3].split(",").map((b=>{const _=b.trim().split(" ");return _&&_.length===2?{type:_[0],name:_[1]}:null})).filter((b=>b!==null));l[d[2]]={params:f,body:d[4]}}for(const f in l){const b="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",f),_=new RegExp(b,"gm");for(;(d=_.exec(i))!==null;){const v=d[1],m=d[2],u=d[3].split(","),o=v?`${v} ${m};`:"";let h=l[f].body,w="";l[f].params.forEach(((T,O)=>{T&&(w+=`${T.type} ${T.name} = ${u[O]};
`)})),h=`${w}
 ${h}`,h=h.replace("return",`${m} = `);const E=`
      ${o}
      {
        ${h}
      }
      `;i=i.replace(d[0],E)}}return i.replace(n,"")}},8879:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlslPreprocessor=void 0;const i=n(8520),l=n(2848),d=n(5483),f=n(5060);e.GlslPreprocessor=class{constructor(b,_,v,m){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new i.GlslContext(b,_,v,m),Object.keys(d.glslRegistry).forEach((o=>{const h=new d.glslRegistry[o](this.context);this.libs[o]=h}));const u=this.glslLibRoutineDependencyGraph;for(const o in this.libs){const h=this.libs[o].getFunctions();for(const w in h){const E=o+"."+w;let T;u[E]?(T=u[E],T.routineBody=h[w].routineBody):(T=new i.GlslLibRoutineNode(E,h[w].routineBody),u[E]=T);const O=h[w].dependencies;if(O)for(let M=0;M<O.length;++M)if(u[O[M]])T.addDependency(u[O[M]]);else{const I=new i.GlslLibRoutineNode(O[M]);u[O[M]]=I,T.addDependency(I)}}}}preprocess(){const b=this.context.programInfo;let _=b.shaderSource;return this.context.programInfo.hasMain||(_=`${_}
      ${(0,f.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),_=(0,l.replaceInlines)(_),`${(0,f.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(b.inputNames,b.variables)}
    ${this.getImports(_)}
    ${_}`}getImports(b){const _=this.selectGlslLibRoutinesToBeIncluded(b);if(_.length===0)return"";let v="";for(let m=0;m<_.length;++m){if(!_[m].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${_[m].name}`);v+=_[m].routineBody+`
`}return v}selectGlslLibRoutinesToBeIncluded(b){const _=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach((v=>{const m=v.split(".")[1];b.indexOf(m)!==-1&&_.push(this.glslLibRoutineDependencyGraph[v])})),i.TopologicalSortGlslRoutines.returnOrderedNodes(_)}getUniforms(b,_){const v=[];if(b)for(const m of b)v.push(`uniform sampler2D ${m};`);if(_)for(const m of _)v.push(`uniform ${m.type} ${m.name}${m.arrayLength?`[${m.arrayLength}]`:""};`);return v.join(`
`)}}},5483:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.glslRegistry=void 0;const i=n(5107),l=n(7341),d=n(9894),f=n(2655),b=n(3891);e.glslRegistry={encoding:l.EncodingGlslLib,fragcolor:d.FragColorGlslLib,vec:b.VecGlslLib,shapeUtils:f.ShapeUtilsGlslLib,coordinates:i.CoordsGlslLib}},2655:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeUtilsGlslLib=void 0;const i=n(8520);class l extends i.GlslLib{constructor(f){super(f)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const f=this.context.outputTextureLayout.shape.length,b={};return this.context.programInfo.inputNames.forEach(((_,v)=>{const m=this.context.inputTextureLayouts[v].unpackedShape;if(m.length<=f){const u=m.length,o=f-u,h=`bcastIndices_${_}`;let w="";for(let T=0;T<u;++T)w+=`
          realIndices[${T}] = int( mod(float(bcastedIndices[${o+T}]), ${m[T]}.0) );
          `;const E=`
        void ${h} (int bcastedIndices[${f}], out int realIndices[${u}]) {
          ${w}
        }
        `;b[h]=new i.GlslLibRoutine(E)}})),b}bcastMatmulIndex(){const f=this.context.outputTextureLayout.shape.length,b={};return this.context.programInfo.inputNames.forEach(((_,v)=>{const m=this.context.inputTextureLayouts[v].shape;if(!(m.length<2||m.length>f)){const u=m.length,o=f-u,h=`bcastMatmulIndices_${_}`;let w="";for(let T=0;T<u-2;++T)w+=`
          realIndices[${T}] = int( mod(float(bcastedIndices[${o+T}]), ${m[T]}.0) );
          `;const E=`
        void ${h}(int bcastedIndices[${f}], out int realIndices[${u}]) {
          ${w}
          realIndices[${u-1}] = bcastedIndices[${f-1}];
          realIndices[${u-2}] = bcastedIndices[${f-2}];
        }
        `;b[h]=new i.GlslLibRoutine(E)}})),b}indicesToOffset(){const f={};return this.context.programInfo.inputNames.forEach(((b,_)=>{const v=this.context.inputTextureLayouts[_].shape,m=this.context.inputTextureLayouts[_].strides,u=v.length;let o=`indicesToOffset_${b}`;f[o]=new i.GlslLibRoutine(l.indexToOffsetSingle(o,u,m)),o=`indicesToOffset_${b}_T`,f[o]=new i.GlslLibRoutine(l.indexToOffsetSingle(o,u,m.slice().reverse()))})),f}static indexToOffsetSingle(f,b,_){let v="";for(let m=b-1;m>=0;--m)v+=`
        offset += indices[${m}] * ${_[m]};
        `;return`
      int ${f}(int indices[${b}]) {
        int offset = 0;
        ${v}
        return offset;
      }
      `}offsetToIndices(){const f={};return this.context.programInfo.inputNames.forEach(((b,_)=>{const v=this.context.inputTextureLayouts[_].shape,m=this.context.inputTextureLayouts[_].strides,u=v.length;let o=`offsetToIndices_${b}`;f[o]=new i.GlslLibRoutine(l.offsetToIndicesSingle(o,u,m)),o=`offsetToIndices_${b}_T`,f[o]=new i.GlslLibRoutine(l.offsetToIndicesSingle(o,u,m.slice().reverse()))})),f}static offsetToIndicesSingle(f,b,_){const v=[];for(let m=0;m<b-1;++m)v.push(`
      indices[${m}] = offset / ${_[m]};`),v.push(`
        offset -= indices[${m}] * ${_[m]};`);return v.push(`
      indices[${b-1}] = offset;`),`
      void ${f}(int offset, out int indices[${b}]) {
        ${v.join("")}
      }
      `}incrementIndices(){const f={};return this.context.programInfo.inputNames.forEach(((b,_)=>{const v=this.context.inputTextureLayouts[_].shape,m=v.length,u=`incrementIndices_${b}`;let o="";for(let w=0;w<m;++w)o+=`
        shape[${w}] = ${v[w]};`;const h=`
        void ${u}(int axis, out int indices[${m}]) {
          int shape[${m}];
          ${o};
          for(int i = ${m} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;f[u]=new i.GlslLibRoutine(h)})),f}}e.ShapeUtilsGlslLib=l},5060:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultFragShaderMain=e.getFragShaderPreamble=e.getVertexShaderSource=e.getGlsl=void 0;const n={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},i={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function l(d){return d===1?n:i}e.getGlsl=l,e.getVertexShaderSource=function(d){const f=l(d);return`${f.version}
      precision highp float;
      ${f.attribute} vec3 position;
      ${f.attribute} vec2 textureCoord;

      ${f.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},e.getFragShaderPreamble=function(d){const f=l(d);return`${f.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${f.varyingFrag} vec2 TexCoords;
    ${f.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},e.getDefaultFragShaderMain=function(d,f){return`
  void main() {
    int indices[${f}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${l(d).output} = result;
  }
  `}},3891:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VecGlslLib=void 0;const i=n(8520);class l extends i.GlslLib{constructor(f){super(f)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const f=this.context.outputTextureLayout.shape.length,b={add:"+=",sub:"-=",mul:"*=",div:"/="},_={};for(const v in b){const m=`${v}Vec`;let u="";for(let h=0;h<f;++h)u+=`
          dest[${h}] ${b[v]} src[${h}];
          `;const o=`
        void ${m}(int src[${f}], out int dest[${f}]) {
          ${u}
        }
        `;_[m]=new i.GlslLibRoutine(o)}return _}copyVec(){const f=this.context.outputTextureLayout.shape.length;let b="";for(let v=0;v<f;++v)b+=`
        dest[${v}] = src[${v}];
        `;const _=`
      void copyVec(int src[${f}], out int dest[${f}]) {
        ${b}
      }
      `;return{copyVec:new i.GlslLibRoutine(_)}}setVecItem(){const f=this.context.outputTextureLayout.shape.length;let b=`
        if(index < 0)
            index =${f} + index;
        if (index == 0)
            m[0] = value;
        `;for(let v=1;v<f-1;++v)b+=`
        else if (index == ${v})
            m[${v}] = value;
            `;b+=`
        else
            m[${f-1}] = value;
        `;const _=`
      void setVecItem(out int m[${f}], int index, int value) {
        ${b}
      }
        `;return{setVecItem:new i.GlslLibRoutine(_)}}getVecItem(){const f=this.context.outputTextureLayout.shape.length;let b=`
        if(index < 0)
            index = ${f} + index;
        if (index == 0)
            return m[0];
      `;for(let v=1;v<f-1;++v)b+=`
        else if (index == ${v})
            return m[${v}];
      `;b+=`
        else
            return m[${f-1}];
        `;const _=`
      int getVecItem(int m[${f}], int index) {
        ${b}
      }
    `;return{getVecItem:new i.GlslLibRoutine(_)}}}e.VecGlslLib=l},8316:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLInferenceHandler=void 0;const i=n(6231),l=n(9162),d=n(2517),f=n(2403),b=n(7019),_=n(8710),v=n(5611),m=n(4057),u=n(2039);e.WebGLInferenceHandler=class{constructor(o){this.session=o,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(o,h){return(0,m.calculateTextureWidthAndHeight)(this.session.layoutStrategy,o,h)}executeProgram(o,h){if(h.length<o.inputNames.length)throw new Error(`Input size mustn't be less than ${o.inputNames.length}.`);if(o.inputNames.length!==o.inputTypes.length)throw new Error("input names size does not match input types");const w=[];for(let R=0;R<o.inputNames.length;++R)w[R]=this.getOrCreateTextureData(h[R],o.inputTypes[R]);const E=((R,D)=>{const N=D.map((B=>`${B.unpackedShape.join(",")};${B.width}x${B.height}`)).join("_");let L=R.name;return R.cacheHint&&(L+="["+R.cacheHint+"]"),L+=":"+N,L})(o,w);let T=this.session.programManager.getArtifact(E);const O=T?T.programInfo:typeof o.get=="function"?o.get():o,M=(0,m.createTextureLayoutFromTextureType)(this.session.layoutStrategy,O.output.dims,O.output.textureType),I=this.createTextureData(M,O.output.type);return T||(T=this.session.programManager.build(O,w,I),this.session.programManager.setArtifact(E,T)),this.runProgram(T,w,I),I}run(o,h){return this.executeProgram(o,h).tensor}runProgram(o,h,w){for(let E=0;E<h.length;++E)if(!!h[E].isPacked!=(o.programInfo.inputTypes[E]===u.TextureType.packed))throw new Error(`input[${E}] property packed inconsistent`);if(!!w.isPacked!=(o.programInfo.output.textureType===u.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(o,h,w)}getOrCreateTextureData(o,h){let w=this.getTextureData(o.dataId,h===u.TextureType.packed);if(!w&&(w=this.getTextureData(o.dataId,h!==u.TextureType.packed),w))return h===u.TextureType.packed?this.pack(w):this.unpack(w);if(!w){const E=(0,m.createTextureLayoutFromTextureType)(this.session.layoutStrategy,o.dims,h);if(h===u.TextureType.packedLastDimension){const M=o.dims;if(M.length===4){const I=[M[0],Math.ceil(M[1]*M[2]*M[3]/4)],R=(0,m.createTextureLayoutFromTextureType)(this.session.layoutStrategy,I,h);let D=o.numberData;if(M[1]*M[2]*M[3]%4!=0){const N=M[0],L=M[1]*M[2]*M[3],B=Math.ceil(L*1/4)*4;D=new Float32Array(N*B);for(let $=0;$<N;++$){const V=$*L,G=$*B+$%1*L;D.set(o.numberData.subarray(V,V+L),G)}}return this.createTextureData(R,o.type,D,o,1)}}if(h===u.TextureType.packed){const T=(0,m.createTextureLayoutFromShape)(this.session.layoutStrategy,o.dims,1,[],{reverseWH:!0}),O=this.createTextureData(T,o.type,o.numberData,o,1);w=this.pack(O)}else w=this.createTextureData(E,o.type,o.numberData,o,1)}return w}createTextureDataFromLayoutBindTensor(o,h,w,E){return this.createTextureData(o,h,w,E,1)}createTextureData(o,h,w,E,T){i.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(o)}]`);const O=this.session.textureManager.createTextureFromLayout(h,o,w,T);return this.createTextureDataFromTexture(o,h,O,E)}reshapeUnpacked(o,h){const w=this.getOrCreateTextureData(o,u.TextureType.unpacked),E={channels:w.channels,height:w.height,width:w.width,shape:h.length!==0?h:[1],strides:d.ShapeUtil.computeStrides(h),unpackedShape:h};return this.createTextureDataFromTexture(E,o.type,w.texture).tensor}reshapePacked(o,h){const w=this.getOrCreateTextureData(o,u.TextureType.packed);if((0,b.isReshapeCheap)(o.dims,h)){const I={channels:w.channels,height:w.height,width:w.width,shape:h.length!==0?h:[1],strides:d.ShapeUtil.computeStrides(h),unpackedShape:h,isPacked:!0};return this.createTextureDataFromTexture(I,o.type,w.texture).tensor}const E=(0,b.processDims3D)(o.dims),T=(0,b.processDims3D)(h),O=this.reshapePacked(o,E),M=this.run((0,b.createPackedReshape3DProgramInfoLoader)(this,O,T),[O]);return this.reshapePacked(M,h)}cast(o,h){const w=this.getOrCreateTextureData(o,u.TextureType.unpacked);return this.createTextureDataFromTexture(w,h,w.texture).tensor}createTextureDataFromTexture(o,h,w,E,T){const O=Object.assign(Object.assign({},o),{tensor:E||new l.Tensor(o.unpackedShape,h,(M=>this.readTexture(O)),(async M=>this.readTextureAsync(O)),void 0,T),texture:w});return this.setTextureData(O.tensor.dataId,O,o.isPacked),O}getTextureData(o,h=!1){return this.session.isInitializer(o)?this.session.getTextureData(o,h):h?this.packedTextureDataCache.get(o):this.unpackedTextureDataCache.get(o)}setTextureData(o,h,w=!1){this.session.isInitializer(o)?this.session.setTextureData(o,h,w):(w?this.packedTextureDataCache:this.unpackedTextureDataCache).set(o,h)}isTextureLayoutCached(o,h=!1){return!!this.getTextureData(o.dataId,h)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((o=>this.session.textureManager.releaseTexture(o))),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((o=>this.session.textureManager.releaseTexture(o))),this.unpackedTextureDataCache=new Map}readTexture(o){return o.isPacked?this.readTexture(this.unpack(o)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(o,o.tensor.type,o.channels):this.session.textureManager.readUint8TextureAsFloat((0,_.encodeAsUint8)(this,o))}async readTextureAsync(o){return o.isPacked?this.readTextureAsync(this.unpack(o)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(o,o.tensor.type,o.channels):this.session.textureManager.readUint8TextureAsFloat((0,_.encodeAsUint8)(this,o))}pack(o){return this.executeProgram((0,f.createPackProgramInfoLoader)(this,o.tensor),[o.tensor])}unpack(o){return this.executeProgram((0,v.createUnpackProgramInfoLoader)(this,o.tensor),[o.tensor])}}},1640:function(t,e,n){var i=this&&this.__createBinding||(Object.create?function(ie,Ee,Z,ue){ue===void 0&&(ue=Z);var Ae=Object.getOwnPropertyDescriptor(Ee,Z);Ae&&!("get"in Ae?!Ee.__esModule:Ae.writable||Ae.configurable)||(Ae={enumerable:!0,get:function(){return Ee[Z]}}),Object.defineProperty(ie,ue,Ae)}:function(ie,Ee,Z,ue){ue===void 0&&(ue=Z),ie[ue]=Ee[Z]}),l=this&&this.__setModuleDefault||(Object.create?function(ie,Ee){Object.defineProperty(ie,"default",{enumerable:!0,value:Ee})}:function(ie,Ee){ie.default=Ee}),d=this&&this.__importStar||function(ie){if(ie&&ie.__esModule)return ie;var Ee={};if(ie!=null)for(var Z in ie)Z!=="default"&&Object.prototype.hasOwnProperty.call(ie,Z)&&i(Ee,ie,Z);return l(Ee,ie),Ee};Object.defineProperty(e,"__esModule",{value:!0}),e.WEBGL_OP_RESOLVE_RULES=void 0;const f=n(2898),b=d(n(7839)),_=n(4196),v=n(2069),m=n(8138),u=n(9663),o=n(5193),h=n(7992),w=n(1253),E=n(4776),T=n(6572),O=n(3346),M=n(5623),I=n(2870),R=n(2143),D=n(4939),N=n(718),L=n(2268),B=n(8117),$=n(2278),V=n(5524),G=n(5975),X=n(3933),ee=n(6558),Q=n(5723),Y=n(3738),U=d(n(4909)),q=n(8428),le=n(9793);e.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",U.abs],["Acos","","7+",U.acos],["Add","","7+",b.add],["And","","7+",b.and],["Asin","","7+",U.asin],["Atan","","7+",U.atan],["AveragePool","","7+",R.averagePool,R.parseAveragePoolAttributes],["BatchNormalization","","7+",f.batchNormalization,f.parseBatchNormalizationAttributes],["Cast","","6+",_.cast,_.parseCastAttributes],["Ceil","","6+",U.ceil],["Clip","","6-10",U.clip,U.parseClipAttributes],["Clip","","11+",U.clipV11],["Concat","","4+",v.concat,v.parseConcatAttributes],["Conv","","1+",m.conv,m.parseConvAttributes],["ConvTranspose","","1+",u.convTranspose,u.parseConvTransposeAttributes],["Cos","","7+",U.cos],["Div","","7+",b.div],["Dropout","","7+",U.identity],["DepthToSpace","","1+",o.depthToSpace,o.parseDepthToSpaceAttributes],["Equal","","7+",b.equal],["Elu","","6+",U.elu,U.parseEluAttributes],["Exp","","6+",U.exp],["Flatten","","1+",h.flatten,h.parseFlattenAttributes],["Floor","","6+",U.floor],["FusedConv","com.microsoft","1+",m.conv,m.parseConvAttributes],["Gather","","1+",w.gather,w.parseGatherAttributes],["Gemm","","7-10",E.gemm,E.parseGemmAttributesV7],["Gemm","","11+",E.gemm,E.parseGemmAttributesV11],["GlobalAveragePool","","1+",R.globalAveragePool,R.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",R.globalMaxPool],["Greater","","7+",b.greater],["Identity","","1+",U.identity],["ImageScaler","","1+",T.imageScaler,T.parseImageScalerAttributes],["InstanceNormalization","","6+",O.instanceNormalization,O.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",U.leakyRelu,U.parseLeakyReluAttributes],["Less","","7+",b.less],["Log","","6+",U.log],["MatMul","","1+",M.matMul,M.parseMatMulAttributes],["MaxPool","","1+",R.maxPool,R.parseMaxPoolAttributes],["Mul","","7+",b.mul],["Neg","","6+",U.neg],["Not","","1+",U.not],["Or","","7+",b.or],["Pad","","2-10",I.padV2,I.parsePadAttributesV2],["Pad","","11+",I.padV11,I.parsePadAttributesV11],["Pow","","7+",b.pow],["PRelu","","7+",b.pRelu],["ReduceLogSum","","1+",D.reduceLogSum,D.parseReduceAttributes],["ReduceMax","","1+",D.reduceMax,D.parseReduceAttributes],["ReduceMean","","1+",D.reduceMean,D.parseReduceAttributes],["ReduceMin","","1+",D.reduceMin,D.parseReduceAttributes],["ReduceProd","","1+",D.reduceProd,D.parseReduceAttributes],["ReduceSum","","1-12",D.reduceSum,D.parseReduceAttributes],["ReduceSumSquare","","1+",D.reduceLogSumSquare,D.parseReduceAttributes],["Relu","","6+",U.relu],["Reshape","","5+",N.reshape],["Resize","","10",L.resize,L.parseResizeAttributesV10],["Resize","","11+",L.resize,L.parseResizeAttributesV11],["Shape","","1+",B.shape],["Sigmoid","","6+",U.sigmoid],["Sin","","7+",U.sin],["Slice","","10+",$.sliceV10],["Slice","","1-9",$.slice,$.parseSliceAttributes],["Softmax","","1-12",V.softmax,V.parseSoftmaxAttributes],["Softmax","","13+",V.softmaxV13,V.parseSoftmaxAttributesV13],["Split","","2-12",G.split,G.parseSplitAttributes],["Sqrt","","6+",U.sqrt],["Squeeze","","1-12",X.squeeze,X.parseSqueezeAttributes],["Squeeze","","13+",X.squeezeV13],["Sub","","7+",b.sub],["Sum","","6+",ee.sum],["Tan","","7+",U.tan],["Tanh","","6+",U.tanh],["Tile","","6+",Q.tile],["Transpose","","1+",Y.transpose,Y.parseTransposeAttributes],["Upsample","","7-8",le.upsample,le.parseUpsampleAttributesV7],["Upsample","","9",le.upsample,le.parseUpsampleAttributesV9],["Unsqueeze","","1-12",q.unsqueeze,q.parseUnsqueezeAttributes],["Unsqueeze","","13+",q.unsqueezeV13],["Xor","","7+",b.xor]]},2898:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseBatchNormalizationAttributes=e.batchNormalization=void 0;const i=n(246),l=n(5060),d=n(2039),f={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]};e.batchNormalization=(v,m,u)=>(_(m),[v.run(Object.assign(Object.assign({},f),{cacheHint:u.cacheKey,get:()=>b(v,m,u)}),m)]),e.parseBatchNormalizationAttributes=v=>{const m=v.attributes.getFloat("epsilon",1e-5),u=v.attributes.getFloat("momentum",.9),o=v.attributes.getInt("spatial",1);return(0,i.createAttributeWithCacheKey)({epsilon:m,momentum:u,spatial:o})};const b=(v,m,u)=>{const o=(0,l.getGlsl)(v.session.backend.glContext.version),h=m[0].dims.length,[w,E]=v.calculateTextureWidthAndHeight(m[1].dims,d.TextureType.unpacked),T=`
  float process(int[${h}] indices) {
    vec2 position = offsetToCoords(indices[1], ${w}, ${E});
    float scale = getColorAsFloat(${o.texture2D}(Scale, position));
    float mean = getColorAsFloat(${o.texture2D}(Mean, position));
    float variance = getColorAsFloat(${o.texture2D}(Variance, position));
    float b = getColorAsFloat(${o.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${u.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},f),{output:{dims:m[0].dims,type:m[0].type,textureType:d.TextureType.unpacked},shaderSource:T})},_=v=>{if(!v||v.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const m=v[0],u=v[1],o=v[2],h=v[3],w=v[4];if(m.dims.length<3||u.dims.length!==1||o.dims.length!==1||h.dims.length!==1||w.dims.length!==1)throw new Error("invalid input shape.");if(u.dims[0]!==m.dims[1]||o.dims[0]!==m.dims[1]||h.dims[0]!==m.dims[1]||w.dims[0]!==m.dims[1])throw new Error("invalid input shape.");if(m.type!=="float32"&&m.type!=="float64"||u.type!=="float32"&&u.type!=="float64"||o.type!=="float32"&&o.type!=="float64"||h.type!=="float32"&&h.type!=="float64"||w.type!=="float32"&&w.type!=="float64")throw new Error("invalid input tensor types.")}},7839:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.xor=e.sub=e.pRelu=e.pow=e.or=e.mul=e.less=e.greater=e.equal=e.div=e.and=e.add=e.glslPRelu=e.glslPow=e.glslXor=e.glslOr=e.glslAnd=e.glslLess=e.glslGreater=e.glslEqual=e.glslSub=e.glslMul=e.glslDiv=e.glslAdd=void 0;const i=n(2517),l=n(8520),d=n(5060),f=n(2039);function b(){const D="add_";return{body:`
  float ${D}(float a, float b) {
    return a + b;
  }
  vec4 ${D}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:D,type:l.FunctionType.ValueBased}}function _(){const D="div_";return{body:`
  float ${D}(float a, float b) {
    return a / b;
  }
  vec4 ${D}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:D,type:l.FunctionType.ValueBased}}function v(){const D="mul_";return{body:`
  float ${D}(float a, float b) {
    return a * b;
  }
  vec4 ${D}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:D,type:l.FunctionType.ValueBased}}function m(){const D="sub_";return{body:`
  float ${D}(float a, float b) {
    return a - b;
  }
  vec4 ${D}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:D,type:l.FunctionType.ValueBased}}function u(){const D="equal_";return{body:`
  float ${D}(float a, float b) {
    return float(a == b);
  }
  vec4 ${D}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:D,type:l.FunctionType.ValueBased}}function o(){const D="greater_";return{body:`
  float ${D}(float a, float b) {
    return float(a > b);
  }
  vec4 ${D}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:D,type:l.FunctionType.ValueBased}}function h(){const D="less_";return{body:`
  float ${D}(float a, float b) {
    return float(a < b);
  }
  vec4 ${D}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:D,type:l.FunctionType.ValueBased}}function w(){const D="and_";return{body:`
  float ${D}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${D}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:D,type:l.FunctionType.ValueBased}}function E(){return{body:`
  float or_(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 or_(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:"or_",type:l.FunctionType.ValueBased}}function T(){const D="xor_";return{body:`
  float ${D}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${D}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:D,type:l.FunctionType.ValueBased}}function O(){return(function(D){const N=`${D}_`;return{body:`
  float ${N}(float a, float b) {
    return ${D}(a, b);
  }
  vec4 ${N}(vec4 v1, vec4 v2) {
    return ${D}(v1, v2);
  }
  `,name:N,type:l.FunctionType.ValueBased}})("pow")}function M(){const D="prelu_";return{body:`
  float ${D}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${D}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:D,type:l.FunctionType.ValueBased}}e.glslAdd=b,e.glslDiv=_,e.glslMul=v,e.glslSub=m,e.glslEqual=u,e.glslGreater=o,e.glslLess=h,e.glslAnd=w,e.glslOr=E,e.glslXor=T,e.glslPow=O,e.glslPRelu=M;const I=(D,N,L,B=N[0].type,$)=>{const V=D.session.pack?f.TextureType.packed:f.TextureType.unpacked;return{name:L.name,inputNames:["A","B"],inputTypes:[V,V],cacheHint:$,get:()=>R(D,N,L,B)}},R=(D,N,L,B=N[0].type)=>{const $=D.session.pack?f.TextureType.packed:f.TextureType.unpacked,V=!i.ShapeUtil.areEqual(N[0].dims,N[1].dims);let G=N[0].dims;const X=D.session.pack;if(V){const Y=i.BroadcastUtil.calcShape(N[0].dims,N[1].dims,!1);if(!Y)throw new Error("Can't perform binary op on the given tensors");G=Y;const U=G.length,q=N[0].dims.length!==0?N[0].dims.length:1,le=N[1].dims.length!==0?N[1].dims.length:1,ie=N[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",Ee=N[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",Z=(0,d.getGlsl)(D.session.backend.glContext.version),ue=X?`
      ${L.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${L.name}(a, b);
        ${Z.output} = result;
      }`:`
      ${L.body}
      float process(int indices[${U}]) {
        int aindices[${q}];
        int bindices[${le}];
        ${ie}
        ${Ee}
        return ${L.name}(_A(aindices), _B(bindices));
      }`;return{name:L.name,inputNames:["A","B"],inputTypes:[$,$],output:{dims:G,type:B,textureType:$},shaderSource:ue,hasMain:X}}const ee=(0,d.getGlsl)(D.session.backend.glContext.version),Q=`
    ${L.body}
    void main() {
      vec4 v1 = ${ee.texture2D}(A, TexCoords);
      vec4 v2 = ${ee.texture2D}(B, TexCoords);
      vec4 result = ${L.name}(v1, v2);
      ${ee.output} = result;
    }
    `;return{name:L.name,inputNames:["A","B"],inputTypes:[$,$],output:{dims:N[0].dims,type:B,textureType:$},shaderSource:Q,hasMain:!0}};e.add=(D,N)=>[D.run(I(D,N,b()),N)],e.and=(D,N)=>[D.run(I(D,N,w(),"bool"),N)],e.div=(D,N)=>[D.run(I(D,N,_()),N)],e.equal=(D,N)=>[D.run(I(D,N,u(),"bool"),N)],e.greater=(D,N)=>[D.run(I(D,N,o(),"bool"),N)],e.less=(D,N)=>[D.run(I(D,N,h(),"bool"),N)],e.mul=(D,N)=>[D.run(I(D,N,v()),N)],e.or=(D,N)=>[D.run(I(D,N,E(),"bool"),N)],e.pow=(D,N)=>[D.run(I(D,N,O()),N)],e.pRelu=(D,N)=>[D.run(I(D,N,M()),N)],e.sub=(D,N)=>[D.run(I(D,N,m()),N)],e.xor=(D,N)=>[D.run(I(D,N,T(),"bool"),N)]},4196:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseCastAttributes=e.cast=void 0;const i=n(2517);e.cast=(d,f,b)=>(l(f),[d.cast(f[0],b)]),e.parseCastAttributes=d=>i.ProtoUtil.tensorDataTypeFromProto(d.attributes.getInt("to"));const l=d=>{if(!d||d.length!==1)throw new Error("Cast requires 1 input.");if(d[0].type==="string")throw new Error("Invalid input type.")}},1163:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createPackedConcatProgramInfoLoader=void 0;const i=n(5060),l=n(2039),d=n(9390),f=n(2827);e.createPackedConcatProgramInfoLoader=(_,v,m)=>{const u=(o=v.length,h=m.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:o},((w,E)=>`X${E}`)),inputTypes:Array(o).fill(l.TextureType.packed),cacheHint:h});var o,h;return Object.assign(Object.assign({},u),{get:()=>((w,E,T,O)=>{const M=T[0].dims.slice();if(O>=M.length||O<-1*M.length)throw new Error("axis specified for concat doesn't match input dimensionality");O<0&&(O=M.length+O);const I=M.slice(0);for(let ie=1;ie<T.length;ie++){const Ee=T[ie].dims.slice();for(let Z=0;Z<M.length;Z++)if(Z===O)I[O]+=Ee[Z];else if(M[Z]!==Ee[Z])throw new Error("non concat dimensions must match")}const R=I.length,D=(0,f.getChannels)("coords",R),N=(0,d.getCoordsDataType)(R),L=(0,f.unpackFromChannel)(),B=T.map((ie=>ie.dims)),$=(0,d.getGlChannels)(R),V=new Array(B.length-1);V[0]=B[0][O];for(let ie=1;ie<V.length;ie++)V[ie]=V[ie-1]+B[ie][O];const G=$[O],X=$.slice(-2),ee=$.join();let Q=`if (${G} < ${V[0]}) {
        return getChannel(
            getX0(${ee}), vec2(${X.join()}));
        }`;for(let ie=1;ie<V.length;ie++){const Ee=V[ie-1];Q+=`
            if (${G} < ${V[ie]}  && ${G} >= ${V[ie-1]}) {
              return getChannel(
                getX${ie}(${b($,G,Ee)}),
                vec2(${b(X,G,Ee)}));
            }`}const Y=V.length,U=V[V.length-1];Q+=`
            return getChannel(
              getX${Y}(${b($,G,U)}),
              vec2(${b(X,G,U)}));`;const q=(0,i.getGlsl)(w.session.backend.glContext.version),le=`
          ${L}
          float getValue(${$.map((ie=>"int "+ie))}) {
            ${Q}
          }

          void main() {
            ${N} coords = getOutputCoords();
            int lastDim = coords.${$[R-1]};
            coords.${$[R-1]} = coords.${$[R-2]};
            coords.${$[R-2]} = lastDim;

            vec4 result = vec4(getValue(${D}), 0., 0., 0.);

            ${D[R-1]} = ${D[R-1]} + 1;
            if (${D[R-1]} < ${I[R-1]}) {
              result.g = getValue(${D});
            }

            ${D[R-2]} = ${D[R-2]} + 1;
            if (${D[R-2]} < ${I[R-2]}) {
              result.a = getValue(${D});
            }

            ${D[R-1]} = ${D[R-1]} - 1;
            if (${D[R-2]} < ${I[R-2]} &&
                ${D[R-1]} < ${I[R-1]}) {
              result.b = getValue(${D});
            }
            ${q.output} = result;
          }
        `;return Object.assign(Object.assign({},E),{output:{dims:I,type:T[0].type,textureType:l.TextureType.packed},shaderSource:le,hasMain:!0})})(_,u,v,m.axis)})};const b=(_,v,m)=>{const u=_.indexOf(v);return _.map(((o,h)=>h===u?`${o} - ${m}`:o)).join()}},2069:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseConcatAttributes=e.concat=void 0;const i=n(246),l=n(2039),d=n(1163);e.concat=(o,h,w)=>(u(h),o.session.pack&&h[0].dims.length>1?[o.run((0,d.createPackedConcatProgramInfoLoader)(o,h,w),h)]:[o.run(f(o,h,w),h)]);const f=(o,h,w)=>{const E=(T=h.length,O=w.cacheKey,{name:"Concat",inputNames:Array.from({length:T},((M,I)=>`X${I}`)),inputTypes:Array(T).fill(l.TextureType.unpacked),cacheHint:O});var T,O;return Object.assign(Object.assign({},E),{get:()=>((M,I,R,D)=>{const N=R[0].dims.slice();if(D>=N.length||D<-1*N.length)throw new Error("axis specified for concat doesn't match input dimensionality");D<0&&(D=N.length+D);const L=N.slice(0);for(let ee=1;ee<R.length;ee++){const Q=R[ee].dims.slice();for(let Y=0;Y<N.length;Y++)if(Y===D)L[D]+=Q[Y];else if(N[Y]!==Q[Y])throw new Error("non concat dimensions must match")}const B=L.length,$=new Array(R.length);let V=0;for(let ee=0;ee<$.length;++ee)V+=R[ee].dims[D],$[ee]=V;let G="";G=R.length<5?b($):_($);const X=`
        ${v(R.length,B)}
        ${m($)}
        ${G}
        float process(int indices[${B}]) {
          int textureIndex = getTextureWhereDataResides (indices[${D}]);

          if(textureIndex != 0) {
            indices[${D}] = indices[${D}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},I),{output:{dims:L,type:R[0].type,textureType:l.TextureType.unpacked},shaderSource:X})})(0,E,h,w.axis)})},b=o=>`int getTextureWhereDataResides(int index) {
      ${o.map(((h,w)=>`if(index<${h}) {return ${w};}
`)).join("")}
    }`,_=o=>b(o),v=(o,h)=>{const w=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${h}]) {`];for(let E=0;E<o;++E)E===0?w.push(`	if (textureIndex == ${E}) { return _X${E}(indices); }`):E===o-1?w.push(`	else { return _X${E}(indices); }`):w.push(`	else if (textureIndex == ${E}) { return _X${E}(indices); }`);return w.push("	}"),w.join(`
`)},m=o=>{const h=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let w=0;w<o.length;++w)w===0?h.push(`	if (index == ${w}) { return ${o[w]}; }`):w===o.length-1?h.push(`	else { return ${o[w]}; }`):h.push(`	else if (index == ${w}) { return ${o[w]}; }`);return h.push("	}"),h.join(`
`)};e.parseConcatAttributes=o=>(0,i.createAttributeWithCacheKey)({axis:o.attributes.getInt("axis")});const u=o=>{if(!o||o.length<1)throw new Error("too few inputs");const h=o[0].type,w=o[0].dims.length;if(h==="string")throw new Error("string tensor is not supported yet");for(const E of o){if(E.type!==h)throw new Error("input tensors should be one type");if(E.dims.length!==w)throw new Error("input tensors should have the same shape")}}},4770:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createUnpackedGroupedConvProgramInfoLoader=void 0;const i=n(6231),l=n(5060),d=n(2039),f=n(8138),b=n(2823);e.createUnpackedGroupedConvProgramInfoLoader=(_,v,m)=>{const u=(o=v.length>2,h=m.cacheKey,{name:"GroupedConv",inputNames:o?["X","W","Bias"]:["X","W"],inputTypes:o?[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.unpacked],cacheHint:h});var o,h;return Object.assign(Object.assign({},u),{get:()=>((w,E,T,O)=>{const M=E.length>2?"value += getBias(output_channel);":"",I=E[0].dims.slice(),R=E[1].dims.slice(),D=R[0]/O.group;i.Logger.verbose("GroupedConv",`autpPad:${O.autoPad}, dilations:${O.dilations}, group:${O.group}, kernelShape:${O.kernelShape}, pads:${O.pads}, strides:${O.strides}`);const N=(0,f.calculateOutputShape)(I,R,O.dilations,O.pads,O.strides),L=(0,l.getGlsl)(w.session.backend.glContext.version),{activationFunction:B,applyActivation:$}=(0,b.getActivationSnippet)(O),V=`
  const ivec2 strides = ivec2(${O.strides[0]}, ${O.strides[1]});
  const ivec2 pads = ivec2(${O.pads[0]}, ${O.pads[1]});
  ${B}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${D};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${R[1]}; wInChannel++) {
      int input_channel = group_id * ${R[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${R[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${O.dilations[0]};

        if (xHeight < 0 || xHeight >= ${I[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${R[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${O.dilations[1]};
          if (xWidth < 0 || xWidth >= ${I[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${M}
    ${$}
    ${L.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},T),{output:{dims:N,type:E[0].type,textureType:d.TextureType.unpacked},shaderSource:V,hasMain:!0})})(_,v,u,m)})}},1386:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.conv2DPacked=e.conv2DPackedPointwise=void 0;const i=n(8138),l=n(8555),d=n(708);e.conv2DPackedPointwise=(f,b,_)=>{const v=b[0].dims,m=b[1].dims,u=(0,i.calculateOutputShape)(v,m,_.dilations,_.pads,_.strides),o=f.reshapePacked(b[0],[v[1],v[2]*v[3]]),h=f.reshapePacked(b[1],[m[0],m[1]]),w=b.length>2?[h,o,b[2]]:[h,o],E=f.run((0,d.createPackedMatmulProgramInfoLoader)(f,w,_),w);return f.reshapePacked(E,u)},e.conv2DPacked=(f,b,_)=>{const v=b[0].dims,m=b[1].dims,u=(0,i.calculateOutputShape)(v,m,_.dilations,_.pads,_.strides),o=f.run((0,l.createPackedIm2ColProgramInfoLoader)(f,b[0],b[1],u,_),[b[0]]),h=f.reshapePacked(b[1],[m[0],m[1]*m[2]*m[3]]),w=b.length===3?[h,o,b[2]]:[h,o],E=f.run((0,d.createPackedMatmulProgramInfoLoader)(f,w,_),w);return f.reshapePacked(E,u)}},9663:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseConvTransposeAttributes=e.convTranspose=void 0;const i=n(246),l=n(5060),d=n(2039),f=n(2823),b=(h,w,E,T,O,M)=>(h-1)*w+E+(T-1)*O+1-M,_=(h,w,E,T,O)=>{const M=Math.floor(h/2);w==="SAME_UPPER"?(E[T]=M,E[O]=h-M):w==="SAME_LOWER"&&(E[T]=h-M,E[O]=M)};e.convTranspose=(h,w,E)=>(o(w,E),v(h,w,E));const v=(h,w,E)=>{const T=u(E,w);return[m(h,w,T)]},m=(h,w,E)=>h.run(((T,O,M)=>{const I=(R=O.length>2,D=M.cacheKey,{name:"ConvTranspose",inputNames:R?["X","W","B"]:["X","W"],inputTypes:R?[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.unpacked],cacheHint:D});var R,D;return Object.assign(Object.assign({},I),{get:()=>((N,L,B,$)=>{const V=L.length>2?"getB(output_channel)":"0.0",G=L[0].dims,X=L[1].dims,ee=X[1],Q=X[0]/$.group,Y=[L[0].dims[0],L[1].dims[1]*$.group,...$.outputShape],U=(0,l.getGlsl)(N.session.backend.glContext.version),{activationFunction:q,applyActivation:le}=(0,f.getActivationSnippet)($),ie=`
  const ivec2 strides = ivec2(${$.strides[0]}, ${$.strides[1]});
  const ivec2 pads = ivec2(${$.pads[0]}, ${$.pads[1]});
  ${q}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${ee};
    int wOutChannel = output_channel - group_id * ${ee};

    float value = ${V};
    for (int inChannelOffset = 0; inChannelOffset < ${Q}; inChannelOffset++) {
      int input_channel = group_id * ${Q} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${X[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${X[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${$.dilations[0]}, wHOff * ${$.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${G[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${G[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${le}
    ${U.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},B),{output:{dims:Y,type:L[0].type,textureType:d.TextureType.unpacked},shaderSource:ie,hasMain:!0})})(T,O,I,M)})})(h,w,E),w),u=(h,w)=>{const E=h.kernelShape.slice();if(h.kernelShape.length===0)for(let I=2;I<w[1].dims.length;++I)E.push(w[1].dims[I]);const T=h.pads.slice(),O=h.outputShape.slice();((I,R,D,N,L,B,$,V)=>{const G=I.length-2,X=V.length===0;for(let ee=0;ee<G;++ee){const Q=X?I[ee+2]*B[ee]:V[ee],Y=b(I[ee+2],B[ee],L[ee],R[ee],D[ee],Q);_(Y,N,L,ee,ee+G),X&&V.push(B[ee]*(I[ee+2]-1)+$[ee]+(R[ee]-1)*D[ee]+1-L[ee]-L[ee+G])}})(w[0].dims,E,h.dilations,h.autoPad,T,h.strides,h.outputPadding,O);const M=Object.assign({},h);return Object.assign(M,{kernelShape:E,pads:T,outputShape:O,cacheKey:h.cacheKey}),M};e.parseConvTransposeAttributes=h=>{const w=h.attributes,E=(0,f.parseInternalActivationAttributes)(w),T=w.getString("auto_pad","NOTSET"),O=w.getInts("dilations",[1,1]),M=w.getInt("group",1),I=w.getInts("kernel_shape",[]),R=w.getInts("output_padding",[0,0]),D=w.getInts("output_shape",[]),N=w.getInts("pads",[0,0,0,0]),L=w.getInts("strides",[1,1]);return(0,i.createAttributeWithCacheKey)(Object.assign({autoPad:T,dilations:O,group:M,kernelShape:I,outputPadding:R,outputShape:D,pads:N,strides:L},E))};const o=(h,w)=>{if(!h||h.length!==2&&h.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(h[0].dims.length!==4||h[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(h[0].dims[1]!==h[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const E=h[1].dims[1]*w.group;if(h.length===3&&(h[2].dims.length!==1||h[2].dims[0]!==E))throw new Error("invalid bias");const T=h[0].dims.length-2;if(w.dilations.length!==T)throw new Error(`dilations should be ${T}D`);if(w.strides.length!==T)throw new Error(`strides should be ${T}D`);if(w.pads.length!==2*T)throw new Error(`pads should be ${2*T}D`);if(w.outputPadding.length!==T)throw new Error(`output_padding should be ${T}D`);if(w.kernelShape.length!==0&&w.kernelShape.length!==h[1].dims.length-2)throw new Error("invalid kernel shape");if(w.outputShape.length!==0&&w.outputShape.length!==h[0].dims.length-2)throw new Error("invalid output shape");if(h[0].type!=="float32"||h[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(h.length===3&&h[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},8138:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseConvAttributes=e.conv=e.calculateOutputShape=void 0;const i=n(246),l=n(2517),d=n(4770),f=n(1386),b=n(9828),_=n(2823),v=n(3248),m=n(5623);e.calculateOutputShape=(T,O,M,I,R)=>{const D=T[0],N=T.slice(2),L=N.length,B=O[0],$=O.slice(2).map(((G,X)=>G+(G-1)*(M[X]-1))),V=N.map(((G,X)=>G+I[X]+I[X+L])).map(((G,X)=>Math.floor((G-$[X]+R[X])/R[X])));return[D,B].concat(...V)},e.conv=(T,O,M)=>(E(O,M),u(T,O,M));const u=(T,O,M)=>{const I=w(M,O),R=T.session.pack,D=I.kernelShape[0]===1&&I.kernelShape[1]===1;return I.group>1?[T.run((0,d.createUnpackedGroupedConvProgramInfoLoader)(T,O,I),O)]:D&&R?[o(T,O,I)]:R&&O[0].dims.length===4&&O[0].dims[0]===1&&!D?[(0,f.conv2DPacked)(T,O,I)]:[h(T,O,I)]},o=(T,O,M)=>{const I=O[0].dims,R=O[1].dims,D=(0,e.calculateOutputShape)(I,R,M.dilations,M.pads,M.strides),N=T.reshapeUnpacked(O[0],[I[1],I[2]*I[3]]),L=T.reshapeUnpacked(O[1],[R[0],R[1]]),B=O.length>2?[L,N,O[2]]:[L,N],$=T.run((0,m.createMatmulProgramInfoLoader)(B,M),B);return T.reshapeUnpacked($,D)},h=(T,O,M)=>{const I=O[0].dims,R=O[1].dims,D=(0,e.calculateOutputShape)(I,R,M.dilations,M.pads,M.strides),N=T.run((0,v.createIm2ColProgramInfoLoader)(T,O[0],O[1],D,M),[O[0]]),L=O.length===3?[N,O[1],O[2]]:[N,O[1]];return T.run((0,b.createDotProductProgramInfoLoader)(T,O,D,M),L)},w=(T,O)=>{const M=T.kernelShape.slice();if(T.kernelShape.length===0)for(let D=2;D<O[1].dims.length;++D)M.push(O[1].dims[D]);const I=T.pads.slice();l.PoolConvUtil.adjustPadsBasedOnAutoPad(O[0].dims,T.strides,T.dilations,M,I,T.autoPad);const R=Object.assign({},T);return Object.assign(R,{kernelShape:M,pads:I,cacheKey:T.cacheKey}),R};e.parseConvAttributes=T=>{const O=T.attributes,M=(0,_.parseInternalActivationAttributes)(O),I=O.getString("auto_pad","NOTSET"),R=O.getInts("dilations",[1,1]),D=O.getInt("group",1),N=O.getInts("kernel_shape",[]),L=O.getInts("pads",[0,0,0,0]),B=O.getInts("strides",[1,1]);return(0,i.createAttributeWithCacheKey)(Object.assign({autoPad:I,dilations:R,group:D,kernelShape:N,pads:L,strides:B},M))};const E=(T,O)=>{if(!T||T.length!==2&&T.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(T[0].dims.length!==4||T[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(T[0].dims[1]!==T[1].dims[1]*O.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(T.length===3&&(T[2].dims.length!==1||T[1].dims[0]!==T[2].dims[0]))throw new Error("invalid bias");const M=T[0].dims.length-2;if(O.dilations.length!==M)throw new Error(`dilations should be ${M}D`);if(O.strides.length!==M)throw new Error(`strides should be ${M}D`);if(O.pads.length!==2*M)throw new Error(`pads should be ${2*M}D`);if(O.kernelShape.length!==0&&O.kernelShape.length!==T[1].dims.length-2)throw new Error("invalid kernel shape");if(T[0].type!=="float32"||T[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(T.length===3&&T[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},5193:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseDepthToSpaceAttributes=e.depthToSpace=void 0;const i=n(3738);e.depthToSpace=(d,f,b)=>{l(f);const _=b.blocksize,v=_*_,m=b.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],u=b.mode==="DCR"?[f[0].dims[0],_,_,f[0].dims[1]/v,f[0].dims[2],f[0].dims[3]]:[f[0].dims[0],f[0].dims[1]/v,_,_,f[0].dims[2],f[0].dims[3]],o=d.reshapeUnpacked(f[0],u),h={perm:m,cacheKey:`${m}`},[w]=(0,i.transpose)(d,[o],h),E=[f[0].dims[0],f[0].dims[1]/v,f[0].dims[2]*_,f[0].dims[3]*_];return[d.reshapeUnpacked(w,E)]},e.parseDepthToSpaceAttributes=d=>{const f=d.attributes.getInt("blocksize");if(f<1)throw new Error(`blocksize must be >= 1, but got : ${f} for DepthToSpace`);const b=d.attributes.getString("mode","DCR");if(b!=="DCR"&&b!=="CRD")throw new Error(`unrecognized mode: ${b} for DepthToSpace`);return{mode:b,blocksize:f}};const l=d=>{if(d.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${d.length}`);if(d[0].type==="string"||d[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createDotProductProgramInfoLoader=void 0;const i=n(2517),l=n(5060),d=n(2039),f=n(2823),b=n(3248);e.createDotProductProgramInfoLoader=(_,v,m,u)=>{const o=((h,w)=>({name:"ConvDotProduct",inputNames:h?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:h?[d.TextureType.unpacked,d.TextureType.packedLastDimension,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.packedLastDimension],cacheKey:w.activationCacheKey}))(v.length>2,u);return Object.assign(Object.assign({},o),{get:()=>((h,w,E,T,O)=>{const M=E[0].dims,I=E[1].dims,R=[I[0],Math.ceil(M[1]*I[2]*I[3]/4)],D=(0,b.calculateIm2ColDims)(M,I,T),[N,L]=h.calculateTextureWidthAndHeight(R,d.TextureType.packedLastDimension),B=i.ShapeUtil.computeStrides(D),[$,V]=h.calculateTextureWidthAndHeight(D,d.TextureType.packedLastDimension),G=T.length,X=E.length<3?"0.0":"_B(b)",ee=Math.ceil(M[1]*I[2]*I[3]/4),{activationFunction:Q,applyActivation:Y}=(0,f.getActivationSnippet)(O),U=(0,l.getGlsl)(h.session.backend.glContext.version),q=`
${Q}
float process(int indices[${G}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${B[0]} + im2col[1] * ${B[1]} + im2col[2] * ${B[2]};
  int kernelOffset = indices[1] * ${R[1]};
  float value = ${X};
  for (int i = 0; i < ${ee}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${$}, ${V});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${N}, ${L});
    value += dot(${U.texture2D}(Im2Col, im2colCoords), ${U.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${Y}
  return value;
}`;return Object.assign(Object.assign({},w),{output:{dims:T,type:E[0].type,textureType:d.TextureType.unpacked},shaderSource:q})})(_,o,v,m,u)})}},7992:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseFlattenAttributes=e.flatten=void 0;const i=n(2517);e.flatten=(d,f,b)=>{l(f,b);const _=i.ShapeUtil.flattenShape(f[0].dims,b);return[d.reshapeUnpacked(f[0],_)]},e.parseFlattenAttributes=d=>d.attributes.getInt("axis",1);const l=(d,f)=>{if(!d||d.length!==1)throw new Error("Flatten requires 1 input.");const b=d[0].dims.length;if(b===0)throw new Error("scalar tensor is not supported.");if(f<-b||f>b)throw new Error("Invalid axis");if(d[0].type==="string")throw new Error("string tensor is not supported.")}},2823:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseInternalActivationAttributes=e.getActivationSnippet=void 0;const i=n(2517),l=n(4909);e.getActivationSnippet=function(d){let f;switch(d.activation){case"Relu":f=(0,l.glslRelu)();break;case"Sigmoid":f=(0,l.glslSigmoid)();break;case"Clip":f=(0,l.glslClip)(d.clipMin,d.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const b=f.name;return{activationFunction:f.body,applyActivation:`value = ${b}_(value);`}},e.parseInternalActivationAttributes=d=>{const f=d.getString("activation","");if(f==="Clip"){const[b,_]=d.getFloats("activation_params",[i.MIN_CLIP,i.MAX_CLIP]);return{activation:f,clipMax:_,clipMin:b,activationCacheKey:`${f}:${b},${_}`}}return{activation:f,activationCacheKey:f}}},1253:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseGatherAttributes=e.gather=void 0;const i=n(246),l=n(782),d=n(2517),f=n(2039);e.gather=(m,u,o)=>(v(u,o.axis),[m.run(_(m,u,o),u)]),e.parseGatherAttributes=m=>(0,i.createAttributeWithCacheKey)({axis:m.attributes.getInt("axis",0)});const b={name:"Gather",inputNames:["A","B"],inputTypes:[f.TextureType.unpacked,f.TextureType.unpacked]},_=(m,u,o)=>{const h=Object.assign(Object.assign({},b),{cacheHint:o.cacheKey});return Object.assign(Object.assign({},h),{get:()=>((w,E,T,O)=>{const M=T[0].dims.slice(),I=T[1].dims.slice(),R=new Array(M.length+I.length-1);O=d.ShapeUtil.normalizeAxis(O,M.length);const D=[];for(let L=0;L<R.length;L++)L<O?(R[L]=M[L],D.push(`inputIdx[${L}] = outputIdx[${L}];`)):L<O+I.length?(R[L]=I[L-O],D.push(`indexDataIdx[${L-O}] = outputIdx[${L}];`)):(R[L]=M[L-I.length+1],D.push(`inputIdx[${L-I.length+1}] = outputIdx[${L}];`));const N=`
      float process(int outputIdx[${R.length||1}]) {
        int inputIdx[${M.length}];
        int indexDataIdx[${I.length||1}];
        indexDataIdx[0] = 0;
        ${D.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${O}] = idx < 0 ? idx + ${M[O]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},E),{output:{dims:R,type:T[0].type,textureType:f.TextureType.unpacked},shaderSource:N})})(0,h,u,o.axis)})},v=(m,u)=>{if(!m||m.length!==2)throw new Error("Gather requires 2 inputs.");const o=m[0].dims.length;if(o<1)throw new Error("Invalid input shape.");if(u<-o||u>o-1)throw new Error("Invalid axis.");if(l.NUMBER_TYPES.indexOf(m[0].type)===-1)throw new Error("Invaid input type.");if(m[1].type!=="int32"&&m[1].type!=="int16")throw new Error("Invaid input type.")}},4776:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseGemmAttributesV11=e.parseGemmAttributesV7=e.gemm=void 0;const i=n(246),l=n(2517),d=n(2039);e.gemm=(m,u,o)=>(v(u,o),[m.run(b(u,o),u)]);const f=(m,u)=>{const o=m.attributes.getInt("transA",0)!==0,h=m.attributes.getInt("transB",0)!==0,w=m.attributes.getFloat("alpha",1),E=m.attributes.getFloat("beta",1);return(0,i.createAttributeWithCacheKey)({transA:o,transB:h,alpha:w,beta:E,isOptionalC:u})};e.parseGemmAttributesV7=m=>f(m,!1),e.parseGemmAttributesV11=m=>f(m,!0);const b=(m,u)=>{const o={name:"Gemm",inputNames:m.length===3?["A","B","C"]:["A","B"],inputTypes:m.length===3?[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.unpacked],key:u.cacheKey};return Object.assign(Object.assign({},o),{get:()=>_(o,m,u)})},_=(m,u,o)=>{const h=u[0].dims.slice(),w=u[1].dims.slice(),[E,T]=l.GemmUtil.getShapeOfGemmResult(h,o.transA,w,o.transB,u.length===3?u[2].dims:void 0),O=[E,T];if(!O)throw new Error("Can't use gemm on the given tensors");let M=h[h.length-1],I="";o.transA&&(M=h[0]),o.transA&&o.transB?I="value += _A_T(a) * _B_T(b);":o.transA&&!o.transB?I="value += _A_T(a) * _B(b);":!o.transA&&o.transB?I="value += _A(a) * _B_T(b);":o.transA||o.transB||(I="value += _A(a) * _B(b);");const R=O.length,D=`
      float process(int indices[${R}]) {
          int a[${R}];
          int b[${R}];
          ${u.length===3?`int c[${u[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${u.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${M}; ++k) {
              a[${R-1}] = k;
              b[${R-2}] = k;
              ${I}
          }

          value = value * alpha;
          ${u.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},m),{output:{dims:O,type:u[0].type,textureType:d.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:o.alpha},{name:"beta",type:"float",data:o.beta}],shaderSource:D})},v=(m,u)=>{if(!m)throw new Error("Input is missing");if(u.isOptionalC&&(m.length<2||m.length>3))throw new Error("Invaid input shape.");if(!u.isOptionalC&&m.length!==3)throw new Error("Gemm requires 3 inputs");if(m.length===3&&m[2].dims.length!==1&&m[2].dims.length!==2)throw new Error("Invalid input shape of C");if(m[0].type!=="float32"&&m[0].type!=="float64"||m[1].type!=="float32"&&m[1].type!=="float64"||m.length===3&&m[2].type!=="float32"&&m[2].type!=="float64")throw new Error("Invalid input type.");if(m[0].type!==m[1].type||m.length===3&&m[0].type!==m[2].type)throw new Error("Input types are mismatched")}},8555:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createPackedIm2ColProgramInfoLoader=void 0;const i=n(5060),l=n(2039),d=n(2827);e.createPackedIm2ColProgramInfoLoader=(f,b,_,v,m)=>{const u=(o=m.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[l.TextureType.packed],cacheHint:o});var o;return Object.assign(Object.assign({},u),{get:()=>((h,w,E,T,O,M)=>{const I=E.dims,R=T.dims,D=O.length,N=[R[1]*R[2]*R[3],O[2]*O[3]],L=R[2]*R[3],B=(0,d.unpackFromChannel)(),$=(0,i.getGlsl)(h.session.backend.glContext.version);let V="";for(let X=0;X<=1;X++)for(let ee=0;ee<=1;ee++)V+=`
            blockIndex = rc.x + ${ee};
            pos = rc.y + ${X};

            if(blockIndex < ${N[1]} && pos < ${N[0]}) {
              offsetY = int(blockIndex / (${O[D-1]})) * ${M.strides[0]} -
                ${M.pads[0]};
              d0 = offsetY + ${M.dilations[0]} * (imod(pos, ${L}) / ${R[2]});

              if(d0 < ${I[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${O[D-1]}) * ${M.strides[1]} -
                  ${M.pads[1]};
                d1 = offsetX + ${M.dilations[1]} * imod(imod(pos, ${L}), ${R[2]});

                if(d1 < ${I[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${L}.);
                    innerDims = vec2(d0, d1);
                    result[${2*X+ee}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const G=`
      ${B}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${V}
          ${$.output} = result;
      }
            `;return Object.assign(Object.assign({},w),{output:{dims:N,type:E.type,textureType:l.TextureType.packed},shaderSource:G,hasMain:!0})})(f,u,b,_,v,m)})}},3248:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.calculateIm2ColDims=e.createIm2ColProgramInfoLoader=void 0;const i=n(2039);e.createIm2ColProgramInfoLoader=(l,d,f,b,_)=>{const v=(m=_.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[i.TextureType.unpacked],cacheHint:m});var m;return Object.assign(Object.assign({},v),{get:()=>((u,o,h,w,E,T)=>{const O=h.dims,M=w.dims,I=E.length,R=(0,e.calculateIm2ColDims)(O,M,E,4),D=`
        const int XC = ${O[1]};
        const int XH = ${O[2]};
        const int XW = ${O[3]};
        const int KH = ${T.kernelShape[0]};
        const int KW = ${T.kernelShape[1]};
        const int dilationH = ${T.dilations[0]};
        const int dilationW = ${T.dilations[1]};
        const int strideH = ${T.strides[0]};
        const int strideW = ${T.strides[1]};
        const int padH = ${T.pads[0]};
        const int padW = ${T.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${I}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${O.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},o),{output:{dims:R,type:h.type,textureType:i.TextureType.packedLastDimension},shaderSource:D})})(0,v,d,f,b,_)})},e.calculateIm2ColDims=(l,d,f,b=4)=>[f[0],f[2],f[3],Math.ceil(l[1]*d[2]*d[3]/b)]},6572:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseImageScalerAttributes=e.imageScaler=void 0;const i=n(246),l=n(2039);e.imageScaler=(v,m,u)=>(_(m),[v.run(f(v,m,u),m)]),e.parseImageScalerAttributes=v=>{const m=v.attributes.getFloat("scale"),u=v.attributes.getFloats("bias");return(0,i.createAttributeWithCacheKey)({scale:m,bias:u})};const d={name:"ImageScaler",inputNames:["X"],inputTypes:[l.TextureType.unpacked]},f=(v,m,u)=>{const o=Object.assign(Object.assign({},d),{cacheHint:u.cacheKey});return Object.assign(Object.assign({},o),{get:()=>((h,w,E,T)=>{const O=E[0].dims.slice(),M=O.length,I=`
      ${b(T.bias.length)}
      float process(int indices[${M}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},w),{output:{dims:O,type:E[0].type,textureType:l.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:T.bias.length,data:T.bias},{name:"scale",type:"float",data:T.scale}],shaderSource:I})})(0,o,m,u)})},b=v=>{const m=[`float getBias(float bias[${v}], int channel) {`];for(let u=0;u<v;++u)u===0?m.push(`	if (channel == ${u}) { return bias[${u}]; }`):u===v-1?m.push(`	else { return bias[${u}]; }`):m.push(`	else if (channel == ${u}) { return bias[${u}]; }`);return m.push("	}"),m.join(`
`)},_=v=>{if(!v||v.length!==1)throw new Error("ImageScaler requires 1 input.");if(v[0].dims.length!==4)throw new Error("Invalid input shape.");if(v[0].type!=="float32"&&v[0].type!=="float64")throw new Error("Invalid input type.")}},3346:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseInstanceNormalizationAttributes=e.instanceNormalization=void 0;const i=n(5060),l=n(2039);e.instanceNormalization=(m,u,o)=>{v(u);const h=m.run(f(u[0]),u);return[m.run(_(m,u[0],o,h.dims),[u[0],h,u[1],u[2]])]},e.parseInstanceNormalizationAttributes=m=>m.attributes.getFloat("epsilon",1e-5);const d={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[l.TextureType.unpacked]},f=m=>Object.assign(Object.assign({},d),{get:()=>((u,o)=>{const h=o.dims.slice(),w=h[1],E=h[2]*h[3],T=[h[0],w],O=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${h[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${h[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${E});
        temp = 0.0;
        for(int a2=0; a2<${h[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${h[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${E});

        return v;
      }`;return Object.assign(Object.assign({},u),{output:{dims:T,type:o.type,textureType:l.TextureType.packedLastDimension},shaderSource:O})})(d,m)}),b={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[l.TextureType.unpacked,l.TextureType.packedLastDimension,l.TextureType.unpacked,l.TextureType.unpacked]},_=(m,u,o,h)=>{const w=Object.assign(Object.assign({},b),{cacheHint:`${o}`});return Object.assign(Object.assign({},w),{get:()=>((E,T,O,M,I)=>{const R=(0,i.getGlsl)(E.session.backend.glContext.version),[D,N]=E.calculateTextureWidthAndHeight(I,l.TextureType.packedLastDimension),[L,B]=[D/4,N],$=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${L}, ${B});
        return ${R.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},T),{output:{dims:O.dims,type:O.type,textureType:l.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:M}],shaderSource:$})})(m,w,u,o,h)})},v=m=>{if(!m||m.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const u=m[0],o=m[1],h=m[2];if(u.dims.length<3||o.dims.length!==1||h.dims.length!==1)throw new Error("Invalid input shape.");if(o.dims[0]!==u.dims[1]||h.dims[0]!==u.dims[1])throw new Error("Input shapes are mismatched.");if(u.type!=="float32"&&u.type!=="float64"||o.type!=="float32"&&o.type!=="float64"||h.type!=="float32"&&h.type!=="float64")throw new Error("Invalid input type.");if(m[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},708:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createPackedMatmulProgramInfoLoader=void 0;const i=n(2517),l=n(5060),d=n(2039),f=n(9390),b=n(2823),_=n(5623);e.createPackedMatmulProgramInfoLoader=(v,m,u)=>{const o=(h=m.length>2,w=u.activationCacheKey,{name:"MatMul (packed)",inputNames:h?["A","B","Bias"]:["A","B"],inputTypes:h?[d.TextureType.packed,d.TextureType.packed,d.TextureType.packed]:[d.TextureType.packed,d.TextureType.packed],cacheHint:w});var h,w;return Object.assign(Object.assign({},o),{get:()=>((E,T,O,M)=>{const I=O.length>2,R=I?"value += getBiasForMatmul();":"",D=O[0].dims,N=O[1].dims,L=i.BroadcastUtil.calcShape(D,N,!0),B=!i.ShapeUtil.areEqual(O[0].dims,O[1].dims);if(!L)throw new Error("Can't use matmul on the given tensors");const $=D[D.length-1],V=Math.ceil($/2),G=D.length,X=N.length,ee=(0,l.getGlsl)(E.session.backend.glContext.version),Q=(0,f.getCoordsDataType)(L.length),Y=L.length,U=(0,f.getGlChannels)(),{activationFunction:q,applyActivation:le}=(0,b.getActivationSnippet)(M),ie=I?`${(0,_.getBiasForMatmul)(Q,U,O[2].dims,L,!0)}`:"",Ee=B?`${(function(Ce,ke,Ne,Le){let Pe=[],de=[];const De=Ne[0].dims,$e=Ne[1].dims,we=De.length,Qe=$e.length,Fe=Le.length,at=Fe-we,vt=Fe-Qe;Pe=De.map(((Mt,sr)=>`coords.${ke[sr+at]}`)),Pe[we-1]="i*2",Pe.join(", "),de=$e.map(((Mt,sr)=>`coords.${ke[sr+vt]}`)),de[Qe-2]="i*2",de.join(", ");const kt=i.BroadcastUtil.getBroadcastDims(De,Le),ir=i.BroadcastUtil.getBroadcastDims($e,Le),xr=kt.map((Mt=>`coords.${ke[Mt+at]} = 0;`)).join(`
`),or=ir.map((Mt=>`coords.${ke[Mt+vt]} = 0;`)).join(`
`),Jt=`int lastDim = coords.${ke[Fe-1]};
  coords.${ke[Fe-1]} = coords.${ke[Fe-2]};
  coords.${ke[Fe-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${Ce} coords = getOutputCoords();
  ${Jt}
  ${xr}
  vec4 outputValue = getA(${Pe});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${Ce} coords = getOutputCoords();
  ${Jt}
  ${or}
  vec4 outputValue = getB(${de});
  return outputValue;
}`})(Q,U,O,L)}`:"",Z=B?"getAAtOutCoordsMatmul(i)":`getA(${(function(Ce,ke){let Ne="";for(let Le=0;Le<ke-2;Le++)Ne+=`rc.${Ce[Le]}, `;return Ne+=`rc.${Ce[ke-2]}, i*2`,Ne})(U,G)})`,ue=B?"getBAtOutCoordsMatmul(i)":`getB(${(function(Ce,ke){let Ne="";for(let Le=0;Le<ke-2;Le++)Ne+=`rc.${Ce[Le]}, `;return Ne+=`i*2, rc.${Ce[ke-1]}`,Ne})(U,X)})`,Ae=`
            ${Ee}
            ${ie}
            ${q}
            void main() {
              ${B?"":`${Q} rc =
          getOutputCoords(); int lastDim = rc.${U[Y-1]}; rc.${U[Y-1]} =
          rc.${U[Y-2]}; rc.${U[Y-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${V}; i++) {
                vec4 a = ${Z};
                vec4 b = ${ue};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${R}
              ${le}
              ${ee.output} = value;
            }`;return Object.assign(Object.assign({},T),{output:{dims:L,type:O[0].type,textureType:d.TextureType.packed},shaderSource:Ae,hasMain:!0})})(v,o,m,u)})}},5623:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getBiasForMatmul=e.createMatmulProgramInfoLoader=e.parseMatMulAttributes=e.matMul=void 0;const i=n(2517),l=n(2039),d=n(9390),f=n(2823),b=n(708);function _(u,o){const h=(w=u.length>2,E=o.activationCacheKey,{name:"MatMul",inputNames:w?["A","B","Bias"]:["A","B"],inputTypes:w?[l.TextureType.unpacked,l.TextureType.unpacked,l.TextureType.unpacked]:[l.TextureType.unpacked,l.TextureType.unpacked],cacheHint:E});var w,E;return Object.assign(Object.assign({},h),{get:()=>(function(T,O,M){const I=O[0].dims,R=O[1].dims,D=i.BroadcastUtil.calcShape(I,R,!0);if(!D)throw new Error("Can't use matmul on the given tensors");const N=(0,d.getCoordsDataType)(D.length),L=(0,d.getGlChannels)(),{activationFunction:B,applyActivation:$}=(0,f.getActivationSnippet)(M),V=O.length>2,G=V?"value += getBiasForMatmul();":"",X=V?`${m(N,L,O[2].dims,D,!1)}`:"",ee=D.length,Q=I.length,Y=R.length,U=`
    ${B}
    ${X}
    float process(int indices[${ee}]) {
        int a[${Q}];
        int b[${Y}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${I[I.length-1]}; ++k) {
            a[${Q-1}] = k;
            b[${Y-2}] = k;
            value += _A(a) * _B(b);
        }
        ${G}
        ${$}
        return value;
    }`;return Object.assign(Object.assign({},T),{output:{dims:D,type:O[0].type,textureType:l.TextureType.unpacked},shaderSource:U})})(h,u,o)})}e.matMul=(u,o,h)=>(v(o),u.session.pack?[u.run((0,b.createPackedMatmulProgramInfoLoader)(u,o,h),o)]:[u.run(_(o,h),o)]),e.parseMatMulAttributes=u=>(0,f.parseInternalActivationAttributes)(u.attributes),e.createMatmulProgramInfoLoader=_;const v=u=>{if(!u||u.length!==2)throw new Error("MatMul requires 2 inputs.");if(u[0].dims[u[0].dims.length-1]!==u[1].dims[u[1].dims.length-2])throw new Error("shared dimension does not match.");if(u[0].type!=="float32"&&u[0].type!=="float64"||u[1].type!=="float32"&&u[1].type!=="float64")throw new Error("inputs should be float type");if(u[0].type!==u[1].type)throw new Error("inputs types should match")};function m(u,o,h,w,E){let T="";const O=h.length,M=w.length,I=M-O;T=M<2&&O>0?"coords":h.map(((N,L)=>`coords.${o[L+I]}`)).join(", ");const R=i.BroadcastUtil.getBroadcastDims(h,w).map((N=>`coords.${o[N+I]} = 0;`)).join(`
`);let D="vec4(outputValue.xx, outputValue.yy)";return i.ShapeUtil.size(h)===1&&(D="vec4(outputValue.x)"),E?`
vec4 getBiasForMatmul() {
  ${u} coords = getOutputCoords();
  ${R}
  vec4 outputValue = getBias(${T});
  return ${D};
}`:`
float getBiasForMatmul() {
  ${u} coords = getOutputCoords();
  ${R}
  return getBias(coords.x);
}`}e.getBiasForMatmul=m},2403:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createPackProgramInfoLoader=void 0;const i=n(5060),l=n(2039),d=n(9390),f=n(2827),b={name:"pack",inputNames:["A"],inputTypes:[l.TextureType.unpackedReversed]};e.createPackProgramInfoLoader=(_,v)=>Object.assign(Object.assign({},b),{get:()=>((m,u)=>{const o=(0,i.getGlsl)(m.session.backend.glContext.version),h=u.dims,w=h.length,E=u.dims.length,T=(0,d.getCoordsDataType)(E),O=(0,f.getChannels)("rc",E),M=(I=E,R=O,D=h[h.length-2],N=h[h.length-1],I===0||I===1?"":`
    int r = ${R[I-2]};
    int c = ${R[I-1]};
    int rp1 = ${R[I-2]} + 1;
    int cp1 = ${R[I-1]} + 1;
    bool rEdge = rp1 >= ${N};
    bool cEdge = cp1 >= ${D};
    `);var I,R,D,N;let L;L=w===0?[1,1]:w===1?[h[0],1]:[h[E-1],h[E-2]];const B=(function(G,X,ee){if(G===0)return"false";if(G===1)return`rc > ${X[0]}`;let Q="";for(let Y=G-2;Y<G;Y++)Q+=`${ee[Y]} >= ${X[Y-G+2]}`,Y<G-1&&(Q+="||");return Q})(E,L,O),$=(function(G,X){const ee=G.length;if(ee===0)return"getA(), 0, 0, 0";if(ee===1)return`getA(rc),
            rc + 1 >= ${G[0]} ? 0. : getA(rc + 1),
            0, 0`;let Q="";if(ee>2)for(let Y=0;Y<ee-2;++Y)Q+=`${X[Y]},`;return`getA(${Q}r, c),
          rEdge ? 0. : getA(${Q}rp1, c),
          cEdge ? 0. : getA(${Q}r, cp1),
          rEdge || cEdge ? 0. : getA(${Q}rp1, cp1)`})(h,O),V=`
        void main() {
          ${T} rc = getOutputCoords();

          if(${B}) {
            ${o.output} = vec4(0);
          } else {
            ${M}

            ${o.output} = vec4(${$});
          }
        }
      `;return Object.assign(Object.assign({},b),{hasMain:!0,output:{dims:u.dims,type:u.type,textureType:l.TextureType.packed},shaderSource:V})})(_,v)})},2827:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.unpackFromChannel=e.getChannels=e.getVecChannels=void 0;const i=n(9390);function l(d,f){return(0,i.getGlChannels)(f).map((b=>`${d}.${b}`))}e.getVecChannels=l,e.getChannels=function(d,f){return f===1?[d]:l(d,f)},e.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},2870:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parsePadAttributesV11=e.padV11=e.parsePadAttributesV2=e.padV2=void 0;const i=n(246),l=n(2517),d=n(5060),f=n(2039),b={name:"Pad",inputNames:["A"],inputTypes:[f.TextureType.unpacked]};e.padV2=(T,O,M)=>(m(O),[T.run(Object.assign(Object.assign({},b),{cacheHint:M.cacheKey,get:()=>v(T,O[0],M)}),O)]),e.parsePadAttributesV2=T=>{const O=T.attributes.getString("mode","constant"),M=T.attributes.getFloat("value",0),I=T.attributes.getInts("pads");return(0,i.createAttributeWithCacheKey)({mode:O,value:M,pads:I})},e.padV11=(T,O,M)=>{u(O);const I=_(T,O,M);return(0,e.padV2)(T,[O[0]],I)},e.parsePadAttributesV11=T=>T.attributes.getString("mode","constant");const _=(T,O,M)=>{if(!T.session.isInitializer(O[1].dataId)||O.length>=3&&!T.session.isInitializer(O[2].dataId))throw new Error("dynamic pad attributes are not allowed");const I=Array.from(O[1].integerData),R=O.length>=3?O[2].floatData[0]:0;return(0,i.createAttributeWithCacheKey)({mode:M,pads:I,value:R})},v=(T,O,M)=>{const I=l.ShapeUtil.padShape(O.dims.slice(),M.pads),R=I.length,D=`
      ${o(T,O,M)}
      float process(int[${R}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[f.TextureType.unpacked],output:{dims:I,type:O.type,textureType:f.TextureType.unpacked},shaderSource:D}},m=T=>{if(!T||T.length!==1)throw new Error("Pad requires 1 input");if(T[0].type!=="float32"&&T[0].type!=="float64")throw new Error("Invalid input type.")},u=T=>{if(!T||T.length!==2&&T.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(T[1].type!=="int32")throw new Error("Invalid input type.");if(T.length>=3&&T[2].type==="string")throw new Error("Invalid input type.")},o=(T,O,M)=>{const I=(0,d.getGlsl)(T.session.backend.glContext.version),[R,D]=T.calculateTextureWidthAndHeight(O.dims,f.TextureType.unpacked),N=l.ShapeUtil.computeStrides(O.dims);switch(M.mode){case"constant":return h(I,O.dims,N,R,D,M.pads,M.value);case"reflect":return w(I,O.dims,N,R,D,M.pads);case"edge":return E(I,O.dims,N,R,D,M.pads);default:throw new Error("Invalid mode")}},h=(T,O,M,I,R,D,N)=>{const L=O.length;let B="";for(let $=L-1;$>=0;--$)B+=`
        k = m[${$}] - ${D[$]};
        if (k < 0)  return constant;
        if (k >= ${O[$]}) return constant;
        offset += k * ${M[$]};
        `;return`
      float padA(int m[${L}]) {
        const float constant = float(${N});
        int offset = 0;
        int k = 0;
        ${B}
        vec2 coords = offsetToCoords(offset, ${I}, ${R});
        float value = getColorAsFloat(${T.texture2D}(A, coords));
        return value;
      }
      `},w=(T,O,M,I,R,D)=>{const N=O.length;let L="";for(let B=N-1;B>=0;--B)L+=`
        k = m[${B}] - ${D[B]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(O[B]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${O[B]}) { k = _2n_1 - k; }
        }
        offset += k * ${M[B]};
        `;return`
      float padA(int m[${N}]) {
        int offset = 0;
        int k = 0;
        ${L}
        vec2 coords = offsetToCoords(offset, ${I}, ${R});
        float value = getColorAsFloat(${T.texture2D}(A, coords));
        return value;
      }
      `},E=(T,O,M,I,R,D)=>{const N=O.length;let L="";for(let B=N-1;B>=0;--B)L+=`
        k = m[${B}] - ${D[B]};
        if (k < 0)  k = 0;
        if (k >= ${O[B]}) k = ${O[B]-1};
        offset += k * ${M[B]};
      `;return`
      float padA(int m[${N}]) {
        int offset = 0;
        int k = 0;
        ${L}
        vec2 coords = offsetToCoords(offset, ${I}, ${R});
        float value = getColorAsFloat(${T.texture2D}(A, coords));
        return value;
      }
      `}},2143:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.globalMaxPool=e.parseMaxPoolAttributes=e.maxPool=e.parseGlobalAveragePoolAttributes=e.globalAveragePool=e.parseAveragePoolAttributes=e.averagePool=void 0;const i=n(246),l=n(2517),d=n(2039);e.averagePool=(E,T,O)=>{u(T);const M={name:"AveragePool",inputNames:["X"],inputTypes:[d.TextureType.unpacked],cacheHint:O.cacheKey};return[E.run(Object.assign(Object.assign({},M),{get:()=>f(T,M,!1,O)}),T)]},e.parseAveragePoolAttributes=E=>{const T=E.attributes.getString("auto_pad","NOTSET"),O=E.attributes.getInt("ceil_mode",0),M=E.attributes.getInt("count_include_pad",0)!==0,I=E.attributes.getInts("kernel_shape"),R=E.attributes.getInts("strides",[]),D=E.attributes.getInts("pads",[]);if(O!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,i.createAttributeWithCacheKey)({autoPad:T,ceilMode:O,countIncludePad:M,kernelShape:I,strides:R,pads:D})};const f=(E,T,O,M)=>{const[I,R]=_(E,M,O),D=l.ShapeUtil.size(I.kernelShape);let N="";I.countIncludePad?N+=`value /= float(${D});`:N+=`value /= float(${D} - pad);`;const L=`
        ${o(E[0].dims,I,"value += _X(x);",N,"0.0")}
      `;return Object.assign(Object.assign({},T),{output:{dims:R,type:E[0].type,textureType:d.TextureType.unpacked},shaderSource:L})};e.globalAveragePool=(E,T,O)=>{u(T);const M={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[d.TextureType.unpacked],cacheHint:`${O.countIncludePad}`};return[E.run(Object.assign(Object.assign({},M),{get:()=>f(T,M,!0,O)}),T)]},e.parseGlobalAveragePoolAttributes=E=>{const T=E.attributes.getInt("count_include_pad",0)!==0;return(0,i.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:T,kernelShape:[],strides:[],pads:[]})},e.maxPool=(E,T,O)=>{u(T);const M={name:"MaxPool",inputNames:["X"],inputTypes:[d.TextureType.unpacked],cacheHint:O.cacheKey};return[E.run(Object.assign(Object.assign({},M),{get:()=>b(T,M,!1,O)}),T)]},e.parseMaxPoolAttributes=E=>{const T=E.attributes.getString("auto_pad","NOTSET"),O=E.attributes.getInt("ceil_mode",0),M=E.attributes.getInts("kernel_shape"),I=E.attributes.getInts("strides",[]),R=E.attributes.getInts("pads",[]),D=E.attributes.getInt("storage_order",0),N=E.attributes.getInts("dilations",[]);if(D!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(O!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,i.createAttributeWithCacheKey)({autoPad:T,ceilMode:O,countIncludePad:!1,kernelShape:M,strides:I,pads:R,storageOrder:D,dilations:N})};const b=(E,T,O,M)=>{const[I,R]=_(E,M,O),D=`
      ${o(E[0].dims,I,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},T),{output:{dims:R,type:E[0].type,textureType:d.TextureType.unpacked},shaderSource:D})},_=(E,T,O)=>{const M=E[0].dims.slice(),I=Object.hasOwnProperty.call(T,"dilations"),R=T.kernelShape.slice(),D=T.strides.slice(),N=I?T.dilations.slice():[],L=T.pads.slice();l.PoolConvUtil.adjustPoolAttributes(O,M,R,D,N,L);const B=l.PoolConvUtil.computePoolOutputShape(O,M,D,N,R,L,T.autoPad),$=Object.assign({},T);return I?Object.assign($,{kernelShape:R,strides:D,pads:L,dilations:N,cacheKey:T.cacheKey}):Object.assign($,{kernelShape:R,strides:D,pads:L,cacheKey:T.cacheKey}),[$,B]},v={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},m={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[d.TextureType.unpacked]};e.globalMaxPool=(E,T)=>(u(T),[E.run(Object.assign(Object.assign({},m),{get:()=>b(T,m,!0,v)}),T)]);const u=E=>{if(!E||E.length!==1)throw new Error("Pool ops requires 1 input.");if(E[0].type!=="float32"&&E[0].type!=="float64")throw new Error("Invalid input type.")},o=(E,T,O,M,I)=>{const R=E.length;if(T.kernelShape.length<=2){const D=T.kernelShape[T.kernelShape.length-1],N=T.strides[T.strides.length-1],L=T.pads[T.pads.length/2-1],B=T.pads[T.pads.length-1],$=E[R-1];let V="",G="",X="";if(V=L+B!==0?`
          for (int i = 0; i < ${D}; i++) {
            x[${R} - 1] = indices[${R} - 1] * ${N} - ${L} + i;
            if (x[${R} - 1] < 0 || x[${R} - 1] >= ${$}) {
              pad++;
              continue;
            }
            ${O}
          }`:`
          for (int i = 0; i < ${D}; i++) {
            x[${R} - 1] = indices[${R} - 1] * ${N} - ${L} + i;
            ${O}
          }`,T.kernelShape.length===2){const ee=T.kernelShape[T.kernelShape.length-2],Q=T.strides[T.strides.length-2],Y=T.pads[T.pads.length/2-2],U=T.pads[T.pads.length-2],q=E[R-2];G=Y+U!==0?`
            for (int j = 0; j < ${ee}; j++) {
              x[${R} - 2] = indices[${R} - 2] * ${Q} - ${Y} + j;
              if (x[${R} - 2] < 0 || x[${R} - 2] >= ${q}) {
                pad+= ${D};
                continue;
              }
          `:`
            for (int j = 0; j < ${ee}; j++) {
              x[${R} - 2] = indices[${R} - 2] * ${Q} - ${Y} + j;
            `,X=`
          }
        `}return`
        float process(int indices[${R}]) {
          int x[${R}];
          copyVec(indices, x);

          float value = ${I};
          int pad = 0;
          ${G}
          ${V}
          ${X}
          ${M}
          return value;
        }
      `}{const D=l.ShapeUtil.size(T.kernelShape),N=l.ShapeUtil.computeStrides(T.kernelShape),L=N.length,B=T.pads.length,$=w(L),V=h(E,"inputDims"),G=h(T.pads,"pads"),X=h(N,"kernelStrides"),ee=h(T.strides,"strides");let Q="";return Q=T.pads.reduce(((Y,U)=>Y+U))?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${O}
          }`:`
          }
          ${O}
        `,`
        ${$}
        float process(int indices[${R}]) {
          int x[${R}];
          copyVec(indices, x);
          int offset[${L}];
          int pads[${B}];
          int inputDims[${R}];
          int kernelStrides[${L}];
          int strides[${L}];
          ${G}
          ${V}
          ${ee}
          ${X}

          float value = ${I};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${D}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${R} - ${L}; j < ${R}; j++) {
              x[j] = indices[j] * strides[j - ${R} + ${L}]
                + offset[j - ${R} + ${L}] - pads[j - 2];
              ${Q}
          }
          ${M}

          return value;
        }
      `}},h=(E,T)=>{let O="";for(let M=0;M<E.length;M++)O+=`
      ${T}[${M}] = ${E[M]};
    `;return O},w=E=>`
  void offsetToIndices(int offset, int[${E}] strides, out int[${E}] indices) {
    if (${E} == 0) {
      return;
    }
    for (int i = 0; i < ${E} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${E} - 1] = offset;
  }`},4939:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reduceLogSumSquare=e.reduceLogSum=e.reduceProd=e.reduceMin=e.reduceMax=e.reduceMean=e.reduceSum=e.parseReduceAttributes=void 0;const i=n(246),l=n(782),d=n(2517),f=n(2039),b=(m,u,o,h,w)=>{v(u);const E={name:h,inputNames:["A"],inputTypes:[f.TextureType.unpacked]};return[m.run(Object.assign(Object.assign({},E),{cacheHint:o.cacheKey,get:()=>_(m,u,o,h,w,E)}),u)]};e.parseReduceAttributes=m=>{const u=m.attributes.getInts("axes",[]),o=m.attributes.getInt("keepdims",1)===1;return(0,i.createAttributeWithCacheKey)({axes:u,keepDims:o})};const _=(m,u,o,h,w,E)=>{const T=[],O=u[0].dims.length||1,M=[],I=d.ShapeUtil.normalizeAxes(o.axes,u[0].dims.length),R=w(u,I);let D=R[1];for(let L=0;L<u[0].dims.length;L++)I.indexOf(L)>=0||I.length===0?(o.keepDims&&T.push(1),D=`
          for(int j${L} = 0; j${L} < ${u[0].dims[L]}; j${L}++) {
            inputIdx[${L}] = j${L};
            ${D}
          }`):(M.push(`inputIdx[${L}] = outputIdx[${T.length}];`),T.push(u[0].dims[L]));const N=`
      float process(int outputIdx[${T.length||1}]) {
        float value;                 // final result
        int inputIdx[${O}];      // addressing input data
        ${M.join(`
`)}
        ${R[0]}       // init ops for reduce max/min
        ${D}
        ${R[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},E),{output:{dims:T,type:u[0].type,textureType:f.TextureType.unpacked},shaderSource:N})},v=m=>{if(!m||m.length!==1)throw new Error("Reduce op requires 1 input.");if(l.NUMBER_TYPES.indexOf(m[0].type)===-1)throw new Error("Invalid input type.")};e.reduceSum=(m,u,o)=>b(m,u,o,"ReduceSum",(()=>["value = 0.0;","value += _A(inputIdx);",""])),e.reduceMean=(m,u,o)=>b(m,u,o,"ReduceMean",((h,w)=>{let E=1;for(let T=0;T<h[0].dims.length;T++)(w.indexOf(T)>=0||w.length===0)&&(E*=h[0].dims[T]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${E}.;`]})),e.reduceMax=(m,u,o)=>b(m,u,o,"ReduceMax",((h,w)=>{const E=[];for(let T=0;T<h[0].dims.length;T++)(w.indexOf(T)>=0||w.length===0)&&E.push(`inputIdx[${T}] = 0;`);return[`${E.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]})),e.reduceMin=(m,u,o)=>b(m,u,o,"ReduceMin",((h,w)=>{const E=[];for(let T=0;T<h[0].dims.length;T++)(w.indexOf(T)>=0||w.length===0)&&E.push(`inputIdx[${T}] = 0;`);return[`${E.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]})),e.reduceProd=(m,u,o)=>b(m,u,o,"ReduceProd",(()=>["value = 1.0;","value *= _A(inputIdx);",""])),e.reduceLogSum=(m,u,o)=>b(m,u,o,"ReduceLogSum",(()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"])),e.reduceLogSumSquare=(m,u,o)=>b(m,u,o,"ReduceLogSumSquare",(()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""]))},7019:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isReshapeCheap=e.processDims3D=e.createPackedReshape3DProgramInfoLoader=void 0;const i=n(2517),l=n(5060),d=n(2039),f=n(2827);e.createPackedReshape3DProgramInfoLoader=(b,_,v)=>{const m=(u=>({name:"Reshape (packed)",inputTypes:[d.TextureType.packed],inputNames:["A"],cacheHint:`${u}`}))(v);return Object.assign(Object.assign({},m),{get:()=>((u,o,h,w)=>{const E=o.dims,T=w;let O="";for(let R=0;R<4;R++){let D="";switch(R){case 0:D="outputCoords = rc;";break;case 1:D="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:D="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:D="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}O+=`
        ${D}
        ${R>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${R}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${R>0?"}":""}
      `}const M=(0,l.getGlsl)(u.session.backend.glContext.version),I=`
      ${(function(R){const D=i.ShapeUtil.computeStrides(R),N=["b","r","c"],L="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${D.map(((B,$)=>`int ${N[$]} = ${L} / ${B}; ${$===D.length-1?`int ${N[$+1]} = ${L} - ${N[$]} * ${B}`:`index -= ${N[$]} * ${B}`};`)).join("")}
      return ivec3(b, r, c);
    }
  `})(E)}
      ${(function(R){const D=i.ShapeUtil.computeStrides(R);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${D[0]} + coords.z * ${D[1]} + coords.y;
  }
`})(T)}
      ${(0,f.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${T[2]};
        int cols = ${T[1]};

        ${O}
        ${M.output} = result;
      }
    `;return Object.assign(Object.assign({},h),{output:{dims:T,type:o.type,textureType:d.TextureType.packed},shaderSource:I,hasMain:!0})})(b,_,m,v)})},e.processDims3D=function(b){if(b.length===0)return[1,1,1];let _=1;for(let v=0;v<b.length-2;++v)_*=b[v];return[_,b.length>1?b[b.length-2]:1,b[b.length-1]]},e.isReshapeCheap=function(b,_){let v=!1;return v=b.length===0||_.length===0||(b.length<2||_.length<2?b[b.length-1]===_[_.length-1]:b[b.length-1]===_[_.length-1]&&b[b.length-2]===_[_.length-2]),v}},718:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reshape=void 0;const i=n(2517);e.reshape=(l,d)=>{const f=i.ShapeUtil.calculateReshapedDims(d[0].dims,d[1].integerData);return l.session.pack?[l.reshapePacked(d[0],f)]:[l.reshapeUnpacked(d[0],f)]}},2268:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseResizeAttributesV11=e.parseResizeAttributesV10=e.resize=void 0;const i=n(5060),l=n(2039),d=n(9390),f=n(2827),b=n(9793),_={name:"Resize",inputNames:["A"],inputTypes:[l.TextureType.packed]};e.resize=(h,w,E)=>((0,b.validateInputs)(w,E),[h.run(Object.assign(Object.assign({},_),{cacheHint:E.cacheKey,get:()=>v(h,w,E)}),w)]),e.parseResizeAttributesV10=h=>(0,b.parseUpsampleAttributes)(h,10),e.parseResizeAttributesV11=h=>(0,b.parseUpsampleAttributes)(h,11);const v=(h,w,E)=>{const T=(0,i.getGlsl)(h.session.backend.glContext.version),[O,M]=m(w,E);if(O.every((Q=>Q===1))&&E.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},_),{output:{dims:M,type:w[0].type,textureType:l.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${T.texture2D}(X, TexCoords);
                    ${T.output} = v;
                }`});const I=M.length;if(I<2)throw new Error(`output dimension should be at least 2, but got ${I}`);const R=M[I-2],D=M[I-1],N=w[0].dims;if(I!==N.length)throw new Error(`output dimension should match input ${N.length}, but got ${I}`);const L=N[I-2],B=N[I-1],$=O[I-2],V=O[I-1];let G="";if(E.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${E.mode}'`);switch(E.coordinateTransformMode){case"asymmetric":G=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":G=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":G=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${D}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${R}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${D}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${R}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":G=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${D}.0 - 1.0, ${R}.0 - 1.0, ${D}.0 - 1.0,
                            ${R}.0 - 1.0);
                        vec4 original = vec4(${B}.0 - 1.0, ${L}.0 - 1.0, ${B}.0 - 1.0,
                            ${L}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${E.coordinateTransformMode}'`)}const X=(0,d.getCoordsDataType)(I),ee=`
            const vec2 inputWH = vec2(${L}.0, ${B}.0);
            const vec4 scaleWHWH = vec4(float(${$}), float(${V}), float(${$}), float(${V}));
            ${(0,f.unpackFromChannel)()}
            ${G}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${X} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${R-1};
                bool hasNextCol = rc.z < ${D-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${T.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},_),{output:{dims:M,type:w[0].type,textureType:l.TextureType.packed},hasMain:!0,shaderSource:ee})},m=(h,w)=>{const E=h[0].dims;let T,O=w.scales;if(O.length===0){const I=h[w.scalesInputIdx];if(I&&I.size!==0){if(h[w.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");O=u(I,w.mode,w.isResize)}else{const R=h[w.sizesInputIdx];if(!R||R.size===0)throw new Error("Either scales or sizes MUST be provided as input.");T=Array.from(R.integerData),O=o(T,E,w.mode,w.isResize)}}else if(h[w.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const M=T||E.map(((I,R)=>Math.floor(I*O[R])));return[O,M]},u=(h,w,E)=>{const T=Array.from(h.floatData);return(0,b.scalesValidation)(T,w,E),T},o=(h,w,E,T)=>{const O=w.length,M=new Array(O);for(let I=0,R=O;I<R;I++)if(w[I]===0){if(h[I]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");M[I]=1}else M[I]=h[I]/w[I];return(0,b.scalesValidation)(M,E,T),M}},8117:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.shape=void 0;const i=n(9162);e.shape=(d,f)=>(l(f),[new i.Tensor([f[0].dims.length],"int32",void 0,void 0,new Int32Array(f[0].dims))]);const l=d=>{if(!d||d.length!==1)throw new Error("Shape requires 1 input.")}},2278:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sliceV10=e.parseSliceAttributes=e.slice=void 0;const i=n(246),l=n(782),d=n(2517),f=n(2039),b={name:"Slice",inputNames:["A"],inputTypes:[f.TextureType.unpacked]};e.slice=(o,h,w)=>(v(h),[o.run(Object.assign(Object.assign({},b),{cacheHint:w.cacheKey,get:()=>_(o,h[0],w)}),h)]),e.parseSliceAttributes=o=>{const h=o.attributes.getInts("starts"),w=o.attributes.getInts("ends"),E=o.attributes.getInts("axes",[]);return(0,i.createAttributeWithCacheKey)({starts:h,ends:w,axes:E})};const _=(o,h,w)=>{const E=w.axes.length===0?h.dims.slice(0).map(((N,L)=>L)):w.axes,T=d.ShapeUtil.normalizeAxes(E,h.dims.length),O=w.starts.map(((N,L)=>N>h.dims[T[L]]-1?h.dims[T[L]]:d.ShapeUtil.normalizeAxis(N,h.dims[T[L]]))),M=w.ends.map(((N,L)=>N>h.dims[T[L]]-1?h.dims[T[L]]:d.ShapeUtil.normalizeAxis(N,h.dims[T[L]]))),I=h.dims.slice(),R=[];for(let N=0;N<T.length;N++)I[T[N]]=M[N]-O[N],O[N]>0&&R.push(`outputIdx[${T[N]}] += ${O[N]};`);const D=`
      float process(int outputIdx[${I.length}]) {
        ${R.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},b),{output:{dims:I,type:h.type,textureType:f.TextureType.unpacked},shaderSource:D})},v=o=>{if(!o||o.length!==1)throw new Error("Slice requires 1 input.");if(l.NUMBER_TYPES.indexOf(o[0].type)===-1)throw new Error("Invalid input type.")};e.sliceV10=(o,h)=>{u(h);const w=m(o,h);return[o.run(Object.assign(Object.assign({},b),{cacheHint:w.cacheKey,get:()=>_(o,h[0],w)}),[h[0]])]};const m=(o,h)=>{if(!o.session.isInitializer(h[1].dataId)||!o.session.isInitializer(h[2].dataId)||h.length>=4&&!o.session.isInitializer(h[3].dataId)||h.length>=5&&!o.session.isInitializer(h[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(h.length>=5&&h[4].integerData.some((O=>O!==1)))throw new Error("currently non-1 steps is not supported for Slice");const w=Array.from(h[1].integerData),E=Array.from(h[2].integerData),T=h.length>=4?Array.from(h[3].integerData):[];return{starts:w,ends:E,axes:T,cacheKey:`${T};${w};${E}`}},u=o=>{if(!o||o.length<3||o.length>5)throw new Error("Invalid input number.");if(o[1].type!=="int32"||o[1].dims.length!==1)throw new Error("Invalid input type.");if(o[2].type!=="int32"||o[2].dims.length!==1)throw new Error("Invalid input type.");if(o.length>=4&&(o[3].type!=="int32"||o[3].dims.length!==1))throw new Error("Invalid input type.");if(o.length>=5&&(o[4].type!=="int32"||o[4].dims.length!==1))throw new Error("Invalid input type.")}},5524:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.softmaxV13=e.parseSoftmaxAttributesV13=e.parseSoftmaxAttributes=e.softmax=void 0;const i=n(246),l=n(2517),d=n(5060),f=n(2039),b=n(3738),_={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[f.TextureType.unpacked]},v={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[f.TextureType.unpacked,f.TextureType.unpacked]},m={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[f.TextureType.unpacked,f.TextureType.unpacked,f.TextureType.unpacked]};e.softmax=(T,O,M)=>{E(O);const I=O[0].dims.slice(),R=l.ShapeUtil.normalizeAxis(M.axis,I.length),D=l.ShapeUtil.sizeToDimension(I,R),N=l.ShapeUtil.sizeFromDimension(I,R);return u(T,O,M,D,N)},e.parseSoftmaxAttributes=T=>(0,i.createAttributeWithCacheKey)({axis:T.attributes.getInt("axis",1)}),e.parseSoftmaxAttributesV13=T=>(0,i.createAttributeWithCacheKey)({axis:T.attributes.getInt("axis",-1)}),e.softmaxV13=(T,O,M)=>{E(O);const I=O[0].dims.slice(),R=l.ShapeUtil.normalizeAxis(M.axis,I.length),D=I.length,N=R!==D-1,L=[];let B,$=[],V=[];N&&($=Array.from({length:D}).map(((Q,Y)=>Y)),$[R]=D-1,$[D-1]=R,$.map((Q=>L.push(I[Q]))),B=(0,i.createAttributeWithCacheKey)({perm:$}),V=(0,b.transpose)(T,O,B));const G=N?l.ShapeUtil.sizeToDimension(L,D-1):l.ShapeUtil.sizeToDimension(I,D-1),X=N?l.ShapeUtil.sizeFromDimension(L,D-1):l.ShapeUtil.sizeFromDimension(I,D-1),ee=u(T,N?V:O,M,G,X);return N?(0,b.transpose)(T,ee,B):ee};const u=(T,O,M,I,R)=>{const D=o(T,O[0],I,R,[I]),N=T.run(Object.assign(Object.assign({},_),{cacheHint:M.cacheKey,get:()=>D}),O),L=h(T,O[0],I,R,D.output.dims,[I]),B=T.run(Object.assign(Object.assign({},v),{cacheHint:M.cacheKey,get:()=>L}),[O[0],N]),$=w(T,O[0],I,R,D.output.dims,L.output.dims);return[T.run(Object.assign(Object.assign({},m),{cacheHint:M.cacheKey,get:()=>$}),[O[0],N,B])]},o=(T,O,M,I,R)=>{const[D,N]=T.calculateTextureWidthAndHeight(O.dims,f.TextureType.unpacked),L=R.length;if(M<1||I<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(R.length!==1)throw new Error("Dimensionality of the output should be 1");if(R[0]!==M)throw new Error("Shape of the output should be equal to logical row count");const B=(0,d.getGlsl)(T.session.backend.glContext.version),$=`
      float process(int[${L}] indices) {
        int logical_row_start_offset = indices[0] * ${I};

        float max = getColorAsFloat(${B.texture2D}(A, offsetToCoords(logical_row_start_offset, ${D},
        ${N} )));
        for(int i=1; i<${I}; ++i)
        {
          float current = getColorAsFloat(${B.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${D}, ${N})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},_),{output:{dims:R,type:O.type,textureType:f.TextureType.unpacked},shaderSource:$})},h=(T,O,M,I,R,D)=>{const[N,L]=T.calculateTextureWidthAndHeight(O.dims,f.TextureType.unpacked),B=D.length;if(M<1||I<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(D.length!==1)throw new Error("Dimensionality of the output should be 1");if(D[0]!==M)throw new Error("Shape of the output should be equal to logical row count");if(R.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(R[0]!==M)throw new Error("Shape of the intermediate results should be equal to logical row count");const $=`
      float process(int[${B}] indices) {
        int logical_row_start_offset = indices[0] * ${I};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${I}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,d.getGlsl)(T.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${N}, ${L}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},v),{output:{dims:D,type:O.type,textureType:f.TextureType.unpacked},shaderSource:$})},w=(T,O,M,I,R,D)=>{const[N,L]=T.calculateTextureWidthAndHeight(O.dims,f.TextureType.unpacked),B=O.dims.length;if(M<1||I<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(R.length!==1||D.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(R[0]!==M||D[0]!==M)throw new Error("Shape of the intermediate results should be equal to logical row count");const $=`
      float process(int[${B}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${N}, ${L});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${I};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},m),{output:{dims:O.dims,type:O.type,textureType:f.TextureType.unpacked},shaderSource:$})},E=T=>{if(!T||T.length!==1)throw new Error("Softmax requires 1 input.");if(T[0].type!=="float32"&&T[0].type!=="float64")throw new Error("Invalid input type")}},5975:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseSplitAttributes=e.split=void 0;const i=n(246),l=n(2517),d=n(2039),f={name:"Split",inputNames:["A"],inputTypes:[d.TextureType.unpacked]};e.split=(m,u,o)=>{v(u);const h=l.ShapeUtil.normalizeAxis(o.axis,u[0].dims.length),w=b(m,u,h,o),E=[];for(let T=0;T<w;++T)E.push(m.run(Object.assign(Object.assign({},f),{cacheHint:`${o.cacheKey};${T}`,get:()=>_(m,u[0],o,h,T)}),u));return E},e.parseSplitAttributes=m=>{const u=m.attributes.getInt("axis",0),o=m.attributes.getInts("split",[]),h=m.outputs.length;return(0,i.createAttributeWithCacheKey)({axis:u,split:o,numOutputs:h})};const b=(m,u,o,h)=>{const[,w]=l.SplitUtil.splitShape(u[0].dims,o,h.split,h.numOutputs);return w.length},_=(m,u,o,h,w)=>{const[E,T]=l.SplitUtil.splitShape(u.dims,h,o.split,o.numOutputs),O=T[w],M=E[w],I=`
      float process(int indices[${M.length}]) {
        indices[${h}] += ${O};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},f),{cacheHint:`${o.cacheKey}:${w}`,output:{dims:M,type:u.type,textureType:d.TextureType.unpacked},shaderSource:I})},v=m=>{if(!m||m.length!==1)throw new Error("Split requires one input.");if(m[0].type!=="int8"&&m[0].type!=="uint8"&&m[0].type!=="int16"&&m[0].type!=="uint16"&&m[0].type!=="int32"&&m[0].type!=="uint32"&&m[0].type!=="float32"&&m[0].type!=="float64"&&m[0].type!=="bool")throw new Error("Invalid input type.")}},3933:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseSqueezeAttributes=e.squeezeV13=e.squeeze=void 0;const i=n(2517);e.squeeze=(f,b,_)=>{l(b);const v=i.ShapeUtil.squeezeShape(b[0].dims,_);return[f.reshapeUnpacked(b[0],v)]},e.squeezeV13=(f,b)=>(d(b),(0,e.squeeze)(f,[b[0]],Array.from(b[1].integerData))),e.parseSqueezeAttributes=f=>f.attributes.getInts("axes");const l=f=>{if(!f||f.length!==1)throw new Error("Squeeze requires 1 input.");if(f[0].type==="string")throw new Error("invalid input tensor types.")},d=f=>{if(!f||f.length!==2)throw new Error("Squeeze requires 2 inputs.");if(f[1].type!=="int32")throw new Error("Invalid input type.")}},6558:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sum=void 0;const i=n(5060),l=n(2039);e.sum=(b,_)=>{f(_);const v={name:"Sum",inputNames:_.map(((m,u)=>`X${u}`)),inputTypes:new Array(_.length).fill(l.TextureType.unpacked)};return[b.run(Object.assign(Object.assign({},v),{get:()=>d(b,_,v)}),_)]};const d=(b,_,v)=>{const m=(0,i.getGlsl)(b.session.backend.glContext.version),u=_[0].dims.slice(),o=`
      void main() {
        vec4 result = ${_.map(((h,w)=>`${m.texture2D}(X${w},TexCoords)`)).join(" + ")};
        ${m.output} = result;
      }
    `;return Object.assign(Object.assign({},v),{output:{dims:u,type:_[0].type,textureType:l.TextureType.unpacked},hasMain:!0,shaderSource:o})},f=b=>{if(!b||b.length===0)throw new Error("Sum requires inputs.");const _=b[0].dims.length;for(let v=1;v<b.length;v++){if(_!==b[v].dims.length)throw new Error("Input shapes are mismatched.");for(let m=0;m<_;m++)if(b[0].dims[m]!==b[v].dims[m])throw new Error("Input shapes are not matched.")}if(b[0].type!=="float32"&&b[0].type!=="float64")throw new Error("Invalid input type.");for(let v=1;v<b.length;v++)if(b[0].type!==b[v].type)throw new Error("Input types are not matched.")}},5723:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tile=void 0;const i=n(782),l=n(2039);e.tile=(b,_)=>{f(_);const v={name:"Tile",inputNames:["A"],inputTypes:[l.TextureType.unpacked]};return[b.run(Object.assign(Object.assign({},v),{get:()=>d(b,_,v)}),_)]};const d=(b,_,v)=>{const m=_[0].dims.slice(),u=new Array(m.length),o=[];for(let E=0;E<m.length;E++)u[E]=m[E]*_[1].numberData[E],o.push(`inputIdx[${E}] = int(mod(float(outputIdx[${E}]), ${m[E]}.));`);const h=u.length,w=`
      float process(int outputIdx[${h}]) {
        int inputIdx[${h}];
        ${o.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},v),{output:{dims:u,type:_[0].type,textureType:l.TextureType.unpacked},shaderSource:w})},f=b=>{if(!b||b.length!==2)throw new Error("Tile requires 2 input.");if(b[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(b[1].dims[0]!==b[0].dims.length)throw new Error("Invalid input shape.");if(i.NUMBER_TYPES.indexOf(b[0].type)===-1)throw new Error("Invalid input type.");if(b[1].type!=="int32"&&b[1].type!=="int16")throw new Error("Invalid repeat type.")}},3738:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseTransposeAttributes=e.transpose=void 0;const i=n(246),l=n(2517),d=n(2039),f={name:"Transpose",inputNames:["A"],inputTypes:[d.TextureType.unpacked]};e.transpose=(o,h,w)=>(u(h),[o.run(Object.assign(Object.assign({},f),{cacheHint:w.cacheKey,get:()=>b(o,h[0],w.perm)}),h)]),e.parseTransposeAttributes=o=>(0,i.createAttributeWithCacheKey)({perm:o.attributes.getInts("perm",[])});const b=(o,h,w)=>{const E=h.dims;w=_(E,w);const T=v(E,w),O=E.length,M=`
      ${m("perm",w,O)}
      float process(int indices[${O}]) {
        int a[${O}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},f),{output:{dims:T,type:h.type,textureType:d.TextureType.unpacked},shaderSource:M})},_=(o,h)=>(h&&h.length!==o.length&&(h=[...o.keys()].reverse()),h),v=(o,h)=>(h=_(o,h),l.ShapeUtil.sortBasedOnPerm(o,h)),m=(o,h,w)=>{const E=[];E.push(`void ${o}(out int a[${w}], int src[${w}]) {`);for(let T=0;T<w;++T)E.push(`	a[${h[T]}]=src[${T}];`);return E.push("	}"),E.join(`
`)},u=o=>{if(!o||o.length!==1)throw new Error("Transpose requires 1 input.");if(o[0].type!=="float32"&&o[0].type!=="float64")throw new Error("input should be float tensor")}},8710:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.encodeAsUint8=void 0;const i=n(5060),l=n(2039);e.encodeAsUint8=(d,f)=>{const b=f.shape,_=(0,i.getGlsl)(d.session.backend.glContext.version),v=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${_.texture2D}(X,TexCoords).r;
      ${_.output} = encodeAsUint8(value);
    }`,m={name:"Uint8Encode",inputTypes:[l.TextureType.unpacked],inputNames:["X"],output:{dims:b,type:f.tensor.type,textureType:l.TextureType.downloadUint8AsFloat},shaderSource:v,hasMain:!0};return d.executeProgram(m,[f.tensor])}},4909:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tanh=e.tan=e.sqrt=e.sin=e.sigmoid=e.relu=e.not=e.neg=e.log=e.parseLeakyReluAttributes=e.leakyRelu=e.identity=e.floor=e.exp=e.parseEluAttributes=e.elu=e.cos=e.ceil=e.clipV11=e.parseClipAttributes=e.clip=e.atan=e.asin=e.acos=e.abs=e.glslTanh=e.glslTan=e.glslSqrt=e.glslSigmoid=e.glslRelu=e.glslSin=e.glslNot=e.glslNeg=e.glslLog=e.glslLeakyRelu=e.glslIdentity=e.glslClip=e.glslFloor=e.glslExp=e.glslElu=e.glslCos=e.glslCeil=e.glslAtan=e.glslAsin=e.glslAcos=e.glslAbs=void 0;const i=n(246),l=n(2517),d=n(8520),f=n(5060),b=n(2039);function _(){return ee("abs")}function v(){return ee("acos")}function m(){return ee("asin")}function u(){return ee("atan")}function o(){return ee("ceil")}function h(){return ee("cos")}function w(U){return{body:`
  const float alpha = float(${U});

  float elu_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 elu_(vec4 v) {
    return vec4(elu_(v.x), elu_(v.y), elu_(v.z), elu_(v.w));
  }
  `,name:"elu",type:d.FunctionType.ValueBased}}function E(){return ee("exp")}function T(){return ee("floor")}function O(U,q){const le="clip";return{body:`
  const float min = float(${U});
  const float max = float(${q});

  float ${le}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${le}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:le,type:d.FunctionType.ValueBased}}function M(){const U="indentity";return{body:`
  float ${U}_(float a) {
    return a;
  }
  vec4 ${U}_(vec4 v) {
    return v;
  }
  `,name:U,type:d.FunctionType.ValueBased}}function I(U){const q="leakyRelu";return{body:`
  const float alpha = float(${U});

  float ${q}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${q}_(vec4 v) {
    return vec4(${q}_(v.x), ${q}_(v.y), ${q}_(v.z), ${q}_(v.w));
  }
  `,name:q,type:d.FunctionType.ValueBased}}function R(){return ee("log")}function D(){return{body:`
  float neg_(float a) {
    return -a;
  }
  vec4 neg_(vec4 v) {
    return -v;
  }
  `,name:"neg",type:d.FunctionType.ValueBased}}function N(){return{body:`
  float not_(float a) {
    return float( ! bool(a) );
  }
  bool not_(bool a) {
    return !a;
  }
  vec4 not_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 not_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:"not",type:d.FunctionType.ValueBased}}function L(){return ee("sin")}function B(){const U="relu";return{body:`
  float ${U}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${U}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:U,type:d.FunctionType.ValueBased}}function $(){const U="sigmoid";return{body:`
  float ${U}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${U}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:U,type:d.FunctionType.ValueBased}}function V(){return ee("sqrt")}function G(){return ee("tan")}function X(){const U="tanh";return{body:`
  float ${U}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${U}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:U,type:d.FunctionType.ValueBased}}function ee(U){return{body:`
  float ${U}_(float a) {
    return ${U}(a);
  }
  vec4 ${U}_(vec4 v) {
    return ${U}(v);
  }
  `,name:U,type:d.FunctionType.ValueBased}}e.glslAbs=_,e.glslAcos=v,e.glslAsin=m,e.glslAtan=u,e.glslCeil=o,e.glslCos=h,e.glslElu=w,e.glslExp=E,e.glslFloor=T,e.glslClip=O,e.glslIdentity=M,e.glslLeakyRelu=I,e.glslLog=R,e.glslNeg=D,e.glslNot=N,e.glslSin=L,e.glslRelu=B,e.glslSigmoid=$,e.glslSqrt=V,e.glslTan=G,e.glslTanh=X;const Q=(U,q,le,ie)=>{const Ee=U.session.pack?b.TextureType.packed:b.TextureType.unpacked,Z={name:le.name,inputTypes:[Ee],inputNames:["A"],cacheHint:ie};return Object.assign(Object.assign({},Z),{get:()=>((ue,Ae,Ce,ke)=>{const Ne=ue.session.pack?b.TextureType.packed:b.TextureType.unpacked,Le=(0,f.getGlsl)(ue.session.backend.glContext.version);return Object.assign(Object.assign({},Ae),{output:{dims:Ce.dims,type:Ce.type,textureType:Ne},shaderSource:`
     ${ke.body}
     void main() {
       vec4 v = ${Le.texture2D}(A, TexCoords);
       v = ${ke.name}_(v);
       ${Le.output} = v;
     }
     `,hasMain:!0})})(U,Z,q,le)})};e.abs=(U,q)=>[U.run(Q(U,q[0],_()),q)],e.acos=(U,q)=>[U.run(Q(U,q[0],v()),q)],e.asin=(U,q)=>[U.run(Q(U,q[0],m()),q)],e.atan=(U,q)=>[U.run(Q(U,q[0],u()),q)],e.clip=(U,q,le)=>[U.run(Q(U,q[0],O(le.min,le.max),le.cacheKey),q)],e.parseClipAttributes=U=>(0,i.createAttributeWithCacheKey)({min:U.attributes.getFloat("min",l.MIN_CLIP),max:U.attributes.getFloat("max",l.MAX_CLIP)}),e.clipV11=(U,q)=>{const le=Y(U,q);return(0,e.clip)(U,[q[0]],le)};const Y=(U,q)=>{if(q.length>=3&&(!U.session.isInitializer(q[1].dataId)||!U.session.isInitializer(q[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const le=q.length>=3?q[1].numberData[0]:l.MIN_CLIP,ie=q.length>=3?q[2].numberData[0]:l.MAX_CLIP;return(0,i.createAttributeWithCacheKey)({min:le,max:ie})};e.ceil=(U,q)=>[U.run(Q(U,q[0],o()),q)],e.cos=(U,q)=>[U.run(Q(U,q[0],h()),q)],e.elu=(U,q,le)=>[U.run(Q(U,q[0],w(le.alpha),le.cacheKey),q)],e.parseEluAttributes=U=>(0,i.createAttributeWithCacheKey)({alpha:U.attributes.getFloat("alpha",1)}),e.exp=(U,q)=>[U.run(Q(U,q[0],E()),q)],e.floor=(U,q)=>[U.run(Q(U,q[0],T()),q)],e.identity=(U,q)=>[U.run(Q(U,q[0],M()),q)],e.leakyRelu=(U,q,le)=>[U.run(Q(U,q[0],I(le.alpha),le.cacheKey),q)],e.parseLeakyReluAttributes=U=>(0,i.createAttributeWithCacheKey)({alpha:U.attributes.getFloat("alpha",.01)}),e.log=(U,q)=>[U.run(Q(U,q[0],R()),q)],e.neg=(U,q)=>[U.run(Q(U,q[0],D()),q)],e.not=(U,q)=>[U.run(Q(U,q[0],N()),q)],e.relu=(U,q)=>[U.run(Q(U,q[0],B()),q)],e.sigmoid=(U,q)=>[U.run(Q(U,q[0],$()),q)],e.sin=(U,q)=>[U.run(Q(U,q[0],L()),q)],e.sqrt=(U,q)=>[U.run(Q(U,q[0],V()),q)],e.tan=(U,q)=>[U.run(Q(U,q[0],G()),q)],e.tanh=(U,q)=>[U.run(Q(U,q[0],X()),q)]},5611:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createUnpackProgramInfoLoader=e.createUnpackProgramInfo=void 0;const i=n(5060),l=n(2039),d=n(9390),f=n(2827),b={name:"unpack",inputNames:["A"],inputTypes:[l.TextureType.packed]};e.createUnpackProgramInfo=(_,v)=>{const m=v.dims.length,u=(0,f.getChannels)("rc",m),o=u.slice(-2),h=(0,d.getCoordsDataType)(m),w=(0,f.unpackFromChannel)(),E=v.dims.length===0?"":(function(M,I){if(M===1)return"rc";let R="";for(let D=0;D<M;D++)R+=I[D],D<M-1&&(R+=",");return R})(m,u),T=m<=1?"rc":`vec2(${o.join(",")})`,O=`
    ${w}
    void main() {
      ${h} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${E});

       ${(0,i.getGlsl)(_.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${T}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},b),{hasMain:!0,output:{dims:v.dims,type:v.type,textureType:l.TextureType.unpacked},shaderSource:O})},e.createUnpackProgramInfoLoader=(_,v)=>Object.assign(Object.assign({},b),{get:()=>(0,e.createUnpackProgramInfo)(_,v)})},8428:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseUnsqueezeAttributes=e.unsqueezeV13=e.unsqueeze=void 0;const i=n(2517);e.unsqueeze=(f,b,_)=>{l(b);const v=i.ShapeUtil.unsqueezeShape(b[0].dims,_);return[f.reshapeUnpacked(b[0],v)]},e.unsqueezeV13=(f,b)=>(d(b),(0,e.unsqueeze)(f,[b[0]],Array.from(b[1].integerData))),e.parseUnsqueezeAttributes=f=>f.attributes.getInts("axes");const l=f=>{if(!f||f.length!==1)throw new Error("Unsqueeze requires 1 input.");if(f[0].type==="string")throw new Error("invalid input tensor types.")},d=f=>{if(!f||f.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(f[1].type!=="int32")throw new Error("Invalid input type.")}},9793:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scalesValidation=e.validateInputs=e.parseUpsampleAttributes=e.parseUpsampleAttributesV9=e.parseUpsampleAttributesV7=e.upsample=void 0;const i=n(246),l=n(5060),d=n(2039),f={name:"Upsample",inputNames:["X"],inputTypes:[d.TextureType.unpacked]};e.upsample=(_,v,m)=>((0,e.validateInputs)(v,m),[_.run(Object.assign(Object.assign({},f),{cacheHint:m.cacheKey,get:()=>b(_,v,m)}),v)]),e.parseUpsampleAttributesV7=_=>(0,e.parseUpsampleAttributes)(_,7),e.parseUpsampleAttributesV9=_=>(0,e.parseUpsampleAttributes)(_,9),e.parseUpsampleAttributes=(_,v)=>{const m=v>=10,u=_.attributes.getString("mode","nearest");if(u!=="nearest"&&u!=="linear"&&(v<11||u!=="cubic"))throw new Error(`unrecognized mode: ${u}`);let o=[];v<9&&(o=_.attributes.getFloats("scales"),(0,e.scalesValidation)(o,u,m));const h=_.attributes.getFloat("extrapolation_value",0),w=v>10?_.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(w)===-1)throw new Error(`coordinate_transform_mode '${w}' is not supported`);const E=w==="tf_crop_and_resize",T=E,O=u==="nearest"&&v>=11?_.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(O)===-1)throw new Error(`nearest_mode '${O}' is not supported`);const M=_.attributes.getFloat("cubic_coeff_a",-.75),I=_.attributes.getInt("exclude_outside",0)!==0;if(I&&u!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const R=v<11||u==="nearest"&&w==="asymmetric"&&O==="floor";let D=0,N=0,L=0;return v>10?_.inputs.length>2?(D=1,N=2,L=3):(N=1,L=2):v===9&&(N=1),(0,i.createAttributeWithCacheKey)({opset:v,isResize:m,mode:u,scales:o,extrapolationValue:h,coordinateTransformMode:w,useExtrapolation:T,needRoiInput:E,nearestMode:O,cubicCoefficientA:M,excludeOutside:I,useNearest2xOptimization:R,roiInputIdx:D,scalesInputIdx:N,sizesInputIdx:L})};const b=(_,v,m)=>{const u=(0,l.getGlsl)(_.session.backend.glContext.version),[o,h]=_.calculateTextureWidthAndHeight(v[0].dims,d.TextureType.unpacked),w=v[0].dims.map(((L,B)=>Math.floor(L*m.scales[B]))),[E,T]=_.calculateTextureWidthAndHeight(w,d.TextureType.unpacked),O=w.length,M=new Array(O),I=new Array(O);let R=`
      int output_pitches[${O}];
      int input_pitches[${O}];
      `;for(let L=O-1;L>=0;L--)M[L]=L===O-1?1:M[L+1]*w[L+1],I[L]=L===O-1?1:I[L+1]*v[0].dims[L+1],R+=`
        output_pitches[${L}] = ${M[L]};
        input_pitches[${L}] = ${I[L]};
        `;const D=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${o}, ${h});
        float value = getColorAsFloat(${u.texture2D}(X, coords));
        return value;
      }
      `,N=m.mode==="nearest"?`
    ${D}
    float process(int indices[${O}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${E}, ${T});

      ${R}

      int d, m;
      for (int dim = 0; dim < ${O}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:O===4?`
    ${D}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${E}, ${T});

      ${R}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${v[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${D}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${E}, ${T});

      ${R}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${v[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},f),{output:{dims:w,type:v[0].type,textureType:d.TextureType.unpacked},shaderSource:N,variables:[{name:"scales",type:"int",arrayLength:m.scales.length,data:m.scales.map((L=>Math.ceil(L)))}]})};e.validateInputs=(_,v)=>{if(!_||v.opset<9&&_.length!==1||v.opset>=9&&v.opset<11&&_.length!==2||v.opset>=11&&_.length<2)throw new Error("invalid inputs.");if(v.scales.length>0&&_[0].dims.length!==v.scales.length)throw new Error("Invalid input shape.");if(_[0].type==="string")throw new Error("Invalid input tensor types.")},e.scalesValidation=(_,v,m)=>{if(m){for(const u of _)if(u<=0)throw new Error("Scale value should be greater than 0.")}else for(const u of _)if(u<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(v!=="linear"&&v!=="cubic"||_.length===2||_.length===4&&_[0]===1&&_[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${m?"Resize":"Upsample"} opeartor.`)}},1958:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ProgramManager=void 0;const i=n(1670),l=n(6231),d=n(8879),f=n(5060);e.ProgramManager=class{constructor(b,_,v){this.profiler=b,this.glContext=_,this.textureLayoutStrategy=v,this.repo=new Map,this.attributesBound=!1}getArtifact(b){return this.repo.get(b)}setArtifact(b,_){this.repo.set(b,_)}run(b,_,v){var m;this.profiler.event("op",`ProgramManager.run ${(m=b.programInfo.name)!==null&&m!==void 0?m:"unknown kernel"}`,(()=>{var u;const o=this.glContext.gl,h=b.program;o.useProgram(h);try{this.bindOutput(v),this.attributesBound||this.bindAttributes(b.attribLocations),this.bindUniforms(b.uniformLocations,(u=b.programInfo.variables)!==null&&u!==void 0?u:[],_)}catch(w){throw l.Logger.error("ProgramManager",b.programInfo.shaderSource),w}this.profiler.event("backend","GlContext.draw()",(()=>{this.glContext.draw()}))}),this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach((b=>this.glContext.deleteProgram(b.program)))}build(b,_,v){return this.profiler.event("backend","ProgramManager.build",(()=>{const m=new d.GlslPreprocessor(this.glContext,b,_,v),u=m.preprocess(),o=this.compile(u);return{programInfo:b,program:o,uniformLocations:this.getUniformLocations(o,m.context.programInfo.inputNames,m.context.programInfo.variables),attribLocations:this.getAttribLocations(o)}}))}compile(b){if(!this.vertexShader){l.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const m=(0,f.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(m,this.glContext.gl.VERTEX_SHADER)}i.env.debug&&l.Logger.verbose("ProrgramManager",`FragShader:
${b}
`);const _=this.glContext.compileShader(b,this.glContext.gl.FRAGMENT_SHADER),v=this.glContext.createProgram(this.vertexShader,_);return this.glContext.deleteShader(_),v}bindOutput(b){const _=b.width,v=b.height;l.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${_}/${v}, shape=${b.shape}, type=${b.tensor.type}`),this.glContext.attachFramebuffer(b.texture,_,v)}bindAttributes(b){const _=b.position,v=b.textureCoord;this.glContext.setVertexAttributes(_,v),this.attributesBound=!0}bindUniforms(b,_,v){var m;const u=this.glContext.gl;let o=0;for(const{name:h,type:w,location:E,arrayLength:T}of b){const O=(m=_.find((M=>M.name===h)))===null||m===void 0?void 0:m.data;if(w!=="sampler2D"&&!O)throw new Error(`variable '${h}' does not have data defined in program info`);switch(w){case"sampler2D":this.bindTexture(v[o],E,o),o++;break;case"float":T?u.uniform1fv(E,O):u.uniform1f(E,O);break;case"int":T?u.uniform1iv(E,O):u.uniform1i(E,O);break;default:throw new Error(`Uniform not implemented: ${w}`)}}}bindTexture(b,_,v){this.glContext.bindTextureToUniform(b.texture,v,_)}getAttribLocations(b){return{position:this.getAttribLocation(b,"position"),textureCoord:this.getAttribLocation(b,"textureCoord")}}getUniformLocations(b,_,v){const m=[];if(_)for(const u of _)m.push({name:u,type:"sampler2D",location:this.getUniformLocation(b,u)});if(v)for(const u of v)m.push(Object.assign(Object.assign({},u),{location:this.getUniformLocation(b,u.name)}));return m}getUniformLocation(b,_){const v=this.glContext.gl.getUniformLocation(b,_);if(v===null)throw new Error(`Uniform ${_} not found.`);return v}getAttribLocation(b,_){return this.glContext.gl.getAttribLocation(b,_)}}},6416:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLSessionHandler=void 0;const i=n(6231),l=n(1047),d=n(8316),f=n(1640),b=n(1958),_=n(7859),v=n(5702);e.WebGLSessionHandler=class{constructor(m,u){this.backend=m,this.context=u,this.layoutStrategy=new _.PreferLogicalStrategy(m.glContext.maxTextureSize),this.programManager=new b.ProgramManager(this.context.profiler,m.glContext,this.layoutStrategy),this.textureManager=new v.TextureManager(m.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:m.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=m.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new d.WebGLInferenceHandler(this)}onGraphInitialized(m){const u=m.getValues().filter((o=>o.from===-1&&o.tensor)).map((o=>o.tensor.dataId));this.initializers=new Set(u)}isInitializer(m){return!!this.initializers&&this.initializers.has(m)}addInitializer(m){this.initializers.add(m)}getTextureData(m,u){return u?this.packedTextureDataCache.get(m):this.unpackedTextureDataCache.get(m)}setTextureData(m,u,o=!1){i.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),o?this.packedTextureDataCache.set(m,u):this.unpackedTextureDataCache.set(m,u)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((m=>this.textureManager.releaseTexture(m,!0))),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((m=>this.textureManager.releaseTexture(m,!0))),this.unpackedTextureDataCache=new Map}resolve(m,u,o){const h=(0,l.resolveOperator)(m,u,f.WEBGL_OP_RESOLVE_RULES);return{impl:h.opImpl,context:h.opInit?h.opInit(m,o):m}}}},7769:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Uint8DataEncoder=e.RGBAFloatDataEncoder=e.RedFloat32DataEncoder=void 0;const i=n(6231);e.RedFloat32DataEncoder=class{constructor(l,d=1){if(d===1)this.internalFormat=l.R32F,this.format=l.RED,this.textureType=l.FLOAT,this.channelSize=d;else{if(d!==4)throw new Error(`Invalid number of channels: ${d}`);this.internalFormat=l.RGBA32F,this.format=l.RGBA,this.textureType=l.FLOAT,this.channelSize=d}}encode(l,d){let f,b;return l.constructor!==Float32Array&&(i.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),b=new Float32Array(l)),d*this.channelSize>l.length?(i.Logger.warning("Encoder","Source data too small. Allocating larger array"),b=l,f=this.allocate(d*this.channelSize),b.forEach(((_,v)=>f[v]=_))):(b=l,f=b),f}allocate(l){return new Float32Array(4*l)}decode(l,d){return this.channelSize===1?l.filter(((f,b)=>b%4==0)).subarray(0,d):l.subarray(0,d)}},e.RGBAFloatDataEncoder=class{constructor(l,d=1,f){if(d!==1&&d!==4)throw new Error(`Invalid number of channels: ${d}`);this.internalFormat=l.RGBA,this.format=l.RGBA,this.channelSize=d,this.textureType=f||l.FLOAT}encode(l,d){let f=l;return this.channelSize===1&&(i.Logger.verbose("Encoder","Exploding into a larger array"),f=this.allocate(d),l.forEach(((b,_)=>f[4*_]=b))),f}allocate(l){return new Float32Array(4*l)}decode(l,d){return this.channelSize===1?l.filter(((f,b)=>b%4==0)).subarray(0,d):l.subarray(0,d)}},e.Uint8DataEncoder=class{constructor(l,d=1){if(this.channelSize=4,d===1)this.internalFormat=l.ALPHA,this.format=l.ALPHA,this.textureType=l.UNSIGNED_BYTE,this.channelSize=d;else{if(d!==4)throw new Error(`Invalid number of channels: ${d}`);this.internalFormat=l.RGBA,this.format=l.RGBA,this.textureType=l.UNSIGNED_BYTE,this.channelSize=d}}encode(l,d){return new Uint8Array(l.buffer,l.byteOffset,l.byteLength)}allocate(l){return new Uint8Array(l*this.channelSize)}decode(l,d){if(l instanceof Uint8Array)return l.subarray(0,d);throw new Error(`Invalid array type: ${l.constructor}`)}}},7859:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getBatchDim=e.sizeToSquarishShape=e.getRowsCols=e.sizeFromShape=e.isInt=e.parseAxisParam=e.squeezeShape=e.PreferLogicalStrategy=e.AlwaysKeepOriginalSizeStrategy=void 0;const i=n(6231),l=n(2517);function d(m,u){const o=[],h=[],w=u!=null&&Array.isArray(u)&&u.length===0,E=u==null||w?null:f(u,m).sort();let T=0;for(let O=0;O<m.length;++O){if(E!=null){if(E[T]===O&&m[O]!==1)throw new Error(`Can't squeeze axis ${O} since its dim '${m[O]}' is not 1`);(E[T]==null||E[T]>O)&&m[O]===1&&(o.push(m[O]),h.push(O)),E[T]<=O&&T++}m[O]!==1&&(o.push(m[O]),h.push(O))}return{newShape:o,keptDims:h}}function f(m,u){const o=u.length;return m=m==null?u.map(((h,w)=>w)):[].concat(m),(0,l.assert)(m.every((h=>h>=-o&&h<o)),(()=>`All values in axis param must be in range [-${o}, ${o}) but got axis ${m}`)),(0,l.assert)(m.every(b),(()=>`All values in axis param must be integers but got axis ${m}`)),m.map((h=>h<0?o+h:h))}function b(m){return m%1==0}function _(m){if(m.length===0)return 1;let u=m[0];for(let o=1;o<m.length;o++)u*=m[o];return u}function v(m){const u=Math.ceil(Math.sqrt(m));return[u,Math.ceil(m/u)]}e.AlwaysKeepOriginalSizeStrategy=class{constructor(m){this.maxTextureSize=m}computeTextureWH(m,u){if(m.length===0)return[1,1];const o=this.maxTextureSize;if(u&&u.breakAxis!==void 0){const E=u.breakAxis>=m.length?1:m.slice(u.breakAxis).reduce(((O,M)=>O*M)),T=u.breakAxis<=0?1:m.slice(0,u.breakAxis).reduce(((O,M)=>O*M));if(!(E>o||T>o))return[E,T];i.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${m}, breakAxis:${u.breakAxis}`)}const h=m.reduce(((E,T)=>E*T));let w=Math.floor(Math.sqrt(h));for(;w<o&&w<h&&h%w!=0;w++);if(w>=o||h%w!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${m}`);return[w,h/w]}},e.PreferLogicalStrategy=class{constructor(m){this.maxTextureSize=m}computeTextureWH(m,u){const o=this.computeTexture(m,u);return u&&u.isPacked&&(o[0]/=2,o[1]/=2),u&&u.reverseWH?[o[1],o[0]]:o}computeTexture(m,u){const o=u&&u.isPacked;if(m.length===0)return o?[2,2]:[1,1];let h=this.maxTextureSize;if(u&&u.breakAxis!==void 0){const T=u.breakAxis>=m.length?1:m.slice(u.breakAxis).reduce(((M,I)=>M*I)),O=u.breakAxis<=0?1:m.slice(0,u.breakAxis).reduce(((M,I)=>M*I));if(!(T>h||O>h))return[T,O];i.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${m}, breakAxis:${u.breakAxis}`)}let w=m.slice(0);o&&(h*=2,w=w.map(((T,O)=>O>=w.length-2?w[O]%2==0?w[O]:w[O]+1:w[O])),w.length===1&&(w=[2,w[0]])),w.length!==2&&(w=d(w).newShape);const E=_(w);return w.length<=1&&E<=h?[1,E]:w.length===2&&w[0]<=h&&w[1]<=h?w:w.length===3&&w[0]*w[1]<=h&&w[2]<=h?[w[0]*w[1],w[2]]:w.length===3&&w[0]<=h&&w[1]*w[2]<=h?[w[0],w[1]*w[2]]:w.length===4&&w[0]*w[1]*w[2]<=h&&w[3]<=h?[w[0]*w[1]*w[2],w[3]]:w.length===4&&w[0]<=h&&w[1]*w[2]*w[3]<=h?[w[0],w[1]*w[2]*w[3]]:o?v(E/4).map((T=>2*T)):v(E)}},e.squeezeShape=d,e.parseAxisParam=f,e.isInt=b,e.sizeFromShape=_,e.getRowsCols=function(m){if(m.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[m.length>1?m[m.length-2]:1,m[m.length-1]]},e.sizeToSquarishShape=v,e.getBatchDim=function(m,u=2){return _(m.slice(0,m.length-u))}},4057:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createTextureLayoutFromShape=e.calculateTextureWidthAndHeight=e.createTextureLayoutFromTextureType=void 0;const i=n(2517),l=n(2039);e.createTextureLayoutFromTextureType=(d,f,b)=>{const _=b===l.TextureType.unpacked||b===l.TextureType.unpackedReversed?1:4,v=b===l.TextureType.packed,m=b===l.TextureType.unpackedReversed||b===l.TextureType.packed,u=b===l.TextureType.packedLastDimension?f.length-1:void 0,o=b===l.TextureType.packedLastDimension?f.map(((h,w)=>w===f.length-1?4*h:h)):void 0;return(0,e.createTextureLayoutFromShape)(d,f,_,o,{isPacked:v,reverseWH:m,breakAxis:u})},e.calculateTextureWidthAndHeight=(d,f,b)=>{const _=(0,e.createTextureLayoutFromTextureType)(d,f,b);return[_.width,_.height]},e.createTextureLayoutFromShape=(d,f,b=1,_,v)=>{const m=!(!v||!v.isPacked),[u,o]=d.computeTextureWH(m&&_||f,v),h=f.length;let w=f.slice(0);if(h===0&&(w=[1]),b===1)_=f;else if(m){if(b!==4)throw new Error("a packed texture must be 4-channel");_=f,h>0&&(w[h-1]=Math.ceil(w[h-1]/2)),h>1&&(w[h-2]=Math.ceil(w[h-2]/2))}else if(!_)throw new Error("Unpacked shape is needed when using channels > 1");return{width:u,height:o,channels:b,isPacked:m,shape:w,strides:i.ShapeUtil.computeStrides(w),unpackedShape:_,reversedWH:v&&v.reverseWH}}},5702:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextureManager=void 0;const i=n(6231);e.TextureManager=class{constructor(l,d,f,b){this.glContext=l,this.layoutStrategy=d,this.profiler=f,this.config=b,this.pendingRead=new Map,b.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(l,d,f,b){const _=this.toEncoderType(l),v=this.glContext.getEncoder(_,d.channels||1,b);if(d.isPacked&&b===1)throw new Error("not implemented");const m=d.width,u=d.height;let o,h;if(this.config.reuseTextures){o=`${m}x${u}_${v.format}_${v.internalFormat}_${v.textureType}`,h=this.inUseTextures.get(o),h||(h=[],this.inUseTextures.set(o,h));const E=this.idleTextures.get(o);if(E&&E.length>0){const T=E.pop();return h.push(T),b===1&&this.glContext.updateTexture(T,m,u,v,this.toTextureData(l,f)),T}}i.Logger.verbose("TextureManager",`Creating new texture of size ${d.width}x${d.height}`);const w=this.glContext.allocateTexture(m,u,v,this.toTextureData(l,f));return this.config.reuseTextures&&(h.push(w),this.textureLookup.set(w,o)),w}readTexture(l,d,f){return f||(f=1),this.profiler.event("backend","TextureManager.readTexture",(()=>{const b=l.shape.reduce(((v,m)=>v*m))*f,_=this.glContext.readTexture(l.texture,l.width,l.height,b,this.toEncoderType(d),f);return this.toTensorData(d,_)}))}async readTextureAsync(l,d,f){const b=l.tensor.dataId;if(f||(f=1),this.pendingRead.has(b)){const _=this.pendingRead.get(b);return new Promise((v=>_==null?void 0:_.push(v)))}return this.profiler.event("backend","TextureManager.readTextureAsync",(async()=>{this.pendingRead.set(b,[]);const _=l.shape.reduce(((o,h)=>o*h))*f;await this.glContext.createAndWaitForFence();const v=this.glContext.readTexture(l.texture,l.width,l.height,_,this.toEncoderType(d),f),m=this.toTensorData(d,v),u=this.pendingRead.get(b);return this.pendingRead.delete(b),u==null||u.forEach((o=>o(m))),m}))}readUint8TextureAsFloat(l){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",(()=>{const d=l.shape.reduce(((b,_)=>b*_)),f=this.glContext.readTexture(l.texture,l.width,l.height,4*d,"byte",4);return new Float32Array(f.buffer,f.byteOffset,d)}))}releaseTexture(l,d){let f;if(this.config.reuseTextures&&(f=this.textureLookup.get(l.texture),f)){d&&this.textureLookup.delete(f);const b=this.inUseTextures.get(f);if(b){const _=b.indexOf(l.texture);if(_!==-1){b.splice(_,1);let v=this.idleTextures.get(f);v||(v=[],this.idleTextures.set(f,v)),v.push(l.texture)}}}f&&!d||(i.Logger.verbose("TextureManager",`Deleting texture of size ${l.width}x${l.height}`),this.glContext.deleteTexture(l.texture))}toTensorData(l,d){switch(l){case"int16":return d instanceof Int16Array?d:Int16Array.from(d);case"int32":return d instanceof Int32Array?d:Int32Array.from(d);case"int8":return d instanceof Int8Array?d:Int8Array.from(d);case"uint16":return d instanceof Uint16Array?d:Uint16Array.from(d);case"uint32":return d instanceof Uint32Array?d:Uint32Array.from(d);case"uint8":case"bool":return d instanceof Uint8Array?d:Uint8Array.from(d);case"float32":return d instanceof Float32Array?d:Float32Array.from(d);case"float64":return d instanceof Float64Array?d:Float64Array.from(d);default:throw new Error(`TensorData type ${l} is not supported`)}}toTextureData(l,d){if(d)return d instanceof Float32Array?d:new Float32Array(d)}toEncoderType(l){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(t,e)=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),e.TextureType=void 0,(n=e.TextureType||(e.TextureType={}))[n.unpacked=0]="unpacked",n[n.unpackedReversed=1]="unpackedReversed",n[n.packed=2]="packed",n[n.downloadUint8AsFloat=3]="downloadUint8AsFloat",n[n.packedLastDimension=4]="packedLastDimension"},9390:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getGlChannels=e.getCoordsDataType=e.getSqueezedParams=e.squeezeInputShape=e.generateShaderFuncNameFromInputSamplerNameAtOutCoords=e.generateShaderFuncNameFromInputSamplerName=e.repeatedTry=e.getPackedShape=void 0;const i=n(2517);e.getPackedShape=function(l){const d=l.length;return l.slice(0,d-1).concat(l[d-1]/4)},e.repeatedTry=async function(l,d=(b=>0),f){return new Promise(((b,_)=>{let v=0;const m=()=>{if(l())return void b();v++;const u=d(v);f!=null&&v>=f?_():setTimeout(m,u)};m()}))},e.generateShaderFuncNameFromInputSamplerName=function(l){return(0,i.assert)(l!==void 0&&l.length!==0,(()=>"empty string found for sampler name")),"get"+l.charAt(0).toUpperCase()+l.slice(1)},e.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(l){return(0,i.assert)(l!==void 0&&l.length!==0,(()=>"empty string found for sampler name")),"get"+l.charAt(0).toUpperCase()+l.slice(1)+"AtOutCoords"},e.squeezeInputShape=function(l,d){let f=JSON.parse(JSON.stringify(l));return f=d,f},e.getSqueezedParams=function(l,d){return d.map((f=>l[f])).join(", ")},e.getCoordsDataType=function(l){if(l<=1)return"int";if(l===2)return"ivec2";if(l===3)return"ivec3";if(l===4)return"ivec4";if(l===5)return"ivec5";if(l===6)return"ivec6";throw Error(`GPU for rank ${l} is not yet supported`)},e.getGlChannels=function(l=6){return["x","y","z","w","u","v"].slice(0,l)}},7305:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createNewWebGLContext=e.createWebGLContext=void 0;const i=n(6231),l=n(1713),d={};function f(b){const _=(function(){if(typeof document>"u"){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const u=document.createElement("canvas");return u.width=1,u.height=1,u})();let v;const m={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!b||b==="webgl2")&&(v=_.getContext("webgl2",m),v))try{return new l.WebGLContext(v,2)}catch(u){i.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${u}`)}if((!b||b==="webgl")&&(v=_.getContext("webgl",m)||_.getContext("experimental-webgl",m),v))try{return new l.WebGLContext(v,1)}catch(u){i.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${u}`)}throw new Error("WebGL is not supported")}e.createWebGLContext=function b(_){let v;_&&_!=="webgl2"||!("webgl2"in d)?_&&_!=="webgl"||!("webgl"in d)||(v=d.webgl):v=d.webgl2,v=v||f(_),_=_||v.version===1?"webgl":"webgl2";const m=v.gl;return d[_]=v,m.isContextLost()?(delete d[_],b(_)):(m.disable(m.DEPTH_TEST),m.disable(m.STENCIL_TEST),m.disable(m.BLEND),m.disable(m.DITHER),m.disable(m.POLYGON_OFFSET_FILL),m.disable(m.SAMPLE_COVERAGE),m.enable(m.SCISSOR_TEST),m.enable(m.CULL_FACE),m.cullFace(m.BACK),v)},e.createNewWebGLContext=f},1713:function(t,e,n){var i=this&&this.__createBinding||(Object.create?function(m,u,o,h){h===void 0&&(h=o);var w=Object.getOwnPropertyDescriptor(u,o);w&&!("get"in w?!u.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return u[o]}}),Object.defineProperty(m,h,w)}:function(m,u,o,h){h===void 0&&(h=o),m[h]=u[o]}),l=this&&this.__setModuleDefault||(Object.create?function(m,u){Object.defineProperty(m,"default",{enumerable:!0,value:u})}:function(m,u){m.default=u}),d=this&&this.__importStar||function(m){if(m&&m.__esModule)return m;var u={};if(m!=null)for(var o in m)o!=="default"&&Object.prototype.hasOwnProperty.call(m,o)&&i(u,m,o);return l(u,m),u};Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLContext=e.linearSearchLastTrue=void 0;const f=n(1670),b=d(n(7769)),_=n(9390);function v(m){let u=0;for(;u<m.length&&m[u]();++u);return u-1}e.linearSearchLastTrue=v,e.WebGLContext=class{constructor(m,u){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=m,this.version=u,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(m,u,o,h){const w=this.gl,E=w.createTexture();w.bindTexture(w.TEXTURE_2D,E),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.NEAREST),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.NEAREST),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE);const T=h?o.encode(h,m*u):null;return w.texImage2D(w.TEXTURE_2D,0,o.internalFormat,m,u,0,o.format,o.textureType,T),this.checkError(),E}updateTexture(m,u,o,h,w){const E=this.gl;E.bindTexture(E.TEXTURE_2D,m);const T=h.encode(w,u*o);E.texSubImage2D(E.TEXTURE_2D,0,0,0,u,o,h.format,h.textureType,T),this.checkError()}attachFramebuffer(m,u,o){const h=this.gl;h.bindTexture(h.TEXTURE_2D,m),h.bindFramebuffer(h.FRAMEBUFFER,this.framebuffer),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,m,0),this.checkError(),h.viewport(0,0,u,o),h.scissor(0,0,u,o)}readTexture(m,u,o,h,w,E){const T=this.gl;E||(E=1),this.frameBufferBound||this.attachFramebuffer(m,u,o);const O=this.getEncoder(w,E),M=O.allocate(u*o);return T.bindTexture(T.TEXTURE_2D,m),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,m,0),T.readPixels(0,0,u,o,T.RGBA,O.textureType,M),this.checkError(),O.decode(M,h)}isFramebufferReady(){return!0}getActiveTexture(){const m=this.gl;return"TEXTURE"+(m.getParameter(this.gl.ACTIVE_TEXTURE)-m.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(m,u){const o=this.gl;o.vertexAttribPointer(m,3,o.FLOAT,!1,20,0),o.enableVertexAttribArray(m),u!==-1&&(o.vertexAttribPointer(u,2,o.FLOAT,!1,20,12),o.enableVertexAttribArray(u)),this.checkError()}createProgram(m,u){const o=this.gl,h=o.createProgram();return o.attachShader(h,m),o.attachShader(h,u),o.linkProgram(h),h}compileShader(m,u){const o=this.gl,h=o.createShader(u);if(!h)throw new Error(`createShader() returned null with type ${u}`);if(o.shaderSource(h,m),o.compileShader(h),o.getShaderParameter(h,o.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${o.getShaderInfoLog(h)}
Shader source:
${m}`);return h}deleteShader(m){this.gl.deleteShader(m)}bindTextureToUniform(m,u,o){const h=this.gl;h.activeTexture(h.TEXTURE0+u),this.checkError(),h.bindTexture(h.TEXTURE_2D,m),this.checkError(),h.uniform1i(o,u),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(f.env.debug){const m=this.gl,u=m.getError();let o="";switch(u){case m.NO_ERROR:return;case m.INVALID_ENUM:o="INVALID_ENUM";break;case m.INVALID_VALUE:o="INVALID_VALUE";break;case m.INVALID_OPERATION:o="INVALID_OPERATION";break;case m.INVALID_FRAMEBUFFER_OPERATION:o="INVALID_FRAMEBUFFER_OPERATION";break;case m.OUT_OF_MEMORY:o="OUT_OF_MEMORY";break;case m.CONTEXT_LOST_WEBGL:o="CONTEXT_LOST_WEBGL";break;default:o=`Unknown WebGL Error: ${u.toString(16)}`}throw new Error(o)}}deleteTexture(m){this.gl.deleteTexture(m)}deleteProgram(m){this.gl.deleteProgram(m)}getEncoder(m,u,o=0){if(this.version===2)return new b.RedFloat32DataEncoder(this.gl,u);switch(m){case"float":return o===1||this.isRenderFloat32Supported?new b.RGBAFloatDataEncoder(this.gl,u):new b.RGBAFloatDataEncoder(this.gl,u,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new b.Uint8DataEncoder(this.gl,u);default:throw new Error(`Invalid dataType: ${m}`)}}clearActiveTextures(){const m=this.gl;for(let u=0;u<this.maxTextureImageUnits;++u)m.activeTexture(m.TEXTURE0+u),m.bindTexture(m.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const m=this.gl;m.bindFramebuffer(m.FRAMEBUFFER,null),m.deleteFramebuffer(this.framebuffer),m.bindBuffer(m.ARRAY_BUFFER,null),m.deleteBuffer(this.vertexbuffer),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,null),m.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const m=this.gl,u=m.createBuffer();if(!u)throw new Error("createBuffer() returned null");const o=this.createDefaultGeometry();return m.bindBuffer(m.ARRAY_BUFFER,u),m.bufferData(m.ARRAY_BUFFER,o,m.STATIC_DRAW),this.checkError(),u}createFramebuffer(){const m=this.gl.createFramebuffer();if(!m)throw new Error("createFramebuffer returned null");return m}queryVitalParameters(){const m=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=m.getParameter(m.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=m.getParameter(m.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const m=this.gl,u=m.createTexture();m.bindTexture(m.TEXTURE_2D,u);const o=this.version===2?m.RGBA32F:m.RGBA;m.texImage2D(m.TEXTURE_2D,0,o,1,1,0,m.RGBA,m.FLOAT,null);const h=m.createFramebuffer();m.bindFramebuffer(m.FRAMEBUFFER,h),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,u,0);const w=m.checkFramebufferStatus(m.FRAMEBUFFER)===m.FRAMEBUFFER_COMPLETE;return m.bindTexture(m.TEXTURE_2D,null),m.bindFramebuffer(m.FRAMEBUFFER,null),m.deleteTexture(u),m.deleteFramebuffer(h),w}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const m=this.gl;let u,o,h,w,E;try{u=m.createTexture(),o=m.createFramebuffer(),m.bindTexture(m.TEXTURE_2D,u);const T=this.version===2?m.RGBA32F:m.RGBA;return m.texImage2D(m.TEXTURE_2D,0,T,1,1,0,m.RGBA,m.FLOAT,null),m.bindFramebuffer(m.FRAMEBUFFER,o),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,u,0),m.enable(m.BLEND),h=m.createShader(m.VERTEX_SHADER),!!h&&(m.shaderSource(h,"void main(){}"),m.compileShader(h),w=m.createShader(m.FRAGMENT_SHADER),!!w&&(m.shaderSource(w,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),m.compileShader(w),E=m.createProgram(),!!E&&(m.attachShader(E,h),m.attachShader(E,w),m.linkProgram(E),m.useProgram(E),m.drawArrays(m.POINTS,0,1),m.getError()===m.NO_ERROR)))}finally{m.disable(m.BLEND),E&&m.deleteProgram(E),h&&m.deleteShader(h),w&&m.deleteShader(w),o&&(m.bindFramebuffer(m.FRAMEBUFFER,null),m.deleteFramebuffer(o)),u&&(m.bindTexture(m.TEXTURE_2D,null),m.deleteTexture(u))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const m=this.gl,u=this.disjointTimerQueryWebgl2Extension,o=m.createQuery();return m.beginQuery(u.TIME_ELAPSED_EXT,o),o}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const m=this.gl,u=this.disjointTimerQueryWebgl2Extension;m.endQuery(u.TIME_ELAPSED_EXT)}}isTimerResultAvailable(m){let u=!1,o=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const h=this.gl,w=this.disjointTimerQueryWebgl2Extension;u=h.getQueryParameter(m,h.QUERY_RESULT_AVAILABLE),o=h.getParameter(w.GPU_DISJOINT_EXT)}return u&&!o}getTimerResult(m){let u=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const o=this.gl;u=o.getQueryParameter(m,o.QUERY_RESULT),o.deleteQuery(m)}return u/1e6}async waitForQueryAndGetTime(m){return await(0,_.repeatedTry)((()=>this.isTimerResultAvailable(m))),this.getTimerResult(m)}async createAndWaitForFence(){const m=this.createFence(this.gl);return this.pollFence(m)}createFence(m){let u;const o=m,h=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);return m.flush(),u=h===null?()=>!0:()=>{const w=o.clientWaitSync(h,0,0);return w===o.ALREADY_SIGNALED||w===o.CONDITION_SATISFIED},{query:h,isFencePassed:u}}async pollFence(m){return new Promise((u=>{this.addItemToPoll((()=>m.isFencePassed()),(()=>u()))}))}pollItems(){const m=v(this.itemsToPoll.map((u=>u.isDoneFn)));for(let u=0;u<=m;++u){const{resolveFn:o}=this.itemsToPoll[u];o()}this.itemsToPoll=this.itemsToPoll.slice(m+1)}async addItemToPoll(m,u){this.itemsToPoll.push({isDoneFn:m,resolveFn:u}),this.itemsToPoll.length>1||await(0,_.repeatedTry)((()=>(this.pollItems(),this.itemsToPoll.length===0)))}}},1036:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExecutionPlan=void 0;const i=n(6231);class l{constructor(f,b){this.op=f,this.node=b}}e.ExecutionPlan=class{constructor(d,f,b){this.graph=d,this.profiler=b,this.initialize(f)}initialize(d){this.profiler.event("session","ExecutionPlan.initialize",(()=>{const f=this.graph.getNodes();if(f.length!==d.length)throw new Error("The size of nodes and OPs do not match.");this._ops=d.map(((b,_)=>new l(b,f[_]))),this.reset(),this._starter=[],this._ops.forEach(((b,_)=>{let v=!0;for(const m of b.node.inputs)if(!this._values[m]&&this.graph.getInputIndices().indexOf(m)===-1){v=!1;break}v&&this._starter.push(_)}))}))}reset(){this._values=this.graph.getValues().map((d=>d.tensor))}async execute(d,f){return this.profiler.event("session","ExecutionPlan.execute",(async()=>{this.reset();const b=d.createInferenceHandler(),_=this.graph.getInputIndices();if(f.length!==_.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${f.length} expected: ${_.length}`);f.forEach(((w,E)=>{const T=_[E];this._values[T]=w}));const v=this._starter.slice(0),m=this.graph.getValues(),u=this.graph.getNodes();let o=0;for(;o<v.length;){const w=v[o++],E=this._ops[w],T=E.node.inputs.map((R=>this._values[R]));if(T.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${E.node}`);const O=T;i.Logger.verbose("ExecPlan",`Runing op:${E.node.name} (${O.map(((R,D)=>`'${E.node.inputs[D]}': ${R.type}[${R.dims.join(",")}]`)).join(", ")})`);const M=await this.profiler.event("node",E.node.name,(async()=>E.op.impl(b,O,E.op.context)));if(M.length!==E.node.outputs.length)throw new Error("the size of output does not match model definition.");M.forEach(((R,D)=>{const N=E.node.outputs[D];if(this._values[N])throw new Error(`output [${N}] already has value: op:${E.node.name}`);this._values[N]=R}));const I=new Set;M.forEach(((R,D)=>{const N=E.node.outputs[D];for(const L of m[N].to){const B=u[L];let $=!0;for(const V of B.inputs)if(!this._values[V]){$=!1;break}$&&I.add(L)}})),v.push(...I)}const h=[];for(let w=0;w<this.graph.getOutputIndices().length;w++){const E=this.graph.getOutputIndices()[w],T=this._values[E];if(T===void 0)throw new Error(`required output [${E}] does not have value`);E===0?await T.getData():T.data,h.push(T)}return i.Logger.verbose("ExecPlan","disposing of inferenceHandler"),b.dispose(),h}))}}},7070:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=void 0;const i=n(1446),l=n(7778),d=n(9395),f=n(9162),b=n(2517);var _=d.onnxruntime.experimental.fbs;e.Graph={from:(o,h)=>new u(o,h)};class v{constructor(h){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,h&&(this.type=b.ProtoUtil.tensorValueTypeFromProto(h.type.tensorType))}get from(){return this._from}get to(){return this._to}}class m{constructor(h,w){h instanceof i.onnx.NodeProto?(this.name=h.name,this.opType=h.opType,this.attributes=new l.Attribute(h.attribute)):h instanceof _.Node&&(this.name=w??h.name(),this.opType=h.opType(),this.attributes=new l.Attribute(b.ProtoUtil.tensorAttributesFromORTFormat(h))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class u{constructor(h,w){if(!h)throw new TypeError("graph is empty");this.buildGraph(h),this.transformGraph(w),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(h){if(h instanceof i.onnx.GraphProto)this.buildGraphFromOnnxFormat(h);else{if(!(h instanceof _.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(h)}}buildGraphFromOnnxFormat(h){const w=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const E=new Map;if(!h.input)throw new Error("missing information in graph: input");const T=[];for(const O of h.input){if(w.has(O.name))throw new Error(`duplicated input name: ${O.name}`);const M=this._allData.push(new v(O))-1;w.set(O.name,M),T.push(O.name)}if(!h.initializer)throw new Error("missing information in graph: initializer");for(const O of h.initializer){let M=w.get(O.name);if(M===void 0){const I=new v;I.type={shape:{dims:b.ProtoUtil.tensorDimsFromProto(O.dims)},tensorType:b.ProtoUtil.tensorDataTypeFromProto(O.dataType)},M=this._allData.push(I)-1,w.set(O.name,M)}this._allData[M]._from=-1,this._allData[M].tensor=f.Tensor.fromProto(O)}for(let O=0;O<this._allData.length;O++)this._allData[O].tensor||(this._allInputIndices.push(O),this._allInputNames.push(T[O]));if(!h.output)throw new Error("missing information in graph: output");for(const O of h.output){if(w.has(O.name))throw new Error(`duplicated output name: ${O.name}`);const M=this._allData.push(new v(O))-1;w.set(O.name,M),this._allOutputIndices.push(M),this._allOutputNames.push(O.name)}if(!h.node)throw new Error("missing information in graph: node");for(const O of h.node){if(!O.name)for(let I=0;;I++){const R=`unnamed_${O.opType}_${I}`;if(!E.has(R)){O.name=R;break}}if(E.has(O.name))throw new Error(`duplicated node name: ${O.name}`);const M=this._nodes.push(new m(O))-1;E.set(O.name,M)}for(let O=0;O<this._nodes.length;O++){const M=this._nodes[O],I=h.node[O];if(!I.output)throw new Error(`missing output for node: ${I.name}`);for(const R of I.output){let D=w.get(R);if(D===void 0&&(D=this._allData.push(new v)-1,w.set(R,D)),M.outputs.push(D),this._allData[D]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${D}`);if(this._allData[D]._from=O,I.opType==="Constant"){if(!I.attribute||I.attribute.length!==1||!I.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!I.output||I.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");M.outputs.pop(),M.executeNode=!1,this._allData[D]._from=-1,this._allData[D].tensor=f.Tensor.fromProto(I.attribute[0].t)}}}for(let O=0;O<this._nodes.length;O++){const M=this._nodes[O],I=h.node[O];if(!I.input)throw new Error(`missing input for node: ${I.name}`);for(const R of I.input){const D=w.get(R);if(D===void 0){if(R===""&&I.input.length===3&&I.opType==="Resize")continue;throw new Error(`unrecognized input '${R}' for node: ${I.name}`)}M.inputs.push(D),this._allData[D]._to.push(O)}}return!0}buildGraphFromOrtFormat(h){var w,E,T;const O=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const M=new Map,I=[];for(let R=0;R<h.inputsLength();R++){const D=h.inputs(R);if(O.has(D))throw new Error(`duplicated input name: ${D}`);for(let N=0;N<h.nodeArgsLength();N++)if(((w=h.nodeArgs(N))===null||w===void 0?void 0:w.name())===D){const L=new v;if(((T=(E=h.nodeArgs(N))===null||E===void 0?void 0:E.type())===null||T===void 0?void 0:T.valueType())!==_.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const B=h.nodeArgs(N).type().value(new _.TensorTypeAndShape),$=b.ProtoUtil.tensorDataTypeFromProto(B.elemType()),V=B.shape(),G=[];for(let ee=0;ee<V.dimLength();ee++)G.push(b.LongUtil.longToNumber(V.dim(ee).value().dimValue()));L.type={shape:{dims:G},tensorType:$};const X=this._allData.push(L)-1;O.set(D,X),I.push(D)}}for(let R=0;R<h.initializersLength();R++){const D=h.initializers(R);let N=O.get(D.name());if(N===void 0){const L=new v,B=b.ProtoUtil.tensorDimsFromORTFormat(D),$=b.ProtoUtil.tensorDataTypeFromProto(D.dataType());L.type={shape:{dims:B},tensorType:$},N=this._allData.push(L)-1,O.set(D.name(),N)}this._allData[N]._from=-1,this._allData[N].tensor=f.Tensor.fromOrtTensor(D)}for(let R=0;R<this._allData.length;R++)this._allData[R].tensor||(this._allInputIndices.push(R),this._allInputNames.push(I[R]));for(let R=0;R<h.outputsLength();R++){const D=h.outputs(R);if(O.has(D))throw new Error(`duplicated output name: ${D}`);const N=this._allData.push(new v)-1;O.set(D,N),this._allOutputIndices.push(N),this._allOutputNames.push(D)}if(!h.nodes)throw new Error("missing information in graph: node");for(let R=0;R<h.nodesLength();R++){const D=h.nodes(R);let N=D.name();if(!N)for(let B=0;N=`unnamed_${D.opType()}_${B}`,M.has(N);B++);if(M.has(N))throw new Error(`duplicated node name: ${N}`);const L=this._nodes.push(new m(D,N))-1;M.set(N,L)}for(let R=0;R<this._nodes.length;R++){const D=this._nodes[R],N=h.nodes(R);if(N==null)throw new Error(`No node exists at index ${R}`);if((N==null?void 0:N.outputsLength())===0)throw new Error(`missing output for node: ${N.name}`);for(let L=0;L<(N==null?void 0:N.outputsLength());L++){const B=N==null?void 0:N.outputs(L);let $=O.get(B);if($===void 0&&($=this._allData.push(new v)-1,O.set(B,$)),D.outputs.push($),this._allData[$]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${$}`);if(this._allData[$]._from=R,N.opType()==="Constant"){if(N.attributesLength()!==1||!N.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(N.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");D.outputs.pop(),D.executeNode=!1,this._allData[$]._from=-1,this._allData[$].tensor=f.Tensor.fromOrtTensor(N.attributes(0).t())}}}for(let R=0;R<this._nodes.length;R++){const D=this._nodes[R],N=h.nodes(R);if(N.inputsLength()===0)throw new Error(`missing input for node: ${N.name}`);for(let L=0;L<N.inputsLength();L++){const B=N.inputs(L),$=O.get(B);if($===void 0)throw new Error(`unrecognized input '${B}' for node: ${N.name()}`);D.inputs.push($),this._allData[$]._to.push(R)}}}checkIsAcyclic(){const h=new Set;this._allInputIndices.forEach((T=>{this._allData[T]._to.forEach((O=>{h.add(O)}))}));const w=Array.from(h),E=new Array(this._nodes.length).fill("white");for(;w.length>0;){const T=w.pop();E[T]==="gray"?E[T]="black":(w.push(T),E[T]="gray",this._nodes[T].outputs.forEach((O=>{const M=this._allData[O];if(M.tensor!==void 0)throw new Error("node outputs should not be initialized");if(M._from!==T)throw new Error("from property of the Value object doesn't match index of Node being processed");M._to.forEach((I=>{if(E[I]==="gray")throw new Error("model graph is cyclic");E[I]==="white"&&w.push(I)}))})))}}transformGraph(h){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),h&&h.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let h=0;for(let w=0;w<this._nodes.length;w++)this._nodes[w].executeNode?h>0&&(this._nodes[w].inputs.forEach((E=>{const T=this._allData[E]._to.indexOf(w+h);T!==-1&&(this._allData[E]._to[T]=w)})),this._nodes[w].outputs.forEach((E=>{this._allData[E]._from&&this._allData[E]._from===w+h&&(this._allData[E]._from=w)}))):(h++,this._nodes[w].outputs.forEach((E=>{this._allData[E]._from=-2})),this._nodes.splice(w,1),w--);h=0;for(let w=0;w<this._allData.length;w++)if(this._allData[w].from!==-2||this._allOutputIndices.indexOf(w+h)!==-1){if(h>0){let E=-1;this._allData[w].from!==void 0&&this._allData[w].from!==-1?(E=this._nodes[this._allData[w].from].outputs.indexOf(w+h),E!==-1&&(this._nodes[this._allData[w].from].outputs[E]=w)):(E=this._allInputIndices.indexOf(w+h),E!==-1&&(this._allInputIndices[E]=w)),this._allData[w].to.forEach((T=>{E=this._nodes[T].inputs.indexOf(w+h),E!==-1&&(this._nodes[T].inputs[E]=w)})),this._allData[w].to.length===0&&(E=this._allOutputIndices.indexOf(w+h),E!==-1&&(this._allOutputIndices[E]=w))}}else h++,this._allData.splice(w,1),w--}deleteNode(h){const w=this._nodes[h];if(w.outputs.length>1){for(let R=1;R<w.outputs.length;R++)if(this._allData[w.outputs[R]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}w.executeNode=!1;const E=w.inputs[0],T=w.outputs[0],O=this._allData[T].to,M=this._allData[E].to.indexOf(h);if(M===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[E].to.splice(M,1),this._allData[T]._to=[];const I=this._allOutputIndices.indexOf(T);if(I!==-1&&(this._allOutputIndices[I]=E),O&&O.length>0)for(const R of O){const D=this._nodes[R].inputs.indexOf(T);if(D===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[R].inputs[D]=E,this._allData[E].to.push(R)}}removeAllDropoutNodes(){let h=0;for(const w of this._nodes){if(w.opType==="Dropout"){if(w.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(w.outputs.length!==1&&w.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(w.outputs.length===2&&this._allData[w.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(h)}h++}}removeAllIdentityNodes(){let h=0;for(const w of this._nodes)w.opType==="Identity"&&this.deleteNode(h),h++}isActivation(h){switch(h.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const h of this._nodes)if(h.opType==="Conv"){const w=this._allData[h.outputs[0]]._to;if(w.length===1&&this.isActivation(this._nodes[w[0]])){const E=this._nodes[w[0]];if(E.opType==="Clip")if(E.inputs.length===1)try{h.attributes.set("activation_params","floats",[E.attributes.getFloat("min"),E.attributes.getFloat("max")])}catch{h.attributes.set("activation_params","floats",[b.MIN_CLIP,b.MAX_CLIP])}else{if(!(E.inputs.length>=3&&this._allData[E.inputs[1]].tensor!==void 0&&this._allData[E.inputs[2]].tensor!==void 0))continue;h.attributes.set("activation_params","floats",[this._allData[E.inputs[1]].tensor.floatData[0],this._allData[E.inputs[2]].tensor.floatData[0]])}h.attributes.set("activation","string",E.opType),this.deleteNode(w[0])}}}}},6231:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.now=e.Profiler=e.Logger=void 0;const n={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},i={none:new class{log(m,u,o){}},console:new class{log(m,u,o){console.log(`${this.color(m)} ${o?"\x1B[35m"+o+"\x1B[0m ":""}${u}`)}color(m){switch(m){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${m}`)}}}},l={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let d={"":l};function f(m,u,o,h){if(u===void 0)return w=m,{verbose:f.verbose.bind(null,w),info:f.info.bind(null,w),warning:f.warning.bind(null,w),error:f.error.bind(null,w),fatal:f.fatal.bind(null,w)};if(o===void 0)b(m,u);else if(typeof o=="number"&&h===void 0)b(m,u);else if(typeof o=="string"&&h===void 0)b(m,o,0,u);else{if(typeof o!="string"||typeof h!="number")throw new TypeError("input is valid");b(m,o,0,u)}var w}function b(m,u,o,h){const w=d[h||""]||d[""];n[m]<n[w.minimalSeverity]||(w.logDateTime&&(u=`${new Date().toISOString()}|${u}`),w.logSourceLocation,i[w.provider].log(m,u,h))}(function(m){function u(h){d={},o("",h||{})}function o(h,w){if(h==="*")u(w);else{const E=d[h]||l;d[h]={provider:w.provider||E.provider,minimalSeverity:w.minimalSeverity||E.minimalSeverity,logDateTime:w.logDateTime===void 0?E.logDateTime:w.logDateTime,logSourceLocation:w.logSourceLocation===void 0?E.logSourceLocation:w.logSourceLocation}}}m.verbose=function(h,w){m("verbose",h,w)},m.info=function(h,w){m("info",h,w)},m.warning=function(h,w){m("warning",h,w)},m.error=function(h,w){m("error",h,w)},m.fatal=function(h,w){m("fatal",h,w)},m.reset=u,m.set=o,m.setWithEnv=function(h){const w={};h.logLevel&&(w.minimalSeverity=h.logLevel),o("",w)}})(f||(f={})),e.Logger=f;class _{constructor(u,o,h,w,E,T){this.category=u,this.name=o,this.startTime=h,this.endCallback=w,this.timer=E,this.ctx=T}end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class v{constructor(u,o,h,w){this.category=u,this.name=o,this.startTime=h,this.endTime=w}}e.Profiler=class{static create(m){return m===void 0?new this:new this(m.maxNumberEvents,m.flushBatchSize,m.flushIntervalInMilliseconds)}constructor(m,u,o){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=m===void 0?1e4:m,this._flushBatchSize=u===void 0?10:u,this._flushIntervalInMilliseconds=o===void 0?5e3:o}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,e.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(m,u,o,h){const w=this._started?this.begin(m,u,h):void 0;let E=!1;const T=o();if(T&&typeof T.then=="function")return E=!0,new Promise(((O,M)=>{T.then((async I=>{w&&await w.end(),O(I)}),(async I=>{w&&await w.end(),M(I)}))}));if(!E&&w){const O=w.end();if(O&&typeof O.then=="function")return new Promise(((M,I)=>{O.then((()=>{M(T)}),(R=>{I(R)}))}))}return T}begin(m,u,o){if(!this._started)throw new Error("profiler is not started yet");if(o===void 0){const h=(0,e.now)();return this.flush(h),new _(m,u,h,(w=>this.endSync(w)))}{const h=o.beginTimer();return new _(m,u,0,(async w=>this.end(w)),h,o)}}async end(m){const u=await m.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new v(m.category,m.name,m.startTime,u)),this.flush(u))}endSync(m){const u=(0,e.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new v(m.category,m.name,m.startTime,u)),this.flush(u))}logOneEvent(m){e.Logger.verbose(`Profiler.${m.category}`,`${(m.endTime-m.startTime).toFixed(2)}ms on event '${m.name}' at ${m.endTime.toFixed(2)}`)}flush(m){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||m-this._flushTime>=this._flushIntervalInMilliseconds){for(const u=this._flushPointer;this._flushPointer<u+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,e.now)()}}get started(){return this._started}},e.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},2644:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;const i=n(5686),l=n(1446),d=n(7070),f=n(9395),b=n(2517);var _=f.onnxruntime.experimental.fbs;e.Model=class{constructor(){}load(v,m,u){if(!u)try{return void this.loadFromOnnxFormat(v,m)}catch(o){if(u!==void 0)throw o}this.loadFromOrtFormat(v,m)}loadFromOnnxFormat(v,m){const u=l.onnx.ModelProto.decode(v);if(b.LongUtil.longToNumber(u.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=u.opsetImport.map((o=>({domain:o.domain,version:b.LongUtil.longToNumber(o.version)}))),this._graph=d.Graph.from(u.graph,m)}loadFromOrtFormat(v,m){const u=new i.flatbuffers.ByteBuffer(v),o=_.InferenceSession.getRootAsInferenceSession(u).model();if(b.LongUtil.longToNumber(o.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let h=0;h<o.opsetImportLength();h++){const w=o.opsetImport(h);this._opsets.push({domain:w==null?void 0:w.domain(),version:b.LongUtil.longToNumber(w.version())})}this._graph=d.Graph.from(o.graph(),m)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FLOAT_TYPES=e.INT_TYPES=e.NUMBER_TYPES=void 0,e.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],e.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],e.FLOAT_TYPES=["float32","float64"]},1047:(t,e)=>{function n(i,l){if(l.endsWith("+")){const d=Number.parseInt(l.substring(0,l.length-1),10);return!isNaN(d)&&d<=i}if(l.split("-").length===2){const d=l.split("-"),f=Number.parseInt(d[0],10),b=Number.parseInt(d[1],10);return!isNaN(f)&&!isNaN(b)&&f<=i&&i<=b}return Number.parseInt(l,10)===i}Object.defineProperty(e,"__esModule",{value:!0}),e.resolveOperator=void 0,e.resolveOperator=function(i,l,d){for(const f of d){const b=f[0],_=f[1],v=f[2],m=f[3],u=f[4];if(i.opType===b){for(const o of l)if((o.domain===_||o.domain==="ai.onnx"&&_==="")&&n(o.version,v))return{opImpl:m,opInit:u}}}throw new TypeError(`cannot resolve operator '${i.opType}' with opsets: ${l.map((f=>`${f.domain||"ai.onnx"} v${f.version}`)).join(", ")}`)}},9395:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.onnxruntime=void 0;const i=n(5686);var l,d;l=e.onnxruntime||(e.onnxruntime={}),(function(f){(function(b){b[b.UNDEFINED=0]="UNDEFINED",b[b.FLOAT=1]="FLOAT",b[b.INT=2]="INT",b[b.STRING=3]="STRING",b[b.TENSOR=4]="TENSOR",b[b.GRAPH=5]="GRAPH",b[b.FLOATS=6]="FLOATS",b[b.INTS=7]="INTS",b[b.STRINGS=8]="STRINGS",b[b.TENSORS=9]="TENSORS",b[b.GRAPHS=10]="GRAPHS",b[b.SPARSE_TENSOR=11]="SPARSE_TENSOR",b[b.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(f.AttributeType||(f.AttributeType={}))})((d=l.experimental||(l.experimental={})).fbs||(d.fbs={})),(function(f){(function(b){(function(_){(function(v){v[v.UNKNOWN=0]="UNKNOWN",v[v.VALUE=1]="VALUE",v[v.PARAM=2]="PARAM"})(_.DimensionValueType||(_.DimensionValueType={}))})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){(function(v){v[v.UNDEFINED=0]="UNDEFINED",v[v.FLOAT=1]="FLOAT",v[v.UINT8=2]="UINT8",v[v.INT8=3]="INT8",v[v.UINT16=4]="UINT16",v[v.INT16=5]="INT16",v[v.INT32=6]="INT32",v[v.INT64=7]="INT64",v[v.STRING=8]="STRING",v[v.BOOL=9]="BOOL",v[v.FLOAT16=10]="FLOAT16",v[v.DOUBLE=11]="DOUBLE",v[v.UINT32=12]="UINT32",v[v.UINT64=13]="UINT64",v[v.COMPLEX64=14]="COMPLEX64",v[v.COMPLEX128=15]="COMPLEX128",v[v.BFLOAT16=16]="BFLOAT16"})(_.TensorDataType||(_.TensorDataType={}))})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){(function(v){v[v.Primitive=0]="Primitive",v[v.Fused=1]="Fused"})(_.NodeType||(_.NodeType={}))})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){(function(v){v[v.NONE=0]="NONE",v[v.tensor_type=1]="tensor_type",v[v.sequence_type=2]="sequence_type",v[v.map_type=3]="map_type"})(_.TypeInfoValue||(_.TypeInfoValue={}))})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsShape(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsShape(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}dim(u,o){let h=this.bb.__offset(this.bb_pos,4);return h?(o||new f.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+h)+4*u),this.bb):null}dimLength(){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__vector_len(this.bb_pos+u):0}static startShape(u){u.startObject(1)}static addDim(u,o){u.addFieldOffset(0,o,0)}static createDimVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startDimVector(u,o){u.startVector(4,o,4)}static endShape(u){return u.endObject()}static createShape(u,o){return v.startShape(u),v.addDim(u,o),v.endShape(u)}}_.Shape=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsDimension(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsDimension(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}value(u){let o=this.bb.__offset(this.bb_pos,4);return o?(u||new f.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}denotation(u){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.__string(this.bb_pos+o,u):null}static startDimension(u){u.startObject(2)}static addValue(u,o){u.addFieldOffset(0,o,0)}static addDenotation(u,o){u.addFieldOffset(1,o,0)}static endDimension(u){return u.endObject()}static createDimension(u,o,h){return v.startDimension(u),v.addValue(u,o),v.addDenotation(u,h),v.endDimension(u)}}_.Dimension=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsDimensionValue(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsDimensionValue(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}dimType(){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.readInt8(this.bb_pos+u):f.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.readInt64(this.bb_pos+u):this.bb.createLong(0,0)}dimParam(u){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.__string(this.bb_pos+o,u):null}static startDimensionValue(u){u.startObject(3)}static addDimType(u,o){u.addFieldInt8(0,o,f.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(u,o){u.addFieldInt64(1,o,u.createLong(0,0))}static addDimParam(u,o){u.addFieldOffset(2,o,0)}static endDimensionValue(u){return u.endObject()}static createDimensionValue(u,o,h,w){return v.startDimensionValue(u),v.addDimType(u,o),v.addDimValue(u,h),v.addDimParam(u,w),v.endDimensionValue(u)}}_.DimensionValue=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsTensorTypeAndShape(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsTensorTypeAndShape(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}elemType(){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.readInt32(this.bb_pos+u):f.experimental.fbs.TensorDataType.UNDEFINED}shape(u){let o=this.bb.__offset(this.bb_pos,6);return o?(u||new f.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startTensorTypeAndShape(u){u.startObject(2)}static addElemType(u,o){u.addFieldInt32(0,o,f.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(u,o){u.addFieldOffset(1,o,0)}static endTensorTypeAndShape(u){return u.endObject()}static createTensorTypeAndShape(u,o,h){return v.startTensorTypeAndShape(u),v.addElemType(u,o),v.addShape(u,h),v.endTensorTypeAndShape(u)}}_.TensorTypeAndShape=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsMapType(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsMapType(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}keyType(){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.readInt32(this.bb_pos+u):f.experimental.fbs.TensorDataType.UNDEFINED}valueType(u){let o=this.bb.__offset(this.bb_pos,6);return o?(u||new f.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startMapType(u){u.startObject(2)}static addKeyType(u,o){u.addFieldInt32(0,o,f.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(u,o){u.addFieldOffset(1,o,0)}static endMapType(u){return u.endObject()}static createMapType(u,o,h){return v.startMapType(u),v.addKeyType(u,o),v.addValueType(u,h),v.endMapType(u)}}_.MapType=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsSequenceType(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsSequenceType(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}elemType(u){let o=this.bb.__offset(this.bb_pos,4);return o?(u||new f.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startSequenceType(u){u.startObject(1)}static addElemType(u,o){u.addFieldOffset(0,o,0)}static endSequenceType(u){return u.endObject()}static createSequenceType(u,o){return v.startSequenceType(u),v.addElemType(u,o),v.endSequenceType(u)}}_.SequenceType=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(b.fbs||(b.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(_,v){return this.bb_pos=_,this.bb=v,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(_,v,m,u){return _.prep(4,12),_.writeInt32(u),_.writeInt32(m),_.writeInt32(v),_.offset()}}})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsNodeEdge(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsNodeEdge(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}nodeIndex(){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.readUint32(this.bb_pos+u):0}inputEdges(u,o){let h=this.bb.__offset(this.bb_pos,6);return h?(o||new f.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+h)+12*u,this.bb):null}inputEdgesLength(){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__vector_len(this.bb_pos+u):0}outputEdges(u,o){let h=this.bb.__offset(this.bb_pos,8);return h?(o||new f.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+h)+12*u,this.bb):null}outputEdgesLength(){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__vector_len(this.bb_pos+u):0}static startNodeEdge(u){u.startObject(3)}static addNodeIndex(u,o){u.addFieldInt32(0,o,0)}static addInputEdges(u,o){u.addFieldOffset(1,o,0)}static startInputEdgesVector(u,o){u.startVector(12,o,4)}static addOutputEdges(u,o){u.addFieldOffset(2,o,0)}static startOutputEdgesVector(u,o){u.startVector(12,o,4)}static endNodeEdge(u){return u.endObject()}static createNodeEdge(u,o,h,w){return v.startNodeEdge(u),v.addNodeIndex(u,o),v.addInputEdges(u,h),v.addOutputEdges(u,w),v.endNodeEdge(u)}}_.NodeEdge=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsNode(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsNode(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}name(u){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,u):null}docString(u){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.__string(this.bb_pos+o,u):null}domain(u){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.__string(this.bb_pos+o,u):null}sinceVersion(){let u=this.bb.__offset(this.bb_pos,10);return u?this.bb.readInt32(this.bb_pos+u):0}index(){let u=this.bb.__offset(this.bb_pos,12);return u?this.bb.readUint32(this.bb_pos+u):0}opType(u){let o=this.bb.__offset(this.bb_pos,14);return o?this.bb.__string(this.bb_pos+o,u):null}type(){let u=this.bb.__offset(this.bb_pos,16);return u?this.bb.readInt32(this.bb_pos+u):f.experimental.fbs.NodeType.Primitive}executionProviderType(u){let o=this.bb.__offset(this.bb_pos,18);return o?this.bb.__string(this.bb_pos+o,u):null}inputs(u,o){let h=this.bb.__offset(this.bb_pos,20);return h?this.bb.__string(this.bb.__vector(this.bb_pos+h)+4*u,o):null}inputsLength(){let u=this.bb.__offset(this.bb_pos,20);return u?this.bb.__vector_len(this.bb_pos+u):0}outputs(u,o){let h=this.bb.__offset(this.bb_pos,22);return h?this.bb.__string(this.bb.__vector(this.bb_pos+h)+4*u,o):null}outputsLength(){let u=this.bb.__offset(this.bb_pos,22);return u?this.bb.__vector_len(this.bb_pos+u):0}attributes(u,o){let h=this.bb.__offset(this.bb_pos,24);return h?(o||new f.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+h)+4*u),this.bb):null}attributesLength(){let u=this.bb.__offset(this.bb_pos,24);return u?this.bb.__vector_len(this.bb_pos+u):0}inputArgCounts(u){let o=this.bb.__offset(this.bb_pos,26);return o?this.bb.readInt32(this.bb.__vector(this.bb_pos+o)+4*u):0}inputArgCountsLength(){let u=this.bb.__offset(this.bb_pos,26);return u?this.bb.__vector_len(this.bb_pos+u):0}inputArgCountsArray(){let u=this.bb.__offset(this.bb_pos,26);return u?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+u),this.bb.__vector_len(this.bb_pos+u)):null}implicitInputs(u,o){let h=this.bb.__offset(this.bb_pos,28);return h?this.bb.__string(this.bb.__vector(this.bb_pos+h)+4*u,o):null}implicitInputsLength(){let u=this.bb.__offset(this.bb_pos,28);return u?this.bb.__vector_len(this.bb_pos+u):0}static startNode(u){u.startObject(13)}static addName(u,o){u.addFieldOffset(0,o,0)}static addDocString(u,o){u.addFieldOffset(1,o,0)}static addDomain(u,o){u.addFieldOffset(2,o,0)}static addSinceVersion(u,o){u.addFieldInt32(3,o,0)}static addIndex(u,o){u.addFieldInt32(4,o,0)}static addOpType(u,o){u.addFieldOffset(5,o,0)}static addType(u,o){u.addFieldInt32(6,o,f.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(u,o){u.addFieldOffset(7,o,0)}static addInputs(u,o){u.addFieldOffset(8,o,0)}static createInputsVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startInputsVector(u,o){u.startVector(4,o,4)}static addOutputs(u,o){u.addFieldOffset(9,o,0)}static createOutputsVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startOutputsVector(u,o){u.startVector(4,o,4)}static addAttributes(u,o){u.addFieldOffset(10,o,0)}static createAttributesVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startAttributesVector(u,o){u.startVector(4,o,4)}static addInputArgCounts(u,o){u.addFieldOffset(11,o,0)}static createInputArgCountsVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addInt32(o[h]);return u.endVector()}static startInputArgCountsVector(u,o){u.startVector(4,o,4)}static addImplicitInputs(u,o){u.addFieldOffset(12,o,0)}static createImplicitInputsVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startImplicitInputsVector(u,o){u.startVector(4,o,4)}static endNode(u){return u.endObject()}static createNode(u,o,h,w,E,T,O,M,I,R,D,N,L,B){return v.startNode(u),v.addName(u,o),v.addDocString(u,h),v.addDomain(u,w),v.addSinceVersion(u,E),v.addIndex(u,T),v.addOpType(u,O),v.addType(u,M),v.addExecutionProviderType(u,I),v.addInputs(u,R),v.addOutputs(u,D),v.addAttributes(u,N),v.addInputArgCounts(u,L),v.addImplicitInputs(u,B),v.endNode(u)}}_.Node=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsValueInfo(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsValueInfo(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}name(u){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,u):null}docString(u){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.__string(this.bb_pos+o,u):null}type(u){let o=this.bb.__offset(this.bb_pos,8);return o?(u||new f.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startValueInfo(u){u.startObject(3)}static addName(u,o){u.addFieldOffset(0,o,0)}static addDocString(u,o){u.addFieldOffset(1,o,0)}static addType(u,o){u.addFieldOffset(2,o,0)}static endValueInfo(u){return u.endObject()}static createValueInfo(u,o,h,w){return v.startValueInfo(u),v.addName(u,o),v.addDocString(u,h),v.addType(u,w),v.endValueInfo(u)}}_.ValueInfo=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsTypeInfo(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsTypeInfo(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}denotation(u){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,u):null}valueType(){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.readUint8(this.bb_pos+u):f.experimental.fbs.TypeInfoValue.NONE}value(u){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.__union(u,this.bb_pos+o):null}static startTypeInfo(u){u.startObject(3)}static addDenotation(u,o){u.addFieldOffset(0,o,0)}static addValueType(u,o){u.addFieldInt8(1,o,f.experimental.fbs.TypeInfoValue.NONE)}static addValue(u,o){u.addFieldOffset(2,o,0)}static endTypeInfo(u){return u.endObject()}static createTypeInfo(u,o,h,w){return v.startTypeInfo(u),v.addDenotation(u,o),v.addValueType(u,h),v.addValue(u,w),v.endTypeInfo(u)}}_.TypeInfo=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsOperatorSetId(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsOperatorSetId(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}domain(u){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,u):null}version(){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.readInt64(this.bb_pos+u):this.bb.createLong(0,0)}static startOperatorSetId(u){u.startObject(2)}static addDomain(u,o){u.addFieldOffset(0,o,0)}static addVersion(u,o){u.addFieldInt64(1,o,u.createLong(0,0))}static endOperatorSetId(u){return u.endObject()}static createOperatorSetId(u,o,h){return v.startOperatorSetId(u),v.addDomain(u,o),v.addVersion(u,h),v.endOperatorSetId(u)}}_.OperatorSetId=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsTensor(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsTensor(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}name(u){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,u):null}docString(u){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.__string(this.bb_pos+o,u):null}dims(u){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.readInt64(this.bb.__vector(this.bb_pos+o)+8*u):this.bb.createLong(0,0)}dimsLength(){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__vector_len(this.bb_pos+u):0}dataType(){let u=this.bb.__offset(this.bb_pos,10);return u?this.bb.readInt32(this.bb_pos+u):f.experimental.fbs.TensorDataType.UNDEFINED}rawData(u){let o=this.bb.__offset(this.bb_pos,12);return o?this.bb.readUint8(this.bb.__vector(this.bb_pos+o)+u):0}rawDataLength(){let u=this.bb.__offset(this.bb_pos,12);return u?this.bb.__vector_len(this.bb_pos+u):0}rawDataArray(){let u=this.bb.__offset(this.bb_pos,12);return u?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+u),this.bb.__vector_len(this.bb_pos+u)):null}stringData(u,o){let h=this.bb.__offset(this.bb_pos,14);return h?this.bb.__string(this.bb.__vector(this.bb_pos+h)+4*u,o):null}stringDataLength(){let u=this.bb.__offset(this.bb_pos,14);return u?this.bb.__vector_len(this.bb_pos+u):0}static startTensor(u){u.startObject(6)}static addName(u,o){u.addFieldOffset(0,o,0)}static addDocString(u,o){u.addFieldOffset(1,o,0)}static addDims(u,o){u.addFieldOffset(2,o,0)}static createDimsVector(u,o){u.startVector(8,o.length,8);for(let h=o.length-1;h>=0;h--)u.addInt64(o[h]);return u.endVector()}static startDimsVector(u,o){u.startVector(8,o,8)}static addDataType(u,o){u.addFieldInt32(3,o,f.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(u,o){u.addFieldOffset(4,o,0)}static createRawDataVector(u,o){u.startVector(1,o.length,1);for(let h=o.length-1;h>=0;h--)u.addInt8(o[h]);return u.endVector()}static startRawDataVector(u,o){u.startVector(1,o,1)}static addStringData(u,o){u.addFieldOffset(5,o,0)}static createStringDataVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startStringDataVector(u,o){u.startVector(4,o,4)}static endTensor(u){return u.endObject()}static createTensor(u,o,h,w,E,T,O){return v.startTensor(u),v.addName(u,o),v.addDocString(u,h),v.addDims(u,w),v.addDataType(u,E),v.addRawData(u,T),v.addStringData(u,O),v.endTensor(u)}}_.Tensor=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsSparseTensor(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsSparseTensor(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}values(u){let o=this.bb.__offset(this.bb_pos,4);return o?(u||new f.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}indices(u){let o=this.bb.__offset(this.bb_pos,6);return o?(u||new f.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}dims(u){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.readInt64(this.bb.__vector(this.bb_pos+o)+8*u):this.bb.createLong(0,0)}dimsLength(){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__vector_len(this.bb_pos+u):0}static startSparseTensor(u){u.startObject(3)}static addValues(u,o){u.addFieldOffset(0,o,0)}static addIndices(u,o){u.addFieldOffset(1,o,0)}static addDims(u,o){u.addFieldOffset(2,o,0)}static createDimsVector(u,o){u.startVector(8,o.length,8);for(let h=o.length-1;h>=0;h--)u.addInt64(o[h]);return u.endVector()}static startDimsVector(u,o){u.startVector(8,o,8)}static endSparseTensor(u){return u.endObject()}static createSparseTensor(u,o,h,w){return v.startSparseTensor(u),v.addValues(u,o),v.addIndices(u,h),v.addDims(u,w),v.endSparseTensor(u)}}_.SparseTensor=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsAttribute(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsAttribute(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}name(u){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,u):null}docString(u){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.__string(this.bb_pos+o,u):null}type(){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.readInt32(this.bb_pos+u):f.experimental.fbs.AttributeType.UNDEFINED}f(){let u=this.bb.__offset(this.bb_pos,10);return u?this.bb.readFloat32(this.bb_pos+u):0}i(){let u=this.bb.__offset(this.bb_pos,12);return u?this.bb.readInt64(this.bb_pos+u):this.bb.createLong(0,0)}s(u){let o=this.bb.__offset(this.bb_pos,14);return o?this.bb.__string(this.bb_pos+o,u):null}t(u){let o=this.bb.__offset(this.bb_pos,16);return o?(u||new f.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}g(u){let o=this.bb.__offset(this.bb_pos,18);return o?(u||new f.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}floats(u){let o=this.bb.__offset(this.bb_pos,20);return o?this.bb.readFloat32(this.bb.__vector(this.bb_pos+o)+4*u):0}floatsLength(){let u=this.bb.__offset(this.bb_pos,20);return u?this.bb.__vector_len(this.bb_pos+u):0}floatsArray(){let u=this.bb.__offset(this.bb_pos,20);return u?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+u),this.bb.__vector_len(this.bb_pos+u)):null}ints(u){let o=this.bb.__offset(this.bb_pos,22);return o?this.bb.readInt64(this.bb.__vector(this.bb_pos+o)+8*u):this.bb.createLong(0,0)}intsLength(){let u=this.bb.__offset(this.bb_pos,22);return u?this.bb.__vector_len(this.bb_pos+u):0}strings(u,o){let h=this.bb.__offset(this.bb_pos,24);return h?this.bb.__string(this.bb.__vector(this.bb_pos+h)+4*u,o):null}stringsLength(){let u=this.bb.__offset(this.bb_pos,24);return u?this.bb.__vector_len(this.bb_pos+u):0}tensors(u,o){let h=this.bb.__offset(this.bb_pos,26);return h?(o||new f.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+h)+4*u),this.bb):null}tensorsLength(){let u=this.bb.__offset(this.bb_pos,26);return u?this.bb.__vector_len(this.bb_pos+u):0}graphs(u,o){let h=this.bb.__offset(this.bb_pos,28);return h?(o||new f.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+h)+4*u),this.bb):null}graphsLength(){let u=this.bb.__offset(this.bb_pos,28);return u?this.bb.__vector_len(this.bb_pos+u):0}static startAttribute(u){u.startObject(13)}static addName(u,o){u.addFieldOffset(0,o,0)}static addDocString(u,o){u.addFieldOffset(1,o,0)}static addType(u,o){u.addFieldInt32(2,o,f.experimental.fbs.AttributeType.UNDEFINED)}static addF(u,o){u.addFieldFloat32(3,o,0)}static addI(u,o){u.addFieldInt64(4,o,u.createLong(0,0))}static addS(u,o){u.addFieldOffset(5,o,0)}static addT(u,o){u.addFieldOffset(6,o,0)}static addG(u,o){u.addFieldOffset(7,o,0)}static addFloats(u,o){u.addFieldOffset(8,o,0)}static createFloatsVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addFloat32(o[h]);return u.endVector()}static startFloatsVector(u,o){u.startVector(4,o,4)}static addInts(u,o){u.addFieldOffset(9,o,0)}static createIntsVector(u,o){u.startVector(8,o.length,8);for(let h=o.length-1;h>=0;h--)u.addInt64(o[h]);return u.endVector()}static startIntsVector(u,o){u.startVector(8,o,8)}static addStrings(u,o){u.addFieldOffset(10,o,0)}static createStringsVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startStringsVector(u,o){u.startVector(4,o,4)}static addTensors(u,o){u.addFieldOffset(11,o,0)}static createTensorsVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startTensorsVector(u,o){u.startVector(4,o,4)}static addGraphs(u,o){u.addFieldOffset(12,o,0)}static createGraphsVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startGraphsVector(u,o){u.startVector(4,o,4)}static endAttribute(u){return u.endObject()}static createAttribute(u,o,h,w,E,T,O,M,I,R,D,N,L,B){return v.startAttribute(u),v.addName(u,o),v.addDocString(u,h),v.addType(u,w),v.addF(u,E),v.addI(u,T),v.addS(u,O),v.addT(u,M),v.addG(u,I),v.addFloats(u,R),v.addInts(u,D),v.addStrings(u,N),v.addTensors(u,L),v.addGraphs(u,B),v.endAttribute(u)}}_.Attribute=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsGraph(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsGraph(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}initializers(u,o){let h=this.bb.__offset(this.bb_pos,4);return h?(o||new f.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+h)+4*u),this.bb):null}initializersLength(){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__vector_len(this.bb_pos+u):0}nodeArgs(u,o){let h=this.bb.__offset(this.bb_pos,6);return h?(o||new f.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+h)+4*u),this.bb):null}nodeArgsLength(){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__vector_len(this.bb_pos+u):0}nodes(u,o){let h=this.bb.__offset(this.bb_pos,8);return h?(o||new f.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+h)+4*u),this.bb):null}nodesLength(){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__vector_len(this.bb_pos+u):0}maxNodeIndex(){let u=this.bb.__offset(this.bb_pos,10);return u?this.bb.readUint32(this.bb_pos+u):0}nodeEdges(u,o){let h=this.bb.__offset(this.bb_pos,12);return h?(o||new f.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+h)+4*u),this.bb):null}nodeEdgesLength(){let u=this.bb.__offset(this.bb_pos,12);return u?this.bb.__vector_len(this.bb_pos+u):0}inputs(u,o){let h=this.bb.__offset(this.bb_pos,14);return h?this.bb.__string(this.bb.__vector(this.bb_pos+h)+4*u,o):null}inputsLength(){let u=this.bb.__offset(this.bb_pos,14);return u?this.bb.__vector_len(this.bb_pos+u):0}outputs(u,o){let h=this.bb.__offset(this.bb_pos,16);return h?this.bb.__string(this.bb.__vector(this.bb_pos+h)+4*u,o):null}outputsLength(){let u=this.bb.__offset(this.bb_pos,16);return u?this.bb.__vector_len(this.bb_pos+u):0}sparseInitializers(u,o){let h=this.bb.__offset(this.bb_pos,18);return h?(o||new f.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+h)+4*u),this.bb):null}sparseInitializersLength(){let u=this.bb.__offset(this.bb_pos,18);return u?this.bb.__vector_len(this.bb_pos+u):0}static startGraph(u){u.startObject(8)}static addInitializers(u,o){u.addFieldOffset(0,o,0)}static createInitializersVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startInitializersVector(u,o){u.startVector(4,o,4)}static addNodeArgs(u,o){u.addFieldOffset(1,o,0)}static createNodeArgsVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startNodeArgsVector(u,o){u.startVector(4,o,4)}static addNodes(u,o){u.addFieldOffset(2,o,0)}static createNodesVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startNodesVector(u,o){u.startVector(4,o,4)}static addMaxNodeIndex(u,o){u.addFieldInt32(3,o,0)}static addNodeEdges(u,o){u.addFieldOffset(4,o,0)}static createNodeEdgesVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startNodeEdgesVector(u,o){u.startVector(4,o,4)}static addInputs(u,o){u.addFieldOffset(5,o,0)}static createInputsVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startInputsVector(u,o){u.startVector(4,o,4)}static addOutputs(u,o){u.addFieldOffset(6,o,0)}static createOutputsVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startOutputsVector(u,o){u.startVector(4,o,4)}static addSparseInitializers(u,o){u.addFieldOffset(7,o,0)}static createSparseInitializersVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startSparseInitializersVector(u,o){u.startVector(4,o,4)}static endGraph(u){return u.endObject()}static createGraph(u,o,h,w,E,T,O,M,I){return v.startGraph(u),v.addInitializers(u,o),v.addNodeArgs(u,h),v.addNodes(u,w),v.addMaxNodeIndex(u,E),v.addNodeEdges(u,T),v.addInputs(u,O),v.addOutputs(u,M),v.addSparseInitializers(u,I),v.endGraph(u)}}_.Graph=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsModel(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsModel(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}irVersion(){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.readInt64(this.bb_pos+u):this.bb.createLong(0,0)}opsetImport(u,o){let h=this.bb.__offset(this.bb_pos,6);return h?(o||new f.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+h)+4*u),this.bb):null}opsetImportLength(){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__vector_len(this.bb_pos+u):0}producerName(u){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.__string(this.bb_pos+o,u):null}producerVersion(u){let o=this.bb.__offset(this.bb_pos,10);return o?this.bb.__string(this.bb_pos+o,u):null}domain(u){let o=this.bb.__offset(this.bb_pos,12);return o?this.bb.__string(this.bb_pos+o,u):null}modelVersion(){let u=this.bb.__offset(this.bb_pos,14);return u?this.bb.readInt64(this.bb_pos+u):this.bb.createLong(0,0)}docString(u){let o=this.bb.__offset(this.bb_pos,16);return o?this.bb.__string(this.bb_pos+o,u):null}graph(u){let o=this.bb.__offset(this.bb_pos,18);return o?(u||new f.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}graphDocString(u){let o=this.bb.__offset(this.bb_pos,20);return o?this.bb.__string(this.bb_pos+o,u):null}static startModel(u){u.startObject(9)}static addIrVersion(u,o){u.addFieldInt64(0,o,u.createLong(0,0))}static addOpsetImport(u,o){u.addFieldOffset(1,o,0)}static createOpsetImportVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startOpsetImportVector(u,o){u.startVector(4,o,4)}static addProducerName(u,o){u.addFieldOffset(2,o,0)}static addProducerVersion(u,o){u.addFieldOffset(3,o,0)}static addDomain(u,o){u.addFieldOffset(4,o,0)}static addModelVersion(u,o){u.addFieldInt64(5,o,u.createLong(0,0))}static addDocString(u,o){u.addFieldOffset(6,o,0)}static addGraph(u,o){u.addFieldOffset(7,o,0)}static addGraphDocString(u,o){u.addFieldOffset(8,o,0)}static endModel(u){return u.endObject()}static createModel(u,o,h,w,E,T,O,M,I,R){return v.startModel(u),v.addIrVersion(u,o),v.addOpsetImport(u,h),v.addProducerName(u,w),v.addProducerVersion(u,E),v.addDomain(u,T),v.addModelVersion(u,O),v.addDocString(u,M),v.addGraph(u,I),v.addGraphDocString(u,R),v.endModel(u)}}_.Model=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsKernelCreateInfos(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsKernelCreateInfos(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}nodeIndices(u){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.readUint32(this.bb.__vector(this.bb_pos+o)+4*u):0}nodeIndicesLength(){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__vector_len(this.bb_pos+u):0}nodeIndicesArray(){let u=this.bb.__offset(this.bb_pos,4);return u?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+u),this.bb.__vector_len(this.bb_pos+u)):null}kernelDefHashes(u){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.readUint64(this.bb.__vector(this.bb_pos+o)+8*u):this.bb.createLong(0,0)}kernelDefHashesLength(){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__vector_len(this.bb_pos+u):0}static startKernelCreateInfos(u){u.startObject(2)}static addNodeIndices(u,o){u.addFieldOffset(0,o,0)}static createNodeIndicesVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addInt32(o[h]);return u.endVector()}static startNodeIndicesVector(u,o){u.startVector(4,o,4)}static addKernelDefHashes(u,o){u.addFieldOffset(1,o,0)}static createKernelDefHashesVector(u,o){u.startVector(8,o.length,8);for(let h=o.length-1;h>=0;h--)u.addInt64(o[h]);return u.endVector()}static startKernelDefHashesVector(u,o){u.startVector(8,o,8)}static endKernelCreateInfos(u){return u.endObject()}static createKernelCreateInfos(u,o,h){return v.startKernelCreateInfos(u),v.addNodeIndices(u,o),v.addKernelDefHashes(u,h),v.endKernelCreateInfos(u)}}_.KernelCreateInfos=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsSubGraphSessionState(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsSubGraphSessionState(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}graphId(u){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,u):null}sessionState(u){let o=this.bb.__offset(this.bb_pos,6);return o?(u||new f.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startSubGraphSessionState(u){u.startObject(2)}static addGraphId(u,o){u.addFieldOffset(0,o,0)}static addSessionState(u,o){u.addFieldOffset(1,o,0)}static endSubGraphSessionState(u){let o=u.endObject();return u.requiredField(o,4),o}static createSubGraphSessionState(u,o,h){return v.startSubGraphSessionState(u),v.addGraphId(u,o),v.addSessionState(u,h),v.endSubGraphSessionState(u)}}_.SubGraphSessionState=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsSessionState(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsSessionState(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}kernels(u){let o=this.bb.__offset(this.bb_pos,4);return o?(u||new f.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}subGraphSessionStates(u,o){let h=this.bb.__offset(this.bb_pos,6);return h?(o||new f.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+h)+4*u),this.bb):null}subGraphSessionStatesLength(){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__vector_len(this.bb_pos+u):0}static startSessionState(u){u.startObject(2)}static addKernels(u,o){u.addFieldOffset(0,o,0)}static addSubGraphSessionStates(u,o){u.addFieldOffset(1,o,0)}static createSubGraphSessionStatesVector(u,o){u.startVector(4,o.length,4);for(let h=o.length-1;h>=0;h--)u.addOffset(o[h]);return u.endVector()}static startSubGraphSessionStatesVector(u,o){u.startVector(4,o,4)}static endSessionState(u){return u.endObject()}static createSessionState(u,o,h){return v.startSessionState(u),v.addKernels(u,o),v.addSubGraphSessionStates(u,h),v.endSessionState(u)}}_.SessionState=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={})),(function(f){(function(b){(function(_){class v{constructor(){this.bb=null,this.bb_pos=0}__init(u,o){return this.bb_pos=u,this.bb=o,this}static getRootAsInferenceSession(u,o){return(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static getSizePrefixedRootAsInferenceSession(u,o){return u.setPosition(u.position()+i.flatbuffers.SIZE_PREFIX_LENGTH),(o||new v).__init(u.readInt32(u.position())+u.position(),u)}static bufferHasIdentifier(u){return u.__has_identifier("ORTM")}ortVersion(u){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,u):null}model(u){let o=this.bb.__offset(this.bb_pos,6);return o?(u||new f.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}sessionState(u){let o=this.bb.__offset(this.bb_pos,8);return o?(u||new f.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startInferenceSession(u){u.startObject(3)}static addOrtVersion(u,o){u.addFieldOffset(0,o,0)}static addModel(u,o){u.addFieldOffset(1,o,0)}static addSessionState(u,o){u.addFieldOffset(2,o,0)}static endInferenceSession(u){return u.endObject()}static finishInferenceSessionBuffer(u,o){u.finish(o,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(u,o){u.finish(o,"ORTM",!0)}static createInferenceSession(u,o,h,w){return v.startInferenceSession(u),v.addOrtVersion(u,o),v.addModel(u,h),v.addSessionState(u,w),v.endInferenceSession(u)}}_.InferenceSession=v})(b.fbs||(b.fbs={}))})(f.experimental||(f.experimental={}))})(e.onnxruntime||(e.onnxruntime={}))},7448:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OnnxjsSessionHandler=void 0;const i=n(1670),l=n(9162);e.OnnxjsSessionHandler=class{constructor(d){this.session=d,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(d,f,b){const _=new Map;for(const u in d)if(Object.hasOwnProperty.call(d,u)){const o=d[u];_.set(u,new l.Tensor(o.dims,o.type,void 0,void 0,o.data))}const v=await this.session.run(_),m={};return v.forEach(((u,o)=>{m[o]=new i.Tensor(u.type,u.data,u.dims)})),m}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Session=void 0;const i=n(7067),l=n(1296),d=n(7091),f=n(1036),b=n(6231),_=n(2644);e.Session=class{constructor(v={}){this._initialized=!1,this.backendHint=v.backendHint,this.profiler=b.Profiler.create(v.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(v,m,u){await this.profiler.event("session","Session.loadModel",(async()=>{const o=await(0,d.resolveBackend)(this.backendHint);if(this.sessionHandler=o.createSessionHandler(this.context),this._model=new _.Model,typeof v=="string"){const h=v.endsWith(".ort");if(typeof fetch>"u"){const w=await(0,l.promisify)(i.readFile)(v);this.initialize(w,h)}else{const w=await fetch(v),E=await w.arrayBuffer();this.initialize(new Uint8Array(E),h)}}else if(ArrayBuffer.isView(v))this.initialize(v);else{const h=new Uint8Array(v,m||0,u||v.byteLength);this.initialize(h)}}))}initialize(v,m){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",(()=>{const u=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(v,u,m),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new f.ExecutionPlan(this._model.graph,this._ops,this.profiler)})),this._initialized=!0}async run(v){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",(async()=>{const m=this.normalizeAndValidateInputs(v),u=await this._executionPlan.execute(this.sessionHandler,m);return this.createOutput(u)}))}normalizeAndValidateInputs(v){const m=this._model.graph.getInputNames();if(Array.isArray(v)){if(v.length!==m.length)throw new Error(`incorrect input array length: expected ${m.length} but got ${v.length}`)}else{if(v.size!==m.length)throw new Error(`incorrect input map size: expected ${m.length} but got ${v.size}`);const u=new Array(v.size);let o=0;for(let h=0;h<m.length;++h){const w=v.get(m[h]);if(!w)throw new Error(`missing input tensor for: '${name}'`);u[o++]=w}v=u}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,v,!1);else{const u=this._model.graph.getInputIndices(),o=this._model.graph.getValues(),h=new Array(u.length);for(let w=0;w<u.length;++w){const E=o[u[w]];h[w]=E.type.shape.dims,this.context.graphInputTypes.push(E.type.tensorType),this.context.graphInputDims.push(v[w].dims)}this.validateInputTensorDims(h,v,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,v),v}validateInputTensorTypes(v,m){for(let u=0;u<m.length;u++){const o=v[u],h=m[u].type;if(o!==h)throw new Error(`input tensor[${u}] check failed: expected type '${o}' but got ${h}`)}}validateInputTensorDims(v,m,u){for(let o=0;o<m.length;o++){const h=v[o],w=m[o].dims;if(!this.compareTensorDims(h,w,u))throw new Error(`input tensor[${o}] check failed: expected shape '[${h.join(",")}]' but got [${w.join(",")}]`)}}compareTensorDims(v,m,u){if(v.length!==m.length)return!1;for(let o=0;o<v.length;++o)if(v[o]!==m[o]&&(!u||v[o]!==0))return!1;return!0}createOutput(v){const m=this._model.graph.getOutputNames();if(v.length!==m.length)throw new Error("expected number of outputs do not match number of generated outputs");const u=new Map;for(let o=0;o<m.length;++o)u.set(m[o],v[o]);return u}initializeOps(v){const m=v.getNodes();this._ops=new Array(m.length);for(let u=0;u<m.length;u++)this._ops[u]=this.sessionHandler.resolve(m[u],this._model.opsets,v)}}},9162:function(t,e,n){var i=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0}),e.Tensor=void 0;const l=n(3442),d=i(n(3720)),f=n(1446),b=n(9395),_=n(2517);var v=b.onnxruntime.experimental.fbs;class m{get data(){if(this.cache===void 0){const T=this.dataProvider(this.dataId);if(T.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=T}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(T){return this.data[_.ShapeUtil.indicesToOffset(T,this.strides)]}set(T,O){this.data[_.ShapeUtil.indicesToOffset(T,this.strides)]=O}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=_.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(T,O,M,I,R,D=l.Guid.create()){this.dims=T,this.type=O,this.dataProvider=M,this.asyncDataProvider=I,this.cache=R,this.dataId=D,this.size=_.ShapeUtil.validateDimsAndCalcSize(T);const N=this.size,L=M===void 0&&I===void 0&&R===void 0;if(R!==void 0&&R.length!==N)throw new RangeError("Input dims doesn't match data length.");if(O==="string"){if(!(R===void 0||Array.isArray(R)&&R.every((B=>typeof B=="string"))))throw new TypeError("cache should be a string array");L&&(this.cache=new Array(N))}else{if(R!==void 0){const B=o(O);if(!(R instanceof B))throw new TypeError(`cache should be type ${B.name}`)}if(L){const B=new ArrayBuffer(N*(function($){switch($){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${$}`)}})(O));this.cache=(function($,V){return new(o(V))($)})(B,O)}}}static fromProto(T){if(!T)throw new Error("cannot construct Value from an empty tensor");const O=_.ProtoUtil.tensorDataTypeFromProto(T.dataType),M=_.ProtoUtil.tensorDimsFromProto(T.dims),I=new m(M,O);if(O==="string")T.stringData.forEach(((R,D)=>{I.data[D]=(0,_.decodeUtf8String)(R)}));else if(T.rawData&&typeof T.rawData.byteLength=="number"&&T.rawData.byteLength>0){const R=I.data,D=new DataView(T.rawData.buffer,T.rawData.byteOffset,T.rawData.byteLength),N=u(T.dataType),L=T.rawData.byteLength/N;if(T.rawData.byteLength%N!=0)throw new Error("invalid buffer length");if(R.length!==L)throw new Error("buffer length mismatch");for(let B=0;B<L;B++){const $=w(D,T.dataType,B*N);R[B]=$}}else{let R;switch(T.dataType){case f.onnx.TensorProto.DataType.FLOAT:R=T.floatData;break;case f.onnx.TensorProto.DataType.INT32:case f.onnx.TensorProto.DataType.INT16:case f.onnx.TensorProto.DataType.UINT16:case f.onnx.TensorProto.DataType.INT8:case f.onnx.TensorProto.DataType.UINT8:case f.onnx.TensorProto.DataType.BOOL:R=T.int32Data;break;case f.onnx.TensorProto.DataType.INT64:R=T.int64Data;break;case f.onnx.TensorProto.DataType.DOUBLE:R=T.doubleData;break;case f.onnx.TensorProto.DataType.UINT32:case f.onnx.TensorProto.DataType.UINT64:R=T.uint64Data;break;default:throw new Error("unspecific error")}if(R==null)throw new Error("failed to populate data from a tensorproto value");const D=I.data;if(D.length!==R.length)throw new Error("array length mismatch");for(let N=0;N<R.length;N++){const L=R[N];d.default.isLong(L)?D[N]=h(L,T.dataType):D[N]=L}}return I}static fromData(T,O,M){return new m(O,M,void 0,void 0,T)}static fromOrtTensor(T){if(!T)throw new Error("cannot construct Value from an empty tensor");const O=_.ProtoUtil.tensorDimsFromORTFormat(T),M=_.ProtoUtil.tensorDataTypeFromProto(T.dataType()),I=new m(O,M);if(M==="string")for(let R=0;R<T.stringDataLength();R++)I.data[R]=T.stringData(R);else if(T.rawDataArray()&&typeof T.rawDataLength()=="number"&&T.rawDataLength()>0){const R=I.data,D=new DataView(T.rawDataArray().buffer,T.rawDataArray().byteOffset,T.rawDataLength()),N=u(T.dataType()),L=T.rawDataLength()/N;if(T.rawDataLength()%N!=0)throw new Error("invalid buffer length");if(R.length!==L)throw new Error("buffer length mismatch");for(let B=0;B<L;B++){const $=w(D,T.dataType(),B*N);R[B]=$}}return I}}function u(E){switch(E){case f.onnx.TensorProto.DataType.UINT8:case f.onnx.TensorProto.DataType.INT8:case f.onnx.TensorProto.DataType.BOOL:return 1;case f.onnx.TensorProto.DataType.UINT16:case f.onnx.TensorProto.DataType.INT16:return 2;case f.onnx.TensorProto.DataType.FLOAT:case f.onnx.TensorProto.DataType.INT32:case f.onnx.TensorProto.DataType.UINT32:return 4;case f.onnx.TensorProto.DataType.INT64:case f.onnx.TensorProto.DataType.DOUBLE:case f.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${f.onnx.TensorProto.DataType[E]}`)}}function o(E){switch(E){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function h(E,T){if(T===f.onnx.TensorProto.DataType.INT64||T===v.TensorDataType.INT64){if(E.greaterThanOrEqual(2147483648)||E.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(T!==f.onnx.TensorProto.DataType.UINT32&&T!==v.TensorDataType.UINT32&&T!==f.onnx.TensorProto.DataType.UINT64&&T!==v.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${f.onnx.TensorProto.DataType[T]}`);if(E.greaterThanOrEqual(4294967296)||E.lessThan(0))throw new TypeError("uint64 is not supported")}return E.toNumber()}function w(E,T,O){switch(T){case f.onnx.TensorProto.DataType.BOOL:case f.onnx.TensorProto.DataType.UINT8:return E.getUint8(O);case f.onnx.TensorProto.DataType.INT8:return E.getInt8(O);case f.onnx.TensorProto.DataType.UINT16:return E.getUint16(O,!0);case f.onnx.TensorProto.DataType.INT16:return E.getInt16(O,!0);case f.onnx.TensorProto.DataType.FLOAT:return E.getFloat32(O,!0);case f.onnx.TensorProto.DataType.INT32:return E.getInt32(O,!0);case f.onnx.TensorProto.DataType.UINT32:return E.getUint32(O,!0);case f.onnx.TensorProto.DataType.INT64:return h(d.default.fromBits(E.getUint32(O,!0),E.getUint32(O+4,!0),!1),T);case f.onnx.TensorProto.DataType.DOUBLE:return E.getFloat64(O,!0);case f.onnx.TensorProto.DataType.UINT64:return h(d.default.fromBits(E.getUint32(O,!0),E.getUint32(O+4,!0),!0),T);default:throw new Error(`cannot read from DataView for type ${f.onnx.TensorProto.DataType[T]}`)}}e.Tensor=m},2517:function(t,e,n){var i=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUtf8String=e.MAX_CLIP=e.MIN_CLIP=e.PoolConvUtil=e.ReduceUtil=e.SplitUtil=e.MathUtil=e.ShapeUtil=e.LongUtil=e.ProtoUtil=e.GemmUtil=e.arrayCopyHelper=e.BroadcastUtil=e.MatMulUtil=e.ArrayUtil=e.assert=e.checkInputsShape=void 0;const l=n(5686),d=i(n(3720)),f=n(1446),b=n(9162);e.checkInputsShape=function(T,...O){if(!T||T.length!==O.length)return!1;for(let M=0;M<T.length;M++)if(!T[M].dims||T[M].dims.length!==O[M])return!1;return!0},e.assert=function(T,O){if(!T)throw new Error(typeof O=="string"?O:O())},e.ArrayUtil=class{static arraysEqual(T,O){if(T.length!==O.length)return!1;for(let M=0;M<T.length;M++)if(T[M]!==O[M])return!1;return!0}};class _{static preprocessInputShapes(O,M){return[O.length===1?[1,O[0]]:O,M.length===1?[M[0],1]:M]}static postprocessOutputShape(O,M,I){M===1&&O.splice(O.length-2,1),I===1&&O.pop()}static calcMatMulShape(O,M){return O[1]!==M[0]?void 0:[O[0],M[1]]}}e.MatMulUtil=_;class v{static calcShape(O,M,I=!1){const R=O.length,D=M.length;if(R===0)return M;if(D===0)return O;const N=Math.max(O.length,M.length),L=new Array(N);if(I){if(R<2||D<2)return;const B=_.calcMatMulShape([O[R-2],O[R-1]],[M[D-2],M[D-1]]);if(B===void 0)return;[L[N-2],L[N-1]]=B}for(let B=I?3:1;B<=N;B++){const $=R-B<0?1:O[R-B],V=D-B<0?1:M[D-B];if($!==V&&$>1&&V>1)return;L[N-B]=Math.max($,V)}return L}static index(O,M){const I=new Array(M.length);return v.fillIndex(O,M,I),I}static fillIndex(O,M,I){const R=O.length-M.length;for(let D=0;D<M.length;D++)I[D]=O[R+D]%M[D]}static calc(O,M,I,R,D){const N=v.calcShape(O.dims,M.dims);if(N){if(R&&!o.areEqual(N,O.dims))return;const L=o.size(N),B=R?O:new b.Tensor(N,D||O.type);if(N.length===0)B.set([],I(O.get([]),M.get([])));else{const $=new Array(N.length),V=new Array(O.dims.length),G=new Array(M.dims.length);let X,ee=0,Q=0,Y=!1,U=!1;O.dims.length===0&&(ee=O.get([]),Y=!0),M.dims.length===0&&(Q=M.get([]),U=!0);for(let q=0;q<L;q++){X=q;for(let le=N.length-1;le>=0;le--)$[le]=X%N[le],X=Math.floor(X/N[le]);Y||(v.fillIndex($,O.dims,V),ee=O.get(V)),U||(v.fillIndex($,M.dims,G),Q=M.get(G)),B.set($,I(ee,Q))}}return B}}static isValidBroadcast(O,M){const I=O.length,R=M.length;if(I>R)return!1;for(let D=1;D<=I;D++)if(O[I-D]!==1&&O[I-D]!==M[R-D])return!1;return!0}static getBroadcastDims(O,M){const I=O.length,R=[];for(let D=0;D<I;D++){const N=I-1-D,L=O[N]||1;(M[M.length-1-D]||1)>1&&L===1&&R.unshift(N)}return R}}e.BroadcastUtil=v,e.arrayCopyHelper=function(T,O,M,I,R){if(I<0||I>=O.length)throw new Error("sourceIndex out of bounds");if(M<0||M>=T.length)throw new Error("targetIndex out of bounds");if(I+R>O.length)throw new Error("source indices to be copied are outside bounds");if(M+R>T.length)throw new Error("target array is too small to hold result");for(let D=0;D<R;D++)T[M+D]=O[I+D]},e.GemmUtil=class{static getShapeOfGemmResult(T,O,M,I,R){if(T.length!==2||M.length!==2)throw new Error("shape need to be of size 2");let D,N,L;O?(D=T[1],N=T[0]):(D=T[0],N=T[1]);let B=-1;if(I?(L=M[0],B=1):(L=M[1],B=0),M[B]!==N)throw new Error("dimension mismatch");if(D<=0||L<=0||N<=0)throw new Error("invalid shape specified");if(R&&!v.isValidBroadcast(R,[D,L]))throw new Error("gemm: invalid bias shape for broadcast");return[D,L,N]}};class m{static tensorDataTypeFromProto(O){switch(O){case f.onnx.TensorProto.DataType.INT8:return"int8";case f.onnx.TensorProto.DataType.UINT8:return"uint8";case f.onnx.TensorProto.DataType.BOOL:return"bool";case f.onnx.TensorProto.DataType.INT16:return"int16";case f.onnx.TensorProto.DataType.UINT16:return"uint16";case f.onnx.TensorProto.DataType.INT32:return"int32";case f.onnx.TensorProto.DataType.UINT32:return"uint32";case f.onnx.TensorProto.DataType.FLOAT:return"float32";case f.onnx.TensorProto.DataType.DOUBLE:return"float64";case f.onnx.TensorProto.DataType.STRING:return"string";case f.onnx.TensorProto.DataType.INT64:return"int32";case f.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${f.onnx.TensorProto.DataType[O]}`)}}static tensorDataTypeStringToEnum(O){switch(O){case"int8":return f.onnx.TensorProto.DataType.INT8;case"uint8":return f.onnx.TensorProto.DataType.UINT8;case"bool":return f.onnx.TensorProto.DataType.BOOL;case"int16":return f.onnx.TensorProto.DataType.INT16;case"uint16":return f.onnx.TensorProto.DataType.UINT16;case"int32":return f.onnx.TensorProto.DataType.INT32;case"uint32":return f.onnx.TensorProto.DataType.UINT32;case"float32":return f.onnx.TensorProto.DataType.FLOAT;case"float64":return f.onnx.TensorProto.DataType.DOUBLE;case"string":return f.onnx.TensorProto.DataType.STRING;case"int64":return f.onnx.TensorProto.DataType.INT64;case"uint64":return f.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${O}`)}}static tensorDimsFromProto(O){return O.map((M=>d.default.isLong(M)?M.toNumber():M))}static tensorValueTypeFromProto(O){return{tensorType:m.tensorDataTypeFromProto(O.elemType),shape:{dims:m.tensorDimsFromProto(O.shape.dim.map((M=>M.dimValue)))}}}static tensorDimsFromORTFormat(O){const M=[];for(let I=0;I<O.dimsLength();I++)M.push(u.longToNumber(O.dims(I)));return M}static tensorAttributesFromORTFormat(O){const M=[];for(let I=0;I<O.attributesLength();I++)M.push(O.attributes(I));return M}}e.ProtoUtil=m;class u{static longToNumber(O,M){return d.default.isLong(O)?O.toNumber():O instanceof l.flatbuffers.Long?d.default.fromValue({low:O.low,high:O.high,unsigned:M!=null&&M}).toNumber():O}static isLong(O){return d.default.isLong(O)||O instanceof l.flatbuffers.Long}}e.LongUtil=u;class o{static size(O){return o.getSizeFromDimensionRange(O,0,O.length)}static sizeFromDimension(O,M){if(M<0||M>O.length)throw new Error(`invalid dimension of ${M} for sizeFromDimension as Tensor has ${O.length} dimensions.`);return o.getSizeFromDimensionRange(O,M,O.length)}static sizeToDimension(O,M){if(M<0||M>O.length)throw new Error(`invalid dimension of ${M} for sizeToDimension as Tensor has ${O.length} dimensions.`);return o.getSizeFromDimensionRange(O,0,M)}static getSizeFromDimensionRange(O,M,I){let R=1;for(let D=M;D<I;D++){if(O[D]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");R*=O[D]}return R}static computeStrides(O){const M=O.length;if(M===0)return[];if(M===1)return[1];const I=new Array(M);I[M-1]=1,I[M-2]=O[M-1];for(let R=M-3;R>=0;--R)I[R]=I[R+1]*O[R+1];return I}static transpose(O){return O.slice().reverse()}static indicesToOffset(O,M,I){I===void 0&&(I=O.length);let R=0;for(let D=0;D<I;++D)R+=M[D]*O[D];return R}static offsetToIndices(O,M){const I=M.length;if(I===0)return[];if(I===1)return[O*M[0]];const R=new Array(M.length);for(let D=0;D<R.length-1;++D)R[D]=Math.floor(O/M[D]),O-=R[D]*M[D];return R[R.length-1]=O,R}static normalizeAxis(O,M){if(O<-M&&O>=M)throw new Error("unsupported axis for this operation.");return O<0?O+M:O}static normalizeAxes(O,M){return O.map((I=>this.normalizeAxis(I,M)))}static incrementIndex(O,M,I){if(M.length===0||O.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(I===void 0)I=M.length;else if(I<=0||I>M.length)throw new Error("Incorrect axis to increment on");for(let R=I-1;R>=0&&(O[R]++,!(O[R]<M[R]));--R)O[R]=0}static calculateReshapedDims(O,M){if(M.length===0){if(O.length===0||o.size(O)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const I=M.length,R=new Array(I);let D=-1,N=1;for(let B=0;B<I;B++){if(M[B]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(M[B]===-1){if(D!==-1)throw new Error("at most one dimension in shape hints can be -1");D=B}else{if(M[B]===0){if(B>=O.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");R[B]=O[B]}else R[B]=M[B];N*=R[B]}}const L=o.size(O);if(D!==-1){if(L%N!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${O}] Output shape: [${M}]`);R[D]=L/N}else if(N!==L)throw new Error("reshapedDims and originalDims don't have matching sizes");return R}static sortBasedOnPerm(O,M){return M?M.map((I=>O[I])):O.slice().reverse()}static padShape(O,M){const I=O.length;return O.map(((R,D)=>R+M[D]+M[D+I]))}static areEqual(O,M){return O.length===M.length&&O.every(((I,R)=>I===M[R]))}static validateDimsAndCalcSize(O){if(O.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let M=1;for(const I of O){if(!Number.isInteger(I))throw new TypeError(`Invalid shape: ${I} is not an integer`);if(I<0||I>2147483647)throw new TypeError(`Invalid shape: length ${I} is not allowed`);M*=I}return M}static flattenShape(O,M){M<0&&(M+=O.length);const I=O.reduce(((D,N)=>D*N),1),R=O.slice(M).reduce(((D,N)=>D*N),1);return[I/R,R]}static squeezeShape(O,M){const I=new Array;M=o.normalizeAxes(M,O.length);for(let R=0;R<O.length;R++){const D=M.indexOf(R)>=0;if(D&&O[R]!==1)throw new Error("squeeze an axis of size different than 1");(M.length===0&&O[R]>1||M.length>0&&!D)&&I.push(O[R])}return I}static unsqueezeShape(O,M){const I=new Array(O.length+M.length);I.fill(0);for(let D=0;D<M.length;D++){const N=o.normalizeAxis(M[D],I.length);if(N>=I.length)throw new Error("'axes' has an out of range axis");if(I[N]!==0)throw new Error("'axes' has a duplicate axis");I[N]=1}let R=0;for(let D=0;D<I.length;D++)I[D]===0&&(I[D]=O[R++]);if(R!==O.length)throw new Error("the unsqueezed dimension could not be established");return I}}e.ShapeUtil=o,e.MathUtil=class{static sqr(T,O,M,I,R){if(I<0||I>=O.length)throw new Error("sourceIndex out of bounds");if(M<0||M>=T.length)throw new Error("targetIndex out of bounds");if(I+R>O.length)throw new Error("source indices to be copied are outside bounds");if(M+R>T.length)throw new Error("target array is too small to hold result");for(let D=0;D<R;D++)T[M+D]+=Math.pow(O[I+D],2)}static axpy(T,O,M,I,R,D){if(I<0||I>=O.length)throw new Error("sourceIndex out of bounds");if(M<0||M>=T.length)throw new Error("targetIndex out of bounds");if(I+R>O.length)throw new Error("source indices to be copied are outside bounds");if(M+R>T.length)throw new Error("target array is too small to hold result");for(let N=0;N<R;N++)T[M+N]+=D*O[I+N]}static powx(T,O,M,I,R,D){if(I<0||I>=O.length)throw new Error("sourceIndex out of bounds");if(M<0||M>=T.length)throw new Error("targetIndex out of bounds");if(I+R>O.length)throw new Error("source indices to be copied are outside bounds");if(M+R>T.length)throw new Error("target array is too small to hold result");for(let N=0;N<R;N++)T[M+N]=Math.pow(O[I+N],D)}static mul(T,O,M,I,R){if(I<0||I>=O.length)throw new Error("sourceIndex out of bounds");if(M<0||M>=T.length)throw new Error("targetIndex out of bounds");if(I+R>O.length)throw new Error("source indices to be copied are outside bounds");if(M+R>T.length)throw new Error("target array is too small to hold result");for(let D=0;D<R;D++)T[M+D]=O[I+D]*T[M+D]}};class h{static splitShape(O,M,I,R){if(I.length===0){if(!R)throw new Error("need to know number of outputs when the 'split' attribute is not specified");h.determineSplit(O[M],R,I)}const D=[],N=[0];for(let L=0;L<I.length;++L){L!==0&&N.push(N[L-1]+I[L-1]);const B=O.slice();B[M]=I[L],D.push(B)}return[D,N]}static determineSplit(O,M,I){if(O%M!=0)throw new Error("cannot split tensor to equal sized parts");for(let R=0;R<M;++R)I.push(O/M)}}e.SplitUtil=h;class w{static calcReduce(O,M,I,R,D){const N=O.dims.slice(0);M.length===0&&N.forEach(((ee,Q)=>M.push(Q)));const L=w.calcReduceShape(N,M,!0),B=o.size(L),$=new b.Tensor(L,O.type),V=o.computeStrides(L),G=o.computeStrides(N),X=new Array(N.length);for(let ee=0;ee<B;ee++){const Q=o.offsetToIndices(ee,V);v.fillIndex(Q,N,X),$.set(Q,w.calcReduceByAxis(O.numberData,M,N,0,o.indicesToOffset(X,G),R,D))}return I?$:new b.Tensor(w.calcReduceShape(N,M,I),$.type,void 0,void 0,$.data,$.dataId)}static calcReduceByAxis(O,M,I,R,D,N,L){let B=0;if(R>=M.length)return N(O[D]);const $=M[R],V=$>=I.length?1:o.size(I.slice($+1));for(let G=0;G<I[$];G++)B=G===0?w.calcReduceByAxis(O,M,I,R+1,D,N,L):L(B,w.calcReduceByAxis(O,M,I,R+1,D,N,L)),D+=V;return B}static calcReduceShape(O,M,I){const R=O.slice();for(let D=0;D<M.length;D++)R[M[D]]=I?1:0;return R.filter((D=>D!==0))}}e.ReduceUtil=w;class E{static adjustPoolAttributes(O,M,I,R,D,N){if(!O&&I.length!==M.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(O)for(let L=0;L<M.length-2;L++)L>=I.length?I.push(M[L+2]):I[L]=M[L+2];for(let L=0;L<I.length;L++)if(L<R.length){if(R[L]<0)throw new Error("strides should be greater than or equal to 1")}else R.push(1);for(let L=0;L<I.length;L++)if(L<D.length){if(D[L]<0)throw new Error("dilations should be greater than or equal to 1")}else D.push(1);for(let L=0;L<2*I.length;L++)if(L<N.length){if(N[L]<0)throw new Error("pad should be greater than or equal to 1")}else N.push(0);for(let L=0;L<I.length;L++){if(I[L]<=0)throw new Error("kernel shapes need to be greater than 0");if(N[L]>=I[L]||N[L+I.length]>=I[L])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(O,M,I,R,D,N){if(N){if(D.length!==2*(O.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(M.length!==O.length-2)throw new Error("length of strides should be the length of data dimensions");if(R.length!==O.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let L=0;L<O.length-2;L++)E.adjustPadAndReturnShape(O[L+2],M[L],I[L],R[L],D,L,L+O.length-2,N)}}static computePoolOutputShape(O,M,I,R,D,N,L){if(M.length<=0)throw new Error("input shape must be of size greater than 0");const B=[M[0],M[1]];return E.computeShapeHelper(O,M,B,I,R,D,N,L),B}static computeConvOutputShape(O,M,I,R,D,N,L){if(O.length<=0||M.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const B=[O[0],M[0]];return E.computeShapeHelper(!1,O,B,I,R,D,N,L),B}static computeShapeHelper(O,M,I,R,D,N,L,B){if(O)for(let $=0;$<M.length-2;$++)I.push(1);else for(let $=0;$<M.length-2;$++)I.push(E.adjustPadAndReturnShape(M[$+2],R[$],D[$],N[$],L,$,$+M.length-2,B))}static adjustPadAndReturnShape(O,M,I,R,D,N,L,B){const $=I*(R-1)+1;if(!B||B==="NOTSET")return Math.floor((O+D[N]+D[L]-$)/M+1);switch(B){case"VALID":return D[N]=0,D[L]=0,Math.floor((O-$)/M+1);case"SAME_LOWER":case"SAME_UPPER":if(I!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const V=((O+M-1)/M-1)*M+R-O;return D[N]=Math.floor(B==="SAME_LOWER"?(V+1)/2:V/2),D[L]=V-D[N],Math.floor((O+V-R)/M+1)}default:throw new Error("Unsupported AutoPad type")}}}e.PoolConvUtil=E,e.MIN_CLIP=-34028234663852886e22,e.MAX_CLIP=34028234663852886e22,e.decodeUtf8String=function(T){return new TextDecoder().decode(T)}},7967:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=(n,i,l,d)=>{if(typeof n=="object"&&n!==null){if(l.has(n))throw new Error("Circular reference in options");l.add(n)}Object.entries(n).forEach((([f,b])=>{const _=i?i+f:f;if(typeof b=="object")(0,e.iterateExtraOptions)(b,_+".",l,d);else if(typeof b=="string"||typeof b=="number")d(_,b.toString());else{if(typeof b!="boolean")throw new Error("Can't handle extra config type: "+typeof b);d(_,b?"1":"0")}}))}},2157:function(t,e,n){var i,l=this&&this.__createBinding||(Object.create?function(V,G,X,ee){ee===void 0&&(ee=X);var Q=Object.getOwnPropertyDescriptor(G,X);Q&&!("get"in Q?!G.__esModule:Q.writable||Q.configurable)||(Q={enumerable:!0,get:function(){return G[X]}}),Object.defineProperty(V,ee,Q)}:function(V,G,X,ee){ee===void 0&&(ee=X),V[ee]=G[X]}),d=this&&this.__setModuleDefault||(Object.create?function(V,G){Object.defineProperty(V,"default",{enumerable:!0,value:G})}:function(V,G){V.default=G}),f=this&&this.__importStar||function(V){if(V&&V.__esModule)return V;var G={};if(V!=null)for(var X in V)X!=="default"&&Object.prototype.hasOwnProperty.call(V,X)&&l(G,V,X);return d(G,V),G};Object.defineProperty(e,"__esModule",{value:!0}),e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=e.initWasm=void 0;const b=n(1670),_=f(n(349)),v=n(6361),m=()=>!!b.env.wasm.proxy&&typeof document<"u";let u,o,h,w=!1,E=!1,T=!1;const O=[],M=[],I=[],R=[],D=[],N=[],L=()=>{if(w||!E||T||!u)throw new Error("worker not ready")},B=V=>{switch(V.data.type){case"init-wasm":w=!1,V.data.err?(T=!0,o[1](V.data.err)):(E=!0,o[0]());break;case"init-ort":V.data.err?h[1](V.data.err):h[0]();break;case"create_allocate":V.data.err?O.shift()[1](V.data.err):O.shift()[0](V.data.out);break;case"create_finalize":V.data.err?M.shift()[1](V.data.err):M.shift()[0](V.data.out);break;case"create":V.data.err?I.shift()[1](V.data.err):I.shift()[0](V.data.out);break;case"release":V.data.err?R.shift()[1](V.data.err):R.shift()[0]();break;case"run":V.data.err?D.shift()[1](V.data.err):D.shift()[0](V.data.out);break;case"end-profiling":V.data.err?N.shift()[1](V.data.err):N.shift()[0]()}},$=typeof document<"u"?(i=document==null?void 0:document.currentScript)===null||i===void 0?void 0:i.src:void 0;e.initWasm=async()=>{if(m()){if(E)return;if(w)throw new Error("multiple calls to 'initWasm()' detected.");if(T)throw new Error("previous call to 'initWasm()' failed.");return w=!0,b.env.wasm.wasmPaths===void 0&&$&&$.indexOf("blob:")!==0&&(b.env.wasm.wasmPaths=$.substr(0,+$.lastIndexOf("/")+1)),new Promise(((V,G)=>{u==null||u.terminate(),u=n(9710).Z(),u.onmessage=B,o=[V,G];const X={type:"init-wasm",in:b.env.wasm};u.postMessage(X)}))}return(0,v.initializeWebAssembly)(b.env.wasm)},e.initOrt=async(V,G)=>{if(m())return L(),new Promise(((X,ee)=>{h=[X,ee];const Q={type:"init-ort",in:{numThreads:V,loggingLevel:G}};u.postMessage(Q)}));_.initOrt(V,G)},e.createSessionAllocate=async V=>m()?(L(),new Promise(((G,X)=>{O.push([G,X]);const ee={type:"create_allocate",in:{model:V}};u.postMessage(ee,[V.buffer])}))):_.createSessionAllocate(V),e.createSessionFinalize=async(V,G)=>m()?(L(),new Promise(((X,ee)=>{M.push([X,ee]);const Q={type:"create_finalize",in:{modeldata:V,options:G}};u.postMessage(Q)}))):_.createSessionFinalize(V,G),e.createSession=async(V,G)=>m()?(L(),new Promise(((X,ee)=>{I.push([X,ee]);const Q={type:"create",in:{model:V,options:G}};u.postMessage(Q,[V.buffer])}))):_.createSession(V,G),e.releaseSession=async V=>{if(m())return L(),new Promise(((G,X)=>{R.push([G,X]);const ee={type:"release",in:V};u.postMessage(ee)}));_.releaseSession(V)},e.run=async(V,G,X,ee,Q)=>m()?(L(),new Promise(((Y,U)=>{D.push([Y,U]);const q={type:"run",in:{sessionId:V,inputIndices:G,inputs:X,outputIndices:ee,options:Q}};u.postMessage(q,_.extractTransferableBuffers(X))}))):_.run(V,G,X,ee,Q),e.endProfiling=async V=>{if(m())return L(),new Promise(((G,X)=>{N.push([G,X]);const ee={type:"end-profiling",in:V};u.postMessage(ee)}));_.endProfiling(V)}},586:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const i=n(7967),l=n(4983),d=n(6361);e.setRunOptions=f=>{const b=(0,d.getInstance)();let _=0;const v=[],m=f||{};try{if((f==null?void 0:f.logSeverityLevel)===void 0)m.logSeverityLevel=2;else if(typeof f.logSeverityLevel!="number"||!Number.isInteger(f.logSeverityLevel)||f.logSeverityLevel<0||f.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${f.logSeverityLevel}`);if((f==null?void 0:f.logVerbosityLevel)===void 0)m.logVerbosityLevel=0;else if(typeof f.logVerbosityLevel!="number"||!Number.isInteger(f.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${f.logVerbosityLevel}`);(f==null?void 0:f.terminate)===void 0&&(m.terminate=!1);let u=0;if((f==null?void 0:f.tag)!==void 0&&(u=(0,l.allocWasmString)(f.tag,v)),_=b._OrtCreateRunOptions(m.logSeverityLevel,m.logVerbosityLevel,!!m.terminate,u),_===0)throw new Error("Can't create run options");return(f==null?void 0:f.extra)!==void 0&&(0,i.iterateExtraOptions)(f.extra,"",new WeakSet,((o,h)=>{const w=(0,l.allocWasmString)(o,v),E=(0,l.allocWasmString)(h,v);if(b._OrtAddRunConfigEntry(_,w,E)!==0)throw new Error(`Can't set a run config entry: ${o} - ${h}`)})),[_,v]}catch(u){throw _!==0&&b._OrtReleaseRunOptions(_),v.forEach(b._free),u}}},2306:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OnnxruntimeWebAssemblySessionHandler=void 0;const i=n(2806),l=n(1670),d=n(2850),f=n(2157);let b;e.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(_){const v=await fetch(_),m=await v.arrayBuffer();return(0,f.createSessionAllocate)(new Uint8Array(m))}async loadModel(_,v){if(b||(await(0,f.initOrt)(l.env.wasm.numThreads,(m=>{switch(m){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${m}`)}})(l.env.logLevel)),b=!0),typeof _=="string")if(typeof fetch>"u"){const m=await(0,d.promisify)(i.readFile)(_);[this.sessionId,this.inputNames,this.outputNames]=await(0,f.createSession)(m,v)}else{const m=await this.createSessionAllocate(_);[this.sessionId,this.inputNames,this.outputNames]=await(0,f.createSessionFinalize)(m,v)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,f.createSession)(_,v)}async dispose(){return(0,f.releaseSession)(this.sessionId)}async run(_,v,m){const u=[],o=[];Object.entries(_).forEach((T=>{const O=T[0],M=T[1],I=this.inputNames.indexOf(O);if(I===-1)throw new Error(`invalid input '${O}'`);u.push(M),o.push(I)}));const h=[];Object.entries(v).forEach((T=>{const O=T[0],M=this.outputNames.indexOf(O);if(M===-1)throw new Error(`invalid output '${O}'`);h.push(M)}));const w=await(0,f.run)(this.sessionId,o,u.map((T=>[T.type,T.dims,T.data])),h,m),E={};for(let T=0;T<w.length;T++)E[this.outputNames[h[T]]]=new l.Tensor(w[T][0],w[T][2],w[T][1]);return E}startProfiling(){}endProfiling(){(0,f.endProfiling)(this.sessionId)}}},4919:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const i=n(7967),l=n(4983),d=n(6361);e.setSessionOptions=f=>{const b=(0,d.getInstance)();let _=0;const v=[],m=f||{};(u=>{u.extra||(u.extra={}),u.extra.session||(u.extra.session={});const o=u.extra.session;o.use_ort_model_bytes_directly||(o.use_ort_model_bytes_directly="1")})(m);try{(f==null?void 0:f.graphOptimizationLevel)===void 0&&(m.graphOptimizationLevel="all");const u=(w=>{switch(w){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${w}`)}})(m.graphOptimizationLevel);(f==null?void 0:f.enableCpuMemArena)===void 0&&(m.enableCpuMemArena=!0),(f==null?void 0:f.enableMemPattern)===void 0&&(m.enableMemPattern=!0),(f==null?void 0:f.executionMode)===void 0&&(m.executionMode="sequential");const o=(w=>{switch(w){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${w}`)}})(m.executionMode);let h=0;if((f==null?void 0:f.logId)!==void 0&&(h=(0,l.allocWasmString)(f.logId,v)),(f==null?void 0:f.logSeverityLevel)===void 0)m.logSeverityLevel=2;else if(typeof f.logSeverityLevel!="number"||!Number.isInteger(f.logSeverityLevel)||f.logSeverityLevel<0||f.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${f.logSeverityLevel}`);if((f==null?void 0:f.logVerbosityLevel)===void 0)m.logVerbosityLevel=0;else if(typeof f.logVerbosityLevel!="number"||!Number.isInteger(f.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${f.logVerbosityLevel}`);if((f==null?void 0:f.enableProfiling)===void 0&&(m.enableProfiling=!1),_=b._OrtCreateSessionOptions(u,!!m.enableCpuMemArena,!!m.enableMemPattern,o,!!m.enableProfiling,0,h,m.logSeverityLevel,m.logVerbosityLevel),_===0)throw new Error("Can't create session options");return f!=null&&f.executionProviders&&((w,E,T)=>{for(const O of E){let M=typeof O=="string"?O:O.name;switch(M){case"xnnpack":M="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${M}`)}const I=(0,l.allocWasmString)(M,T);if((0,d.getInstance)()._OrtAppendExecutionProvider(w,I)!==0)throw new Error(`Can't append execution provider: ${M}`)}})(_,f.executionProviders,v),(f==null?void 0:f.extra)!==void 0&&(0,i.iterateExtraOptions)(f.extra,"",new WeakSet,((w,E)=>{const T=(0,l.allocWasmString)(w,v),O=(0,l.allocWasmString)(E,v);if(b._OrtAddSessionConfigEntry(_,T,O)!==0)throw new Error(`Can't set a session config entry: ${w} - ${E}`)})),[_,v]}catch(u){throw _!==0&&b._OrtReleaseSessionOptions(_),v.forEach(b._free),u}}},4983:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;const i=n(6361);e.allocWasmString=(l,d)=>{const f=(0,i.getInstance)(),b=f.lengthBytesUTF8(l)+1,_=f._malloc(b);return f.stringToUTF8(l,_,b),d.push(_),_}},349:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;const i=n(586),l=n(4919),d=n(4983),f=n(6361);e.initOrt=(u,o)=>{const h=(0,f.getInstance)()._OrtInit(u,o);if(h!==0)throw new Error(`Can't initialize onnxruntime. error code = ${h}`)};const b=new Map;e.createSessionAllocate=u=>{const o=(0,f.getInstance)(),h=o._malloc(u.byteLength);return o.HEAPU8.set(u,h),[h,u.byteLength]},e.createSessionFinalize=(u,o)=>{const h=(0,f.getInstance)();let w=0,E=0,T=[];try{if([E,T]=(0,l.setSessionOptions)(o),w=h._OrtCreateSession(u[0],u[1],E),w===0)throw new Error("Can't create a session")}finally{h._free(u[0]),h._OrtReleaseSessionOptions(E),T.forEach(h._free)}const O=h._OrtGetInputCount(w),M=h._OrtGetOutputCount(w),I=[],R=[],D=[],N=[];for(let L=0;L<O;L++){const B=h._OrtGetInputName(w,L);if(B===0)throw new Error("Can't get an input name");R.push(B),I.push(h.UTF8ToString(B))}for(let L=0;L<M;L++){const B=h._OrtGetOutputName(w,L);if(B===0)throw new Error("Can't get an output name");N.push(B),D.push(h.UTF8ToString(B))}return b.set(w,[w,R,N]),[w,I,D]},e.createSession=(u,o)=>{const h=(0,e.createSessionAllocate)(u);return(0,e.createSessionFinalize)(h,o)},e.releaseSession=u=>{const o=(0,f.getInstance)(),h=b.get(u);if(!h)throw new Error("invalid session id");const w=h[0],E=h[1],T=h[2];E.forEach(o._OrtFree),T.forEach(o._OrtFree),o._OrtReleaseSession(w),b.delete(u)};const _=u=>{switch(u){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${u}`)}},v=u=>{switch(u){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${u}`)}},m=u=>{switch(u){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${u}`)}};e.run=(u,o,h,w,E)=>{const T=(0,f.getInstance)(),O=b.get(u);if(!O)throw new Error("invalid session id");const M=O[0],I=O[1],R=O[2],D=o.length,N=w.length;let L=0,B=[];const $=[],V=[];try{[L,B]=(0,i.setRunOptions)(E);for(let U=0;U<D;U++){const q=h[U][0],le=h[U][1],ie=h[U][2];let Ee,Z;if(Array.isArray(ie)){Z=4*ie.length,Ee=T._malloc(Z),V.push(Ee);let Ce=Ee/4;for(let ke=0;ke<ie.length;ke++){if(typeof ie[ke]!="string")throw new TypeError(`tensor data at index ${ke} is not a string`);T.HEAPU32[Ce++]=(0,d.allocWasmString)(ie[ke],V)}}else Z=ie.byteLength,Ee=T._malloc(Z),V.push(Ee),T.HEAPU8.set(new Uint8Array(ie.buffer,ie.byteOffset,Z),Ee);const ue=T.stackSave(),Ae=T.stackAlloc(4*le.length);try{let Ce=Ae/4;le.forEach((Ne=>T.HEAP32[Ce++]=Ne));const ke=T._OrtCreateTensor(_(q),Ee,Z,Ae,le.length);if(ke===0)throw new Error("Can't create a tensor");$.push(ke)}finally{T.stackRestore(ue)}}const G=T.stackSave(),X=T.stackAlloc(4*D),ee=T.stackAlloc(4*D),Q=T.stackAlloc(4*N),Y=T.stackAlloc(4*N);try{let U=X/4,q=ee/4,le=Q/4,ie=Y/4;for(let ue=0;ue<D;ue++)T.HEAPU32[U++]=$[ue],T.HEAPU32[q++]=I[o[ue]];for(let ue=0;ue<N;ue++)T.HEAPU32[le++]=0,T.HEAPU32[ie++]=R[w[ue]];let Ee=T._OrtRun(M,ee,X,D,Y,N,Q,L);const Z=[];if(Ee===0)for(let ue=0;ue<N;ue++){const Ae=T.HEAPU32[Q/4+ue],Ce=T.stackSave(),ke=T.stackAlloc(16);let Ne,Le=0;try{if(Ee=T._OrtGetTensorData(Ae,ke,ke+4,ke+8,ke+12),Ee!==0)throw new Error(`Can't access output tensor data. error code = ${Ee}`);let Pe=ke/4;const de=T.HEAPU32[Pe++];Le=T.HEAPU32[Pe++];const De=T.HEAPU32[Pe++],$e=T.HEAPU32[Pe++],we=[];for(let Fe=0;Fe<$e;Fe++)we.push(T.HEAPU32[De/4+Fe]);T._OrtFree(De);const Qe=we.length===0?1:we.reduce(((Fe,at)=>Fe*at));if(Ne=v(de),Ne==="string"){const Fe=[];let at=Le/4;for(let vt=0;vt<Qe;vt++){const kt=T.HEAPU32[at++],ir=vt===Qe-1?void 0:T.HEAPU32[at]-kt;Fe.push(T.UTF8ToString(kt,ir))}Z.push([Ne,we,Fe])}else{const Fe=new(m(Ne))(Qe);new Uint8Array(Fe.buffer,Fe.byteOffset,Fe.byteLength).set(T.HEAPU8.subarray(Le,Le+Fe.byteLength)),Z.push([Ne,we,Fe])}}finally{T.stackRestore(Ce),Ne==="string"&&Le&&T._free(Le),T._OrtReleaseTensor(Ae)}}if(Ee===0)return Z;throw new Error(`failed to call OrtRun(). error code = ${Ee}.`)}finally{T.stackRestore(G)}}finally{$.forEach(T._OrtReleaseTensor),V.forEach(T._free),T._OrtReleaseRunOptions(L),B.forEach(T._free)}},e.endProfiling=u=>{const o=(0,f.getInstance)(),h=b.get(u);if(!h)throw new Error("invalid session id");const w=h[0],E=o._OrtEndProfiling(w);if(E===0)throw new Error("Can't get an profile file name");o._OrtFree(E)},e.extractTransferableBuffers=u=>{const o=[];for(const h of u){const w=h[2];!Array.isArray(w)&&w.buffer&&o.push(w.buffer)}return o}},6361:function(t,e,n){var i=this&&this.__createBinding||(Object.create?function(E,T,O,M){M===void 0&&(M=O);var I=Object.getOwnPropertyDescriptor(T,O);I&&!("get"in I?!T.__esModule:I.writable||I.configurable)||(I={enumerable:!0,get:function(){return T[O]}}),Object.defineProperty(E,M,I)}:function(E,T,O,M){M===void 0&&(M=O),E[M]=T[O]}),l=this&&this.__setModuleDefault||(Object.create?function(E,T){Object.defineProperty(E,"default",{enumerable:!0,value:T})}:function(E,T){E.default=T}),d=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var T={};if(E!=null)for(var O in E)O!=="default"&&Object.prototype.hasOwnProperty.call(E,O)&&i(T,E,O);return l(T,E),T},f=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const b=d(n(6449)),_=f(n(932)),v=n(3474);let m,u=!1,o=!1,h=!1;const w=(E,T)=>T?E?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":E?"ort-wasm-simd.wasm":"ort-wasm.wasm";e.initializeWebAssembly=async E=>{if(u)return Promise.resolve();if(o)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(h)throw new Error("previous call to 'initializeWebAssembly()' failed.");o=!0;const T=E.initTimeout,O=E.numThreads,M=E.simd,I=O>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),R=M&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),D=typeof E.wasmPaths=="string"?E.wasmPaths:void 0,N=w(!1,I),L=w(R,I),B=typeof E.wasmPaths=="object"?E.wasmPaths[L]:void 0;let $=!1;const V=[];if(T>0&&V.push(new Promise((G=>{setTimeout((()=>{$=!0,G()}),T)}))),V.push(new Promise(((G,X)=>{const ee=I?v:_.default,Q={locateFile:(Y,U)=>I&&Y.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([n(4154)],{type:"text/javascript"})):Y===N?B??(D??U)+L:U+Y};if(I)if(typeof Blob>"u")Q.mainScriptUrlOrBlob=b.join("/","ort-wasm-threaded.js");else{const Y=`var ortWasmThreaded=(function(){var _scriptDir;return ${ee.toString()}})();`;Q.mainScriptUrlOrBlob=new Blob([Y],{type:"text/javascript"})}ee(Q).then((Y=>{o=!1,u=!0,m=Y,G()}),(Y=>{o=!1,h=!0,X(Y)}))}))),await Promise.race(V),$)throw new Error(`WebAssembly backend initializing failed due to timeout: ${T}ms`)},e.getInstance=()=>{if(u&&m)return m;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var E;!u||o||h||(o=!0,(E=m.PThread)===null||E===void 0||E.terminateAllThreads(),m=void 0,o=!1,u=!1,h=!0)}},9710:(t,e,n)=>{n.d(e,{Z:()=>d});var i=n(477),l=n.n(i);function d(){return l()('/*!\n* ONNX Runtime Web v1.14.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var t={474:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){function e(){return j.buffer!=D&&N(j.buffer),P}function r(){return j.buffer!=D&&N(j.buffer),U}function a(){return j.buffer!=D&&N(j.buffer),F}function i(){return j.buffer!=D&&N(j.buffer),I}function o(){return j.buffer!=D&&N(j.buffer),W}var u,c,s;t=t||{},u||(u=void 0!==t?t:{}),u.ready=new Promise((function(t,e){c=t,s=e}));var l,f,p,h,d,y,b=Object.assign({},u),m="./this.program",g=(t,e)=>{throw e},v="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,A="";function S(t){return u.locateFile?u.locateFile(t,A):A+t}if(_){let e;A=w?n(908).dirname(A)+"/":"//",y=()=>{d||(h=n(384),d=n(908))},l=function(t,e){return y(),t=d.normalize(t),h.readFileSync(t,e?void 0:"utf8")},p=t=>((t=l(t,!0)).buffer||(t=new Uint8Array(t)),t),f=(t,e,n)=>{y(),t=d.normalize(t),h.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof ct))throw t})),process.on("unhandledRejection",(function(t){throw t})),g=(t,e)=>{if(Q())throw process.exitCode=t,e;e instanceof ct||x("exiting due to exception: "+e),process.exit(t)},u.inspect=function(){return"[Emscripten Module object]"};try{e=n(925)}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}n.g.Worker=e.Worker}else(v||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},w&&(p=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),f=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);_&&(y(),T=t=>h.writeSync(1,t+"\\n"),E=t=>h.writeSync(2,t+"\\n"));var M,C=u.print||T,x=u.printErr||E;Object.assign(u,b),b=null,u.thisProgram&&(m=u.thisProgram),u.quit&&(g=u.quit),u.wasmBinary&&(M=u.wasmBinary);var R=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&at("no native wasm support detected");var j,k,D,P,U,F,I,W,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&L)return L.decode(t.buffer instanceof SharedArrayBuffer?t.slice(e,n):t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function Y(t,e){return(t>>>=0)?z(r(),t,e):""}function B(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function G(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function N(t){D=t,u.HEAP8=P=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=F=new Int32Array(t),u.HEAPU8=U=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=I=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=W=new Float64Array(t)}O&&(D=u.buffer);var V=u.INITIAL_MEMORY||16777216;if(O)j=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)j=u.wasmMemory;else if(!((j=new WebAssembly.Memory({initial:V/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");j&&(D=j.buffer),V=D.byteLength,N(D);var $,q=[],X=[],J=[],Z=[];function Q(){return R||!1}function K(){var t=u.preRun.shift();q.unshift(t)}var tt,et=0,nt=null,rt=null;function at(t){throw O?postMessage({cmd:"onAbort",arg:t}):u.onAbort&&u.onAbort(t),x(t="Aborted("+t+")"),H=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),s(t),t}function it(){return tt.startsWith("data:application/octet-stream;base64,")}function ot(){var t=tt;try{if(t==tt&&M)return new Uint8Array(M);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}catch(t){at(t)}}tt="ort-wasm-threaded.wasm",it()||(tt=S(tt));var ut={};function ct(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function st(t){(t=ht.Vb[t])||at(),ht.mc(t)}function lt(t){var e=ht.Cc();if(!e)return 6;ht.ac.push(e),ht.Vb[t.Ub]=e,e.Ub=t.Ub;var n={cmd:"run",start_routine:t.Ic,arg:t.zc,pthread_ptr:t.Ub};return e.$b=()=>{n.time=performance.now(),e.postMessage(n,t.Nc)},e.loaded&&(e.$b(),delete e.$b),0}function ft(t){if(O)return $t(1,1,t);Q()||(ht.oc(),u.onExit&&u.onExit(t),H=!0),g(t,new ct(t))}function pt(t,e){if(!e&&O)throw bt(t),"unwind";Q()||O||(me(),dt(J),be(0),re[1].length&&ae(1,10),re[2].length&&ae(2,10),ht.oc()),ft(t)}var ht={Yb:[],ac:[],qc:[],Vb:{},fc:function(){O&&ht.Ec()},Pc:function(){},Ec:function(){ht.receiveObjectTransfer=ht.Gc,ht.threadInitTLS=ht.pc,ht.setExitStatus=ht.nc,R=!1},nc:function(){},oc:function(){for(var t of Object.values(ht.Vb))ht.mc(t);for(t of ht.Yb)t.terminate();ht.Yb=[]},mc:function(t){var e=t.Ub;delete ht.Vb[e],ht.Yb.push(t),ht.ac.splice(ht.ac.indexOf(t),1),t.Ub=0,Oe(e)},Gc:function(){},pc:function(){ht.qc.forEach((t=>t()))},Fc:function(t,e){t.onmessage=n=>{var r=(n=n.data).cmd;if(t.Ub&&(ht.Bc=t.Ub),n.targetThread&&n.targetThread!=he()){var a=ht.Vb[n.Qc];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?zt(n.queue):"spawnThread"===r?lt(n):"cleanupThread"===r?st(n.thread):"killThread"===r?(n=n.thread,r=ht.Vb[n],delete ht.Vb[n],r.terminate(),Oe(n),ht.ac.splice(ht.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?ht.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(t.loaded=!0,e&&e(t),t.$b&&(t.$b(),delete t.$b)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?t.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);ht.Bc=void 0},t.onerror=t=>{throw x("worker sent an error! "+t.filename+":"+t.lineno+": "+t.message),t},_&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:j,wasmModule:k})},yc:function(){var t=S("ort-wasm-threaded.worker.js");ht.Yb.push(new Worker(t))},Cc:function(){return 0==ht.Yb.length&&(ht.yc(),ht.Fc(ht.Yb[0])),ht.Yb.pop()}};function dt(t){for(;0<t.length;)t.shift()(u)}function yt(t){var e=Ee();return t=t(),Me(e),t}function bt(t){if(O)return $t(2,0,t);try{pt(t)}catch(t){t instanceof ct||"unwind"==t||g(1,t)}}u.PThread=ht,u.establishStackSpace=function(){var t=he(),e=a()[t+44>>2>>>0];t=a()[t+48>>2>>>0],Te(e,e-t),Me(e)};var mt=[];function gt(t){var e=mt[t];return e||(t>=mt.length&&(mt.length=t+1),mt[t]=e=$.get(t)),e}u.invokeEntryPoint=function(t,e){t=gt(t)(e),Q()?ht.nc(t):Ae(t)};var vt,wt,_t=[],Ot=0,At=0;function St(t){this.Zb=t,this.Sb=t-24,this.xc=function(t){i()[this.Sb+4>>2>>>0]=t},this.bc=function(){return i()[this.Sb+4>>2>>>0]},this.wc=function(t){i()[this.Sb+8>>2>>>0]=t},this.Dc=function(){return i()[this.Sb+8>>2>>>0]},this.rc=function(){a()[this.Sb>>2>>>0]=0},this.hc=function(t){t=t?1:0,e()[this.Sb+12>>0>>>0]=t},this.uc=function(){return 0!=e()[this.Sb+12>>0>>>0]},this.ic=function(t){t=t?1:0,e()[this.Sb+13>>0>>>0]=t},this.kc=function(){return 0!=e()[this.Sb+13>>0>>>0]},this.fc=function(t,e){this.cc(0),this.xc(t),this.wc(e),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(a(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(a(),this.Sb>>2,1)},this.cc=function(t){i()[this.Sb+16>>2>>>0]=t},this.tc=function(){return i()[this.Sb+16>>2>>>0]},this.vc=function(){if(Re(this.bc()))return i()[this.Zb>>2>>>0];var t=this.tc();return 0!==t?t:this.Zb}}function Tt(t){return ye(new St(t).Sb)}function Et(t,e,n,r){return O?$t(3,1,t,e,n,r):Mt(t,e,n,r)}function Mt(t,e,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?Et(t,e,n,r):(t={Ic:n,Ub:t,zc:r,Nc:a},O?(t.Oc="spawnThread",postMessage(t,a),0):lt(t))}function Ct(t,e,n){return O?$t(4,1,t,e,n):0}function xt(t,e){if(O)return $t(5,1,t,e)}function Rt(t,e){if(O)return $t(6,1,t,e)}function jt(t,e,n){if(O)return $t(7,1,t,e,n)}function kt(t,e,n){return O?$t(8,1,t,e,n):0}function Dt(t,e){if(O)return $t(9,1,t,e)}function Pt(t,e,n){if(O)return $t(10,1,t,e,n)}function Ut(t,e,n,r){if(O)return $t(11,1,t,e,n,r)}function Ft(t,e,n,r){if(O)return $t(12,1,t,e,n,r)}function It(t,e,n,r){if(O)return $t(13,1,t,e,n,r)}function Wt(t){if(O)return $t(14,1,t)}function Ht(t,e){if(O)return $t(15,1,t,e)}function Lt(t,e,n){if(O)return $t(16,1,t,e,n)}function zt(t){Atomics.store(a(),t>>2,1),he()&&_e(t),Atomics.compareExchange(a(),t>>2,1,0)}function Yt(t){return i()[t>>>2]+4294967296*a()[t+4>>>2]}function Bt(t,e,n,r,a,i){return O?$t(17,1,t,e,n,r,a,i):-52}function Gt(t,e,n,r,a,i){if(O)return $t(18,1,t,e,n,r,a,i)}function Nt(t){var n=G(t)+1,r=de(n);return r&&B(t,e(),r,n),r}function Vt(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}if(O)return $t(19,1,t,e,n);var o=(new Date).getFullYear(),u=new Date(o,0,1),c=new Date(o,6,1);o=u.getTimezoneOffset();var s=c.getTimezoneOffset(),l=Math.max(o,s);a()[t>>2>>>0]=60*l,a()[e>>2>>>0]=Number(o!=s),t=r(u),e=r(c),t=Nt(t),e=Nt(e),s<o?(i()[n>>2>>>0]=t,i()[n+4>>2>>>0]=e):(i()[n>>2>>>0]=e,i()[n+4>>2>>>0]=t)}function $t(t,e){var n=arguments.length-2,r=arguments;return yt((()=>{for(var a=Ce(8*n),i=a>>3,u=0;u<n;u++){var c=r[2+u];o()[i+u>>>0]=c}return we(t,n,a,e)}))}u.executeNotifiedProxyingQueue=zt,wt=_?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var qt,Xt=[],Jt={};function Zt(){if(!qt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(t in Jt)void 0===Jt[t]?delete e[t]:e[t]=Jt[t];var n=[];for(t in e)n.push(t+"="+e[t]);qt=n}return qt}function Qt(t,n){if(O)return $t(20,1,t,n);var r=0;return Zt().forEach((function(a,o){var u=n+r;for(o=i()[t+4*o>>2>>>0]=u,u=0;u<a.length;++u)e()[o++>>0>>>0]=a.charCodeAt(u);e()[o>>0>>>0]=0,r+=a.length+1})),0}function Kt(t,e){if(O)return $t(21,1,t,e);var n=Zt();i()[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),i()[e>>2>>>0]=r,0}function te(t){return O?$t(22,1,t):52}function ee(t,e,n,r){return O?$t(23,1,t,e,n,r):52}function ne(t,e,n,r,a){return O?$t(24,1,t,e,n,r,a):70}var re=[null,[],[]];function ae(t,e){var n=re[t];0===e||10===e?((1===t?C:x)(z(n,0)),n.length=0):n.push(e)}function ie(t,e,n,a){if(O)return $t(25,1,t,e,n,a);for(var o=0,u=0;u<n;u++){var c=i()[e>>2>>>0],s=i()[e+4>>2>>>0];e+=8;for(var l=0;l<s;l++)ae(t,r()[c+l>>>0]);o+=s}return i()[a>>2>>>0]=o,0}var oe=0;function ue(t){return 0==t%4&&(0!=t%100||0==t%400)}var ce=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function le(t,n,r,i){function o(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function u(t,e){return o(t,e,"0")}function c(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function l(t){var e=t.Wb;for(t=new Date(new Date(t.Xb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(ue(t.getFullYear())?ce:se)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=c(e,t)?0>=c(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f=a()[i+40>>2>>>0];for(var p in i={Lc:a()[i>>2>>>0],Kc:a()[i+4>>2>>>0],dc:a()[i+8>>2>>>0],jc:a()[i+12>>2>>>0],ec:a()[i+16>>2>>>0],Xb:a()[i+20>>2>>>0],Tb:a()[i+24>>2>>>0],Wb:a()[i+28>>2>>>0],Rc:a()[i+32>>2>>>0],Jc:a()[i+36>>2>>>0],Mc:f?Y(f):""},r=Y(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(t){return h[t.Tb].substring(0,3)},"%A":function(t){return h[t.Tb]},"%b":function(t){return d[t.ec].substring(0,3)},"%B":function(t){return d[t.ec]},"%C":function(t){return u((t.Xb+1900)/100|0,2)},"%d":function(t){return u(t.jc,2)},"%e":function(t){return o(t.jc,2," ")},"%g":function(t){return l(t).toString().substring(2)},"%G":function(t){return l(t)},"%H":function(t){return u(t.dc,2)},"%I":function(t){return 0==(t=t.dc)?t=12:12<t&&(t-=12),u(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.ec-1;e+=(ue(t.Xb+1900)?ce:se)[n++]);return u(t.jc+e,3)},"%m":function(t){return u(t.ec+1,2)},"%M":function(t){return u(t.Kc,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.dc&&12>t.dc?"AM":"PM"},"%S":function(t){return u(t.Lc,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Tb||7},"%U":function(t){return u(Math.floor((t.Wb+7-t.Tb)/7),2)},"%V":function(t){var e=Math.floor((t.Wb+7-(t.Tb+6)%7)/7);if(2>=(t.Tb+371-t.Wb-2)%7&&e++,e)53==e&&(4==(n=(t.Tb+371-t.Wb)%7)||3==n&&ue(t.Xb)||(e=1));else{e=52;var n=(t.Tb+7-t.Wb-1)%7;(4==n||5==n&&ue(t.Xb%400-1))&&e++}return u(e,2)},"%w":function(t){return t.Tb},"%W":function(t){return u(Math.floor((t.Wb+7-(t.Tb+6)%7)/7),2)},"%y":function(t){return(t.Xb+1900).toString().substring(2)},"%Y":function(t){return t.Xb+1900},"%z":function(t){var e=0<=(t=t.Jc);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](i)));return p=function(t){var e=Array(G(t)+1);return B(t,e,0,e.length),e}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(t,n){e().set(t,n>>>0)}(p,t),p.length-1)}ht.fc();var fe=[null,ft,bt,Et,Ct,xt,Rt,jt,kt,Dt,Pt,Ut,Ft,It,Wt,Ht,Lt,Bt,Gt,Vt,Qt,Kt,te,ee,ne,ie],pe={b:function(t){return de(t+24)+24},n:function(t){return(t=new St(t)).uc()||(t.hc(!0),Ot--),t.ic(!1),_t.push(t),t.sc(),t.vc()},ma:function(t){throw x("Unexpected exception thrown, this is not properly supported - aborting"),H=!0,t},x:function(){Se(0);var t=_t.pop();if(t.Hc()&&!t.kc()){var e=t.Dc();e&&gt(e)(t.Zb),Tt(t.Zb)}At=0},e:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},l:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},h:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},t:Tt,M:function(){var t=_t.pop();t||at("no exception to throw");var e=t.Zb;throw t.kc()||(_t.push(t),t.ic(!0),t.hc(!1),Ot++),At=e,e},c:function(t,e,n){throw new St(t).fc(e,n),At=t,Ot++,t},pa:function(){return Ot},Fa:function(t){ge(t,!w,1,!v),ht.pc()},T:function(t){O?postMessage({cmd:"cleanupThread",thread:t}):st(t)},xa:Mt,j:function(t){throw At||(At=t),t},H:Ct,Ma:xt,ua:Rt,wa:jt,oa:kt,Ka:Dt,Ca:Pt,Ja:Ut,V:Ft,va:It,sa:Wt,La:Ht,ta:Lt,Ta:function(){},X:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(t,e,n,r){if(t==e)setTimeout((()=>zt(r)));else if(O)postMessage({targetThread:t,cmd:"processProxyingQueue",queue:r});else{if(!(t=ht.Vb[t]))return;t.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getUTCSeconds(),a()[e+4>>2>>>0]=t.getUTCMinutes(),a()[e+8>>2>>>0]=t.getUTCHours(),a()[e+12>>2>>>0]=t.getUTCDate(),a()[e+16>>2>>>0]=t.getUTCMonth(),a()[e+20>>2>>>0]=t.getUTCFullYear()-1900,a()[e+24>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[e+28>>2>>>0]=t},Qa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getFullYear()-1900,a()[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1),r=(t.getTime()-n.getTime())/864e5|0;a()[e+28>>2>>>0]=r,a()[e+36>>2>>>0]=-60*t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),a()[e+32>>2>>>0]=t},Ra:function(t){var e=new Date(a()[t+20>>2>>>0]+1900,a()[t+16>>2>>>0],a()[t+12>>2>>>0],a()[t+8>>2>>>0],a()[t+4>>2>>>0],a()[t>>2>>>0],0),n=a()[t+32>>2>>>0],r=e.getTimezoneOffset(),i=new Date(e.getFullYear(),0,1),o=new Date(e.getFullYear(),6,1).getTimezoneOffset(),u=i.getTimezoneOffset(),c=Math.min(u,o);return 0>n?a()[t+32>>2>>>0]=Number(o!=u&&c==r):0<n!=(c==r)&&(o=Math.max(u,o),e.setTime(e.getTime()+6e4*((0<n?c:o)-r))),a()[t+24>>2>>>0]=e.getDay(),n=(e.getTime()-i.getTime())/864e5|0,a()[t+28>>2>>>0]=n,a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},Aa:Bt,Ba:Gt,Sa:function t(e,n,r){t.Ac||(t.Ac=!0,Vt(e,n,r))},y:function(){at("")},U:function(){if(!_&&!w){var t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";vt||(vt={}),vt[t]||(vt[t]=1,_&&(t="warning: "+t),x(t))}},ra:function(){return 4294901760},B:wt,Ia:function(t,e,n){r().copyWithin(t>>>0,e>>>0,e+n>>>0)},F:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},Da:function(t,e,n){Xt.length=e,n>>=3;for(var r=0;r<e;r++)Xt[r]=o()[n+r>>>0];return(0>t?ut[-t-1]:fe[t]).apply(null,Xt)},qa:function(t){var e=r().length;if((t>>>=0)<=e||4294901760<t)return!1;for(var n=1;4>=n;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var i=Math;a=Math.max(t,a),i=i.min.call(i,4294901760,a+(65536-a%65536)%65536);t:{try{j.grow(i-D.byteLength+65535>>>16),N(j.buffer);var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:Qt,Ha:Kt,J:pt,I:te,S:ee,ga:ne,R:ie,d:function(){return oe},na:function t(r,a){t.lc||(t.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(_)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>at("randomDevice")}());for(var i=0;i<a;i++)e()[r+i>>0>>>0]=t.lc();return 0},ia:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ja:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},K:function(t){var e=Ee();try{return gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},f:function(t,e){var n=Ee();try{return gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},P:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},Q:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},k:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},p:function(t,e,n,r){var a=Ee();try{return gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},q:function(t,e,n,r,a){var i=Ee();try{return gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},N:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},s:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},w:function(t,e,n,r,a,i,o){var u=Ee();try{return gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},L:function(t,e,n,r,a,i,o,u){var c=Ee();try{return gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},E:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{return gt(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=Ee();try{return He(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},_:function(t,e,n,r,a,i,o){var u=Ee();try{return ke(t,e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},Z:function(t,e,n,r,a){var i=Ee();try{return Le(t,e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},ca:function(t,e,n,r){var a=Ee();try{return Ie(t,e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},$:function(t){var e=Ee();try{return je(t)}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},ba:function(t,e){var n=Ee();try{return We(t,e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},Y:function(t,e,n){var r=Ee();try{return De(t,e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},g:function(t){var e=Ee();try{gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},r:function(t,e){var n=Ee();try{gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},i:function(t,e,n){var r=Ee();try{gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ha:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},m:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},v:function(t,e,n,r,a){var i=Ee();try{gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},u:function(t,e,n,r,a,i){var o=Ee();try{gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},O:function(t,e,n,r,a,i,o){var u=Ee();try{gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},A:function(t,e,n,r,a,i,o,u){var c=Ee();try{gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},ka:function(t,e,n,r,a,i,o,u,c){var s=Ee();try{gt(t)(e,n,r,a,i,o,u,c)}catch(t){if(Me(s),t!==t+0)throw t;Se(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l){var f=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(Me(f),t!==t+0)throw t;Se(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(Me(b),t!==t+0)throw t;Se(1,0)}},fa:function(t,e,n,r,a,i,o,u){var c=Ee();try{Pe(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},da:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{Fe(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},ea:function(t,e,n,r,a,i){var o=Ee();try{Ue(t,e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},o:function(t){return t},a:j||u.wasmMemory,G:function(t){oe=t},la:le,z:function(t,e,n,r){return le(t,e,n,r)}};!function(){function t(t,e){u.asm=t.exports,ht.qc.push(u.asm.sb),$=u.asm.ub,X.unshift(u.asm.Va),k=e,O||(et--,u.monitorRunDependencies&&u.monitorRunDependencies(et),0==et&&(null!==nt&&(clearInterval(nt),nt=null),rt&&(t=rt,rt=null,t())))}function e(e){t(e.instance,e.module)}function n(t){return function(){if(!M&&(v||w)){if("function"==typeof fetch&&!tt.startsWith("file://"))return fetch(tt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+tt+"\'";return t.arrayBuffer()})).catch((function(){return ot()}));if(f)return new Promise((function(t,e){f(tt,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return ot()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then((function(t){return t})).then(t,(function(t){x("failed to asynchronously prepare wasm: "+t),at(t)}))}var r={a:pe};if(O||(et++,u.monitorRunDependencies&&u.monitorRunDependencies(et)),u.instantiateWasm)try{return u.instantiateWasm(r,t)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||it()||tt.startsWith("file://")||_||"function"!=typeof fetch?n(e):fetch(tt,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(e,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),n(e)}))}))).catch(s)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var he=u._pthread_self=function(){return(he=u._pthread_self=u.asm.ob).apply(null,arguments)},de=u._malloc=function(){return(de=u._malloc=u.asm.pb).apply(null,arguments)},ye=u._free=function(){return(ye=u._free=u.asm.qb).apply(null,arguments)},be=u._fflush=function(){return(be=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var me=u.___funcs_on_exit=function(){return(me=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},ge=u.__emscripten_thread_init=function(){return(ge=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var ve,we=u._emscripten_run_in_main_runtime_thread_js=function(){return(we=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},_e=u.__emscripten_proxy_execute_task_queue=function(){return(_e=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},Oe=u.__emscripten_thread_free_data=function(){return(Oe=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},Ae=u.__emscripten_thread_exit=function(){return(Ae=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},Se=u._setThrew=function(){return(Se=u._setThrew=u.asm.Bb).apply(null,arguments)},Te=u._emscripten_stack_set_limits=function(){return(Te=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},Ee=u.stackSave=function(){return(Ee=u.stackSave=u.asm.Db).apply(null,arguments)},Me=u.stackRestore=function(){return(Me=u.stackRestore=u.asm.Eb).apply(null,arguments)},Ce=u.stackAlloc=function(){return(Ce=u.stackAlloc=u.asm.Fb).apply(null,arguments)},xe=u.___cxa_can_catch=function(){return(xe=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},Re=u.___cxa_is_pointer_type=function(){return(Re=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},je=u.dynCall_j=function(){return(je=u.dynCall_j=u.asm.Ib).apply(null,arguments)},ke=u.dynCall_iiiiij=function(){return(ke=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},De=u.dynCall_jii=function(){return(De=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},Pe=u.dynCall_viiiiij=function(){return(Pe=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},Ue=u.dynCall_vjji=function(){return(Ue=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},Fe=u.dynCall_viiijjjii=function(){return(Fe=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},Ie=u.dynCall_iij=function(){return(Ie=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},We=u.dynCall_ji=function(){return(We=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},He=u.dynCall_iiiiiij=function(){return(He=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},Le=u.dynCall_iiij=function(){return(Le=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function ze(){function t(){if(!ve&&(ve=!0,u.calledRun=!0,!H)&&(O||dt(X),c(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();Z.unshift(t)}dt(Z)}}if(!(0<et))if(O)c(u),O||dt(X),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)K();dt(q),0<et||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),t()}),1)):t())}}if(u.UTF8ToString=Y,u.stringToUTF8=function(t,e,n){return B(t,r(),e,n)},u.lengthBytesUTF8=G,u.keepRuntimeAlive=Q,u.wasmMemory=j,u.stackSave=Ee,u.stackRestore=Me,u.stackAlloc=Ce,u.ExitStatus=ct,u.PThread=ht,rt=function t(){ve||ze(),ve||(rt=t)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return ze(),t.ready});t.exports=r},932:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,r,a;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){r=t,a=e}));var i,o,u,c,s,l,f=Object.assign({},e),p="./this.program",h=(t,e)=>{throw e},d="object"==typeof window,y="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";b?(m=y?n(908).dirname(m)+"/":"//",l=()=>{s||(c=n(384),s=n(908))},i=function(t,e){return l(),t=s.normalize(t),c.readFileSync(t,e?void 0:"utf8")},u=t=>((t=i(t,!0)).buffer||(t=new Uint8Array(t)),t),o=(t,e,n)=>{l(),t=s.normalize(t),c.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof J))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=(t,e)=>{if(_||0<L)throw process.exitCode=t,e;e instanceof J||w("exiting due to exception: "+e),process.exit(t)},e.inspect=function(){return"[Emscripten Module object]"}):(d||y)&&(y?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),_scriptDir&&(m=_scriptDir),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},y&&(u=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),o=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var g,v=e.print||console.log.bind(console),w=e.printErr||console.warn.bind(console);Object.assign(e,f),f=null,e.thisProgram&&(p=e.thisProgram),e.quit&&(h=e.quit),e.wasmBinary&&(g=e.wasmBinary);var _=e.noExitRuntime||!1;"object"!=typeof WebAssembly&&V("no native wasm support detected");var O,A,S,T,E,M,C=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&x)return x.decode(t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function j(t,e){return(t>>>=0)?R(T,t,e):""}function k(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function D(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function P(){var t=O.buffer;A=t,e.HEAP8=S=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=E=new Int32Array(t),e.HEAPU8=T=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=M=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var U,F=[],I=[],W=[],H=[],L=0;function z(){var t=e.preRun.shift();F.unshift(t)}var Y,B=0,G=null,N=null;function V(t){throw e.onAbort&&e.onAbort(t),w(t="Aborted("+t+")"),C=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),a(t),t}function $(){return Y.startsWith("data:application/octet-stream;base64,")}if(Y="ort-wasm.wasm",!$()){var q=Y;Y=e.locateFile?e.locateFile(q,m):m+q}function X(){var t=Y;try{if(t==Y&&g)return new Uint8Array(g);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){V(t)}}function J(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Z(t){for(;0<t.length;)t.shift()(e)}var Q=[],K=0,tt=0;function et(t){this.Db=t,this.zb=t-24,this.Ub=function(t){M[this.zb+4>>2>>>0]=t},this.Eb=function(){return M[this.zb+4>>2>>>0]},this.Sb=function(t){M[this.zb+8>>2>>>0]=t},this.Wb=function(){return M[this.zb+8>>2>>>0]},this.Tb=function(){E[this.zb>>2>>>0]=0},this.Ib=function(t){S[this.zb+12>>0>>>0]=t?1:0},this.Pb=function(){return 0!=S[this.zb+12>>0>>>0]},this.Jb=function(t){S[this.zb+13>>0>>>0]=t?1:0},this.Lb=function(){return 0!=S[this.zb+13>>0>>>0]},this.Rb=function(t,e){this.Fb(0),this.Ub(t),this.Sb(e),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){E[this.zb>>2>>>0]+=1},this.Xb=function(){var t=E[this.zb>>2>>>0];return E[this.zb>>2>>>0]=t-1,1===t},this.Fb=function(t){M[this.zb+16>>2>>>0]=t},this.Ob=function(){return M[this.zb+16>>2>>>0]},this.Qb=function(){if(Mt(this.Eb()))return M[this.Db>>2>>>0];var t=this.Ob();return 0!==t?t:this.Db}}function nt(t){return vt(new et(t).zb)}var rt=[];function at(t){var e=rt[t];return e||(t>=rt.length&&(rt.length=t+1),rt[t]=e=U.get(t)),e}function it(t){var e=D(t)+1,n=gt(e);return n&&k(t,S,n,e),n}var ot={};function ut(){if(!ct){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in ot)void 0===ot[t]?delete e[t]:e[t]=ot[t];var n=[];for(t in e)n.push(t+"="+e[t]);ct=n}return ct}var ct,st=[null,[],[]];function lt(t,e){var n=st[t];0===e||10===e?((1===t?v:w)(R(n,0)),n.length=0):n.push(e)}var ft=0;function pt(t){return 0==t%4&&(0!=t%100||0==t%400)}var ht=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function yt(t,e,n,r){function a(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return a(t,e,"0")}function o(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function u(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function c(t){var e=t.Bb;for(t=new Date(new Date(t.Cb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(pt(t.getFullYear())?ht:dt)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=u(new Date(t.getFullYear(),0,4)),n=u(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var s=E[r+40>>2>>>0];for(var l in r={$b:E[r>>2>>>0],Zb:E[r+4>>2>>>0],Gb:E[r+8>>2>>>0],Kb:E[r+12>>2>>>0],Hb:E[r+16>>2>>>0],Cb:E[r+20>>2>>>0],Ab:E[r+24>>2>>>0],Bb:E[r+28>>2>>>0],bc:E[r+32>>2>>>0],Yb:E[r+36>>2>>>0],ac:s?j(s):""},n=j(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),s[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in s={"%a":function(t){return f[t.Ab].substring(0,3)},"%A":function(t){return f[t.Ab]},"%b":function(t){return p[t.Hb].substring(0,3)},"%B":function(t){return p[t.Hb]},"%C":function(t){return i((t.Cb+1900)/100|0,2)},"%d":function(t){return i(t.Kb,2)},"%e":function(t){return a(t.Kb,2," ")},"%g":function(t){return c(t).toString().substring(2)},"%G":function(t){return c(t)},"%H":function(t){return i(t.Gb,2)},"%I":function(t){return 0==(t=t.Gb)?t=12:12<t&&(t-=12),i(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.Hb-1;e+=(pt(t.Cb+1900)?ht:dt)[n++]);return i(t.Kb+e,3)},"%m":function(t){return i(t.Hb+1,2)},"%M":function(t){return i(t.Zb,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.Gb&&12>t.Gb?"AM":"PM"},"%S":function(t){return i(t.$b,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Ab||7},"%U":function(t){return i(Math.floor((t.Bb+7-t.Ab)/7),2)},"%V":function(t){var e=Math.floor((t.Bb+7-(t.Ab+6)%7)/7);if(2>=(t.Ab+371-t.Bb-2)%7&&e++,e)53==e&&(4==(n=(t.Ab+371-t.Bb)%7)||3==n&&pt(t.Cb)||(e=1));else{e=52;var n=(t.Ab+7-t.Bb-1)%7;(4==n||5==n&&pt(t.Cb%400-1))&&e++}return i(e,2)},"%w":function(t){return t.Ab},"%W":function(t){return i(Math.floor((t.Bb+7-(t.Ab+6)%7)/7),2)},"%y":function(t){return(t.Cb+1900).toString().substring(2)},"%Y":function(t){return t.Cb+1900},"%z":function(t){var e=0<=(t=t.Yb);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),s)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),s[l](r)));return l=function(t){var e=Array(D(t)+1);return k(t,e,0,e.length),e}(n=n.replace(/\\0\\0/g,"%")),l.length>e?0:(S.set(l,t>>>0),l.length-1)}var bt={a:function(t){return gt(t+24)+24},m:function(t){return(t=new et(t)).Pb()||(t.Ib(!0),K--),t.Jb(!1),Q.push(t),t.Nb(),t.Qb()},ia:function(t){throw w("Unexpected exception thrown, this is not properly supported - aborting"),C=!0,t},w:function(){Ot(0);var t=Q.pop();if(t.Xb()&&!t.Lb()){var e=t.Wb();e&&at(e)(t.Db),nt(t.Db)}tt=0},d:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},k:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},g:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},s:nt,L:function(){var t=Q.pop();t||V("no exception to throw");var e=t.Db;throw t.Lb()||(Q.push(t),t.Jb(!0),t.Ib(!1),K++),tt=e,e},b:function(t,e,n){throw new et(t).Rb(e,n),tt=t,K++,t},la:function(){return K},i:function(t){throw tt||(tt=t),t},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getUTCSeconds(),E[e+4>>2>>>0]=t.getUTCMinutes(),E[e+8>>2>>>0]=t.getUTCHours(),E[e+12>>2>>>0]=t.getUTCDate(),E[e+16>>2>>>0]=t.getUTCMonth(),E[e+20>>2>>>0]=t.getUTCFullYear()-1900,E[e+24>>2>>>0]=t.getUTCDay(),E[e+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),E[e+20>>2>>>0]=t.getFullYear()-1900,E[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1);E[e+28>>2>>>0]=(t.getTime()-n.getTime())/864e5|0,E[e+36>>2>>>0]=-60*t.getTimezoneOffset();var r=new Date(t.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[e+32>>2>>>0]=0|(r!=n&&t.getTimezoneOffset()==Math.min(n,r))},Fa:function(t){var e=new Date(E[t+20>>2>>>0]+1900,E[t+16>>2>>>0],E[t+12>>2>>>0],E[t+8>>2>>>0],E[t+4>>2>>>0],E[t>>2>>>0],0),n=E[t+32>>2>>>0],r=e.getTimezoneOffset(),a=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1).getTimezoneOffset(),o=a.getTimezoneOffset(),u=Math.min(o,i);return 0>n?E[t+32>>2>>>0]=Number(i!=o&&u==r):0<n!=(u==r)&&(i=Math.max(o,i),e.setTime(e.getTime()+6e4*((0<n?u:i)-r))),E[t+24>>2>>>0]=e.getDay(),E[t+28>>2>>>0]=(e.getTime()-a.getTime())/864e5|0,E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function t(e,n,r){t.Vb||(t.Vb=!0,function(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}var a=(new Date).getFullYear(),i=new Date(a,0,1),o=new Date(a,6,1);a=i.getTimezoneOffset();var u=o.getTimezoneOffset();E[t>>2>>>0]=60*Math.max(a,u),E[e>>2>>>0]=Number(a!=u),t=r(i),e=r(o),t=it(t),e=it(e),u<a?(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e):(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t)}(e,n,r))},B:function(){V("")},ma:function(){return 4294901760},I:b?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),xa:function(t,e,n){T.copyWithin(t>>>0,e>>>0,e+n>>>0)},G:function(t){var e=T.length;if(4294901760<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var a=Math;r=Math.max(t,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);t:{try{O.grow(a-A.byteLength+65535>>>16),P();var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},va:function(t,e){var n=0;return ut().forEach((function(r,a){var i=e+n;for(a=M[t+4*a>>2>>>0]=i,i=0;i<r.length;++i)S[a++>>0>>>0]=r.charCodeAt(i);S[a>>0>>>0]=0,n+=r.length+1})),0},wa:function(t,e){var n=ut();M[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),M[e>>2>>>0]=r,0},ba:function(t){_||0<L||(_t(),Z(W),wt(0),st[1].length&&lt(1,10),st[2].length&&lt(2,10)),_||0<L||(e.onExit&&e.onExit(t),C=!0),h(t,new J(t))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var o=M[e>>2>>>0],u=M[e+4>>2>>>0];e+=8;for(var c=0;c<u;c++)lt(t,T[o+c>>>0]);a+=u}return M[r>>2>>>0]=a,0},c:function(){return ft},ja:function t(e,r){t.Mb||(t.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(b)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>V("randomDevice")}());for(var a=0;a<r;a++)S[e+a>>0>>>0]=t.Mb();return 0},ea:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},fa:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},J:function(t){var e=At();try{return at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},e:function(t,e){var n=At();try{return at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},N:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},O:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},j:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},o:function(t,e,n,r){var a=At();try{return at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},p:function(t,e,n,r,a){var i=At();try{return at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},M:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},r:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},v:function(t,e,n,r,a,i,o){var u=At();try{return at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},K:function(t,e,n,r,a,i,o,u){var c=At();try{return at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{return at(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},X:function(t,e,n,r,a,i,o,u){var c=At();try{return Ft(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},V:function(t,e,n,r,a,i,o){var u=At();try{return xt(t,e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},U:function(t,e,n,r,a){var i=At();try{return It(t,e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},Z:function(t,e,n,r){var a=At();try{return Pt(t,e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},W:function(t){var e=At();try{return Ct(t)}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},Y:function(t,e){var n=At();try{return Ut(t,e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},T:function(t,e,n){var r=At();try{return Rt(t,e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},f:function(t){var e=At();try{at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},q:function(t,e){var n=At();try{at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},h:function(t,e,n){var r=At();try{at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},da:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},l:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},t:function(t,e,n,r,a){var i=At();try{at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},u:function(t,e,n,r,a,i){var o=At();try{at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},x:function(t,e,n,r,a,i,o){var u=At();try{at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},z:function(t,e,n,r,a,i,o,u){var c=At();try{at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},ga:function(t,e,n,r,a,i,o,u,c){var s=At();try{at(t)(e,n,r,a,i,o,u,c)}catch(t){if(St(s),t!==t+0)throw t;Ot(1,0)}},A:function(t,e,n,r,a,i,o,u,c,s,l){var f=At();try{at(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(St(f),t!==t+0)throw t;Ot(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=At();try{at(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(St(b),t!==t+0)throw t;Ot(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=At();try{jt(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},_:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{Dt(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},$:function(t,e,n,r,a,i){var o=At();try{kt(t,e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},n:function(t){return t},F:function(t){ft=t},ha:yt,y:function(t,e,n,r){return yt(t,e,n,r)}};!function(){function t(t){e.asm=t.exports,O=e.asm.Ka,P(),U=e.asm.ib,I.unshift(e.asm.La),B--,e.monitorRunDependencies&&e.monitorRunDependencies(B),0==B&&(null!==G&&(clearInterval(G),G=null),N&&(t=N,N=null,t()))}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(d||y)){if("function"==typeof fetch&&!Y.startsWith("file://"))return fetch(Y,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+Y+"\'";return t.arrayBuffer()})).catch((function(){return X()}));if(o)return new Promise((function(t,e){o(Y,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return X()}))}().then((function(t){return WebAssembly.instantiate(t,i)})).then((function(t){return t})).then(t,(function(t){w("failed to asynchronously prepare wasm: "+t),V(t)}))}var i={a:bt};if(B++,e.monitorRunDependencies&&e.monitorRunDependencies(B),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return w("Module.instantiateWasm callback failed with error: "+t),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||$()||Y.startsWith("file://")||b||"function"!=typeof fetch?r(n):fetch(Y,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(n,(function(t){return w("wasm streaming compile failed: "+t),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.La).apply(null,arguments)},e._OrtInit=function(){return(e._OrtInit=e.asm.Ma).apply(null,arguments)},e._OrtCreateSessionOptions=function(){return(e._OrtCreateSessionOptions=e.asm.Na).apply(null,arguments)},e._OrtAppendExecutionProvider=function(){return(e._OrtAppendExecutionProvider=e.asm.Oa).apply(null,arguments)},e._OrtAddSessionConfigEntry=function(){return(e._OrtAddSessionConfigEntry=e.asm.Pa).apply(null,arguments)},e._OrtReleaseSessionOptions=function(){return(e._OrtReleaseSessionOptions=e.asm.Qa).apply(null,arguments)},e._OrtCreateSession=function(){return(e._OrtCreateSession=e.asm.Ra).apply(null,arguments)},e._OrtReleaseSession=function(){return(e._OrtReleaseSession=e.asm.Sa).apply(null,arguments)},e._OrtGetInputCount=function(){return(e._OrtGetInputCount=e.asm.Ta).apply(null,arguments)},e._OrtGetOutputCount=function(){return(e._OrtGetOutputCount=e.asm.Ua).apply(null,arguments)},e._OrtGetInputName=function(){return(e._OrtGetInputName=e.asm.Va).apply(null,arguments)},e._OrtGetOutputName=function(){return(e._OrtGetOutputName=e.asm.Wa).apply(null,arguments)},e._OrtFree=function(){return(e._OrtFree=e.asm.Xa).apply(null,arguments)},e._OrtCreateTensor=function(){return(e._OrtCreateTensor=e.asm.Ya).apply(null,arguments)},e._OrtGetTensorData=function(){return(e._OrtGetTensorData=e.asm.Za).apply(null,arguments)},e._OrtReleaseTensor=function(){return(e._OrtReleaseTensor=e.asm._a).apply(null,arguments)},e._OrtCreateRunOptions=function(){return(e._OrtCreateRunOptions=e.asm.$a).apply(null,arguments)},e._OrtAddRunConfigEntry=function(){return(e._OrtAddRunConfigEntry=e.asm.ab).apply(null,arguments)},e._OrtReleaseRunOptions=function(){return(e._OrtReleaseRunOptions=e.asm.bb).apply(null,arguments)},e._OrtRun=function(){return(e._OrtRun=e.asm.cb).apply(null,arguments)},e._OrtEndProfiling=function(){return(e._OrtEndProfiling=e.asm.db).apply(null,arguments)};var mt,gt=e._malloc=function(){return(gt=e._malloc=e.asm.eb).apply(null,arguments)},vt=e._free=function(){return(vt=e._free=e.asm.fb).apply(null,arguments)},wt=e._fflush=function(){return(wt=e._fflush=e.asm.gb).apply(null,arguments)},_t=e.___funcs_on_exit=function(){return(_t=e.___funcs_on_exit=e.asm.hb).apply(null,arguments)},Ot=e._setThrew=function(){return(Ot=e._setThrew=e.asm.jb).apply(null,arguments)},At=e.stackSave=function(){return(At=e.stackSave=e.asm.kb).apply(null,arguments)},St=e.stackRestore=function(){return(St=e.stackRestore=e.asm.lb).apply(null,arguments)},Tt=e.stackAlloc=function(){return(Tt=e.stackAlloc=e.asm.mb).apply(null,arguments)},Et=e.___cxa_can_catch=function(){return(Et=e.___cxa_can_catch=e.asm.nb).apply(null,arguments)},Mt=e.___cxa_is_pointer_type=function(){return(Mt=e.___cxa_is_pointer_type=e.asm.ob).apply(null,arguments)},Ct=e.dynCall_j=function(){return(Ct=e.dynCall_j=e.asm.pb).apply(null,arguments)},xt=e.dynCall_iiiiij=function(){return(xt=e.dynCall_iiiiij=e.asm.qb).apply(null,arguments)},Rt=e.dynCall_jii=function(){return(Rt=e.dynCall_jii=e.asm.rb).apply(null,arguments)},jt=e.dynCall_viiiiij=function(){return(jt=e.dynCall_viiiiij=e.asm.sb).apply(null,arguments)},kt=e.dynCall_vjji=function(){return(kt=e.dynCall_vjji=e.asm.tb).apply(null,arguments)},Dt=e.dynCall_viiijjjii=function(){return(Dt=e.dynCall_viiijjjii=e.asm.ub).apply(null,arguments)},Pt=e.dynCall_iij=function(){return(Pt=e.dynCall_iij=e.asm.vb).apply(null,arguments)},Ut=e.dynCall_ji=function(){return(Ut=e.dynCall_ji=e.asm.wb).apply(null,arguments)},Ft=e.dynCall_iiiiiij=function(){return(Ft=e.dynCall_iiiiiij=e.asm.xb).apply(null,arguments)},It=e.dynCall_iiij=function(){return(It=e.dynCall_iiij=e.asm.yb).apply(null,arguments)};function Wt(){function t(){if(!mt&&(mt=!0,e.calledRun=!0,!C)){if(Z(I),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();H.unshift(t)}Z(H)}}if(!(0<B)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)z();Z(F),0<B||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.UTF8ToString=j,e.stringToUTF8=function(t,e,n){return k(t,T,e,n)},e.lengthBytesUTF8=D,e.stackSave=At,e.stackRestore=St,e.stackAlloc=Tt,N=function t(){mt||Wt(),mt||(N=t)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Wt(),t.ready});t.exports=r},967:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=(t,n,r,a)=>{if("object"==typeof t&&null!==t){if(r.has(t))throw new Error("Circular reference in options");r.add(t)}Object.entries(t).forEach((([t,i])=>{const o=n?n+t:t;if("object"==typeof i)(0,e.iterateExtraOptions)(i,o+".",r,a);else if("string"==typeof i||"number"==typeof i)a(o,i.toString());else{if("boolean"!=typeof i)throw new Error("Can\'t handle extra config type: "+typeof i);a(o,i?"1":"0")}}))}},586:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setRunOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);void 0===(null==t?void 0:t.terminate)&&(u.terminate=!1);let i=0;if(void 0!==(null==t?void 0:t.tag)&&(i=(0,a.allocWasmString)(t.tag,o)),n=e._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,i),0===n)throw new Error("Can\'t create run options");return void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddRunConfigEntry(n,i,u))throw new Error(`Can\'t set a run config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseRunOptions(n),o.forEach(e._free),t}}},919:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setSessionOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};(t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});const e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const c=(t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}})(u.graphOptimizationLevel);void 0===(null==t?void 0:t.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(u.executionMode="sequential");const s=(t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}})(u.executionMode);let l=0;if(void 0!==(null==t?void 0:t.logId)&&(l=(0,a.allocWasmString)(t.logId,o)),void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);if(void 0===(null==t?void 0:t.enableProfiling)&&(u.enableProfiling=!1),n=e._OrtCreateSessionOptions(c,!!u.enableCpuMemArena,!!u.enableMemPattern,s,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==t?void 0:t.executionProviders)&&((t,e,n)=>{for(const r of e){let e="string"==typeof r?r:r.name;switch(e){case"xnnpack":e="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${e}`)}const o=(0,a.allocWasmString)(e,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(t,o))throw new Error(`Can\'t append execution provider: ${e}`)}})(n,t.executionProviders,o),void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddSessionConfigEntry(n,i,u))throw new Error(`Can\'t set a session config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseSessionOptions(n),o.forEach(e._free),t}}},983:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;const r=n(361);e.allocWasmString=(t,e)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(t)+1,i=n._malloc(a);return n.stringToUTF8(t,i,a),e.push(i),i}},349:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;const r=n(586),a=n(919),i=n(983),o=n(361);e.initOrt=(t,e)=>{const n=(0,o.getInstance)()._OrtInit(t,e);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;e.createSessionAllocate=t=>{const e=(0,o.getInstance)(),n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),[n,t.byteLength]},e.createSessionFinalize=(t,e)=>{const n=(0,o.getInstance)();let r=0,i=0,c=[];try{if([i,c]=(0,a.setSessionOptions)(e),r=n._OrtCreateSession(t[0],t[1],i),0===r)throw new Error("Can\'t create a session")}finally{n._free(t[0]),n._OrtReleaseSessionOptions(i),c.forEach(n._free)}const s=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],h=[],d=[];for(let t=0;t<s;t++){const e=n._OrtGetInputName(r,t);if(0===e)throw new Error("Can\'t get an input name");p.push(e),f.push(n.UTF8ToString(e))}for(let t=0;t<l;t++){const e=n._OrtGetOutputName(r,t);if(0===e)throw new Error("Can\'t get an output name");d.push(e),h.push(n.UTF8ToString(e))}return u.set(r,[r,p,d]),[r,f,h]},e.createSession=(t,n)=>{const r=(0,e.createSessionAllocate)(t);return(0,e.createSessionFinalize)(r,n)},e.releaseSession=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],i=n[2];a.forEach(e._OrtFree),i.forEach(e._OrtFree),e._OrtReleaseSession(r),u.delete(t)};const c=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},s=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},l=t=>{switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}};e.run=(t,e,n,a,f)=>{const p=(0,o.getInstance)(),h=u.get(t);if(!h)throw new Error("invalid session id");const d=h[0],y=h[1],b=h[2],m=e.length,g=a.length;let v=0,w=[];const _=[],O=[];try{[v,w]=(0,r.setRunOptions)(f);for(let t=0;t<m;t++){const e=n[t][0],r=n[t][1],a=n[t][2];let o,u;if(Array.isArray(a)){u=4*a.length,o=p._malloc(u),O.push(o);let t=o/4;for(let e=0;e<a.length;e++){if("string"!=typeof a[e])throw new TypeError(`tensor data at index ${e} is not a string`);p.HEAPU32[t++]=(0,i.allocWasmString)(a[e],O)}}else u=a.byteLength,o=p._malloc(u),O.push(o),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),o);const s=p.stackSave(),l=p.stackAlloc(4*r.length);try{let t=l/4;r.forEach((e=>p.HEAP32[t++]=e));const n=p._OrtCreateTensor(c(e),o,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");_.push(n)}finally{p.stackRestore(s)}}const t=p.stackSave(),o=p.stackAlloc(4*m),u=p.stackAlloc(4*m),h=p.stackAlloc(4*g),A=p.stackAlloc(4*g);try{let n=o/4,r=u/4,i=h/4,c=A/4;for(let t=0;t<m;t++)p.HEAPU32[n++]=_[t],p.HEAPU32[r++]=y[e[t]];for(let t=0;t<g;t++)p.HEAPU32[i++]=0,p.HEAPU32[c++]=b[a[t]];let f=p._OrtRun(d,u,o,m,A,g,h,v);const w=[];if(0===f)for(let t=0;t<g;t++){const e=p.HEAPU32[h/4+t],n=p.stackSave(),r=p.stackAlloc(16);let a,i=0;try{if(f=p._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let t=r/4;const o=p.HEAPU32[t++];i=p.HEAPU32[t++];const u=p.HEAPU32[t++],c=p.HEAPU32[t++],h=[];for(let t=0;t<c;t++)h.push(p.HEAPU32[u/4+t]);p._OrtFree(u);const d=0===h.length?1:h.reduce(((t,e)=>t*e));if(a=s(o),"string"===a){const t=[];let e=i/4;for(let n=0;n<d;n++){const r=p.HEAPU32[e++],a=n===d-1?void 0:p.HEAPU32[e]-r;t.push(p.UTF8ToString(r,a))}w.push([a,h,t])}else{const t=new(l(a))(d);new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(p.HEAPU8.subarray(i,i+t.byteLength)),w.push([a,h,t])}}finally{p.stackRestore(n),"string"===a&&i&&p._free(i),p._OrtReleaseTensor(e)}}if(0===f)return w;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(t)}}finally{_.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(v),w.forEach(p._free)}},e.endProfiling=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=e._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");e._OrtFree(a)},e.extractTransferableBuffers=t=>{const e=[];for(const n of t){const t=n[2];!Array.isArray(t)&&t.buffer&&e.push(t.buffer)}return e}},361:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const u=i(n(449)),c=o(n(932)),s=n(474);let l,f=!1,p=!1,h=!1;const d=(t,e)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":t?"ort-wasm-simd.wasm":"ort-wasm.wasm";e.initializeWebAssembly=async t=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(h)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const e=t.initTimeout,r=t.numThreads,a=t.simd,i=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(t){return!1}})(),o=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(t){return!1}})(),y="string"==typeof t.wasmPaths?t.wasmPaths:void 0,b=d(!1,i),m=d(o,i),g="object"==typeof t.wasmPaths?t.wasmPaths[m]:void 0;let v=!1;const w=[];if(e>0&&w.push(new Promise((t=>{setTimeout((()=>{v=!0,t()}),e)}))),w.push(new Promise(((t,e)=>{const r=i?s:c.default,a={locateFile:(t,e)=>i&&t.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):t===b?null!=g?g:(null!=y?y:e)+m:e+t};if(i)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const t=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([t],{type:"text/javascript"})}r(a).then((e=>{p=!1,f=!0,l=e,t()}),(t=>{p=!1,h=!0,e(t)}))}))),await Promise.race(w),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${e}ms`)},e.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var t;!f||p||h||(p=!0,null===(t=l.PThread)||void 0===t||t.terminateAllThreads(),l=void 0,p=!1,f=!1,h=!0)}},154:t=>{"use strict";t.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";const t=n(349),e=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,e.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(t=>postMessage({type:"init-wasm",err:t})));break;case"init-ort":try{const{numThreads:e,loggingLevel:r}=n.data.in;(0,t.initOrt)(e,r),postMessage({type:"init-ort"})}catch(t){postMessage({type:"init-ort",err:t})}break;case"create_allocate":try{const{model:e}=n.data.in,r=(0,t.createSessionAllocate)(e);postMessage({type:"create_allocate",out:r})}catch(t){postMessage({type:"create_allocate",err:t})}break;case"create_finalize":try{const{modeldata:e,options:r}=n.data.in,a=(0,t.createSessionFinalize)(e,r);postMessage({type:"create_finalize",out:a})}catch(t){postMessage({type:"create_finalize",err:t})}break;case"create":try{const{model:e,options:r}=n.data.in,a=(0,t.createSession)(e,r);postMessage({type:"create",out:a})}catch(t){postMessage({type:"create",err:t})}break;case"release":try{const e=n.data.in;(0,t.releaseSession)(e),postMessage({type:"release"})}catch(t){postMessage({type:"release",err:t})}break;case"run":try{const{sessionId:e,inputIndices:r,inputs:a,outputIndices:i,options:o}=n.data.in,u=(0,t.run)(e,r,a,i,o);postMessage({type:"run",out:u},(0,t.extractTransferableBuffers)(u))}catch(t){postMessage({type:"run",err:t})}break;case"end-profiling":try{const e=n.data.in;(0,t.endProfiling)(e),postMessage({type:"end-profiling"})}catch(t){postMessage({type:"end-profiling",err:t})}}}})()})();\n',"Worker",void 0,void 0)}},477:t=>{t.exports=function(e,n,i,l){var d=self||window;try{try{var f;try{f=new d.Blob([e])}catch{(f=new(d.BlobBuilder||d.WebKitBlobBuilder||d.MozBlobBuilder||d.MSBlobBuilder)).append(e),f=f.getBlob()}var b=d.URL||d.webkitURL,_=b.createObjectURL(f),v=new d[n](_,i);return b.revokeObjectURL(_),v}catch{return new d[n]("data:application/javascript,".concat(encodeURIComponent(e)),i)}}catch{if(!l)throw Error("Inline worker is not supported");return new d[n](l,i)}}},4154:t=>{t.exports=`"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};
`},1670:t=>{t.exports=__WEBPACK_EXTERNAL_MODULE__1670__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(t,e,n)=>{n.r(e),n.d(e,{flatbuffers:()=>i});var i={};i.Offset,i.Table,i.SIZEOF_SHORT=2,i.SIZEOF_INT=4,i.FILE_IDENTIFIER_LENGTH=4,i.SIZE_PREFIX_LENGTH=4,i.Encoding={UTF8_BYTES:1,UTF16_STRING:2},i.int32=new Int32Array(2),i.float32=new Float32Array(i.int32.buffer),i.float64=new Float64Array(i.int32.buffer),i.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,i.Long=function(l,d){this.low=0|l,this.high=0|d},i.Long.create=function(l,d){return l==0&&d==0?i.Long.ZERO:new i.Long(l,d)},i.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},i.Long.prototype.equals=function(l){return this.low==l.low&&this.high==l.high},i.Long.ZERO=new i.Long(0,0),i.Builder=function(l){if(l)d=l;else var d=1024;this.bb=i.ByteBuffer.allocate(d),this.space=d,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},i.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},i.Builder.prototype.forceDefaults=function(l){this.force_defaults=l},i.Builder.prototype.dataBuffer=function(){return this.bb},i.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},i.Builder.prototype.prep=function(l,d){l>this.minalign&&(this.minalign=l);for(var f=1+~(this.bb.capacity()-this.space+d)&l-1;this.space<f+l+d;){var b=this.bb.capacity();this.bb=i.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-b}this.pad(f)},i.Builder.prototype.pad=function(l){for(var d=0;d<l;d++)this.bb.writeInt8(--this.space,0)},i.Builder.prototype.writeInt8=function(l){this.bb.writeInt8(this.space-=1,l)},i.Builder.prototype.writeInt16=function(l){this.bb.writeInt16(this.space-=2,l)},i.Builder.prototype.writeInt32=function(l){this.bb.writeInt32(this.space-=4,l)},i.Builder.prototype.writeInt64=function(l){this.bb.writeInt64(this.space-=8,l)},i.Builder.prototype.writeFloat32=function(l){this.bb.writeFloat32(this.space-=4,l)},i.Builder.prototype.writeFloat64=function(l){this.bb.writeFloat64(this.space-=8,l)},i.Builder.prototype.addInt8=function(l){this.prep(1,0),this.writeInt8(l)},i.Builder.prototype.addInt16=function(l){this.prep(2,0),this.writeInt16(l)},i.Builder.prototype.addInt32=function(l){this.prep(4,0),this.writeInt32(l)},i.Builder.prototype.addInt64=function(l){this.prep(8,0),this.writeInt64(l)},i.Builder.prototype.addFloat32=function(l){this.prep(4,0),this.writeFloat32(l)},i.Builder.prototype.addFloat64=function(l){this.prep(8,0),this.writeFloat64(l)},i.Builder.prototype.addFieldInt8=function(l,d,f){(this.force_defaults||d!=f)&&(this.addInt8(d),this.slot(l))},i.Builder.prototype.addFieldInt16=function(l,d,f){(this.force_defaults||d!=f)&&(this.addInt16(d),this.slot(l))},i.Builder.prototype.addFieldInt32=function(l,d,f){(this.force_defaults||d!=f)&&(this.addInt32(d),this.slot(l))},i.Builder.prototype.addFieldInt64=function(l,d,f){!this.force_defaults&&d.equals(f)||(this.addInt64(d),this.slot(l))},i.Builder.prototype.addFieldFloat32=function(l,d,f){(this.force_defaults||d!=f)&&(this.addFloat32(d),this.slot(l))},i.Builder.prototype.addFieldFloat64=function(l,d,f){(this.force_defaults||d!=f)&&(this.addFloat64(d),this.slot(l))},i.Builder.prototype.addFieldOffset=function(l,d,f){(this.force_defaults||d!=f)&&(this.addOffset(d),this.slot(l))},i.Builder.prototype.addFieldStruct=function(l,d,f){d!=f&&(this.nested(d),this.slot(l))},i.Builder.prototype.nested=function(l){if(l!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},i.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},i.Builder.prototype.slot=function(l){this.vtable[l]=this.offset()},i.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},i.Builder.growByteBuffer=function(l){var d=l.capacity();if(3221225472&d)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var f=d<<1,b=i.ByteBuffer.allocate(f);return b.setPosition(f-d),b.bytes().set(l.bytes(),f-d),b},i.Builder.prototype.addOffset=function(l){this.prep(i.SIZEOF_INT,0),this.writeInt32(this.offset()-l+i.SIZEOF_INT)},i.Builder.prototype.startObject=function(l){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=l;for(var d=0;d<l;d++)this.vtable[d]=0;this.isNested=!0,this.object_start=this.offset()},i.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var l=this.offset(),d=this.vtable_in_use-1;d>=0&&this.vtable[d]==0;d--);for(var f=d+1;d>=0;d--)this.addInt16(this.vtable[d]!=0?l-this.vtable[d]:0);this.addInt16(l-this.object_start);var b=(f+2)*i.SIZEOF_SHORT;this.addInt16(b);var _=0,v=this.space;e:for(d=0;d<this.vtables.length;d++){var m=this.bb.capacity()-this.vtables[d];if(b==this.bb.readInt16(m)){for(var u=i.SIZEOF_SHORT;u<b;u+=i.SIZEOF_SHORT)if(this.bb.readInt16(v+u)!=this.bb.readInt16(m+u))continue e;_=this.vtables[d];break}}return _?(this.space=this.bb.capacity()-l,this.bb.writeInt32(this.space,_-l)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-l,this.offset()-l)),this.isNested=!1,l},i.Builder.prototype.finish=function(l,d,f){var b=f?i.SIZE_PREFIX_LENGTH:0;if(d){var _=d;if(this.prep(this.minalign,i.SIZEOF_INT+i.FILE_IDENTIFIER_LENGTH+b),_.length!=i.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+i.FILE_IDENTIFIER_LENGTH);for(var v=i.FILE_IDENTIFIER_LENGTH-1;v>=0;v--)this.writeInt8(_.charCodeAt(v))}this.prep(this.minalign,i.SIZEOF_INT+b),this.addOffset(l),b&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},i.Builder.prototype.finishSizePrefixed=function(l,d){this.finish(l,d,!0)},i.Builder.prototype.requiredField=function(l,d){var f=this.bb.capacity()-l,b=f-this.bb.readInt32(f);if(this.bb.readInt16(b+d)==0)throw new Error("FlatBuffers: field "+d+" must be set")},i.Builder.prototype.startVector=function(l,d,f){this.notNested(),this.vector_num_elems=d,this.prep(i.SIZEOF_INT,l*d),this.prep(f,l*d)},i.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},i.Builder.prototype.createString=function(l){if(l instanceof Uint8Array)var d=l;else{d=[];for(var f=0;f<l.length;){var b,_=l.charCodeAt(f++);(b=_<55296||_>=56320?_:(_<<10)+l.charCodeAt(f++)+-56613888)<128?d.push(b):(b<2048?d.push(b>>6&31|192):(b<65536?d.push(b>>12&15|224):d.push(b>>18&7|240,b>>12&63|128),d.push(b>>6&63|128)),d.push(63&b|128))}}this.addInt8(0),this.startVector(1,d.length,1),this.bb.setPosition(this.space-=d.length),f=0;for(var v=this.space,m=this.bb.bytes();f<d.length;f++)m[v++]=d[f];return this.endVector()},i.Builder.prototype.createLong=function(l,d){return i.Long.create(l,d)},i.ByteBuffer=function(l){this.bytes_=l,this.position_=0},i.ByteBuffer.allocate=function(l){return new i.ByteBuffer(new Uint8Array(l))},i.ByteBuffer.prototype.clear=function(){this.position_=0},i.ByteBuffer.prototype.bytes=function(){return this.bytes_},i.ByteBuffer.prototype.position=function(){return this.position_},i.ByteBuffer.prototype.setPosition=function(l){this.position_=l},i.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},i.ByteBuffer.prototype.readInt8=function(l){return this.readUint8(l)<<24>>24},i.ByteBuffer.prototype.readUint8=function(l){return this.bytes_[l]},i.ByteBuffer.prototype.readInt16=function(l){return this.readUint16(l)<<16>>16},i.ByteBuffer.prototype.readUint16=function(l){return this.bytes_[l]|this.bytes_[l+1]<<8},i.ByteBuffer.prototype.readInt32=function(l){return this.bytes_[l]|this.bytes_[l+1]<<8|this.bytes_[l+2]<<16|this.bytes_[l+3]<<24},i.ByteBuffer.prototype.readUint32=function(l){return this.readInt32(l)>>>0},i.ByteBuffer.prototype.readInt64=function(l){return new i.Long(this.readInt32(l),this.readInt32(l+4))},i.ByteBuffer.prototype.readUint64=function(l){return new i.Long(this.readUint32(l),this.readUint32(l+4))},i.ByteBuffer.prototype.readFloat32=function(l){return i.int32[0]=this.readInt32(l),i.float32[0]},i.ByteBuffer.prototype.readFloat64=function(l){return i.int32[i.isLittleEndian?0:1]=this.readInt32(l),i.int32[i.isLittleEndian?1:0]=this.readInt32(l+4),i.float64[0]},i.ByteBuffer.prototype.writeInt8=function(l,d){this.bytes_[l]=d},i.ByteBuffer.prototype.writeUint8=function(l,d){this.bytes_[l]=d},i.ByteBuffer.prototype.writeInt16=function(l,d){this.bytes_[l]=d,this.bytes_[l+1]=d>>8},i.ByteBuffer.prototype.writeUint16=function(l,d){this.bytes_[l]=d,this.bytes_[l+1]=d>>8},i.ByteBuffer.prototype.writeInt32=function(l,d){this.bytes_[l]=d,this.bytes_[l+1]=d>>8,this.bytes_[l+2]=d>>16,this.bytes_[l+3]=d>>24},i.ByteBuffer.prototype.writeUint32=function(l,d){this.bytes_[l]=d,this.bytes_[l+1]=d>>8,this.bytes_[l+2]=d>>16,this.bytes_[l+3]=d>>24},i.ByteBuffer.prototype.writeInt64=function(l,d){this.writeInt32(l,d.low),this.writeInt32(l+4,d.high)},i.ByteBuffer.prototype.writeUint64=function(l,d){this.writeUint32(l,d.low),this.writeUint32(l+4,d.high)},i.ByteBuffer.prototype.writeFloat32=function(l,d){i.float32[0]=d,this.writeInt32(l,i.int32[0])},i.ByteBuffer.prototype.writeFloat64=function(l,d){i.float64[0]=d,this.writeInt32(l,i.int32[i.isLittleEndian?0:1]),this.writeInt32(l+4,i.int32[i.isLittleEndian?1:0])},i.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+i.SIZEOF_INT+i.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var l="",d=0;d<i.FILE_IDENTIFIER_LENGTH;d++)l+=String.fromCharCode(this.readInt8(this.position_+i.SIZEOF_INT+d));return l},i.ByteBuffer.prototype.__offset=function(l,d){var f=l-this.readInt32(l);return d<this.readInt16(f)?this.readInt16(f+d):0},i.ByteBuffer.prototype.__union=function(l,d){return l.bb_pos=d+this.readInt32(d),l.bb=this,l},i.ByteBuffer.prototype.__string=function(l,d){l+=this.readInt32(l);var f=this.readInt32(l),b="",_=0;if(l+=i.SIZEOF_INT,d===i.Encoding.UTF8_BYTES)return this.bytes_.subarray(l,l+f);for(;_<f;){var v,m=this.readUint8(l+_++);if(m<192)v=m;else{var u=this.readUint8(l+_++);if(m<224)v=(31&m)<<6|63&u;else{var o=this.readUint8(l+_++);v=m<240?(15&m)<<12|(63&u)<<6|63&o:(7&m)<<18|(63&u)<<12|(63&o)<<6|63&this.readUint8(l+_++)}}v<65536?b+=String.fromCharCode(v):(v-=65536,b+=String.fromCharCode(55296+(v>>10),56320+(1023&v)))}return b},i.ByteBuffer.prototype.__indirect=function(l){return l+this.readInt32(l)},i.ByteBuffer.prototype.__vector=function(l){return l+this.readInt32(l)+i.SIZEOF_INT},i.ByteBuffer.prototype.__vector_len=function(l){return this.readInt32(l+this.readInt32(l))},i.ByteBuffer.prototype.__has_identifier=function(l){if(l.length!=i.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+i.FILE_IDENTIFIER_LENGTH);for(var d=0;d<i.FILE_IDENTIFIER_LENGTH;d++)if(l.charCodeAt(d)!=this.readInt8(this.position_+i.SIZEOF_INT+d))return!1;return!0},i.ByteBuffer.prototype.createLong=function(l,d){return i.Long.create(l,d)}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(6018);return __webpack_exports__})()))})(ortWeb_min$1)),ortWeb_min$1.exports}var ortWeb_minExports=requireOrtWeb_min();const ortWeb_min=getDefaultExportFromCjs(ortWeb_minExports),ONNX_WEB=_mergeNamespaces({__proto__:null,default:ortWeb_min},[ortWeb_minExports]);let ONNX;const executionProviders=["wasm"];var Uf;typeof process<"u"&&((Uf=process==null?void 0:process.release)==null?void 0:Uf.name)==="node"?(ONNX=sharp??ONNX_NODE,executionProviders.unshift("cpu")):(ONNX=ortWeb_min??ONNX_WEB,typeof navigator<"u"&&/iP(hone|od|ad).+16_4.+AppleWebKit/.test(navigator.userAgent)&&(ONNX.env.wasm.simd=!1));const{env:onnx_env}=ONNX,VERSION="2.17.2",WEB_CACHE_AVAILABLE=typeof self<"u"&&"caches"in self,FS_AVAILABLE=!isEmpty(sharp),PATH_AVAILABLE=!isEmpty(sharp),RUNNING_LOCALLY=FS_AVAILABLE&&PATH_AVAILABLE,__dirname$1=RUNNING_LOCALLY?sharp.dirname(sharp.dirname(sharp.fileURLToPath(import.meta.url))):"./",DEFAULT_CACHE_DIR=RUNNING_LOCALLY?sharp.join(__dirname$1,"/.cache/"):null,DEFAULT_LOCAL_MODEL_PATH="/models/",localModelPath=RUNNING_LOCALLY?sharp.join(__dirname$1,DEFAULT_LOCAL_MODEL_PATH):DEFAULT_LOCAL_MODEL_PATH;onnx_env!=null&&onnx_env.wasm&&(onnx_env.wasm.wasmPaths=RUNNING_LOCALLY?sharp.join(__dirname$1,"/dist/"):`https://cdn.jsdelivr.net/npm/@xenova/transformers@${VERSION}/dist/`);const env$1={backends:{onnx:onnx_env,tfjs:{}},__dirname:__dirname$1,version:VERSION,allowRemoteModels:!0,remoteHost:"https://huggingface.co/",remotePathTemplate:"{model}/resolve/{revision}/",allowLocalModels:!0,localModelPath,useFS:FS_AVAILABLE,useBrowserCache:WEB_CACHE_AVAILABLE,useFSCache:FS_AVAILABLE,cacheDir:DEFAULT_CACHE_DIR,useCustomCache:!1,customCache:null};function isEmpty(t){return Object.keys(t).length===0}var define_process_env_default$1={};class FileResponse{constructor(e){Ie(this,"_CONTENT_TYPE_MAP",{txt:"text/plain",html:"text/html",css:"text/css",js:"text/javascript",json:"application/json",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif"});if(this.filePath=e,this.headers=new Headers,this.exists=sharp.existsSync(e),this.exists){this.status=200,this.statusText="OK";let n=sharp.statSync(e);this.headers.set("content-length",n.size.toString()),this.updateContentType();let i=this;this.body=new ReadableStream({start(l){i.arrayBuffer().then(d=>{l.enqueue(new Uint8Array(d)),l.close()})}})}else this.status=404,this.statusText="Not Found",this.body=null}updateContentType(){const e=this.filePath.toString().split(".").pop().toLowerCase();this.headers.set("content-type",this._CONTENT_TYPE_MAP[e]??"application/octet-stream")}clone(){let e=new FileResponse(this.filePath);return e.exists=this.exists,e.status=this.status,e.statusText=this.statusText,e.headers=new Headers(this.headers),e}async arrayBuffer(){return(await sharp.promises.readFile(this.filePath)).buffer}async blob(){const e=await sharp.promises.readFile(this.filePath);return new Blob([e],{type:this.headers.get("content-type")})}async text(){return await sharp.promises.readFile(this.filePath,"utf8")}async json(){return JSON.parse(await this.text())}}function isValidUrl(t,e=null,n=null){let i;try{i=new URL(t)}catch{return!1}return!(e&&!e.includes(i.protocol)||n&&!n.includes(i.hostname))}async function getFile(t){var e;if(env$1.useFS&&!isValidUrl(t,["http:","https:","blob:"]))return new FileResponse(t);if(typeof process<"u"&&((e=process==null?void 0:process.release)==null?void 0:e.name)==="node"){const n=!!(define_process_env_default$1!=null&&define_process_env_default$1.TESTING_REMOTELY),i=env$1.version,l=new Headers;if(l.set("User-Agent",`transformers.js/${i}; is_ci/${n};`),isValidUrl(t,["http:","https:"],["huggingface.co","hf.co"])){const f=(define_process_env_default$1==null?void 0:define_process_env_default$1.HF_TOKEN)??(define_process_env_default$1==null?void 0:define_process_env_default$1.HF_ACCESS_TOKEN);f&&l.set("Authorization",`Bearer ${f}`)}return fetch(t,{headers:l})}else return fetch(t)}const ERROR_MAPPING={400:"Bad request error occurred while trying to load file",401:"Unauthorized access to file",403:"Forbidden access to file",404:"Could not locate file",408:"Request timeout error occurred while trying to load file",500:"Internal server error error occurred while trying to load file",502:"Bad gateway error occurred while trying to load file",503:"Service unavailable error occurred while trying to load file",504:"Gateway timeout error occurred while trying to load file"};function handleError(t,e,n){if(!n)return null;const i=ERROR_MAPPING[t]??`Error (${t}) occurred while trying to load file`;throw Error(`${i}: "${e}".`)}class FileCache{constructor(e){this.path=e}async match(e){let n=sharp.join(this.path,e),i=new FileResponse(n);if(i.exists)return i}async put(e,n){const i=Buffer.from(await n.arrayBuffer());let l=sharp.join(this.path,e);try{await sharp.promises.mkdir(sharp.dirname(l),{recursive:!0}),await sharp.promises.writeFile(l,i)}catch(d){console.warn("An error occurred while writing the file to cache:",d)}}}async function tryCache(t,...e){for(let n of e)try{let i=await t.match(n);if(i)return i}catch{continue}}async function getModelFile(t,e,n=!0,i={}){if(!env$1.allowLocalModels){if(i.local_files_only)throw Error("Invalid configuration detected: local models are disabled (`env.allowLocalModels=false`) but you have requested to only use local models (`local_files_only=true`).");if(!env$1.allowRemoteModels)throw Error("Invalid configuration detected: both local and remote models are disabled. Fix by setting `env.allowLocalModels` or `env.allowRemoteModels` to `true`.")}dispatchCallback(i.progress_callback,{status:"initiate",name:t,file:e});let l;if(!l&&env$1.useBrowserCache){if(typeof caches>"u")throw Error("Browser cache is not available in this environment.");try{l=await caches.open("transformers-cache")}catch(O){console.warn("An error occurred while opening the browser cache:",O)}}if(!l&&env$1.useFSCache&&(l=new FileCache(i.cache_dir??env$1.cacheDir)),!l&&env$1.useCustomCache){if(!env$1.customCache)throw Error("`env.useCustomCache=true`, but `env.customCache` is not defined.");if(!env$1.customCache.match||!env$1.customCache.put)throw new Error("`env.customCache` must be an object which implements the `match` and `put` functions of the Web Cache API. For more information, see https://developer.mozilla.org/en-US/docs/Web/API/Cache");l=env$1.customCache}const d=i.revision??"main";let f=pathJoin(t,e),b=pathJoin(env$1.localModelPath,f),_=pathJoin(env$1.remoteHost,env$1.remotePathTemplate.replaceAll("{model}",t).replaceAll("{revision}",encodeURIComponent(d)),e),v=d==="main"?f:pathJoin(t,d,e),m,u=l instanceof FileCache?v:_,o=!1,h;l&&(h=await tryCache(l,b,u));const w=h!==void 0;if(h===void 0){if(env$1.allowLocalModels)if(isValidUrl(f,["http:","https:"])){if(i.local_files_only)throw new Error(`\`local_files_only=true\`, but attempted to load a remote file from: ${f}.`);if(!env$1.allowRemoteModels)throw new Error(`\`env.allowRemoteModels=false\`, but attempted to load a remote file from: ${f}.`)}else try{h=await getFile(b),m=b}catch(M){console.warn(`Unable to load from local path "${b}": "${M}"`)}if(h===void 0||h.status===404){if(i.local_files_only||!env$1.allowRemoteModels){if(n)throw Error(`\`local_files_only=true\` or \`env.allowRemoteModels=false\` and file was not found locally at "${b}".`);return null}if(h=await getFile(_),h.status!==200)return handleError(h.status,_,n);m=u}o=l&&typeof Response<"u"&&h instanceof Response&&h.status===200}dispatchCallback(i.progress_callback,{status:"download",name:t,file:e});const E={status:"progress",name:t,file:e};let T;return i.progress_callback?w&&typeof navigator<"u"&&/firefox/i.test(navigator.userAgent)?(T=new Uint8Array(await h.arrayBuffer()),dispatchCallback(i.progress_callback,{...E,progress:100,loaded:T.length,total:T.length})):T=await readResponse(h,O=>{dispatchCallback(i.progress_callback,{...E,...O})}):T=new Uint8Array(await h.arrayBuffer()),o&&m&&await l.match(m)===void 0&&await l.put(m,new Response(T,{headers:h.headers})).catch(O=>{console.warn(`Unable to add response to browser cache: ${O}.`)}),dispatchCallback(i.progress_callback,{status:"done",name:t,file:e}),T}async function getModelJSON(t,e,n=!0,i={}){let l=await getModelFile(t,e,n,i);if(l===null)return{};let f=new TextDecoder("utf-8").decode(l);return JSON.parse(f)}async function readResponse(t,e){const n=t.headers.get("Content-Length");n===null&&console.warn("Unable to determine content-length from response headers. Will expand buffer when needed.");let i=parseInt(n??"0"),l=new Uint8Array(i),d=0;const f=t.body.getReader();async function b(){const{done:_,value:v}=await f.read();if(_)return;let m=d+v.length;if(m>i){i=m;let o=new Uint8Array(i);o.set(l),l=o}l.set(v,d),d=m;const u=d/i*100;return e({progress:u,loaded:d,total:i}),b()}return await b(),l}function pathJoin(...t){return t=t.map((e,n)=>(n&&(e=e.replace(new RegExp("^/"),"")),n!==t.length-1&&(e=e.replace(new RegExp("/$"),"")),e)),t.join("/")}function interpolate_data(t,[e,n,i],[l,d],f="bilinear",b=!1){const _=d/i,v=l/n,m=new t.constructor(l*d*e),u=n*i,o=l*d;for(let h=0;h<l;++h)for(let w=0;w<d;++w){const E=h*d+w,T=(w+.5)/_-.5,O=(h+.5)/v-.5;let M=Math.floor(T),I=Math.floor(O);const R=Math.min(M+1,i-1),D=Math.min(I+1,n-1);M=Math.max(M,0),I=Math.max(I,0);const N=T-M,L=O-I,B=(1-N)*(1-L),$=N*(1-L),V=(1-N)*L,G=N*L,X=I*i,ee=D*i,Q=X+M,Y=X+R,U=ee+M,q=ee+R;for(let le=0;le<e;++le){const ie=le*u;m[le*o+E]=B*t[ie+Q]+$*t[ie+Y]+V*t[ie+U]+G*t[ie+q]}}return m}function permute_data(t,e,n){const i=new Array(n.length),l=new Array(n.length);for(let b=n.length-1,_=1;b>=0;--b)l[b]=_,i[b]=e[n[b]],_*=i[b];const d=n.map((b,_)=>l[n.indexOf(_)]),f=new t.constructor(t.length);for(let b=0;b<t.length;++b){let _=0;for(let v=e.length-1,m=b;v>=0;--v)_+=m%e[v]*d[v],m=Math.floor(m/e[v]);f[_]=t[b]}return[f,i]}function softmax(t){const e=max$1(t)[0],n=t.map(d=>Math.exp(d-e)),i=n.reduce((d,f)=>d+f,0);return n.map(d=>d/i)}function log_softmax(t){return softmax(t).map(i=>Math.log(i))}function dot(t,e){let n=0;for(let i=0;i<t.length;++i)n+=t[i]*e[i];return n}function getTopItems(t,e=0){return t=Array.from(t).map((n,i)=>[i,n]).sort((n,i)=>i[1]-n[1]),e!==null&&e>0&&(t=t.slice(0,e)),t}function cos_sim(t,e){const n=dot(t,e),i=magnitude(t),l=magnitude(e);return n/(i*l)}function magnitude(t){return Math.sqrt(t.reduce((e,n)=>e+n*n,0))}function min$1(t){if(t.length===0)throw Error("Array must not be empty");let e=t[0],n=0;for(let i=1;i<t.length;++i)t[i]<e&&(e=t[i],n=i);return[e,n]}function max$1(t){if(t.length===0)throw Error("Array must not be empty");let e=t[0],n=0;for(let i=1;i<t.length;++i)t[i]>e&&(e=t[i],n=i);return[Number(e),n]}function isPowerOfTwo(t){return t>0&&(t&t-1)===0}class P2FFT{constructor(e){if(this.size=e|0,this.size<=1||!isPowerOfTwo(this.size))throw new Error("FFT size must be a power of two larger than 1");this._csize=e<<1,this.table=new Float64Array(this.size*2);for(let i=0;i<this.table.length;i+=2){const l=Math.PI*i/this.size;this.table[i]=Math.cos(l),this.table[i+1]=-Math.sin(l)}let n=0;for(let i=1;this.size>i;i<<=1)++n;this._width=n%2===0?n-1:n,this._bitrev=new Int32Array(1<<this._width);for(let i=0;i<this._bitrev.length;++i){this._bitrev[i]=0;for(let l=0;l<this._width;l+=2){const d=this._width-l-2;this._bitrev[i]|=(i>>>l&3)<<d}}}createComplexArray(){return new Float64Array(this._csize)}fromComplexArray(e,n){const i=n||new Array(e.length>>>1);for(let l=0;l<e.length;l+=2)i[l>>>1]=e[l];return i}toComplexArray(e,n){const i=n||this.createComplexArray();for(let l=0;l<i.length;l+=2)i[l]=e[l>>>1],i[l+1]=0;return i}transform(e,n){if(e===n)throw new Error("Input and output buffers must be different");this._transform4(e,n,1)}realTransform(e,n){if(e===n)throw new Error("Input and output buffers must be different");this._realTransform4(e,n,1)}inverseTransform(e,n){if(e===n)throw new Error("Input and output buffers must be different");this._transform4(e,n,-1);for(let i=0;i<e.length;++i)e[i]/=this.size}_transform4(e,n,i){const l=this._csize;let f=1<<this._width,b=l/f<<1,_,v;const m=this._bitrev;if(b===4)for(_=0,v=0;_<l;_+=b,++v){const o=m[v];this._singleTransform2(n,e,_,o,f)}else for(_=0,v=0;_<l;_+=b,++v){const o=m[v];this._singleTransform4(n,e,_,o,f,i)}const u=this.table;for(f>>=2;f>=2;f>>=2){b=l/f<<1;const o=b>>>2;for(_=0;_<l;_+=b){const h=_+o-1;for(let w=_,E=0;w<h;w+=2,E+=f){const T=w,O=T+o,M=O+o,I=M+o,R=e[T],D=e[T+1],N=e[O],L=e[O+1],B=e[M],$=e[M+1],V=e[I],G=e[I+1],X=u[E],ee=i*u[E+1],Q=N*X-L*ee,Y=N*ee+L*X,U=u[2*E],q=i*u[2*E+1],le=B*U-$*q,ie=B*q+$*U,Ee=u[3*E],Z=i*u[3*E+1],ue=V*Ee-G*Z,Ae=V*Z+G*Ee,Ce=R+le,ke=D+ie,Ne=R-le,Le=D-ie,Pe=Q+ue,de=Y+Ae,De=i*(Q-ue),$e=i*(Y-Ae);e[T]=Ce+Pe,e[T+1]=ke+de,e[O]=Ne+$e,e[O+1]=Le-De,e[M]=Ce-Pe,e[M+1]=ke-de,e[I]=Ne-$e,e[I+1]=Le+De}}}}_singleTransform2(e,n,i,l,d){const f=e[l],b=e[l+1],_=e[l+d],v=e[l+d+1];n[i]=f+_,n[i+1]=b+v,n[i+2]=f-_,n[i+3]=b-v}_singleTransform4(e,n,i,l,d,f){const b=d*2,_=d*3,v=e[l],m=e[l+1],u=e[l+d],o=e[l+d+1],h=e[l+b],w=e[l+b+1],E=e[l+_],T=e[l+_+1],O=v+h,M=m+w,I=v-h,R=m-w,D=u+E,N=o+T,L=f*(u-E),B=f*(o-T);n[i]=O+D,n[i+1]=M+N,n[i+2]=I+B,n[i+3]=R-L,n[i+4]=O-D,n[i+5]=M-N,n[i+6]=I-B,n[i+7]=R+L}_realTransform4(e,n,i){const l=this._csize;let f=1<<this._width,b=l/f<<1,_,v;const m=this._bitrev;if(b===4)for(_=0,v=0;_<l;_+=b,++v){const h=m[v];this._singleRealTransform2(n,e,_,h>>>1,f>>>1)}else for(_=0,v=0;_<l;_+=b,++v){const h=m[v];this._singleRealTransform4(n,e,_,h>>>1,f>>>1,i)}const u=this.table;for(f>>=2;f>=2;f>>=2){b=l/f<<1;const h=b>>>1,w=h>>>1,E=w>>>1;for(_=0;_<l;_+=b)for(let T=0,O=0;T<=E;T+=2,O+=f){const M=_+T,I=M+w,R=I+w,D=R+w,N=e[M],L=e[M+1],B=e[I],$=e[I+1],V=e[R],G=e[R+1],X=e[D],ee=e[D+1],Q=N,Y=L,U=u[O],q=i*u[O+1],le=B*U-$*q,ie=B*q+$*U,Ee=u[2*O],Z=i*u[2*O+1],ue=V*Ee-G*Z,Ae=V*Z+G*Ee,Ce=u[3*O],ke=i*u[3*O+1],Ne=X*Ce-ee*ke,Le=X*ke+ee*Ce,Pe=Q+ue,de=Y+Ae,De=Q-ue,$e=Y-Ae,we=le+Ne,Qe=ie+Le,Fe=i*(le-Ne),at=i*(ie-Le);if(e[M]=Pe+we,e[M+1]=de+Qe,e[I]=De+at,e[I+1]=$e-Fe,T===0){e[R]=Pe-we,e[R+1]=de-Qe;continue}if(T===E)continue;const vt=_+w-T,kt=_+h-T;e[vt]=De-i*at,e[vt+1]=-$e-i*Fe,e[kt]=Pe-i*we,e[kt+1]=-de+i*Qe}}const o=l>>>1;for(let h=2;h<o;h+=2)e[l-h]=e[h],e[l-h+1]=-e[h+1]}_singleRealTransform2(e,n,i,l,d){const f=e[l],b=e[l+d];n[i]=f+b,n[i+1]=0,n[i+2]=f-b,n[i+3]=0}_singleRealTransform4(e,n,i,l,d,f){const b=d*2,_=d*3,v=e[l],m=e[l+d],u=e[l+b],o=e[l+_],h=v+u,w=v-u,E=m+o,T=f*(m-o);n[i]=h+E,n[i+1]=0,n[i+2]=w,n[i+3]=-T,n[i+4]=h-E,n[i+5]=0,n[i+6]=w,n[i+7]=T}}class NP2FFT{constructor(e){const n=2*(e-1),i=2*(2*e-1),l=2**Math.ceil(Math.log2(i));this.bufferSize=l,this._a=n;const d=new Float64Array(i),f=new Float64Array(l);this._chirpBuffer=new Float64Array(l),this._buffer1=new Float64Array(l),this._buffer2=new Float64Array(l),this._outBuffer1=new Float64Array(l),this._outBuffer2=new Float64Array(l);const b=-2*Math.PI/e,_=Math.cos(b),v=Math.sin(b);for(let m=0;m<i>>1;++m){const u=(m+1-e)**2/2,o=Math.sqrt(_**2+v**2)**u,h=u*Math.atan2(v,_),w=2*m;d[w]=o*Math.cos(h),d[w+1]=o*Math.sin(h),f[w]=d[w],f[w+1]=-d[w+1]}this._slicedChirpBuffer=d.subarray(n,i),this._f=new P2FFT(l>>1),this._f.transform(this._chirpBuffer,f)}_transform(e,n,i){const l=this._buffer1,d=this._buffer2,f=this._outBuffer1,b=this._outBuffer2,_=this._chirpBuffer,v=this._slicedChirpBuffer,m=this._a;if(i)for(let u=0;u<v.length;u+=2){const o=u+1,h=u>>1,w=n[h];l[u]=w*v[u],l[o]=w*v[o]}else for(let u=0;u<v.length;u+=2){const o=u+1;l[u]=n[u]*v[u]-n[o]*v[o],l[o]=n[u]*v[o]+n[o]*v[u]}this._f.transform(f,l);for(let u=0;u<_.length;u+=2){const o=u+1;d[u]=f[u]*_[u]-f[o]*_[o],d[o]=f[u]*_[o]+f[o]*_[u]}this._f.inverseTransform(b,d);for(let u=0;u<b.length;u+=2){const o=b[u+m],h=b[u+m+1],w=v[u],E=v[u+1];e[u]=o*w-h*E,e[u+1]=o*E+h*w}}transform(e,n){this._transform(e,n,!1)}realTransform(e,n){this._transform(e,n,!0)}}class FFT{constructor(e){this.fft_length=e,this.isPowerOfTwo=isPowerOfTwo(e),this.isPowerOfTwo?(this.fft=new P2FFT(e),this.outputBufferSize=2*e):(this.fft=new NP2FFT(e),this.outputBufferSize=this.fft.bufferSize)}realTransform(e,n){this.fft.realTransform(e,n)}transform(e,n){this.fft.transform(e,n)}}function medianFilter(t,e){if(e%2===0||e<=0)throw new Error("Window size must be a positive odd number");const n=new t.constructor(t.length),i=new t.constructor(e),l=Math.floor(e/2);for(let d=0;d<t.length;++d){let f=0;for(let b=-l;b<=l;++b){let _=d+b;_<0?_=Math.abs(_):_>=t.length&&(_=2*(t.length-1)-_),i[f++]=t[_]}i.sort(),n[d]=i[l]}return n}function round$1(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function bankers_round(t){const e=Math.round(t);return Math.abs(t)%1===.5?e%2===0?e:e-1:e}const DataTypeMap=Object.freeze({float32:Float32Array,float64:Float64Array,string:Array,int8:Int8Array,uint8:Uint8Array,int16:Int16Array,uint16:Uint16Array,int32:Int32Array,uint32:Uint32Array,int64:BigInt64Array,uint64:BigUint64Array,bool:Uint8Array}),ONNXTensor$1=ONNX.Tensor;class Tensor{constructor(...e){Ie(this,"dims");Ie(this,"type");Ie(this,"data");Ie(this,"size");return e[0]instanceof ONNXTensor$1?Object.assign(this,e[0]):Object.assign(this,new ONNXTensor$1(e[0],e[1],e[2])),new Proxy(this,{get:(n,i)=>{if(typeof i=="string"){let l=Number(i);if(Number.isInteger(l))return n._getitem(l)}return n[i]},set:(n,i,l)=>n[i]=l})}*[Symbol.iterator](){const[e,...n]=this.dims;if(n.length>0){const i=n.reduce((l,d)=>l*d);for(let l=0;l<e;++l)yield this._subarray(l,i,n)}else yield*this.data}_getitem(e){const[n,...i]=this.dims;if(e=safeIndex(e,n),i.length>0){const l=i.reduce((d,f)=>d*f);return this._subarray(e,l,i)}else return new Tensor(this.type,[this.data[e]],i)}indexOf(e){for(let n=0;n<this.data.length;++n)if(this.data[n]==e)return n;return-1}_subarray(e,n,i){const l=e*n,d=(e+1)*n,f="subarray"in this.data?this.data.subarray(l,d):this.data.slice(l,d);return new Tensor(this.type,f,i)}item(){if(this.data.length!==1)throw new Error(`a Tensor with ${this.data.length} elements cannot be converted to Scalar`);return this.data[0]}tolist(){return reshape(this.data,this.dims)}sigmoid(){return this.clone().sigmoid_()}sigmoid_(){for(let e=0;e<this.data.length;++e)this.data[e]=1/(1+Math.exp(-this.data[e]));return this}mul(e){return this.clone().mul_(e)}mul_(e){for(let n=0;n<this.data.length;++n)this.data[n]*=e;return this}add(e){return this.clone().add_(e)}add_(e){for(let n=0;n<this.data.length;++n)this.data[n]+=e;return this}clone(){return new Tensor(this.type,this.data.slice(),this.dims.slice())}slice(...e){let n=[],i=[];for(let _=0;_<this.dims.length;++_){let v=e[_];if(v==null)i.push([0,this.dims[_]]),n.push(this.dims[_]);else if(typeof v=="number")v=safeIndex(v,this.dims[_],_),i.push([v,v+1]);else if(Array.isArray(v)&&v.length===2){if(v[0]>v[1])throw new Error(`Invalid slice: ${v}`);let m=[Math.max(v[0],0),Math.min(v[1],this.dims[_])];i.push(m),n.push(m[1]-m[0])}else throw new Error(`Invalid slice: ${v}`)}let l=i.map(([_,v])=>v-_),d=l.reduce((_,v)=>_*v),f=new this.data.constructor(d);const b=this.stride();for(let _=0;_<d;++_){let v=0;for(let m=l.length-1,u=_;m>=0;--m){const o=l[m];v+=(u%o+i[m][0])*b[m],u=Math.floor(u/o)}f[_]=this.data[v]}return new Tensor(this.type,f,n)}permute(...e){return permute(this,e)}transpose(...e){return this.permute(...e)}sum(e=null,n=!1){return this.norm(1,e,n)}norm(e="fro",n=null,i=!1){if(e==="fro")e=2;else if(typeof e=="string")throw Error(`Unsupported norm: ${e}`);if(n===null){let f=this.data.reduce((b,_)=>b+_**e,0)**(1/e);return new Tensor(this.type,[f],[])}n=safeIndex(n,this.dims.length);const l=this.dims.slice();l[n]=1;const d=new this.data.constructor(this.data.length/this.dims[n]);for(let f=0;f<this.data.length;++f){let b=0;for(let _=this.dims.length-1,v=f,m=1;_>=0;--_){const u=this.dims[_];if(_!==n){const o=v%u;b+=o*m,m*=l[_]}v=Math.floor(v/u)}d[b]+=this.data[f]**e}if(e!==1)for(let f=0;f<d.length;++f)d[f]=d[f]**(1/e);return i||l.splice(n,1),new Tensor(this.type,d,l)}normalize_(e=2,n=1){n=safeIndex(n,this.dims.length);const i=this.norm(e,n,!0);for(let l=0;l<this.data.length;++l){let d=0;for(let f=this.dims.length-1,b=l,_=1;f>=0;--f){const v=this.dims[f];if(f!==n){const m=b%v;d+=m*_,_*=this.dims[f]}b=Math.floor(b/v)}this.data[l]/=i.data[d]}return this}normalize(e=2,n=1){return this.clone().normalize_(e,n)}stride(){return dimsToStride(this.dims)}squeeze(e=null){return new Tensor(this.type,this.data,calc_squeeze_dims(this.dims,e))}squeeze_(e=null){return this.dims=calc_squeeze_dims(this.dims,e),this}unsqueeze(e=null){return new Tensor(this.type,this.data,calc_unsqueeze_dims(this.dims,e))}unsqueeze_(e=null){return this.dims=calc_unsqueeze_dims(this.dims,e),this}flatten_(e=0,n=-1){n=(n+this.dims.length)%this.dims.length;let i=this.dims.slice(0,e),l=this.dims.slice(e,n+1),d=this.dims.slice(n+1);return this.dims=[...i,l.reduce((f,b)=>f*b,1),...d],this}flatten(e=0,n=-1){return this.clone().flatten_(e,n)}view(...e){let n=-1;for(let i=0;i<e.length;++i)if(e[i]===-1){if(n!==-1)throw new Error("Only one dimension can be inferred");n=i}if(n!==-1){const i=e.reduce((l,d,f)=>f!==n?l*d:l,1);e[n]=this.data.length/i}return new Tensor(this.type,this.data,e)}neg_(){for(let e=0;e<this.data.length;++e)this.data[e]=-this.data[e];return this}neg(){return this.clone().neg_()}clamp_(e,n){for(let i=0;i<this.data.length;++i)this.data[i]=Math.min(Math.max(this.data[i],e),n);return this}clamp(e,n){return this.clone().clamp_(e,n)}round_(){for(let e=0;e<this.data.length;++e)this.data[e]=Math.round(this.data[e]);return this}round(){return this.clone().round_()}to(e){if(this.type===e)return this;if(!DataTypeMap.hasOwnProperty(e))throw new Error(`Unsupported type: ${e}`);return new Tensor(e,DataTypeMap[e].from(this.data),this.dims)}}function reshape(t,e){const n=t.length,i=e.reduce((d,f)=>d*f);if(n!==i)throw Error(`cannot reshape array of size ${n} into shape (${e})`);let l=t;for(let d=e.length-1;d>=0;d--)l=l.reduce((f,b)=>{let _=f[f.length-1];return _.length<e[d]?_.push(b):f.push([b]),f},[[]]);return l[0]}function permute(t,e){const[n,i]=permute_data(t.data,t.dims,e);return new Tensor(t.type,n,i)}function interpolate$2(t,[e,n],i="bilinear",l=!1){const d=t.dims.at(-3)??1,f=t.dims.at(-2),b=t.dims.at(-1);let _=interpolate_data(t.data,[d,f,b],[e,n],i,l);return new Tensor(t.type,_,[d,e,n])}function mean_pooling(t,e){let n=[t.dims[0],t.dims[2]],i=new t.data.constructor(n[0]*n[1]),[l,d,f]=t.dims,b=0;for(let _=0;_<l;++_){let v=_*f*d;for(let m=0;m<f;++m){let u=0,o=0,h=_*d,w=v+m;for(let T=0;T<d;++T){let O=Number(e.data[h+T]);o+=O,u+=t.data[w+T*f]*O}let E=u/o;i[b++]=E}}return new Tensor(t.type,i,n)}function layer_norm(t,e,{eps:n=1e-5}={}){if(t.dims.length!==2)throw new Error("`layer_norm` currently only supports 2D input.");const[i,l]=t.dims;if(e.length!==1&&e[0]!==l)throw new Error("`normalized_shape` must be a 1D array with shape `[input.dims[1]]`.");const[d,f]=std_mean(t,1,0,!0),b=new t.data.constructor(t.data.length);for(let _=0;_<i;++_){const v=_*l;for(let m=0;m<l;++m){const u=v+m;b[u]=(t.data[u]-f.data[_])/(d.data[_]+n)}}return new Tensor(t.type,b,t.dims)}function calc_squeeze_dims(t,e){return t=t.slice(),e===null?t=t.filter(n=>n!==1):typeof e=="number"?t[e]===1&&t.splice(e,1):Array.isArray(e)&&(t=t.filter((n,i)=>n!==1||!e.includes(i))),t}function calc_unsqueeze_dims(t,e){return e=safeIndex(e,t.length+1),t=t.slice(),t.splice(e,0,1),t}function safeIndex(t,e,n=null){if(t<-e||t>=e)throw new Error(`IndexError: index ${t} is out of bounds for dimension${n===null?"":" "+n} with size ${e}`);return t<0&&(t=(t%e+e)%e),t}function cat(t,e=0){e=safeIndex(e,t[0].dims.length);const n=t[0].dims.slice();n[e]=t.reduce((f,b)=>f+b.dims[e],0);const i=n.reduce((f,b)=>f*b,1),l=new t[0].data.constructor(i),d=t[0].type;if(e===0){let f=0;for(let b of t)l.set(b.data,f),f+=b.data.length}else{let f=0;for(let b=0;b<t.length;++b){let _=t[b];for(let v=0;v<_.data.length;++v){let m=0;for(let u=_.dims.length-1,o=v,h=1;u>=0;--u){const w=_.dims[u];let E=o%w;u===e&&(E+=f),m+=E*h,h*=n[u],o=Math.floor(o/w)}l[m]=_.data[v]}f+=_.dims[e]}}return new Tensor(d,l,n)}function stack(t,e=0){return cat(t.map(n=>n.unsqueeze(e)),e)}function std_mean(t,e=null,n=1,i=!1){if(e===null){const v=t.data.reduce((h,w)=>h+w,0)/t.data.length,m=Math.sqrt(t.data.reduce((h,w)=>h+(w-v)**2,0)/(t.data.length-n)),u=new Tensor(t.type,[v],[]);return[new Tensor(t.type,[m],[]),u]}e=safeIndex(e,t.dims.length);const l=mean(t,e,i),d=t.dims.slice();d[e]=1;const f=new t.data.constructor(t.data.length/t.dims[e]);for(let _=0;_<t.data.length;++_){let v=0;for(let m=t.dims.length-1,u=_,o=1;m>=0;--m){const h=t.dims[m];if(m!==e){const w=u%h;v+=w*o,o*=d[m]}u=Math.floor(u/h)}f[v]+=(t.data[_]-l.data[v])**2}for(let _=0;_<f.length;++_)f[_]=Math.sqrt(f[_]/(t.dims[e]-n));return i||d.splice(e,1),[new Tensor(t.type,f,d),l]}function mean(t,e=null,n=!1){if(e===null){let d=t.data.reduce((f,b)=>f+b,0);return new Tensor(t.type,[d/t.data.length],[])}e=safeIndex(e,t.dims.length);const i=t.dims.slice();i[e]=1;const l=new t.data.constructor(t.data.length/t.dims[e]);for(let d=0;d<t.data.length;++d){let f=0;for(let b=t.dims.length-1,_=d,v=1;b>=0;--b){const m=t.dims[b];if(b!==e){const u=_%m;f+=u*v,v*=i[b]}_=Math.floor(_/m)}l[f]+=t.data[d]}if(t.dims[e]!==1)for(let d=0;d<l.length;++d)l[d]=l[d]/t.dims[e];return n||i.splice(e,1),new Tensor(t.type,l,i)}function dynamicTimeWarping(t){const[e,n]=t.dims,i=[e+1,n+1],l=new Tensor("float32",new Float32Array(i[0]*i[1]).fill(1/0),i),d=new Tensor("float32",new Float32Array(i[0]*i[1]).fill(-1),i);l[0].data[0]=0;for(let m=1;m<n+1;++m)for(let u=1;u<e+1;++u){const o=l[u-1][m-1].item(),h=l[u-1][m].item(),w=l[u][m-1].item();let E,T;o<h&&o<w?(E=o,T=0):h<o&&h<w?(E=h,T=1):(E=w,T=2),l[u].data[m]=t[u-1][m-1].item()+E,d[u].data[m]=T}let f=e,b=n;d.data.fill(2,0,i[1]);for(let m=0;m<i[0];++m)d[m].data[0]=1;let _=[],v=[];for(;f>0||b>0;)switch(_.push(f-1),v.push(b-1),d[f][b].item()){case 0:--f,--b;break;case 1:--f;break;case 2:--b;break;default:throw new Error(`Internal error in dynamic time warping. Unexpected trace[${f}, ${b}]. Please file a bug report.`)}return _.reverse(),v.reverse(),[_,v]}function dimsToStride(t){const e=new Array(t.length);for(let n=t.length-1,i=1;n>=0;--n)e[n]=i,i*=t[n];return e}function ones(t){const e=t.reduce((n,i)=>n*i,1);return new Tensor("int64",new BigInt64Array(e).fill(1n),t)}function ones_like(t){return ones(t.dims)}function quantize_embeddings(t,e){if(t.dims.length!==2)throw new Error("The tensor must have 2 dimensions");if(t.dims.at(-1)%8!==0)throw new Error("The last dimension of the tensor must be a multiple of 8");if(!["binary","ubinary"].includes(e))throw new Error("The precision must be either 'binary' or 'ubinary'");const n=e==="binary",i=n?"int8":"uint8",l=n?Int8Array:Uint8Array,d=t.data,f=new l(d.length/8);for(let b=0;b<d.length;++b){const _=d[b]>0?1:0,v=Math.floor(b/8),m=b%8;f[v]|=_<<7-m,n&&m===0&&(f[v]-=128)}return new Tensor(i,f,[t.dims[0],t.dims[1]/8])}class PriorityQueue{constructor(e=(n,i)=>n>i){this._heap=[],this._comparator=e}get size(){return this._heap.length}isEmpty(){return this.size===0}peek(){return this._heap[0]}push(...e){return this.extend(e)}extend(e){for(const n of e)this._heap.push(n),this._siftUp();return this.size}pop(){const e=this.peek(),n=this.size-1;return n>0&&this._swap(0,n),this._heap.pop(),this._siftDown(),e}replace(e){const n=this.peek();return this._heap[0]=e,this._siftDown(),n}_parent(e){return(e+1>>>1)-1}_left(e){return(e<<1)+1}_right(e){return e+1<<1}_greater(e,n){return this._comparator(this._heap[e],this._heap[n])}_swap(e,n){const i=this._heap[e];this._heap[e]=this._heap[n],this._heap[n]=i}_siftUp(){let e=this.size-1;for(;e>0&&this._greater(e,this._parent(e));)this._swap(e,this._parent(e)),e=this._parent(e)}_siftDown(){let e=0;for(;this._left(e)<this.size&&this._greater(this._left(e),e)||this._right(e)<this.size&&this._greater(this._right(e),e);){const n=this._right(e)<this.size&&this._greater(this._right(e),this._left(e))?this._right(e):this._left(e);this._swap(e,n),e=n}}}class CharTrie{constructor(){this.root=CharTrieNode.default()}extend(e){for(let n of e)this.push(n)}push(e){let n=this.root;for(let i of e){let l=n.children.get(i);l===void 0&&(l=CharTrieNode.default(),n.children.set(i,l)),n=l}n.isLeaf=!0}*commonPrefixSearch(e){let n=this.root,i="";for(let l=0;l<e.length&&n!==void 0;++l){const d=e[l];i+=d,n=n.children.get(d),n!==void 0&&n.isLeaf&&(yield i)}}}class CharTrieNode{constructor(e,n){this.isLeaf=e,this.children=n}static default(){return new CharTrieNode(!1,new Map)}}class TokenLattice{constructor(e,n,i){this.sentence=e,this.len=e.length,this.bosTokenId=n,this.eosTokenId=i,this.nodes=[],this.beginNodes=Array.from({length:this.len+1},()=>[]),this.endNodes=Array.from({length:this.len+1},()=>[]);const l=new TokenLatticeNode(this.bosTokenId,0,0,0,0),d=new TokenLatticeNode(this.eosTokenId,1,this.len,0,0);this.nodes.push(l.clone()),this.nodes.push(d.clone()),this.beginNodes[this.len].push(d),this.endNodes[0].push(l)}insert(e,n,i,l){const d=this.nodes.length,f=new TokenLatticeNode(l,d,e,n,i);this.beginNodes[e].push(f),this.endNodes[e+n].push(f),this.nodes.push(f)}viterbi(){const e=this.len;let n=0;for(;n<=e;){if(this.beginNodes[n].length==0)return[];for(let b of this.beginNodes[n]){b.prev=null;let _=0,v=null;for(let m of this.endNodes[n]){const u=m.backtraceScore+b.score;(v===null||u>_)&&(v=m.clone(),_=u)}if(v!==null)b.prev=v,b.backtraceScore=_;else return[]}++n}const i=[],d=this.beginNodes[e][0].prev;if(d===null)return[];let f=d.clone();for(;f.prev!==null;)i.push(f.clone()),f=f.clone().prev.clone();return i.reverse(),i}piece(e){return this.sentence.slice(e.pos,e.pos+e.length)}tokens(){return this.viterbi().map(n=>this.piece(n))}tokenIds(){return this.viterbi().map(n=>n.tokenId)}}class TokenLatticeNode{constructor(e,n,i,l,d){this.tokenId=e,this.nodeId=n,this.pos=i,this.length=l,this.score=d,this.prev=null,this.backtraceScore=0}clone(){const e=new TokenLatticeNode(this.tokenId,this.nodeId,this.pos,this.length,this.score);return e.prev=this.prev,e.backtraceScore=this.backtraceScore,e}}var TOKEN_TYPES=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",BooleanLiteral:"BooleanLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Set:"Set",If:"If",For:"For",In:"In",Is:"Is",NotIn:"NotIn",Else:"Else",EndIf:"EndIf",ElseIf:"ElseIf",EndFor:"EndFor",And:"And",Or:"Or",Not:"UnaryOperator"}),KEYWORDS=Object.freeze({set:TOKEN_TYPES.Set,for:TOKEN_TYPES.For,in:TOKEN_TYPES.In,is:TOKEN_TYPES.Is,if:TOKEN_TYPES.If,else:TOKEN_TYPES.Else,endif:TOKEN_TYPES.EndIf,elif:TOKEN_TYPES.ElseIf,endfor:TOKEN_TYPES.EndFor,and:TOKEN_TYPES.And,or:TOKEN_TYPES.Or,not:TOKEN_TYPES.Not,"not in":TOKEN_TYPES.NotIn,true:TOKEN_TYPES.BooleanLiteral,false:TOKEN_TYPES.BooleanLiteral}),Token=class{constructor(t,e){this.value=t,this.type=e}};function isWord(t){return/\w/.test(t)}function isInteger(t){return/[0-9]/.test(t)}var ORDERED_MAPPING_TABLE=[["{%",TOKEN_TYPES.OpenStatement],["%}",TOKEN_TYPES.CloseStatement],["{{",TOKEN_TYPES.OpenExpression],["}}",TOKEN_TYPES.CloseExpression],["(",TOKEN_TYPES.OpenParen],[")",TOKEN_TYPES.CloseParen],["{",TOKEN_TYPES.OpenCurlyBracket],["}",TOKEN_TYPES.CloseCurlyBracket],["[",TOKEN_TYPES.OpenSquareBracket],["]",TOKEN_TYPES.CloseSquareBracket],[",",TOKEN_TYPES.Comma],[".",TOKEN_TYPES.Dot],[":",TOKEN_TYPES.Colon],["|",TOKEN_TYPES.Pipe],["<=",TOKEN_TYPES.ComparisonBinaryOperator],[">=",TOKEN_TYPES.ComparisonBinaryOperator],["==",TOKEN_TYPES.ComparisonBinaryOperator],["!=",TOKEN_TYPES.ComparisonBinaryOperator],["<",TOKEN_TYPES.ComparisonBinaryOperator],[">",TOKEN_TYPES.ComparisonBinaryOperator],["+",TOKEN_TYPES.AdditiveBinaryOperator],["-",TOKEN_TYPES.AdditiveBinaryOperator],["*",TOKEN_TYPES.MultiplicativeBinaryOperator],["/",TOKEN_TYPES.MultiplicativeBinaryOperator],["%",TOKEN_TYPES.MultiplicativeBinaryOperator],["=",TOKEN_TYPES.Equals]],ESCAPE_CHARACTERS=new Map([["n",`
`],["t","	"],["r","\r"],["b","\b"],["f","\f"],["v","\v"],["'","'"],['"','"'],["\\","\\"]]);function preprocess(t,e={}){return t.endsWith(`
`)&&(t=t.slice(0,-1)),t=t.replace(/{#.*?#}/gs,"{##}"),e.lstrip_blocks&&(t=t.replace(/^[ \t]*({[#%])/gm,"$1")),e.trim_blocks&&(t=t.replace(/([#%]})\n/g,"$1")),t.replace(/{##}/g,"").replace(/-%}\s*/g,"%}").replace(/\s*{%-/g,"{%").replace(/-}}\s*/g,"}}").replace(/\s*{{-/g,"{{")}function tokenize(t,e={}){var f,b,_;const n=[],i=preprocess(t,e);let l=0;const d=v=>{let m="";for(;v(i[l]);){if(i[l]==="\\"){if(++l,l>=i.length)throw new SyntaxError("Unexpected end of input");const u=i[l++],o=ESCAPE_CHARACTERS.get(u);if(o===void 0)throw new SyntaxError(`Unexpected escaped character: ${u}`);m+=o;continue}if(m+=i[l++],l>=i.length)throw new SyntaxError("Unexpected end of input")}return m};e:for(;l<i.length;){const v=(f=n.at(-1))==null?void 0:f.type;if(v===void 0||v===TOKEN_TYPES.CloseStatement||v===TOKEN_TYPES.CloseExpression){let u="";for(;l<i.length&&!(i[l]==="{"&&(i[l+1]==="%"||i[l+1]==="{"));)u+=i[l++];if(u.length>0){n.push(new Token(u,TOKEN_TYPES.Text));continue}}d(u=>/\s/.test(u));const m=i[l];if(m==="-"||m==="+"){const u=(b=n.at(-1))==null?void 0:b.type;if(u===TOKEN_TYPES.Text||u===void 0)throw new SyntaxError(`Unexpected character: ${m}`);switch(u){case TOKEN_TYPES.Identifier:case TOKEN_TYPES.NumericLiteral:case TOKEN_TYPES.BooleanLiteral:case TOKEN_TYPES.StringLiteral:case TOKEN_TYPES.CloseParen:case TOKEN_TYPES.CloseSquareBracket:break;default:{++l;const o=d(isInteger);n.push(new Token(`${m}${o}`,o.length>0?TOKEN_TYPES.NumericLiteral:TOKEN_TYPES.UnaryOperator));continue}}}for(const[u,o]of ORDERED_MAPPING_TABLE)if(i.slice(l,l+u.length)===u){n.push(new Token(u,o)),l+=u.length;continue e}if(m==="'"||m==='"'){++l;const u=d(o=>o!==m);n.push(new Token(u,TOKEN_TYPES.StringLiteral)),++l;continue}if(isInteger(m)){const u=d(isInteger);n.push(new Token(u,TOKEN_TYPES.NumericLiteral));continue}if(isWord(m)){const u=d(isWord),o=Object.hasOwn(KEYWORDS,u)?KEYWORDS[u]:TOKEN_TYPES.Identifier;o===TOKEN_TYPES.In&&((_=n.at(-1))==null?void 0:_.type)===TOKEN_TYPES.Not?(n.pop(),n.push(new Token("not in",TOKEN_TYPES.NotIn))):n.push(new Token(u,o));continue}throw new SyntaxError(`Unexpected character: ${m}`)}return n}var Statement=class{constructor(){Ie(this,"type","Statement")}},Program=class extends Statement{constructor(e){super();Ie(this,"type","Program");this.body=e}},If=class extends Statement{constructor(e,n,i){super();Ie(this,"type","If");this.test=e,this.body=n,this.alternate=i}},For=class extends Statement{constructor(e,n,i){super();Ie(this,"type","For");this.loopvar=e,this.iterable=n,this.body=i}},SetStatement=class extends Statement{constructor(e,n){super();Ie(this,"type","Set");this.assignee=e,this.value=n}},Expression=class extends Statement{constructor(){super(...arguments);Ie(this,"type","Expression")}},MemberExpression=class extends Expression{constructor(e,n,i){super();Ie(this,"type","MemberExpression");this.object=e,this.property=n,this.computed=i}},CallExpression=class extends Expression{constructor(e,n){super();Ie(this,"type","CallExpression");this.callee=e,this.args=n}},Identifier=class extends Expression{constructor(e){super();Ie(this,"type","Identifier");this.value=e}},Literal=class extends Expression{constructor(e){super();Ie(this,"type","Literal");this.value=e}},NumericLiteral=class extends Literal{constructor(){super(...arguments);Ie(this,"type","NumericLiteral")}},StringLiteral=class extends Literal{constructor(){super(...arguments);Ie(this,"type","StringLiteral")}},BooleanLiteral=class extends Literal{constructor(){super(...arguments);Ie(this,"type","BooleanLiteral")}},ArrayLiteral=class extends Literal{constructor(){super(...arguments);Ie(this,"type","ArrayLiteral")}},TupleLiteral=class extends Literal{constructor(){super(...arguments);Ie(this,"type","TupleLiteral")}},ObjectLiteral=class extends Literal{constructor(){super(...arguments);Ie(this,"type","ObjectLiteral")}},BinaryExpression=class extends Expression{constructor(e,n,i){super();Ie(this,"type","BinaryExpression");this.operator=e,this.left=n,this.right=i}},FilterExpression=class extends Expression{constructor(e,n){super();Ie(this,"type","FilterExpression");this.operand=e,this.filter=n}},TestExpression=class extends Expression{constructor(e,n,i){super();Ie(this,"type","TestExpression");this.operand=e,this.negate=n,this.test=i}},UnaryExpression=class extends Expression{constructor(e,n){super();Ie(this,"type","UnaryExpression");this.operator=e,this.argument=n}},SliceExpression=class extends Expression{constructor(e=void 0,n=void 0,i=void 0){super();Ie(this,"type","SliceExpression");this.start=e,this.stop=n,this.step=i}},KeywordArgumentExpression=class extends Expression{constructor(e,n){super();Ie(this,"type","KeywordArgumentExpression");this.key=e,this.value=n}};function parse(t){const e=new Program([]);let n=0;function i(Y,U){const q=t[n++];if(!q||q.type!==Y)throw new Error(`Parser Error: ${U}. ${q.type} !== ${Y}.`);return q}function l(){switch(t[n].type){case TOKEN_TYPES.Text:return b();case TOKEN_TYPES.OpenStatement:return _();case TOKEN_TYPES.OpenExpression:return v();default:throw new SyntaxError(`Unexpected token type: ${t[n].type}`)}}function d(...Y){return n+Y.length<=t.length&&Y.some((U,q)=>U!==t[n+q].type)}function f(...Y){return n+Y.length<=t.length&&Y.every((U,q)=>U===t[n+q].type)}function b(){return new StringLiteral(i(TOKEN_TYPES.Text,"Expected text token").value)}function _(){i(TOKEN_TYPES.OpenStatement,"Expected opening statement token");let Y;switch(t[n].type){case TOKEN_TYPES.Set:++n,Y=m(),i(TOKEN_TYPES.CloseStatement,"Expected closing statement token");break;case TOKEN_TYPES.If:++n,Y=u(),i(TOKEN_TYPES.OpenStatement,"Expected {% token"),i(TOKEN_TYPES.EndIf,"Expected endif token"),i(TOKEN_TYPES.CloseStatement,"Expected %} token");break;case TOKEN_TYPES.For:++n,Y=h(),i(TOKEN_TYPES.OpenStatement,"Expected {% token"),i(TOKEN_TYPES.EndFor,"Expected endfor token"),i(TOKEN_TYPES.CloseStatement,"Expected %} token");break;default:throw new SyntaxError(`Unknown statement type: ${t[n].type}`)}return Y}function v(){i(TOKEN_TYPES.OpenExpression,"Expected opening expression token");const Y=w();return i(TOKEN_TYPES.CloseExpression,"Expected closing expression token"),Y}function m(){const Y=w();if(f(TOKEN_TYPES.Equals)){++n;const U=m();return new SetStatement(Y,U)}return Y}function u(){var le,ie,Ee,Z,ue,Ae,Ce,ke;const Y=w();i(TOKEN_TYPES.CloseStatement,"Expected closing statement token");const U=[],q=[];for(;!(((le=t[n])==null?void 0:le.type)===TOKEN_TYPES.OpenStatement&&(((ie=t[n+1])==null?void 0:ie.type)===TOKEN_TYPES.ElseIf||((Ee=t[n+1])==null?void 0:Ee.type)===TOKEN_TYPES.Else||((Z=t[n+1])==null?void 0:Z.type)===TOKEN_TYPES.EndIf));)U.push(l());if(((ue=t[n])==null?void 0:ue.type)===TOKEN_TYPES.OpenStatement&&((Ae=t[n+1])==null?void 0:Ae.type)!==TOKEN_TYPES.EndIf)if(++n,f(TOKEN_TYPES.ElseIf))i(TOKEN_TYPES.ElseIf,"Expected elseif token"),q.push(u());else for(i(TOKEN_TYPES.Else,"Expected else token"),i(TOKEN_TYPES.CloseStatement,"Expected closing statement token");!(((Ce=t[n])==null?void 0:Ce.type)===TOKEN_TYPES.OpenStatement&&((ke=t[n+1])==null?void 0:ke.type)===TOKEN_TYPES.EndIf);)q.push(l());return new If(Y,U,q)}function o(Y=!1){const U=Y?Q:w,q=[U()],le=f(TOKEN_TYPES.Comma);for(;le&&(++n,q.push(U()),!!f(TOKEN_TYPES.Comma)););return le?new TupleLiteral(q):q[0]}function h(){const Y=o(!0);if(!(Y instanceof Identifier||Y instanceof TupleLiteral))throw new SyntaxError(`Expected identifier/tuple for the loop variable, got ${Y.type} instead`);i(TOKEN_TYPES.In,"Expected `in` keyword following loop variable");const U=w();i(TOKEN_TYPES.CloseStatement,"Expected closing statement token");const q=[];for(;d(TOKEN_TYPES.OpenStatement,TOKEN_TYPES.EndFor);)q.push(l());return new For(Y,U,q)}function w(){return E()}function E(){const Y=T();if(f(TOKEN_TYPES.If)){++n;const U=T();i(TOKEN_TYPES.Else,"Expected else token");const q=T();return new If(U,[Y],[q])}return Y}function T(){let Y=O();for(;f(TOKEN_TYPES.Or);){const U=t[n];++n;const q=O();Y=new BinaryExpression(U,Y,q)}return Y}function O(){let Y=M();for(;f(TOKEN_TYPES.And);){const U=t[n];++n;const q=M();Y=new BinaryExpression(U,Y,q)}return Y}function M(){let Y;for(;f(TOKEN_TYPES.Not);){const U=t[n];++n;const q=M();Y=new UnaryExpression(U,q)}return Y??I()}function I(){let Y=R();for(;f(TOKEN_TYPES.ComparisonBinaryOperator)||f(TOKEN_TYPES.In)||f(TOKEN_TYPES.NotIn);){const U=t[n];++n;const q=R();Y=new BinaryExpression(U,Y,q)}return Y}function R(){let Y=G();for(;f(TOKEN_TYPES.AdditiveBinaryOperator);){const U=t[n];++n;const q=G();Y=new BinaryExpression(U,Y,q)}return Y}function D(){const Y=V();return f(TOKEN_TYPES.OpenParen)?N(Y):Y}function N(Y){let U=new CallExpression(Y,L());return f(TOKEN_TYPES.OpenParen)&&(U=N(U)),U}function L(){i(TOKEN_TYPES.OpenParen,"Expected opening parenthesis for arguments list");const Y=B();return i(TOKEN_TYPES.CloseParen,"Expected closing parenthesis for arguments list"),Y}function B(){const Y=[];for(;!f(TOKEN_TYPES.CloseParen);){let U=w();if(f(TOKEN_TYPES.Equals)){if(++n,!(U instanceof Identifier))throw new SyntaxError("Expected identifier for keyword argument");const q=w();U=new KeywordArgumentExpression(U,q)}Y.push(U),f(TOKEN_TYPES.Comma)&&++n}return Y}function $(){const Y=[];let U=!1;for(;!f(TOKEN_TYPES.CloseSquareBracket);)f(TOKEN_TYPES.Colon)?(Y.push(void 0),++n,U=!0):(Y.push(w()),f(TOKEN_TYPES.Colon)&&(++n,U=!0));if(Y.length===0)throw new SyntaxError("Expected at least one argument for member/slice expression");if(U){if(Y.length>3)throw new SyntaxError("Expected 0-3 arguments for slice expression");return new SliceExpression(...Y)}return Y[0]}function V(){let Y=Q();for(;f(TOKEN_TYPES.Dot)||f(TOKEN_TYPES.OpenSquareBracket);){const U=t[n];++n;let q;const le=U.type!==TOKEN_TYPES.Dot;if(le)q=$(),i(TOKEN_TYPES.CloseSquareBracket,"Expected closing square bracket");else if(q=Q(),q.type!=="Identifier")throw new SyntaxError("Expected identifier following dot operator");Y=new MemberExpression(Y,q,le)}return Y}function G(){let Y=X();for(;f(TOKEN_TYPES.MultiplicativeBinaryOperator);){const U=t[n];++n;const q=X();Y=new BinaryExpression(U,Y,q)}return Y}function X(){let Y=ee();for(;f(TOKEN_TYPES.Is);){++n;const U=f(TOKEN_TYPES.Not);U&&++n;let q=Q();if(q instanceof BooleanLiteral&&(q=new Identifier(q.value.toString())),!(q instanceof Identifier))throw new SyntaxError("Expected identifier for the test");Y=new TestExpression(Y,U,q)}return Y}function ee(){let Y=D();for(;f(TOKEN_TYPES.Pipe);){++n;let U=Q();if(!(U instanceof Identifier))throw new SyntaxError("Expected identifier for the filter");f(TOKEN_TYPES.OpenParen)&&(U=N(U)),Y=new FilterExpression(Y,U)}return Y}function Q(){const Y=t[n];switch(Y.type){case TOKEN_TYPES.NumericLiteral:return++n,new NumericLiteral(Number(Y.value));case TOKEN_TYPES.StringLiteral:return++n,new StringLiteral(Y.value);case TOKEN_TYPES.BooleanLiteral:return++n,new BooleanLiteral(Y.value==="true");case TOKEN_TYPES.Identifier:return++n,new Identifier(Y.value);case TOKEN_TYPES.OpenParen:{++n;const U=o();if(t[n].type!==TOKEN_TYPES.CloseParen)throw new SyntaxError(`Expected closing parenthesis, got ${t[n].type} instead`);return++n,U}case TOKEN_TYPES.OpenSquareBracket:{++n;const U=[];for(;!f(TOKEN_TYPES.CloseSquareBracket);)U.push(w()),f(TOKEN_TYPES.Comma)&&++n;return++n,new ArrayLiteral(U)}case TOKEN_TYPES.OpenCurlyBracket:{++n;const U=new Map;for(;!f(TOKEN_TYPES.CloseCurlyBracket);){const q=w();i(TOKEN_TYPES.Colon,"Expected colon between key and value in object literal");const le=w();U.set(q,le),f(TOKEN_TYPES.Comma)&&++n}return++n,new ObjectLiteral(U)}default:throw new SyntaxError(`Unexpected token: ${Y.type}`)}}for(;n<t.length;)e.body.push(l());return e}function range$5(t,e,n=1){e===void 0&&(e=t,t=0);const i=[];for(let l=t;l<e;l+=n)i.push(l);return i}function slice(t,e,n,i=1){const l=Math.sign(i);l>=0?(e=(e??(e=0))<0?Math.max(t.length+e,0):Math.min(e,t.length),n=(n??(n=t.length))<0?Math.max(t.length+n,0):Math.min(n,t.length)):(e=(e??(e=t.length-1))<0?Math.max(t.length+e,-1):Math.min(e,t.length-1),n=(n??(n=-1))<-1?Math.max(t.length+n,-1):Math.min(n,t.length-1));const d=[];for(let f=e;l*f<l*n;f+=i)d.push(t[f]);return d}function titleCase(t){return t.replace(/\b\w/g,e=>e.toUpperCase())}var RuntimeValue=class{constructor(t=void 0){Ie(this,"type","RuntimeValue");Ie(this,"value");Ie(this,"builtins",new Map);this.value=t}__bool__(){return new BooleanValue(!!this.value)}},NumericValue=class extends RuntimeValue{constructor(){super(...arguments);Ie(this,"type","NumericValue")}},StringValue=class extends RuntimeValue{constructor(){super(...arguments);Ie(this,"type","StringValue");Ie(this,"builtins",new Map([["upper",new FunctionValue(()=>new StringValue(this.value.toUpperCase()))],["lower",new FunctionValue(()=>new StringValue(this.value.toLowerCase()))],["strip",new FunctionValue(()=>new StringValue(this.value.trim()))],["title",new FunctionValue(()=>new StringValue(titleCase(this.value)))],["length",new NumericValue(this.value.length)]]))}},BooleanValue=class extends RuntimeValue{constructor(){super(...arguments);Ie(this,"type","BooleanValue")}},ObjectValue=class extends RuntimeValue{constructor(){super(...arguments);Ie(this,"type","ObjectValue");Ie(this,"builtins",new Map([["get",new FunctionValue(([e,n])=>{if(!(e instanceof StringValue))throw new Error(`Object key must be a string: got ${e.type}`);return this.value.get(e.value)??n??new NullValue})],["items",new FunctionValue(()=>new ArrayValue(Array.from(this.value.entries()).map(([e,n])=>new ArrayValue([new StringValue(e),n]))))]]))}__bool__(){return new BooleanValue(this.value.size>0)}},ArrayValue=class extends RuntimeValue{constructor(){super(...arguments);Ie(this,"type","ArrayValue");Ie(this,"builtins",new Map([["length",new NumericValue(this.value.length)]]))}__bool__(){return new BooleanValue(this.value.length>0)}},TupleValue=class extends ArrayValue{constructor(){super(...arguments);Ie(this,"type","TupleValue")}},FunctionValue=class extends RuntimeValue{constructor(){super(...arguments);Ie(this,"type","FunctionValue")}},NullValue=class extends RuntimeValue{constructor(){super(...arguments);Ie(this,"type","NullValue")}},UndefinedValue=class extends RuntimeValue{constructor(){super(...arguments);Ie(this,"type","UndefinedValue")}},Environment=class{constructor(t){Ie(this,"variables",new Map([["namespace",new FunctionValue(t=>{if(t.length===0)return new ObjectValue(new Map);if(t.length!==1||!(t[0]instanceof ObjectValue))throw new Error("`namespace` expects either zero arguments or a single object argument");return t[0]})]]));Ie(this,"tests",new Map([["boolean",t=>t.type==="BooleanValue"],["callable",t=>t instanceof FunctionValue],["odd",t=>{if(t.type!=="NumericValue")throw new Error(`Cannot apply test "odd" to type: ${t.type}`);return t.value%2!==0}],["even",t=>{if(t.type!=="NumericValue")throw new Error(`Cannot apply test "even" to type: ${t.type}`);return t.value%2===0}],["false",t=>t.type==="BooleanValue"&&!t.value],["true",t=>t.type==="BooleanValue"&&t.value],["number",t=>t.type==="NumericValue"],["integer",t=>t.type==="NumericValue"&&Number.isInteger(t.value)],["iterable",t=>t instanceof ArrayValue||t instanceof StringValue],["lower",t=>{const e=t.value;return t.type==="StringValue"&&e===e.toLowerCase()}],["upper",t=>{const e=t.value;return t.type==="StringValue"&&e===e.toUpperCase()}],["none",t=>t.type==="NullValue"],["defined",t=>t.type!=="UndefinedValue"],["undefined",t=>t.type==="UndefinedValue"],["equalto",(t,e)=>t.value===e.value]]));this.parent=t}set(t,e){return this.declareVariable(t,convertToRuntimeValues(e))}declareVariable(t,e){if(this.variables.has(t))throw new SyntaxError(`Variable already declared: ${t}`);return this.variables.set(t,e),e}setVariable(t,e){return this.variables.set(t,e),e}resolve(t){if(this.variables.has(t))return this;if(this.parent)return this.parent.resolve(t);throw new Error(`Unknown variable: ${t}`)}lookupVariable(t){try{return this.resolve(t).variables.get(t)??new UndefinedValue}catch{return new UndefinedValue}}},Interpreter=class{constructor(t){Ie(this,"global");this.global=t??new Environment}run(t){return this.evaluate(t,this.global)}evaluateBinaryExpression(t,e){const n=this.evaluate(t.left,e);switch(t.operator.value){case"and":return n.__bool__().value?this.evaluate(t.right,e):n;case"or":return n.__bool__().value?n:this.evaluate(t.right,e)}const i=this.evaluate(t.right,e);switch(t.operator.value){case"==":return new BooleanValue(n.value==i.value);case"!=":return new BooleanValue(n.value!=i.value)}if(n instanceof UndefinedValue||i instanceof UndefinedValue)throw new Error("Cannot perform operation on undefined values");if(n instanceof NullValue||i instanceof NullValue)throw new Error("Cannot perform operation on null values");if(n instanceof NumericValue&&i instanceof NumericValue)switch(t.operator.value){case"+":return new NumericValue(n.value+i.value);case"-":return new NumericValue(n.value-i.value);case"*":return new NumericValue(n.value*i.value);case"/":return new NumericValue(n.value/i.value);case"%":return new NumericValue(n.value%i.value);case"<":return new BooleanValue(n.value<i.value);case">":return new BooleanValue(n.value>i.value);case">=":return new BooleanValue(n.value>=i.value);case"<=":return new BooleanValue(n.value<=i.value)}else if(n instanceof ArrayValue&&i instanceof ArrayValue)switch(t.operator.value){case"+":return new ArrayValue(n.value.concat(i.value))}else if(i instanceof ArrayValue){const l=i.value.find(d=>d.value===n.value)!==void 0;switch(t.operator.value){case"in":return new BooleanValue(l);case"not in":return new BooleanValue(!l)}}if(n instanceof StringValue||i instanceof StringValue)switch(t.operator.value){case"+":return new StringValue(n.value.toString()+i.value.toString())}if(n instanceof StringValue&&i instanceof StringValue)switch(t.operator.value){case"in":return new BooleanValue(i.value.includes(n.value));case"not in":return new BooleanValue(!i.value.includes(n.value))}if(n instanceof StringValue&&i instanceof ObjectValue)switch(t.operator.value){case"in":return new BooleanValue(i.value.has(n.value));case"not in":return new BooleanValue(!i.value.has(n.value))}throw new SyntaxError(`Unknown operator "${t.operator.value}" between ${n.type} and ${i.type}`)}evaluateFilterExpression(t,e){const n=this.evaluate(t.operand,e);if(t.filter.type==="Identifier"){const i=t.filter;if(n instanceof ArrayValue)switch(i.value){case"list":return n;case"first":return n.value[0];case"last":return n.value[n.value.length-1];case"length":return new NumericValue(n.value.length);case"reverse":return new ArrayValue(n.value.reverse());case"sort":return new ArrayValue(n.value.sort((l,d)=>{if(l.type!==d.type)throw new Error(`Cannot compare different types: ${l.type} and ${d.type}`);switch(l.type){case"NumericValue":return l.value-d.value;case"StringValue":return l.value.localeCompare(d.value);default:throw new Error(`Cannot compare type: ${l.type}`)}}));default:throw new Error(`Unknown ArrayValue filter: ${i.value}`)}else if(n instanceof StringValue)switch(i.value){case"length":return new NumericValue(n.value.length);case"upper":return new StringValue(n.value.toUpperCase());case"lower":return new StringValue(n.value.toLowerCase());case"title":return new StringValue(titleCase(n.value));case"capitalize":return new StringValue(n.value.charAt(0).toUpperCase()+n.value.slice(1));case"trim":return new StringValue(n.value.trim());default:throw new Error(`Unknown StringValue filter: ${i.value}`)}else if(n instanceof NumericValue)switch(i.value){case"abs":return new NumericValue(Math.abs(n.value));default:throw new Error(`Unknown NumericValue filter: ${i.value}`)}else if(n instanceof ObjectValue)switch(i.value){case"items":return new ArrayValue(Array.from(n.value.entries()).map(([l,d])=>new ArrayValue([new StringValue(l),d])));case"length":return new NumericValue(n.value.size);default:throw new Error(`Unknown ObjectValue filter: ${i.value}`)}throw new Error(`Cannot apply filter "${i.value}" to type: ${n.type}`)}else if(t.filter.type==="CallExpression"){const i=t.filter;if(i.callee.type!=="Identifier")throw new Error(`Unknown filter: ${i.callee.type}`);const l=i.callee.value;if(n instanceof ArrayValue){switch(l){case"selectattr":{if(n.value.some(m=>!(m instanceof ObjectValue)))throw new Error("`selectattr` can only be applied to array of objects");if(i.args.some(m=>m.type!=="StringLiteral"))throw new Error("arguments of `selectattr` must be strings");const[d,f,b]=i.args.map(m=>this.evaluate(m,e));let _;if(f){const m=e.tests.get(f.value);if(!m)throw new Error(`Unknown test: ${f.value}`);_=m}else _=(...m)=>m[0].__bool__().value;const v=n.value.filter(m=>{const u=m.value.get(d.value);return u?_(u,b):!1});return new ArrayValue(v)}}throw new Error(`Unknown ArrayValue filter: ${l}`)}else throw new Error(`Cannot apply filter "${l}" to type: ${n.type}`)}throw new Error(`Unknown filter: ${t.filter.type}`)}evaluateTestExpression(t,e){const n=this.evaluate(t.operand,e),i=e.tests.get(t.test.value);if(!i)throw new Error(`Unknown test: ${t.test.value}`);const l=i(n);return new BooleanValue(t.negate?!l:l)}evaluateUnaryExpression(t,e){const n=this.evaluate(t.argument,e);switch(t.operator.value){case"not":return new BooleanValue(!n.value);default:throw new SyntaxError(`Unknown operator: ${t.operator.value}`)}}evalProgram(t,e){return this.evaluateBlock(t.body,e)}evaluateBlock(t,e){let n="";for(const i of t){const l=this.evaluate(i,e);l.type!=="NullValue"&&l.type!=="UndefinedValue"&&(n+=l.value)}return new StringValue(n)}evaluateIdentifier(t,e){return e.lookupVariable(t.value)}evaluateCallExpression(t,e){const n=[],i=new Map;for(const d of t.args)if(d.type==="KeywordArgumentExpression"){const f=d;i.set(f.key.value,this.evaluate(f.value,e))}else n.push(this.evaluate(d,e));i.size>0&&n.push(new ObjectValue(i));const l=this.evaluate(t.callee,e);if(l.type!=="FunctionValue")throw new Error(`Cannot call something that is not a function: got ${l.type}`);return l.value(n,e)}evaluateSliceExpression(t,e,n){if(!(t instanceof ArrayValue||t instanceof StringValue))throw new Error("Slice object must be an array or string");const i=this.evaluate(e.start,n),l=this.evaluate(e.stop,n),d=this.evaluate(e.step,n);if(!(i instanceof NumericValue||i instanceof UndefinedValue))throw new Error("Slice start must be numeric or undefined");if(!(l instanceof NumericValue||l instanceof UndefinedValue))throw new Error("Slice stop must be numeric or undefined");if(!(d instanceof NumericValue||d instanceof UndefinedValue))throw new Error("Slice step must be numeric or undefined");return t instanceof ArrayValue?new ArrayValue(slice(t.value,i.value,l.value,d.value)):new StringValue(slice(Array.from(t.value),i.value,l.value,d.value).join(""))}evaluateMemberExpression(t,e){const n=this.evaluate(t.object,e);let i;if(t.computed){if(t.property.type==="SliceExpression")return this.evaluateSliceExpression(n,t.property,e);i=this.evaluate(t.property,e)}else i=new StringValue(t.property.value);let l;if(n instanceof ObjectValue){if(!(i instanceof StringValue))throw new Error(`Cannot access property with non-string: got ${i.type}`);l=n.value.get(i.value)??n.builtins.get(i.value)}else if(n instanceof ArrayValue||n instanceof StringValue)if(i instanceof NumericValue)l=n.value.at(i.value),n instanceof StringValue&&(l=new StringValue(n.value.at(i.value)));else if(i instanceof StringValue)l=n.builtins.get(i.value);else throw new Error(`Cannot access property with non-string/non-number: got ${i.type}`);else{if(!(i instanceof StringValue))throw new Error(`Cannot access property with non-string: got ${i.type}`);l=n.builtins.get(i.value)}return l instanceof RuntimeValue?l:new UndefinedValue}evaluateSet(t,e){const n=this.evaluate(t.value,e);if(t.assignee.type==="Identifier"){const i=t.assignee.value;e.setVariable(i,n)}else if(t.assignee.type==="MemberExpression"){const i=t.assignee,l=this.evaluate(i.object,e);if(!(l instanceof ObjectValue))throw new Error("Cannot assign to member of non-object");if(i.property.type!=="Identifier")throw new Error("Cannot assign to member with non-identifier property");l.value.set(i.property.value,n)}else throw new Error(`Invalid LHS inside assignment expression: ${JSON.stringify(t.assignee)}`);return new NullValue}evaluateIf(t,e){const n=this.evaluate(t.test,e);return this.evaluateBlock(n.__bool__().value?t.body:t.alternate,e)}evaluateFor(t,e){const n=new Environment(e),i=this.evaluate(t.iterable,n);if(!(i instanceof ArrayValue))throw new Error(`Expected iterable type in for loop: got ${i.type}`);let l="";for(let d=0;d<i.value.length;++d){const f=new Map([["index",new NumericValue(d+1)],["index0",new NumericValue(d)],["revindex",new NumericValue(i.value.length-d)],["revindex0",new NumericValue(i.value.length-d-1)],["first",new BooleanValue(d===0)],["last",new BooleanValue(d===i.value.length-1)],["length",new NumericValue(i.value.length)],["previtem",d>0?i.value[d-1]:new UndefinedValue],["nextitem",d<i.value.length-1?i.value[d+1]:new UndefinedValue]]);n.setVariable("loop",new ObjectValue(f));const b=i.value[d];if(t.loopvar.type==="Identifier")n.setVariable(t.loopvar.value,b);else if(t.loopvar.type==="TupleLiteral"){const v=t.loopvar;if(b.type!=="ArrayValue")throw new Error(`Cannot unpack non-iterable type: ${b.type}`);const m=b;if(v.value.length!==m.value.length)throw new Error(`Too ${v.value.length>m.value.length?"few":"many"} items to unpack`);for(let u=0;u<v.value.length;++u){if(v.value[u].type!=="Identifier")throw new Error(`Cannot unpack non-identifier type: ${v.value[u].type}`);n.setVariable(v.value[u].value,m.value[u])}}const _=this.evaluateBlock(t.body,n);l+=_.value}return new StringValue(l)}evaluate(t,e){if(t===void 0)return new UndefinedValue;switch(t.type){case"Program":return this.evalProgram(t,e);case"Set":return this.evaluateSet(t,e);case"If":return this.evaluateIf(t,e);case"For":return this.evaluateFor(t,e);case"NumericLiteral":return new NumericValue(Number(t.value));case"StringLiteral":return new StringValue(t.value);case"BooleanLiteral":return new BooleanValue(t.value);case"ArrayLiteral":return new ArrayValue(t.value.map(n=>this.evaluate(n,e)));case"TupleLiteral":return new TupleValue(t.value.map(n=>this.evaluate(n,e)));case"ObjectLiteral":{const n=new Map;for(const[i,l]of t.value){const d=this.evaluate(i,e);if(!(d instanceof StringValue))throw new Error(`Object keys must be strings: got ${d.type}`);n.set(d.value,this.evaluate(l,e))}return new ObjectValue(n)}case"Identifier":return this.evaluateIdentifier(t,e);case"CallExpression":return this.evaluateCallExpression(t,e);case"MemberExpression":return this.evaluateMemberExpression(t,e);case"UnaryExpression":return this.evaluateUnaryExpression(t,e);case"BinaryExpression":return this.evaluateBinaryExpression(t,e);case"FilterExpression":return this.evaluateFilterExpression(t,e);case"TestExpression":return this.evaluateTestExpression(t,e);default:throw new SyntaxError(`Unknown node type: ${t.type}`)}}};function convertToRuntimeValues(t){switch(typeof t){case"number":return new NumericValue(t);case"string":return new StringValue(t);case"boolean":return new BooleanValue(t);case"object":return t===null?new NullValue:Array.isArray(t)?new ArrayValue(t.map(convertToRuntimeValues)):new ObjectValue(new Map(Object.entries(t).map(([e,n])=>[e,convertToRuntimeValues(n)])));case"function":return new FunctionValue((e,n)=>{const i=t(...e.map(l=>l.value))??null;return convertToRuntimeValues(i)});default:throw new Error(`Cannot convert to runtime value: ${t}`)}}var Template=class{constructor(t){Ie(this,"parsed");const e=tokenize(t,{lstrip_blocks:!0,trim_blocks:!0});this.parsed=parse(e)}render(t){const e=new Environment;e.set("false",!1),e.set("true",!0),e.set("raise_exception",l=>{throw new Error(l)}),e.set("range",range$5);for(const[l,d]of Object.entries(t))e.set(l,d);return new Interpreter(e).run(this.parsed).value}};async function loadTokenizer(t,e){const n=await Promise.all([getModelJSON(t,"tokenizer.json",!0,e),getModelJSON(t,"tokenizer_config.json",!0,e)]);return e.legacy!==null&&(n[1].legacy=e.legacy),n}function regexSplit(t,e){const n=[];let i=0;for(const l of t.matchAll(e)){const d=l[0];i<l.index&&n.push(t.slice(i,l.index)),d.length>0&&n.push(d),i=l.index+d.length}return i<t.length&&n.push(t.slice(i)),n}function createPattern(t,e=!0){if(t.Regex!==void 0){let n=t.Regex.replace(/\\([#&~])/g,"$1");for(const[i,l]of PROBLEMATIC_REGEX_MAP)n=n.replaceAll(i,l);return new RegExp(n,"gu")}else if(t.String!==void 0){const n=escapeRegExp(t.String);return new RegExp(e?n:`(${n})`,"gu")}else return console.warn("Unknown pattern type:",t),null}function objectToMap(t){return new Map(Object.entries(t))}function prepareTensorForDecode(t){const e=t.dims;switch(e.length){case 1:return t.tolist();case 2:if(e[0]!==1)throw new Error("Unable to decode tensor with `batch size !== 1`. Use `tokenizer.batch_decode(...)` for batched inputs.");return t.tolist()[0];default:throw new Error(`Expected tensor to have 1-2 dimensions, got ${e.length}.`)}}function clean_up_tokenization(t){return t.replace(/ \./g,".").replace(/ \?/g,"?").replace(/ \!/g,"!").replace(/ ,/g,",").replace(/ \' /g,"'").replace(/ n\'t/g,"n't").replace(/ \'m/g,"'m").replace(/ \'s/g,"'s").replace(/ \'ve/g,"'ve").replace(/ \'re/g,"'re")}function remove_accents(t){return t.replace(/[\u0300-\u036f]/g,"")}function lowercase_and_remove_accent(t){return remove_accents(t.toLowerCase())}function fuse(t,e,n){const i=[];let l=0;for(;l<t.length;){if(i.push(t[l]),(n.get(t[l])??e)!==e){++l;continue}for(;l<t.length&&(n.get(t[l])??e)===e;)++l}return i}function whitespace_split(t){return t.match(/\S+/g)||[]}const PUNCTUATION_REGEX="\\p{P}\\u0021-\\u002F\\u003A-\\u0040\\u005B-\\u0060\\u007B-\\u007E",PROBLEMATIC_REGEX_MAP=new Map([["(?i:'s|'t|'re|'ve|'m|'ll|'d)","(?:'([sS]|[tT]|[rR][eE]|[vV][eE]|[mM]|[lL][lL]|[dD]))"]]);class AddedToken{constructor(e){this.content=e.content,this.id=e.id,this.single_word=e.single_word??!1,this.lstrip=e.lstrip??!1,this.rstrip=e.rstrip??!1,this.special=e.special??!1,this.normalized=e.normalized??null}}class TokenizerModel extends Callable{constructor(e){super(),this.config=e,this.vocab=[],this.tokens_to_ids=new Map,this.unk_token_id=void 0,this.unk_token=void 0,this.end_of_word_suffix=void 0,this.fuse_unk=this.config.fuse_unk??!1}static fromConfig(e,...n){switch(e.type){case"WordPiece":return new WordPieceTokenizer(e);case"Unigram":return new Unigram(e,...n);case"BPE":return new BPE(e);default:if(e.vocab)return new LegacyTokenizerModel(e,...n);throw new Error(`Unknown TokenizerModel type: ${e.type}`)}}_call(e){let n=this.encode(e);return this.fuse_unk&&(n=fuse(n,this.unk_token_id,this.tokens_to_ids)),n}encode(e){throw Error("encode should be implemented in subclass.")}convert_tokens_to_ids(e){return e.map(n=>this.tokens_to_ids.get(n)??this.unk_token_id)}convert_ids_to_tokens(e){return e.map(n=>this.vocab[n]??this.unk_token)}}class WordPieceTokenizer extends TokenizerModel{constructor(e){super(e),this.tokens_to_ids=objectToMap(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.max_input_chars_per_word=e.max_input_chars_per_word??100,this.vocab=new Array(this.tokens_to_ids.size);for(const[n,i]of this.tokens_to_ids)this.vocab[i]=n}encode(e){const n=[];for(const i of e){const l=[...i];if(l.length>this.max_input_chars_per_word){n.push(this.unk_token);continue}let d=!1,f=0;const b=[];for(;f<l.length;){let _=l.length,v=null;for(;f<_;){let m=l.slice(f,_).join("");if(f>0&&(m=this.config.continuing_subword_prefix+m),this.tokens_to_ids.has(m)){v=m;break}--_}if(v===null){d=!0;break}b.push(v),f=_}d?n.push(this.unk_token):n.push(...b)}return n}}class Unigram extends TokenizerModel{constructor(e,n){super(e);const i=e.vocab.length;this.vocab=new Array(i),this.scores=new Array(i);for(let l=0;l<i;++l){const d=e.vocab[l];this.vocab[l]=d[0],this.scores[l]=d[1]}this.unk_token_id=e.unk_id,this.unk_token=this.vocab[e.unk_id],this.tokens_to_ids=new Map(this.vocab.map((l,d)=>[l,d])),this.bosToken=" ",this.bosTokenId=this.tokens_to_ids.get(this.bosToken),this.eosToken=n.eos_token,this.eosTokenId=this.tokens_to_ids.get(this.eosToken),this.unkToken=this.vocab[this.unk_token_id],this.minScore=min$1(this.scores)[0],this.unkScore=this.minScore-10,this.scores[this.unk_token_id]=this.unkScore,this.trie=new CharTrie,this.trie.extend(this.vocab),this.fuse_unk=!0}populateNodes(e){const n=e.sentence,i=n.length;let l=0;for(;l<i;){let f=!1;for(let b of this.trie.commonPrefixSearch(n.slice(l))){const _=this.tokens_to_ids.get(b),v=this.scores[_],m=b.length;e.insert(l,m,v,_),!f&&m===1&&(f=!0)}f||e.insert(l,1,this.unkScore,this.unk_token_id),l+=1}}tokenize(e){const n=new TokenLattice(e,this.bosTokenId,this.eosTokenId);return this.populateNodes(n),n.tokens()}encode(e){const n=[];for(const i of e){const l=this.tokenize(i);n.push(...l)}return n}}const BYTES_TO_UNICODE=(()=>{const t=[...Array.from({length:94},(l,d)=>d+33),...Array.from({length:12},(l,d)=>d+161),...Array.from({length:82},(l,d)=>d+174)],e=t.slice();let n=0;for(let l=0;l<256;++l)t.includes(l)||(t.push(l),e.push(256+n),n+=1);const i=e.map(l=>String.fromCharCode(l));return Object.fromEntries(t.map((l,d)=>[l,i[d]]))})(),UNICODE_TO_BYTES=reverseDictionary(BYTES_TO_UNICODE);class BPE extends TokenizerModel{constructor(e){super(e),this.BPE_SPLIT_TOKEN=" ",this.tokens_to_ids=objectToMap(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.vocab=new Array(this.tokens_to_ids.size);for(const[n,i]of this.tokens_to_ids)this.vocab[i]=n;this.bpe_ranks=new Map(e.merges.map((n,i)=>[n,i])),this.merges=e.merges.map(n=>n.split(this.BPE_SPLIT_TOKEN)),this.end_of_word_suffix=e.end_of_word_suffix,this.continuing_subword_suffix=e.continuing_subword_suffix??null,this.byte_fallback=this.config.byte_fallback??!1,this.byte_fallback&&(this.text_encoder=new TextEncoder),this.ignore_merges=this.config.ignore_merges??!1,this.cache=new Map}bpe(e){if(e.length===0)return[];const n=this.cache.get(e);if(n!==void 0)return n;const i=Array.from(e);this.end_of_word_suffix&&(i[i.length-1]+=this.end_of_word_suffix);let l=[];if(i.length>1){const d=new PriorityQueue((_,v)=>_.score<v.score);let f={token:i[0],bias:0,prev:null,next:null},b=f;for(let _=1;_<i.length;++_){const v={bias:_/i.length,token:i[_],prev:b,next:null};b.next=v,this._add_node(d,b),b=v}for(;!d.isEmpty();){const _=d.pop();if(_.deleted||!_.next||_.next.deleted)continue;if(_.deleted=!0,_.next.deleted=!0,_.prev){const m={..._.prev};_.prev.deleted=!0,_.prev=m,m.prev?m.prev.next=m:f=m}const v={token:_.token+_.next.token,bias:_.bias,prev:_.prev,next:_.next.next};v.prev?(v.prev.next=v,this._add_node(d,v.prev)):f=v,v.next&&(v.next.prev=v,this._add_node(d,v))}for(let _=f;_!==null;_=_.next)l.push(_.token)}else l=i;if(this.continuing_subword_suffix)for(let d=0;d<l.length-1;++d)l[d]+=this.continuing_subword_suffix;return this.cache.set(e,l),l}_add_node(e,n){const i=this.bpe_ranks.get(n.token+this.BPE_SPLIT_TOKEN+n.next.token);i!==void 0&&(n.score=i+n.bias,e.push(n))}encode(e){const n=[];for(const i of e){if(this.ignore_merges&&this.tokens_to_ids.has(i)){n.push(i);continue}const l=this.bpe(i);for(const d of l)this.tokens_to_ids.has(d)?n.push(d):this.byte_fallback?n.push(...Array.from(this.text_encoder.encode(d)).map(f=>`<0x${f.toString(16).toUpperCase().padStart(2,"0")}>`)):n.push(this.unk_token)}return n}}class LegacyTokenizerModel extends TokenizerModel{constructor(e,n){super(e),this.tokens_to_ids=objectToMap(n.target_lang?e.vocab[n.target_lang]:e.vocab),this.bos_token=n.bos_token,this.bos_token_id=this.tokens_to_ids.get(this.bos_token),this.eos_token=n.eos_token,this.eos_token_id=this.tokens_to_ids.get(this.eos_token),this.pad_token=n.pad_token,this.pad_token_id=this.tokens_to_ids.get(this.pad_token),this.unk_token=n.unk_token,this.unk_token_id=this.tokens_to_ids.get(this.unk_token),this.vocab=new Array(this.tokens_to_ids.size);for(const[i,l]of this.tokens_to_ids)this.vocab[l]=i}encode(e){return e}}class Normalizer extends Callable{constructor(e){super(),this.config=e}static fromConfig(e){if(e===null)return null;switch(e.type){case"BertNormalizer":return new BertNormalizer(e);case"Precompiled":return new Precompiled(e);case"Sequence":return new NormalizerSequence(e);case"Replace":return new Replace(e);case"NFC":return new NFC(e);case"NFKC":return new NFKC(e);case"NFKD":return new NFKD(e);case"Strip":return new StripNormalizer(e);case"StripAccents":return new StripAccents(e);case"Lowercase":return new Lowercase(e);case"Prepend":return new Prepend(e);default:throw new Error(`Unknown Normalizer type: ${e.type}`)}}normalize(e){throw Error("normalize should be implemented in subclass.")}_call(e){return this.normalize(e)}}class Replace extends Normalizer{normalize(e){const n=createPattern(this.config.pattern);return n===null?e:e.replaceAll(n,this.config.content)}}class NFC extends Normalizer{normalize(e){return e=e.normalize("NFC"),e}}class NFKC extends Normalizer{normalize(e){return e=e.normalize("NFKC"),e}}class NFKD extends Normalizer{normalize(e){return e=e.normalize("NFKD"),e}}class StripNormalizer extends Normalizer{normalize(e){return this.config.strip_left&&this.config.strip_right?e=e.trim():(this.config.strip_left&&(e=e.trimStart()),this.config.strip_right&&(e=e.trimEnd())),e}}class StripAccents extends Normalizer{normalize(e){return e=remove_accents(e),e}}class Lowercase extends Normalizer{normalize(e){return e=e.toLowerCase(),e}}class Prepend extends Normalizer{normalize(e){return e=this.config.prepend+e,e}}class NormalizerSequence extends Normalizer{constructor(e){super(e),this.normalizers=e.normalizers.map(n=>Normalizer.fromConfig(n))}normalize(e){return this.normalizers.reduce((n,i)=>i.normalize(n),e)}}class BertNormalizer extends Normalizer{_tokenize_chinese_chars(e){const n=[];for(let i=0;i<e.length;++i){const l=e[i],d=l.charCodeAt(0);this._is_chinese_char(d)?(n.push(" "),n.push(l),n.push(" ")):n.push(l)}return n.join("")}_is_chinese_char(e){return e>=19968&&e<=40959||e>=13312&&e<=19903||e>=131072&&e<=173791||e>=173824&&e<=177983||e>=177984&&e<=178207||e>=178208&&e<=183983||e>=63744&&e<=64255||e>=194560&&e<=195103}stripAccents(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}_is_control(e){switch(e){case"	":case`
`:case"\r":return!1;default:return new RegExp("^\\p{Cc}|\\p{Cf}|\\p{Co}|\\p{Cs}$","u").test(e)}}_clean_text(e){const n=[];for(const i of e){const l=i.charCodeAt(0);l===0||l===65533||this._is_control(i)||(/^\s$/.test(i)?n.push(" "):n.push(i))}return n.join("")}normalize(e){return this.config.clean_text&&(e=this._clean_text(e)),this.config.handle_chinese_chars&&(e=this._tokenize_chinese_chars(e)),this.config.lowercase?(e=e.toLowerCase(),this.config.strip_accents!==!1&&(e=this.stripAccents(e))):this.config.strip_accents&&(e=this.stripAccents(e)),e}}class PreTokenizer extends Callable{static fromConfig(e){if(e===null)return null;switch(e.type){case"BertPreTokenizer":return new BertPreTokenizer(e);case"Sequence":return new PreTokenizerSequence(e);case"Whitespace":return new WhitespacePreTokenizer(e);case"WhitespaceSplit":return new WhitespaceSplit(e);case"Metaspace":return new MetaspacePreTokenizer(e);case"ByteLevel":return new ByteLevelPreTokenizer(e);case"Split":return new SplitPreTokenizer(e);case"Punctuation":return new PunctuationPreTokenizer(e);case"Digits":return new DigitsPreTokenizer(e);case"Replace":return new ReplacePreTokenizer(e);default:throw new Error(`Unknown PreTokenizer type: ${e.type}`)}}pre_tokenize_text(e,n){throw Error("pre_tokenize_text should be implemented in subclass.")}pre_tokenize(e,n){return(Array.isArray(e)?e.map(i=>this.pre_tokenize_text(i,n)):this.pre_tokenize_text(e,n)).flat()}_call(e,n){return this.pre_tokenize(e,n)}}class BertPreTokenizer extends PreTokenizer{constructor(e){super(),this.pattern=new RegExp(`[^\\s${PUNCTUATION_REGEX}]+|[${PUNCTUATION_REGEX}]`,"gu")}pre_tokenize_text(e,n){return e.trim().match(this.pattern)||[]}}class ByteLevelPreTokenizer extends PreTokenizer{constructor(e){super(),this.config=e,this.add_prefix_space=this.config.add_prefix_space,this.trim_offsets=this.config.trim_offsets,this.use_regex=this.config.use_regex??!0,this.pattern=new RegExp("'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+","gu"),this.byte_encoder=BYTES_TO_UNICODE,this.text_encoder=new TextEncoder}pre_tokenize_text(e,n){return this.add_prefix_space&&!e.startsWith(" ")&&(e=" "+e),(this.use_regex?e.match(this.pattern)||[]:[e]).map(l=>Array.from(this.text_encoder.encode(l),d=>this.byte_encoder[d]).join(""))}}class SplitPreTokenizer extends PreTokenizer{constructor(e){super(),this.config=e,this.pattern=createPattern(this.config.pattern,this.config.invert)}pre_tokenize_text(e,n){return this.pattern===null?[]:this.config.invert?e.match(this.pattern)||[]:regexSplit(e,this.pattern)}}class PunctuationPreTokenizer extends PreTokenizer{constructor(e){super(),this.config=e,this.pattern=new RegExp(`[^${PUNCTUATION_REGEX}]+|[${PUNCTUATION_REGEX}]+`,"gu")}pre_tokenize_text(e,n){return e.match(this.pattern)||[]}}class DigitsPreTokenizer extends PreTokenizer{constructor(e){super(),this.config=e;const n=`[^\\d]+|\\d${this.config.individual_digits?"":"+"}`;this.pattern=new RegExp(n,"gu")}pre_tokenize_text(e,n){return e.match(this.pattern)||[]}}class PostProcessor extends Callable{constructor(e){super(),this.config=e}static fromConfig(e){if(e===null)return null;switch(e.type){case"TemplateProcessing":return new TemplateProcessing(e);case"ByteLevel":return new ByteLevelPostProcessor(e);case"RobertaProcessing":return new RobertaProcessing(e);case"BertProcessing":return new BertProcessing(e);case"Sequence":return new PostProcessorSequence(e);default:throw new Error(`Unknown PostProcessor type: ${e.type}`)}}post_process(e,...n){throw Error("post_process should be implemented in subclass.")}_call(e,...n){return this.post_process(e,...n)}}class BertProcessing extends PostProcessor{constructor(e){super(e),this.cls=e.cls[0],this.sep=e.sep[0]}post_process(e,n=null,{add_special_tokens:i=!0}={}){i&&(e=mergeArrays([this.cls],e,[this.sep]));let l=new Array(e.length).fill(0);if(n!==null){const d=i&&this instanceof RobertaProcessing?[this.sep]:[],f=i?[this.sep]:[];e=mergeArrays(e,d,n,f),l=mergeArrays(l,new Array(n.length+d.length+f.length).fill(1))}return{tokens:e,token_type_ids:l}}}class RobertaProcessing extends BertProcessing{}class TemplateProcessing extends PostProcessor{constructor(e){super(e),this.single=e.single,this.pair=e.pair}post_process(e,n=null,{add_special_tokens:i=!0}={}){const l=n===null?this.single:this.pair;let d=[],f=[];for(const b of l)"SpecialToken"in b?i&&(d.push(b.SpecialToken.id),f.push(b.SpecialToken.type_id)):"Sequence"in b&&(b.Sequence.id==="A"?(d=mergeArrays(d,e),f=mergeArrays(f,new Array(e.length).fill(b.Sequence.type_id))):b.Sequence.id==="B"&&(d=mergeArrays(d,n),f=mergeArrays(f,new Array(n.length).fill(b.Sequence.type_id))));return{tokens:d,token_type_ids:f}}}class ByteLevelPostProcessor extends PostProcessor{post_process(e,n=null){return n&&(e=mergeArrays(e,n)),{tokens:e}}}class PostProcessorSequence extends PostProcessor{constructor(e){super(e),this.processors=e.processors.map(n=>PostProcessor.fromConfig(n))}post_process(e,n=null,i={}){let l;for(const d of this.processors)if(d instanceof ByteLevelPostProcessor)e=d.post_process(e).tokens,n&&(n=d.post_process(n).tokens);else{const f=d.post_process(e,n,i);e=f.tokens,l=f.token_type_ids}return{tokens:e,token_type_ids:l}}}class Decoder extends Callable{constructor(e){super(),this.config=e,this.added_tokens=[],this.end_of_word_suffix=null,this.trim_offsets=e.trim_offsets}static fromConfig(e){if(e===null)return null;switch(e.type){case"WordPiece":return new WordPieceDecoder(e);case"Metaspace":return new MetaspaceDecoder(e);case"ByteLevel":return new ByteLevelDecoder(e);case"Replace":return new ReplaceDecoder(e);case"ByteFallback":return new ByteFallback(e);case"Fuse":return new FuseDecoder(e);case"Strip":return new StripDecoder(e);case"Sequence":return new DecoderSequence(e);case"CTC":return new CTCDecoder(e);case"BPEDecoder":return new BPEDecoder(e);default:throw new Error(`Unknown Decoder type: ${e.type}`)}}_call(e){return this.decode(e)}decode(e){return this.decode_chain(e).join("")}decode_chain(e){throw Error("`decode_chain` should be implemented in subclass.")}}class ReplaceDecoder extends Decoder{decode_chain(e){const n=createPattern(this.config.pattern);return n===null?e:e.map(i=>i.replaceAll(n,this.config.content))}}class ByteFallback extends Decoder{constructor(e){super(e),this.text_decoder=new TextDecoder}decode_chain(e){const n=[];let i=[];for(const l of e){let d=null;if(l.length===6&&l.startsWith("<0x")&&l.endsWith(">")){const f=parseInt(l.slice(3,5),16);isNaN(f)||(d=f)}if(d!==null)i.push(d);else{if(i.length>0){const f=this.text_decoder.decode(Uint8Array.from(i));n.push(f),i=[]}n.push(l)}}if(i.length>0){const l=this.text_decoder.decode(Uint8Array.from(i));n.push(l),i=[]}return n}}class FuseDecoder extends Decoder{decode_chain(e){return[e.join("")]}}class StripDecoder extends Decoder{constructor(e){super(e),this.content=this.config.content,this.start=this.config.start,this.stop=this.config.stop}decode_chain(e){return e.map(n=>{let i=0;for(let d=0;d<this.start&&n[d]===this.content;++d){i=d+1;continue}let l=n.length;for(let d=0;d<this.stop;++d){const f=n.length-d-1;if(n[f]===this.content){l=f;continue}else break}return n.slice(i,l)})}}class WordPieceDecoder extends Decoder{constructor(e){super(e),this.cleanup=e.cleanup}decode_chain(e){return e.map((n,i)=>(i!==0&&(n.startsWith(this.config.prefix)?n=n.replace(this.config.prefix,""):n=" "+n),this.cleanup&&(n=clean_up_tokenization(n)),n))}}class ByteLevelDecoder extends Decoder{constructor(e){super(e),this.byte_decoder=UNICODE_TO_BYTES,this.text_decoder=new TextDecoder("utf-8",{fatal:!1,ignoreBOM:!0}),this.end_of_word_suffix=null}convert_tokens_to_string(e){const n=e.join(""),i=new Uint8Array([...n].map(d=>this.byte_decoder[d]));return this.text_decoder.decode(i)}decode_chain(e){const n=[];let i=[];for(const l of e)this.added_tokens.find(d=>d.content===l)!==void 0?(i.length>0&&(n.push(this.convert_tokens_to_string(i)),i=[]),n.push(l)):i.push(l);return i.length>0&&n.push(this.convert_tokens_to_string(i)),n}}class CTCDecoder extends Decoder{constructor(e){super(e),this.pad_token=this.config.pad_token,this.word_delimiter_token=this.config.word_delimiter_token,this.cleanup=this.config.cleanup}convert_tokens_to_string(e){if(e.length===0)return"";const n=[e[0]];for(let d=1;d<e.length;++d)e[d]!==n.at(-1)&&n.push(e[d]);let l=n.filter(d=>d!==this.pad_token).join("");return this.cleanup&&(l=clean_up_tokenization(l).replaceAll(this.word_delimiter_token," ").trim()),l}decode_chain(e){return[this.convert_tokens_to_string(e)]}}class DecoderSequence extends Decoder{constructor(e){super(e),this.decoders=e.decoders.map(n=>Decoder.fromConfig(n))}decode_chain(e){return this.decoders.reduce((n,i)=>i.decode_chain(n),e)}}class BPEDecoder extends Decoder{constructor(e){super(e),this.suffix=this.config.suffix}decode_chain(e){return e.map((n,i)=>n.replaceAll(this.suffix,i===e.length-1?"":" "))}}class VitsDecoder extends Decoder{decode_chain(e){let n="";for(let i=1;i<e.length;i+=2)n+=e[i];return[n]}}class MetaspacePreTokenizer extends PreTokenizer{constructor(e){super(),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement,this.strRep=e.str_rep||this.replacement,this.prepend_scheme=e.prepend_scheme??"always"}pre_tokenize_text(e,{section_index:n=void 0}={}){let i=e.replaceAll(" ",this.strRep);return this.addPrefixSpace&&!i.startsWith(this.replacement)&&(this.prepend_scheme==="always"||this.prepend_scheme==="first"&&n===0)&&(i=this.strRep+i),[i]}}class MetaspaceDecoder extends Decoder{constructor(e){super(e),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement}decode_chain(e){const n=[];for(let i=0;i<e.length;++i){let l=e[i].replaceAll(this.replacement," ");this.addPrefixSpace&&i==0&&l.startsWith(" ")&&(l=l.substring(1)),n.push(l)}return n}}class Precompiled extends Normalizer{constructor(e){super(e),this.charsmap=e.precompiled_charsmap}normalize(e){return e=e.replace(/[\u0001-\u0008\u000B\u000E-\u001F\u007F\u008F\u009F]/gm,""),e=e.replace(/[\u0009\u000A\u000C\u000D\u1680\u200B\u200C\u200E\u200F\u2028\u2029\u2581\uFEFF\uFFFD]/gm," "),e.includes("")?e=e.split("").map(i=>i.normalize("NFKC")).join(""):e=e.normalize("NFKC"),e}}class PreTokenizerSequence extends PreTokenizer{constructor(e){super(),this.tokenizers=e.pretokenizers.map(n=>PreTokenizer.fromConfig(n))}pre_tokenize_text(e,n){return this.tokenizers.reduce((i,l)=>l.pre_tokenize(i,n),[e])}}class WhitespacePreTokenizer extends PreTokenizer{constructor(e){super()}pre_tokenize_text(e,n){return e.match(/\w+|[^\w\s]+/g)||[]}}class WhitespaceSplit extends PreTokenizer{constructor(e){super()}pre_tokenize_text(e,n){return whitespace_split(e)}}class ReplacePreTokenizer extends PreTokenizer{constructor(e){super(),this.config=e,this.pattern=createPattern(this.config.pattern),this.content=this.config.content}pre_tokenize_text(e,n){return this.pattern===null?[e]:[e.replaceAll(this.pattern,this.config.content)]}}const SPECIAL_TOKEN_ATTRIBUTES=["bos_token","eos_token","unk_token","sep_token","pad_token","cls_token","mask_token"];function padHelper(t,e,n,i){for(const l of Object.keys(t)){const d=e-t[l].length,f=n(l),b=new Array(d).fill(f);t[l]=i==="right"?mergeArrays(t[l],b):mergeArrays(b,t[l])}}function truncateHelper(t,e){for(const n of Object.keys(t))t[n].length=e}class PreTrainedTokenizer extends Callable{constructor(n,i){super();Ie(this,"return_token_type_ids",!1);Ie(this,"_default_chat_template",`{% for message in messages %}{{'<|im_start|>' + message['role'] + '
' + message['content'] + '<|im_end|>' + '
'}}{% endfor %}{% if add_generation_prompt %}{{ '<|im_start|>assistant
' }}{% endif %}`);this._tokenizer_config=i,this.normalizer=Normalizer.fromConfig(n.normalizer),this.pre_tokenizer=PreTokenizer.fromConfig(n.pre_tokenizer),this.model=TokenizerModel.fromConfig(n.model,i),this.post_processor=PostProcessor.fromConfig(n.post_processor),this.decoder=Decoder.fromConfig(n.decoder),this.special_tokens=[],this.all_special_ids=[],this.added_tokens=[];for(const l of n.added_tokens){const d=new AddedToken(l);this.added_tokens.push(d),this.model.tokens_to_ids.set(d.content,d.id),this.model.vocab[d.id]=d.content,d.special&&(this.special_tokens.push(d.content),this.all_special_ids.push(d.id))}if(this.additional_special_tokens=i.additional_special_tokens??[],this.special_tokens.push(...this.additional_special_tokens),this.special_tokens=[...new Set(this.special_tokens)],this.decoder&&(this.decoder.added_tokens=this.added_tokens,this.decoder.end_of_word_suffix=this.model.end_of_word_suffix),this.added_tokens_regex=this.added_tokens.length>0?new RegExp(this.added_tokens.map(l=>`${l.lstrip?"\\s*":""}(${escapeRegExp(l.content)})${l.rstrip?"\\s*":""}`).join("|")):null,this.mask_token=this.getToken("mask_token"),this.mask_token_id=this.model.tokens_to_ids.get(this.mask_token),this.pad_token=this.getToken("pad_token","eos_token"),this.pad_token_id=this.model.tokens_to_ids.get(this.pad_token),this.sep_token=this.getToken("sep_token"),this.sep_token_id=this.model.tokens_to_ids.get(this.sep_token),this.unk_token=this.getToken("unk_token"),this.unk_token_id=this.model.tokens_to_ids.get(this.unk_token),this.model_max_length=i.model_max_length,this.remove_space=i.remove_space,this.clean_up_tokenization_spaces=i.clean_up_tokenization_spaces??!0,this.do_lowercase_and_remove_accent=i.do_lowercase_and_remove_accent??!1,this.padding_side="right",this.legacy=!1,this.chat_template=i.chat_template??null,Array.isArray(this.chat_template)){const l=Object.create(null);for(const{name:d,template:f}of this.chat_template){if(typeof d!="string"||typeof f!="string")throw new Error('Chat template must be a list of objects with "name" and "template" properties');l[d]=f}this.chat_template=l}this._compiled_template_cache=new Map}getToken(...n){for(const i of n){const l=this._tokenizer_config[i];if(l)if(typeof l=="object"){if(l.__type==="AddedToken")return l.content;throw Error(`Unknown token: ${l}`)}else return l}return null}static async from_pretrained(n,{progress_callback:i=null,config:l=null,cache_dir:d=null,local_files_only:f=!1,revision:b="main",legacy:_=null}={}){const v=await loadTokenizer(n,{progress_callback:i,cache_dir:d,local_files_only:f,revision:b,legacy:_});return new this(...v)}_call(n,{text_pair:i=null,add_special_tokens:l=!0,padding:d=!1,truncation:f=null,max_length:b=null,return_tensor:_=!0,return_token_type_ids:v=null}={}){const m=Array.isArray(n);let u;if(m){if(n.length===0)throw Error("text array must be non-empty");if(i!==null){if(Array.isArray(i)){if(n.length!==i.length)throw Error("text and text_pair must have the same length")}else throw Error("text_pair must also be an array");u=n.map((h,w)=>this._encode_plus(h,i[w],{add_special_tokens:l,return_token_type_ids:v}))}else u=n.map(h=>this._encode_plus(h,null,{add_special_tokens:l,return_token_type_ids:v}))}else{if(n==null)throw Error("text may not be null or undefined");if(Array.isArray(i))throw Error("When specifying `text_pair`, since `text` is a string, `text_pair` must also be a string (i.e., not an array).");u=[this._encode_plus(n,i,{add_special_tokens:l,return_token_type_ids:v})]}if(b===null?d==="max_length"?b=this.model_max_length:b=max$1(u.map(h=>h.input_ids.length))[0]:f||console.warn("Truncation was not explicitly activated but `max_length` is provided a specific value, please use `truncation=true` to explicitly truncate examples to max length."),b=Math.min(b,this.model_max_length),d||f)for(let h=0;h<u.length;++h)u[h].input_ids.length!==b&&(u[h].input_ids.length>b?f&&truncateHelper(u[h],b):d&&padHelper(u[h],b,w=>w==="input_ids"?this.pad_token_id:0,this.padding_side));const o={};if(_){if(!(d&&f)&&u.some(w=>{var E;for(const T of Object.keys(w))if(w[T].length!==((E=u[0][T])==null?void 0:E.length))return!0;return!1}))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=true' and 'truncation=true' to have batched tensors with the same length.");const h=[u.length,u[0].input_ids.length];for(const w of Object.keys(u[0]))o[w]=new Tensor("int64",BigInt64Array.from(u.flatMap(E=>E[w]).map(BigInt)),h)}else{for(const h of Object.keys(u[0]))o[h]=u.map(w=>w[h]);if(!m)for(const h of Object.keys(o))o[h]=o[h][0]}return o}_encode_text(n){return n===null?null:(this.added_tokens_regex?n.split(this.added_tokens_regex).filter(d=>d):[n]).map((d,f)=>{if(this.added_tokens.find(_=>_.content===d)!==void 0)return d;{if(this.remove_space===!0&&(d=d.trim().split(/\s+/).join(" ")),this.do_lowercase_and_remove_accent&&(d=lowercase_and_remove_accent(d)),this.normalizer!==null&&(d=this.normalizer(d)),d.length===0)return[];const _=this.pre_tokenizer!==null?this.pre_tokenizer(d,{section_index:f}):[d];return this.model(_)}}).flat()}_encode_plus(n,i=null,{add_special_tokens:l=!0,return_token_type_ids:d=null}={}){const f=this._encode_text(n),b=this._encode_text(i),_=this.post_processor?this.post_processor(f,b,{add_special_tokens:l}):{tokens:mergeArrays(f??[],b??[])},v=this.model.convert_tokens_to_ids(_.tokens),m={input_ids:v,attention_mask:new Array(v.length).fill(1)};return(d??this.return_token_type_ids)&&_.token_type_ids&&(m.token_type_ids=_.token_type_ids),m}encode(n,i=null,{add_special_tokens:l=!0,return_token_type_ids:d=null}={}){const{input_ids:f}=this._encode_plus(n,i,{add_special_tokens:l,return_token_type_ids:d});return f}batch_decode(n,i={}){return n instanceof Tensor&&(n=n.tolist()),n.map(l=>this.decode(l,i))}decode(n,i={}){if(n instanceof Tensor&&(n=prepareTensorForDecode(n)),!Array.isArray(n)||n.length===0||!isIntegralNumber(n[0]))throw Error("token_ids must be a non-empty array of integers.");return this.decode_single(n,i)}decode_single(n,{skip_special_tokens:i=!1,clean_up_tokenization_spaces:l=null}){let d=this.model.convert_ids_to_tokens(n);i&&(d=d.filter(b=>!this.special_tokens.includes(b)));let f=this.decoder?this.decoder(d):d.join(" ");return this.decoder&&this.decoder.end_of_word_suffix&&(f=f.replaceAll(this.decoder.end_of_word_suffix," "),i&&(f=f.trim())),(l??this.clean_up_tokenization_spaces)&&(f=clean_up_tokenization(f)),f}get default_chat_template(){return this._warned_about_chat_template||(console.warn("No chat template is defined for this tokenizer - using a default chat template that implements the ChatML format. If the default is not appropriate for your model, please set `tokenizer.chat_template` to an appropriate template. See https://huggingface.co/docs/transformers/main/chat_templating for more information."),this._warned_about_chat_template=!0),this._default_chat_template}apply_chat_template(n,{chat_template:i=null,add_generation_prompt:l=!1,tokenize:d=!0,padding:f=!1,truncation:b=!1,max_length:_=null,return_tensor:v=!0,tokenizer_kwargs:m={},...u}={}){if(this.chat_template&&typeof this.chat_template=="object"||this.chat_template===null&&this.default_chat_template&&typeof this.default_chat_template=="object"){const E=this.chat_template??this.default_chat_template;if(i!==null&&Object.hasOwn(E,i))i=E[i];else if(i===null&&"default"in E)i=E.default;else if(i===null)throw Error(`This model has multiple chat templates with no default specified! Please either pass a chat template or the name of the template you wish to use to the 'chat_template' argument. Available template names are ${Object.keys(E).sort()}.`)}else i??(i=this.chat_template??this.default_chat_template);if(typeof i!="string")throw Error(`chat_template must be a string, but got ${typeof i}`);let o=this._compiled_template_cache.get(i);o===void 0&&(o=new Template(i),this._compiled_template_cache.set(i,o));const h=Object.create(null);for(const E of SPECIAL_TOKEN_ATTRIBUTES){const T=this.getToken(E);T&&(h[E]=T)}const w=o.render({messages:n,add_generation_prompt:l,...h,...u});return d?this._call(w,{add_special_tokens:!1,padding:f,truncation:b,max_length:_,return_tensor:v,...m}).input_ids:w}}class BertTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);Ie(this,"return_token_type_ids",!0)}}class AlbertTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);Ie(this,"return_token_type_ids",!0)}}class MobileBertTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);Ie(this,"return_token_type_ids",!0)}}class SqueezeBertTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);Ie(this,"return_token_type_ids",!0)}}class DebertaTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);Ie(this,"return_token_type_ids",!0)}}class DebertaV2Tokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);Ie(this,"return_token_type_ids",!0)}}class HerbertTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);Ie(this,"return_token_type_ids",!0)}}class ConvBertTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);Ie(this,"return_token_type_ids",!0)}}class RoFormerTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);Ie(this,"return_token_type_ids",!0)}}class DistilBertTokenizer extends PreTrainedTokenizer{}class CamembertTokenizer extends PreTrainedTokenizer{}class XLMTokenizer extends PreTrainedTokenizer{constructor(n,i){super(n,i);Ie(this,"return_token_type_ids",!0);console.warn('WARNING: `XLMTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}}class ElectraTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);Ie(this,"return_token_type_ids",!0)}}class T5Tokenizer extends PreTrainedTokenizer{}class GPT2Tokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);Ie(this,"_default_chat_template",'{% for message in messages %}" "{{ message.content }}{{ eos_token }}" "{% endfor %}')}}class BartTokenizer extends PreTrainedTokenizer{}class MBartTokenizer extends PreTrainedTokenizer{constructor(e,n){super(e,n),this.languageRegex=/^[a-z]{2}_[A-Z]{2}$/,this.language_codes=this.special_tokens.filter(i=>this.languageRegex.test(i)),this.lang_to_token=i=>i}_build_translation_inputs(e,n,i){return _build_translation_inputs(this,e,n,i)}}class MBart50Tokenizer extends MBartTokenizer{}class RobertaTokenizer extends PreTrainedTokenizer{}class BloomTokenizer extends GPT2Tokenizer{constructor(e,n){var d,f;const i=".,!?",l=(f=(d=e.pre_tokenizer)==null?void 0:d.pretokenizers[0])==null?void 0:f.pattern;l&&l.Regex===` ?[^(\\s|[${i}])]+`&&(l.Regex=` ?[^\\s${i}]+`),super(e,n)}}const SPIECE_UNDERLINE="";class LlamaTokenizer extends PreTrainedTokenizer{constructor(n,i){super(n,i);Ie(this,"_default_chat_template",`{% if messages[0]['role'] == 'system' %}{% set loop_messages = messages[1:] %}{% set system_message = messages[0]['content'] %}{% elif USE_DEFAULT_PROMPT == true and not '<<SYS>>' in messages[0]['content'] %}{% set loop_messages = messages %}{% set system_message = 'DEFAULT_SYSTEM_MESSAGE' %}{% else %}{% set loop_messages = messages %}{% set system_message = false %}{% endif %}{% for message in loop_messages %}{% if (message['role'] == 'user') != (loop.index0 % 2 == 0) %}{{ raise_exception('Conversation roles must alternate user/assistant/user/assistant/...') }}{% endif %}{% if loop.index0 == 0 and system_message != false %}{% set content = '<<SYS>>
' + system_message + '
<</SYS>>

' + message['content'] %}{% else %}{% set content = message['content'] %}{% endif %}{% if message['role'] == 'user' %}{{ bos_token + '[INST] ' + content.strip() + ' [/INST]' }}{% elif message['role'] == 'system' %}{{ '<<SYS>>
' + content.strip() + '
<</SYS>>

' }}{% elif message['role'] == 'assistant' %}{{ ' '  + content.strip() + ' ' + eos_token }}{% endif %}{% endfor %}`);Ie(this,"DEFAULT_SYSTEM_PROMPT",`You are a helpful, respectful and honest assistant. Always answer as helpfully as possible, while being safe. Your answers should not include any harmful, unethical, racist, sexist, toxic, dangerous, or illegal content. Please ensure that your responses are socially unbiased and positive in nature.

If a question does not make any sense, or is not factually coherent, explain why instead of answering something not correct. If you don't know the answer to a question, please don't share false information.`);this.use_default_system_prompt=i.use_default_system_prompt??!1,this.legacy=i.legacy??!0,this.legacy||(this.normalizer=null,this.pre_tokenizer=new MetaspacePreTokenizer({replacement:SPIECE_UNDERLINE,add_prefix_space:!0,prepend_scheme:"first"}))}_encode_text(n){if(n===null)return null;if(this.legacy||n.length===0)return super._encode_text(n);let i=super._encode_text(SPIECE_UNDERLINE+n.replaceAll(SPIECE_UNDERLINE," "));return i.length>1&&i[0]===SPIECE_UNDERLINE&&this.special_tokens.includes(i[1])&&(i=i.slice(1)),i}get default_chat_template(){return super.default_chat_template.replaceAll("USE_DEFAULT_PROMPT",this.use_default_system_prompt?"true":"false").replaceAll("DEFAULT_SYSTEM_MESSAGE",this.DEFAULT_SYSTEM_PROMPT.replaceAll(`
`,"\\n").replaceAll("'","\\'"))}}class CodeLlamaTokenizer extends LlamaTokenizer{}class XLMRobertaTokenizer extends PreTrainedTokenizer{}class MPNetTokenizer extends PreTrainedTokenizer{}class FalconTokenizer extends PreTrainedTokenizer{}class GPTNeoXTokenizer extends PreTrainedTokenizer{}class EsmTokenizer extends PreTrainedTokenizer{}class Qwen2Tokenizer extends PreTrainedTokenizer{}class GemmaTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);Ie(this,"_default_chat_template",`{% if messages[0]['role'] == 'system' %}{{ raise_exception('System role not supported') }}{% endif %}{% for message in messages %}{% if (message['role'] == 'user') != (loop.index0 % 2 == 0) %}{{ raise_exception('Conversation roles must alternate user/assistant/user/assistant/...') }}{% endif %}{% if (message['role'] == 'assistant') %}{% set role = 'model' %}{% else %}{% set role = message['role'] %}{% endif %}{{ '<start_of_turn>' + role + '
' + message['content'] | trim + '<end_of_turn>
' }}{% endfor %}{% if add_generation_prompt %}{{'<start_of_turn>model
'}}{% endif %}`)}}class Grok1Tokenizer extends PreTrainedTokenizer{}function _build_translation_inputs(t,e,n,i){if(!("language_codes"in t)||!Array.isArray(t.language_codes))throw new Error("Tokenizer must have `language_codes` attribute set and it should be an array of language ids.");if(!("languageRegex"in t)||!(t.languageRegex instanceof RegExp))throw new Error("Tokenizer must have `languageRegex` attribute set and it should be a regular expression.");if(!("lang_to_token"in t)||typeof t.lang_to_token!="function")throw new Error("Tokenizer must have `lang_to_token` attribute set and it should be a function.");const l=i.src_lang,d=i.tgt_lang;if(!t.language_codes.includes(d))throw new Error(`Target language code "${d}" is not valid. Must be one of: {${t.language_codes.join(", ")}}`);if(l!==void 0){if(!t.language_codes.includes(l))throw new Error(`Source language code "${l}" is not valid. Must be one of: {${t.language_codes.join(", ")}}`);for(const f of t.post_processor.config.single)if("SpecialToken"in f&&t.languageRegex.test(f.SpecialToken.id)){f.SpecialToken.id=t.lang_to_token(l);break}}return i.forced_bos_token_id=t.model.convert_tokens_to_ids([t.lang_to_token(d)])[0],t._call(e,n)}class NllbTokenizer extends PreTrainedTokenizer{constructor(e,n){super(e,n),this.languageRegex=/^[a-z]{3}_[A-Z][a-z]{3}$/,this.language_codes=this.special_tokens.filter(i=>this.languageRegex.test(i)),this.lang_to_token=i=>i}_build_translation_inputs(e,n,i){return _build_translation_inputs(this,e,n,i)}}class M2M100Tokenizer extends PreTrainedTokenizer{constructor(e,n){super(e,n),this.languageRegex=/^__[a-z]{2,3}__$/,this.language_codes=this.special_tokens.filter(i=>this.languageRegex.test(i)).map(i=>i.slice(2,-2)),this.lang_to_token=i=>`__${i}__`}_build_translation_inputs(e,n,i){return _build_translation_inputs(this,e,n,i)}}const WHISPER_LANGUAGES=[["en","english"],["zh","chinese"],["de","german"],["es","spanish"],["ru","russian"],["ko","korean"],["fr","french"],["ja","japanese"],["pt","portuguese"],["tr","turkish"],["pl","polish"],["ca","catalan"],["nl","dutch"],["ar","arabic"],["sv","swedish"],["it","italian"],["id","indonesian"],["hi","hindi"],["fi","finnish"],["vi","vietnamese"],["he","hebrew"],["uk","ukrainian"],["el","greek"],["ms","malay"],["cs","czech"],["ro","romanian"],["da","danish"],["hu","hungarian"],["ta","tamil"],["no","norwegian"],["th","thai"],["ur","urdu"],["hr","croatian"],["bg","bulgarian"],["lt","lithuanian"],["la","latin"],["mi","maori"],["ml","malayalam"],["cy","welsh"],["sk","slovak"],["te","telugu"],["fa","persian"],["lv","latvian"],["bn","bengali"],["sr","serbian"],["az","azerbaijani"],["sl","slovenian"],["kn","kannada"],["et","estonian"],["mk","macedonian"],["br","breton"],["eu","basque"],["is","icelandic"],["hy","armenian"],["ne","nepali"],["mn","mongolian"],["bs","bosnian"],["kk","kazakh"],["sq","albanian"],["sw","swahili"],["gl","galician"],["mr","marathi"],["pa","punjabi"],["si","sinhala"],["km","khmer"],["sn","shona"],["yo","yoruba"],["so","somali"],["af","afrikaans"],["oc","occitan"],["ka","georgian"],["be","belarusian"],["tg","tajik"],["sd","sindhi"],["gu","gujarati"],["am","amharic"],["yi","yiddish"],["lo","lao"],["uz","uzbek"],["fo","faroese"],["ht","haitian creole"],["ps","pashto"],["tk","turkmen"],["nn","nynorsk"],["mt","maltese"],["sa","sanskrit"],["lb","luxembourgish"],["my","myanmar"],["bo","tibetan"],["tl","tagalog"],["mg","malagasy"],["as","assamese"],["tt","tatar"],["haw","hawaiian"],["ln","lingala"],["ha","hausa"],["ba","bashkir"],["jw","javanese"],["su","sundanese"]],WHISPER_LANGUAGE_MAPPING=new Map(WHISPER_LANGUAGES),WHISPER_TO_LANGUAGE_CODE_MAPPING=new Map([...WHISPER_LANGUAGES.map(([t,e])=>[e,t]),["burmese","my"],["valencian","ca"],["flemish","nl"],["haitian","ht"],["letzeburgesch","lb"],["pushto","ps"],["panjabi","pa"],["moldavian","ro"],["moldovan","ro"],["sinhalese","si"],["castilian","es"]]);class WhisperTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);Ie(this,"_default_chat_template",'{% for message in messages %}" "{{ message.content }}{{ eos_token }}" "{% endfor %}')}_decode_asr(n,{return_timestamps:i=!1,return_language:l=!1,time_precision:d=null,force_full_sequences:f=!0}={}){if(d===null)throw Error("Must specify time_precision");let b=null;const _=i==="word";function v(){return{language:b,timestamp:[null,null],text:""}}const m=[];let u=v(),o=0;const h=this.model.convert_tokens_to_ids(["<|notimestamps|>"])[0]+1;let w=[],E=[],T=!1,O=null;const M=new Set(this.all_special_ids);for(const D of n){const N=D.tokens,L=_?D.token_timestamps:null;let B=null,$=h;if("stride"in D){const[X,ee,Q]=D.stride;if(o-=ee,O=X-Q,ee&&($=ee/d+h),Q)for(let Y=N.length-1;Y>=0;--Y){const U=N[Y];if(U>=h){if(B!==null&&(U-h)*d<O)break;B=U}}}let V=[],G=[];for(let X=0;X<N.length;++X){const ee=N[X];if(M.has(ee)){const Q=this.decode([ee]),Y=WHISPER_LANGUAGE_MAPPING.get(Q.slice(2,-2));if(Y!==void 0){if(b!==null&&Y!==b&&!i){w.push(V);const U=this.findLongestCommonSequence(w)[0],q=this.decode(U);u.text=q,m.push(u),w=[],V=[],u=v()}b=u.language=Y}}else if(ee>=h){const Q=(ee-h)*d+o,Y=round$1(Q,2);if(B!==null&&ee>=B)T=!0;else if(T||w.length>0&&ee<$)T=!1;else if(u.timestamp[0]===null)u.timestamp[0]=Y;else if(Y!==u.timestamp[0]){u.timestamp[1]=Y,w.push(V),_&&E.push(G);const[U,q]=this.findLongestCommonSequence(w,E),le=this.decode(U);u.text=le,_&&(u.words=this.collateWordTimestamps(U,q,b)),m.push(u),w=[],V=[],E=[],G=[],u=v()}}else if(V.push(ee),_){let Q=round$1(L[X]+o,2),Y;X+1<L.length?Y=round$1(L[X+1]+o,2):Y=null,G.push([Q,Y])}}if("stride"in D){const[X,ee,Q]=D.stride;o+=X-Q}V.length>0?(w.push(V),_&&E.push(G)):w.every(X=>X.length===0)&&(u=v(),w=[],V=[],E=[],G=[])}if(w.length>0){if(f&&i)throw new Error("Whisper did not predict an ending timestamp, which can happen if audio is cut off in the middle of a word. Also make sure WhisperTimeStampLogitsProcessor was used during generation.");const[D,N]=this.findLongestCommonSequence(w,E),L=this.decode(D);u.text=L,_&&(u.words=this.collateWordTimestamps(D,N,b)),m.push(u)}let I=Object.create(null);const R=m.map(D=>D.text).join("");if(i||l){for(let D=0;D<m.length;++D){const N=m[D];i||delete N.timestamp,l||delete N.language}if(_){const D=[];for(const N of m)for(const L of N.words)D.push(L);I={chunks:D}}else I={chunks:m}}return[R,I]}findLongestCommonSequence(n,i=null){let l=n[0],d=l.length,f=[];const b=Array.isArray(i)&&i.length>0;let _=b?[]:null,v=b?i[0]:null;for(let m=1;m<n.length;++m){const u=n[m];let o=0,h=[d,d,0,0];const w=u.length;for(let D=1;D<d+w;++D){const N=D/1e4,L=Math.max(0,d-D),B=Math.min(d,d+w-D),$=l.slice(L,B),V=Math.max(0,D-d),G=Math.min(w,D),X=u.slice(V,G);if($.length!==X.length)throw new Error("There is a bug within whisper `decode_asr` function, please report it. Dropping to prevent bad inference.");const ee=$.filter((Y,U)=>Y===X[U]).length,Q=ee/D+N;ee>1&&Q>o&&(o=Q,h=[L,B,V,G])}const[E,T,O,M]=h,I=Math.floor((T+E)/2),R=Math.floor((M+O)/2);f.push(...l.slice(0,I)),l=u.slice(R),d=l.length,b&&(_.push(...v.slice(0,I)),v=i[m].slice(R))}return f.push(...l),b?(_.push(...v),[f,_]):[f,[]]}collateWordTimestamps(n,i,l){const[d,f,b]=this.combineTokensIntoWords(n,l),_=[];for(let v=0;v<d.length;++v){const m=b[v];_.push({text:d[v],timestamp:[i[m.at(0)][0],i[m.at(-1)][1]]})}return _}combineTokensIntoWords(n,i,l=`"'([{-`,d=`"'.,!?:)]}`){i=i??"english";let f,b,_;return["chinese","japanese","thai","lao","myanmar"].includes(i)?[f,b,_]=this.splitTokensOnUnicode(n):[f,b,_]=this.splitTokensOnSpaces(n),this.mergePunctuations(f,b,_,l,d)}decode(n,i){let l;return i&&i.decode_with_timestamps?(n instanceof Tensor&&(n=prepareTensorForDecode(n)),l=this.decodeWithTimestamps(n,i)):l=super.decode(n,i),l}decodeWithTimestamps(n,i){const l=(i==null?void 0:i.time_precision)??.02,d=Array.from(this.all_special_ids).at(-1)+1;let f=[[]];for(const b of n)if(b>=d){const _=round$1((b-d)*l,2);f.push(`<|${_}|>`),f.push([])}else f[f.length-1].push(b);return f=f.map(b=>typeof b=="string"?b:super.decode(b,i)),f.join("")}splitTokensOnUnicode(n){const i=this.decode(n,{decode_with_timestamps:!0}),l="",d=[],f=[],b=[];let _=[],v=[],m=0;for(let u=0;u<n.length;++u){const o=n[u];_.push(o),v.push(u);const h=this.decode(_,{decode_with_timestamps:!0});(!h.includes(l)||i[m+h.indexOf(l)]===l)&&(d.push(h),f.push(_),b.push(v),_=[],v=[],m+=h.length)}return[d,f,b]}splitTokensOnSpaces(n){const[i,l,d]=this.splitTokensOnUnicode(n),f=[],b=[],_=[],v=new RegExp(`^[${PUNCTUATION_REGEX}]$`,"gu");for(let m=0;m<i.length;++m){const u=i[m],o=l[m],h=d[m],w=o[0]>=this.model.tokens_to_ids.get("<|endoftext|>"),E=u.startsWith(" "),T=u.trim(),O=v.test(T);if(w||E||O||f.length===0)f.push(u),b.push(o),_.push(h);else{const M=f.length-1;f[M]+=u,b[M].push(...o),_[M].push(...h)}}return[f,b,_]}mergePunctuations(n,i,l,d,f){const b=structuredClone(n),_=structuredClone(i),v=structuredClone(l);let m=b.length-2,u=b.length-1;for(;m>=0;)b[m].startsWith(" ")&&d.includes(b[m].trim())?(b[u]=b[m]+b[u],_[u]=mergeArrays(_[m],_[u]),v[u]=mergeArrays(v[m],v[u]),b[m]="",_[m]=[],v[m]=[]):u=m,--m;for(m=0,u=1;u<b.length;)!b[m].endsWith(" ")&&f.includes(b[u])?(b[m]+=b[u],_[m]=mergeArrays(_[m],_[u]),v[m]=mergeArrays(v[m],v[u]),b[u]="",_[u]=[],v[u]=[]):m=u,++u;return[b.filter(o=>o),_.filter(o=>o.length>0),v.filter(o=>o.length>0)]}get_decoder_prompt_ids({language:n=null,task:i=null,no_timestamps:l=!0}={}){const d=[];if(n){n=n.toLowerCase();let f=WHISPER_TO_LANGUAGE_CODE_MAPPING.get(n);if(f===void 0)if(WHISPER_LANGUAGE_MAPPING.has(n))f=n;else{const v=n.length===2?WHISPER_LANGUAGE_MAPPING.keys():WHISPER_LANGUAGE_MAPPING.values();throw new Error(`Language "${n}" is not supported. Must be one of: ${JSON.stringify(v)}`)}const b=this.model.tokens_to_ids.get(`<|${f}|>`);if(b===void 0)throw new Error(`Unable to find language "${f}" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.`);d.push(b)}else d.push(null);if(i){if(i=i.toLowerCase(),i!=="transcribe"&&i!=="translate")throw new Error(`Task "${i}" is not supported. Must be one of: ["transcribe", "translate"]`);const f=this.model.tokens_to_ids.get(`<|${i}|>`);if(f===void 0)throw new Error(`Unable to find task "${i}" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.`);d.push(f)}else d.push(null);if(l){const f=this.model.tokens_to_ids.get("<|notimestamps|>");if(f===void 0)throw new Error('Unable to find "<|notimestamps|>" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.');d.push(f)}return d.map((f,b)=>[b+1,f]).filter(f=>f[1]!==null)}}class CodeGenTokenizer extends PreTrainedTokenizer{}class CLIPTokenizer extends PreTrainedTokenizer{}class SiglipTokenizer extends PreTrainedTokenizer{}class MarianTokenizer extends PreTrainedTokenizer{constructor(e,n){super(e,n),this.languageRegex=/^(>>\w+<<)\s*/g,this.supported_language_codes=this.model.vocab.filter(i=>this.languageRegex.test(i)),console.warn('WARNING: `MarianTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}_encode_text(e){if(e===null)return null;const[n,...i]=e.trim().split(this.languageRegex);if(i.length===0)return super._encode_text(n);if(i.length===2){const[l,d]=i;return this.supported_language_codes.includes(l)||console.warn(`Unsupported language code "${l}" detected, which may lead to unexpected behavior. Should be one of: ${JSON.stringify(this.supported_language_codes)}`),mergeArrays([l],super._encode_text(d))}}}class Wav2Vec2CTCTokenizer extends PreTrainedTokenizer{}class BlenderbotTokenizer extends PreTrainedTokenizer{constructor(){super(...arguments);Ie(this,"_default_chat_template","{% for message in messages %}{% if message['role'] == 'user' %}{{ ' ' }}{% endif %}{{ message['content'] }}{% if not loop.last %}{{ '  ' }}{% endif %}{% endfor %}{{ eos_token }}")}}class BlenderbotSmallTokenizer extends BlenderbotTokenizer{}class SpeechT5Tokenizer extends PreTrainedTokenizer{}class NougatTokenizer extends PreTrainedTokenizer{}class VitsTokenizer extends PreTrainedTokenizer{constructor(e,n){super(e,n),this.decoder=new VitsDecoder({})}}class CohereTokenizer extends PreTrainedTokenizer{}class AutoTokenizer{static async from_pretrained(e,{quantized:n=!0,progress_callback:i=null,config:l=null,cache_dir:d=null,local_files_only:f=!1,revision:b="main",legacy:_=null}={}){var h;const[v,m]=await loadTokenizer(e,{progress_callback:i,cache_dir:d,local_files_only:f,revision:b,legacy:_}),u=((h=m.tokenizer_class)==null?void 0:h.replace(/Fast$/,""))??"PreTrainedTokenizer";let o=this.TOKENIZER_CLASS_MAPPING[u];return o||(console.warn(`Unknown tokenizer class "${u}", attempting to construct from base class.`),o=PreTrainedTokenizer),new o(v,m)}}Ie(AutoTokenizer,"TOKENIZER_CLASS_MAPPING",{T5Tokenizer,DistilBertTokenizer,CamembertTokenizer,DebertaTokenizer,DebertaV2Tokenizer,BertTokenizer,HerbertTokenizer,ConvBertTokenizer,RoFormerTokenizer,XLMTokenizer,ElectraTokenizer,MobileBertTokenizer,SqueezeBertTokenizer,AlbertTokenizer,GPT2Tokenizer,BartTokenizer,MBartTokenizer,MBart50Tokenizer,RobertaTokenizer,WhisperTokenizer,CodeGenTokenizer,CLIPTokenizer,SiglipTokenizer,MarianTokenizer,BloomTokenizer,NllbTokenizer,M2M100Tokenizer,LlamaTokenizer,CodeLlamaTokenizer,XLMRobertaTokenizer,MPNetTokenizer,FalconTokenizer,GPTNeoXTokenizer,EsmTokenizer,Wav2Vec2CTCTokenizer,BlenderbotTokenizer,BlenderbotSmallTokenizer,SpeechT5Tokenizer,NougatTokenizer,VitsTokenizer,Qwen2Tokenizer,GemmaTokenizer,Grok1Tokenizer,CohereTokenizer,PreTrainedTokenizer});async function loadConfig(t,e){return await getModelJSON(t,"config.json",!0,e)}class PretrainedConfig{constructor(e){this.model_type=null,this.is_encoder_decoder=!1,Object.assign(this,e)}static async from_pretrained(e,{progress_callback:n=null,config:i=null,cache_dir:l=null,local_files_only:d=!1,revision:f="main"}={}){let b=i??await loadConfig(e,{progress_callback:n,cache_dir:l,local_files_only:d,revision:f});return new this(b)}}class AutoConfig{static async from_pretrained(...e){return PretrainedConfig.from_pretrained(...e)}}class LogitsProcessorList extends Callable{constructor(){super(),this.processors=[]}push(e){this.processors.push(e)}extend(e){this.processors.push(...e)}_call(e,n){for(let i of n)this.processors.forEach(l=>l(e,i))}[Symbol.iterator](){return this.processors.values()}}class LogitsProcessor extends Callable{_call(e,n){throw Error("`_call` should be implemented in a subclass")}}class ForceTokensLogitsProcessor extends LogitsProcessor{constructor(e){super(),this.force_token_map=Object.fromEntries(e??[])}_call(e,n){let i=this.force_token_map[e.length];return exists(i)&&(n.data.fill(-1/0),n.data[i]=0),n}}class ForcedBOSTokenLogitsProcessor extends LogitsProcessor{constructor(e){super(),this.bos_token_id=e}_call(e,n){return e.length===1&&(n.data.fill(-1/0),n.data[this.bos_token_id]=0),n}}class ForcedEOSTokenLogitsProcessor extends LogitsProcessor{constructor(e,n){super(),this.max_length=e,this.forced_eos_token_id=n}_call(e,n){}}class SuppressTokensAtBeginLogitsProcessor extends LogitsProcessor{constructor(e,n){super(),this.begin_suppress_tokens=e,this.begin_index=n}_call(e,n){if(e.length===this.begin_index)for(let i of this.begin_suppress_tokens)n.data[i]=-1/0;return n}}class WhisperTimeStampLogitsProcessor extends LogitsProcessor{constructor(e){super(),this.eos_token_id=e.eos_token_id,this.no_timestamps_token_id=e.no_timestamps_token_id,this.timestamp_begin=this.no_timestamps_token_id+1,this.begin_index=(e.forced_decoder_ids||[]).length+2,e.forced_decoder_ids.slice(-1)[0][1]===this.no_timestamps_token_id&&(this.begin_index-=1),this.max_initial_timestamp_index=e.max_initial_timestamp_index}_call(e,n){const i=n.data;if(i[this.no_timestamps_token_id]=-1/0,e.length===this.begin_index-1)return i.fill(-1/0),i[this.timestamp_begin]=0,n;const l=e.slice(this.begin_index),d=l.length>=1&&l[l.length-1]>=this.timestamp_begin,f=l.length<2||l[l.length-2]>=this.timestamp_begin;if(d&&(f?i.subarray(this.timestamp_begin).fill(-1/0):i.subarray(0,this.eos_token_id).fill(-1/0)),e.length===this.begin_index&&this.max_initial_timestamp_index!==null){const m=this.timestamp_begin+this.max_initial_timestamp_index;i.subarray(m+1).fill(-1/0)}const b=log_softmax(i),_=Math.log(b.subarray(this.timestamp_begin).map(Math.exp).reduce((m,u)=>m+u)),v=max$1(b.subarray(0,this.timestamp_begin))[0];return _>v&&i.subarray(0,this.timestamp_begin).fill(-1/0),n}}class NoRepeatNGramLogitsProcessor extends LogitsProcessor{constructor(e){super(),this.no_repeat_ngram_size=e}getNgrams(e){const n=e.length,i=[];for(let d=0;d<n+1-this.no_repeat_ngram_size;++d){const f=[];for(let b=0;b<this.no_repeat_ngram_size;++b)f.push(e[d+b]);i.push(f)}const l=new Map;for(const d of i){const f=d.slice(0,d.length-1),b=JSON.stringify(f),_=l.get(b)??[];_.push(d[d.length-1]),l.set(b,_)}return l}getGeneratedNgrams(e,n){const i=n.slice(n.length+1-this.no_repeat_ngram_size,n.length);return e.get(JSON.stringify(i))??[]}calcBannedNgramTokens(e){const n=[];if(e.length+1<this.no_repeat_ngram_size)return n;{const i=this.getNgrams(e);return this.getGeneratedNgrams(i,e)}}_call(e,n){const i=this.calcBannedNgramTokens(e);for(const l of i)n.data[l]=-1/0;return n}}class RepetitionPenaltyLogitsProcessor extends LogitsProcessor{constructor(e){super(),this.penalty=e}_call(e,n){for(const i of e)n.data[i]<0?n.data[i]*=this.penalty:n.data[i]/=this.penalty;return n}}class MinLengthLogitsProcessor extends LogitsProcessor{constructor(e,n){super(),this.min_length=e,this.eos_token_id=Array.isArray(n)?n:[n]}_call(e,n){if(e.length<this.min_length)for(const i of this.eos_token_id)n.data[i]=-1/0;return n}}class MinNewTokensLengthLogitsProcessor extends LogitsProcessor{constructor(e,n,i){super(),this.prompt_length_to_skip=e,this.min_new_tokens=n,this.eos_token_id=Array.isArray(i)?i:[i]}_call(e,n){if(e.length-this.prompt_length_to_skip<this.min_new_tokens)for(const l of this.eos_token_id)n.data[l]=-1/0;return n}}class NoBadWordsLogitsProcessor extends LogitsProcessor{constructor(e,n){super(),this.bad_words_ids=e,this.eos_token_id=Array.isArray(n)?n:[n]}_call(e,n){for(const i of this.bad_words_ids){let l=!0;for(let d=1;d<=i.length-1&&i.length<e.length;++d)if(i.at(-d-1)!==e.at(-d)){l=!1;break}l&&(n.data[i.at(-1)]=-1/0)}return n}}const GenerationConfig=class{constructor(t={}){this.max_length=t.max_length??20,this.max_new_tokens=t.max_new_tokens??null,this.min_length=t.min_length??0,this.min_new_tokens=t.min_new_tokens??null,this.early_stopping=t.early_stopping??!1,this.max_time=t.max_time??null,this.do_sample=t.do_sample??!1,this.num_beams=t.num_beams??1,this.num_beam_groups=t.num_beam_groups??1,this.penalty_alpha=t.penalty_alpha??null,this.use_cache=t.use_cache??!0,this.temperature=t.temperature??1,this.top_k=t.top_k??50,this.top_p=t.top_p??1,this.typical_p=t.typical_p??1,this.epsilon_cutoff=t.epsilon_cutoff??0,this.eta_cutoff=t.eta_cutoff??0,this.diversity_penalty=t.diversity_penalty??0,this.repetition_penalty=t.repetition_penalty??1,this.encoder_repetition_penalty=t.encoder_repetition_penalty??1,this.length_penalty=t.length_penalty??1,this.no_repeat_ngram_size=t.no_repeat_ngram_size??0,this.bad_words_ids=t.bad_words_ids??null,this.force_words_ids=t.force_words_ids??null,this.renormalize_logits=t.renormalize_logits??!1,this.constraints=t.constraints??null,this.forced_bos_token_id=t.forced_bos_token_id??null,this.forced_eos_token_id=t.forced_eos_token_id??null,this.remove_invalid_values=t.remove_invalid_values??!1,this.exponential_decay_length_penalty=t.exponential_decay_length_penalty??null,this.suppress_tokens=t.suppress_tokens??null,this.begin_suppress_tokens=t.begin_suppress_tokens??null,this.forced_decoder_ids=t.forced_decoder_ids??null,this.num_return_sequences=t.num_return_sequences??1,this.output_attentions=t.output_attentions??!1,this.output_hidden_states=t.output_hidden_states??!1,this.output_scores=t.output_scores??!1,this.return_dict_in_generate=t.return_dict_in_generate??!1,this.pad_token_id=t.pad_token_id??null,this.bos_token_id=t.bos_token_id??null,this.eos_token_id=t.eos_token_id??null,this.encoder_no_repeat_ngram_size=t.encoder_no_repeat_ngram_size??0,this.decoder_start_token_id=t.decoder_start_token_id??null,this.generation_kwargs=t.generation_kwargs??{}}};class Sampler extends Callable{constructor(e){super(),this.generation_config=e}_call(e,n=-1){return this.sample(e,n)}sample(e,n){throw Error("sample should be implemented in subclasses.")}getLogits(e,n){let i=e.dims.at(-1),l=e.data;if(n===-1)l=l.slice(-i);else{let d=n*i;l=l.slice(d,d+i)}return this.generation_config.temperature>0&&(l=l.map(d=>d/this.generation_config.temperature)),l}randomSelect(e){let n=e.reduce((l,d)=>l+d,0),i=Math.random()*n;for(let l=0;l<e.length;++l)if(i-=e[l],i<=0)return l;return 0}static getSampler(e){if(e.do_sample)return new MultinomialSampler(e);if(e.num_beams>1)return new BeamSearchSampler(e);if(e.num_return_sequences>1)throw Error(`num_return_sequences has to be 1 when doing greedy search, but is ${e.num_return_sequences}.`);return new GreedySampler(e)}}class GreedySampler extends Sampler{sample(e,n=-1){let i=this.getLogits(e,n);return[[max$1(i)[1],0]]}}class MultinomialSampler extends Sampler{sample(e,n=-1){let i=e.dims.at(-1);this.generation_config.top_k>0&&(i=Math.min(this.generation_config.top_k,i));const l=this.getLogits(e,n),d=getTopItems(l,i),f=softmax(d.map(b=>b[1]));return Array.from({length:this.generation_config.num_beams},()=>{const b=this.randomSelect(f);return[d[b][0],Math.log(f[b])]})}}class BeamSearchSampler extends Sampler{sample(e,n=-1){let i=e.dims.at(-1);this.generation_config.top_k>0&&(i=Math.min(this.generation_config.top_k,i));const l=this.getLogits(e,n),d=getTopItems(l,i),f=softmax(d.map(b=>b[1]));return Array.from({length:this.generation_config.num_beams},(b,_)=>[d[_][0],Math.log(f[_])])}}const{InferenceSession,Tensor:ONNXTensor,env}=ONNX,MODEL_TYPES={EncoderOnly:0,EncoderDecoder:1,Seq2Seq:2,Vision2Seq:3,DecoderOnly:4,MaskGeneration:5},MODEL_TYPE_MAPPING=new Map,MODEL_NAME_TO_CLASS_MAPPING=new Map,MODEL_CLASS_TO_NAME_MAPPING=new Map;async function constructSession(t,e,n){let i=`onnx/${e}${n.quantized?"_quantized":""}.onnx`,l=await getModelFile(t,i,!0,n);try{return await InferenceSession.create(l,{executionProviders})}catch(d){if(executionProviders.length===1&&executionProviders[0]==="wasm")throw d;return console.warn(d),console.warn("Something went wrong during model construction (most likely a missing operation). Using `wasm` as a fallback. "),await InferenceSession.create(l,{executionProviders:["wasm"]})}}function validateInputs(t,e){const n=Object.create(null),i=[];for(const f of t.inputNames){const b=e[f];if(!(b instanceof Tensor)){i.push(f);continue}n[f]=env.wasm.proxy?b.clone():b}if(i.length>0)throw new Error(`An error occurred during model execution: "Missing the following inputs: ${i.join(", ")}.`);const l=Object.keys(e).length,d=t.inputNames.length;if(l>d){let f=Object.keys(e).filter(b=>!t.inputNames.includes(b));console.warn(`WARNING: Too many inputs were provided (${l} > ${d}). The following inputs will be ignored: "${f.join(", ")}".`)}return n}async function sessionRun(t,e){const n=validateInputs(t,e);try{let i=await t.run(n);return i=replaceTensors(i),i}catch(i){throw console.error(`An error occurred during model execution: "${i}".`),console.error("Inputs given to model:",n),i}}function replaceTensors(t){for(let e in t)t[e]instanceof ONNXTensor?t[e]=new Tensor(t[e]):typeof t[e]=="object"&&replaceTensors(t[e]);return t}function toI64Tensor(t){if(t instanceof Tensor)return t;if(t.length===0)throw Error("items must be non-empty");if(Array.isArray(t[0])){if(t.some(e=>e.length!==t[0].length))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=True' and/or 'truncation=True' to have batched tensors with the same length.");return new Tensor("int64",BigInt64Array.from(t.flat().map(e=>BigInt(e))),[t.length,t[0].length])}else return new Tensor("int64",BigInt64Array.from(t.map(e=>BigInt(e))),[1,t.length])}function prepareAttentionMask(t,e){let n=t.config.pad_token_id??null,i=t.config.eos_token_id??null;isIntegralNumber(i)&&(i=[i]);let l=e.indexOf(n)!==-1,d=i===null||!i.includes(n);if(l&&d){let f=BigInt64Array.from(e.data.map(b=>b!=n));return new Tensor("int64",f,e.dims)}else return ones_like(e)}function preparePositionIds(t,e,n){if(!t.inputNames.includes("position_ids"))return;const i=new BigInt64Array(e.attention_mask.data.length);for(let l=0;l<e.attention_mask.dims[0];++l){let d=l*e.attention_mask.dims[1],f=BigInt(0);for(let b=0;b<e.attention_mask.dims[1];++b){const _=d+b;e.attention_mask.data[_]===0n?i[_]=BigInt(1):(i[_]=f,f+=e.attention_mask.data[_])}}e.position_ids=new Tensor("int64",i,e.attention_mask.dims),n&&(e.position_ids=e.position_ids.slice(null,-1).unsqueeze_(-1))}function boolTensor(t){return new Tensor("bool",[t],[1])}async function seq2seqForward(t,e){let{encoder_outputs:n,past_key_values:i}=e;n||(n=(await encoderForward(t,e)).last_hidden_state);let l={input_ids:e.decoder_input_ids,encoder_hidden_states:n};const d=!!i;t.decoder_merged_session.inputNames.includes("use_cache_branch")&&(l.use_cache_branch=boolTensor(d)),t.decoder_merged_session.inputNames.includes("encoder_attention_mask")&&(l.encoder_attention_mask=e.attention_mask),preparePositionIds(t.decoder_merged_session,l,d),t.addPastKeyValues(l,i);const f=await sessionRun(t.decoder_merged_session,l);let b=f.logits;i=t.getPastKeyValues(f,i);const _=t.getAttentions(f);return new Seq2SeqLMOutput({logits:b,past_key_values:i,encoder_outputs:n,..._})}function seq2seqStartBeams(t,e,n,i){let l=[],d=0;const f=t.requires_attention_mask??!0;let b=n.decoder_input_ids??n.decoder_start_token_id??n.bos_token_id??n.eos_token_id;b instanceof Tensor?b=b.tolist().flat():Array.isArray(b)||(b=[b]);for(let _ of e){_.dims=[1,..._.dims];let v={inputs:_,encoder_outputs:null,prev_model_outputs:null,output_token_ids:b,done:!1,score:0,id:d++};f&&(v.attention_mask=prepareAttentionMask(t,_)),l.push(v)}return l}async function seq2seqRunBeam(t,e){var f;const n=t.main_input_name;let i=e.output_token_ids;e.prev_model_outputs&&(i=i.slice(-1));let l={[n]:e.inputs,decoder_input_ids:toI64Tensor(i),encoder_outputs:e.encoder_outputs,past_key_values:(f=e.prev_model_outputs)==null?void 0:f.past_key_values};e.attention_mask&&(l.attention_mask=e.attention_mask);let d=await t.forward(l);return e.prev_model_outputs=d,e.encoder_outputs=d.encoder_outputs,d}function seq2seqUpdatebeam(t,e){t.output_token_ids=[...t.output_token_ids,e]}async function encoderForward(t,e){const n=Object.create(null);for(const i of t.session.inputNames)n[i]=e[i];return t.session.inputNames.includes("token_type_ids")&&!n.token_type_ids&&(n.token_type_ids=new Tensor("int64",new BigInt64Array(n.input_ids.data.length),n.input_ids.dims)),await sessionRun(t.session,n)}async function decoderForward(t,e){let{input_ids:n,past_key_values:i,attention_mask:l}=e,d={input_ids:n,attention_mask:l??prepareAttentionMask(t,n)};const f=!!i;t.session.inputNames.includes("use_cache_branch")&&(d.use_cache_branch=boolTensor(f)),preparePositionIds(t.session,d,f),t.addPastKeyValues(d,i);let b=await sessionRun(t.session,d),_=b.logits;return i=t.getPastKeyValues(b,i),{logits:_,past_key_values:i}}function decoderStartBeams(t,e,n,i,l){let d=[],f=0;for(let b of e){let _=b.tolist().map(Number);b.dims=[1,...b.dims];let v;l?(v=l[f],v.dims=[1,...v.dims]):v=prepareAttentionMask(t,b);let m={input:b,model_input_ids:b,attention_mask:v,prev_model_outputs:null,output_token_ids:_,num_output_tokens:i,done:!1,score:0,id:f++};d.push(m)}return d}async function decoderRunBeam(t,e){var d;let n=new BigInt64Array(e.output_token_ids.length).fill(1n),i={input_ids:e.model_input_ids,attention_mask:new Tensor("int64",n,[1,n.length]),past_key_values:(d=e.prev_model_outputs)==null?void 0:d.past_key_values},l=await t.forward(i);return e.prev_model_outputs=l,l}function decoderUpdatebeam(t,e){t.output_token_ids=[...t.output_token_ids,e],t.model_input_ids=new Tensor("int64",[BigInt(e)],[1,1])}class PreTrainedModel extends Callable{constructor(n,i){super();Ie(this,"main_input_name","input_ids");this.config=n,this.session=i;const l=MODEL_CLASS_TO_NAME_MAPPING.get(this.constructor),d=MODEL_TYPE_MAPPING.get(l);this.can_generate=!1,this._runBeam=null,this._getStartBeams=null,this._updateBeam=null,this._forward=null,d===MODEL_TYPES.DecoderOnly?(this.can_generate=!0,this._runBeam=decoderRunBeam,this._getStartBeams=decoderStartBeams,this._updateBeam=decoderUpdatebeam,this._forward=decoderForward):d===MODEL_TYPES.Seq2Seq||d===MODEL_TYPES.Vision2Seq?(this.can_generate=!0,this._runBeam=seq2seqRunBeam,this._getStartBeams=seq2seqStartBeams,this._updateBeam=seq2seqUpdatebeam,this._forward=seq2seqForward):d===MODEL_TYPES.EncoderDecoder?this._forward=encoderForward:this._forward=encoderForward}async dispose(){const n=[];for(let i of Object.keys(this)){const l=this[i];l instanceof InferenceSession&&n.push(l.handler.dispose())}return await Promise.all(n)}static async from_pretrained(n,{quantized:i=!0,progress_callback:l=null,config:d=null,cache_dir:f=null,local_files_only:b=!1,revision:_="main",model_file_name:v=null}={}){let m={quantized:i,progress_callback:l,config:d,cache_dir:f,local_files_only:b,revision:_,model_file_name:v};const u=MODEL_CLASS_TO_NAME_MAPPING.get(this),o=MODEL_TYPE_MAPPING.get(u);let h;return o===MODEL_TYPES.DecoderOnly?h=await Promise.all([AutoConfig.from_pretrained(n,m),constructSession(n,m.model_file_name??"decoder_model_merged",m),getModelJSON(n,"generation_config.json",!1,m)]):o===MODEL_TYPES.Seq2Seq||o===MODEL_TYPES.Vision2Seq?h=await Promise.all([AutoConfig.from_pretrained(n,m),constructSession(n,"encoder_model",m),constructSession(n,"decoder_model_merged",m),getModelJSON(n,"generation_config.json",!1,m)]):o===MODEL_TYPES.MaskGeneration?h=await Promise.all([AutoConfig.from_pretrained(n,m),constructSession(n,"vision_encoder",m),constructSession(n,"prompt_encoder_mask_decoder",m)]):o===MODEL_TYPES.EncoderDecoder?h=await Promise.all([AutoConfig.from_pretrained(n,m),constructSession(n,"encoder_model",m),constructSession(n,"decoder_model_merged",m)]):(o!==MODEL_TYPES.EncoderOnly&&console.warn(`Model type for '${u??(d==null?void 0:d.model_type)}' not found, assuming encoder-only architecture. Please report this at https://github.com/xenova/transformers.js/issues/new/choose.`),h=await Promise.all([AutoConfig.from_pretrained(n,m),constructSession(n,m.model_file_name??"model",m)])),new this(...h)}async _call(n){return await this.forward(n)}async forward(n){return await this._forward(this,n)}_get_logits_processor(n,i,l=null){const d=new LogitsProcessorList;if(n.repetition_penalty!==null&&n.repetition_penalty!==1&&d.push(new RepetitionPenaltyLogitsProcessor(n.repetition_penalty)),n.no_repeat_ngram_size!==null&&n.no_repeat_ngram_size>0&&d.push(new NoRepeatNGramLogitsProcessor(n.no_repeat_ngram_size)),n.bad_words_ids!==null&&d.push(new NoBadWordsLogitsProcessor(n.bad_words_ids,n.eos_token_id)),n.min_length!==null&&n.eos_token_id!==null&&n.min_length>0&&d.push(new MinLengthLogitsProcessor(n.min_length,n.eos_token_id)),n.min_new_tokens!==null&&n.eos_token_id!==null&&n.min_new_tokens>0&&d.push(new MinNewTokensLengthLogitsProcessor(i,n.min_new_tokens,n.eos_token_id)),n.forced_bos_token_id!==null&&d.push(new ForcedBOSTokenLogitsProcessor(n.forced_bos_token_id)),n.forced_eos_token_id!==null&&d.push(new ForcedEOSTokenLogitsProcessor(n.max_length,n.forced_eos_token_id)),n.begin_suppress_tokens!==null){let f=i>1||n.forced_bos_token_id===null?i:i+1;n.forced_decoder_ids!==null&&(f+=n.forced_decoder_ids[n.forced_decoder_ids.length-1][0]),d.push(new SuppressTokensAtBeginLogitsProcessor(n.begin_suppress_tokens,f))}return n.forced_decoder_ids!==null&&d.push(new ForceTokensLogitsProcessor(n.forced_decoder_ids)),l!==null&&d.extend(l),d}_get_generation_config(n){let i=new GenerationConfig(this.config);return"generation_config"in this&&Object.assign(i,this.generation_config),n!==null&&Object.assign(i,n),i}async generate(n,i=null,l=null,{inputs_attention_mask:d=null}={}){if(!this.can_generate){let O=`The current model class (${MODEL_CLASS_TO_NAME_MAPPING.get(this.constructor)}) is not compatible with \`.generate()\`, as it doesn't have a language model head.`;const M=this.config.model_type,I=MODEL_WITH_LM_HEAD_MAPPING_NAMES.get(M)??MODEL_FOR_SEQ_TO_SEQ_CAUSAL_LM_MAPPING_NAMES.get(M)??MODEL_FOR_SPEECH_SEQ_2_SEQ_MAPPING_NAMES.get(M)??MODEL_FOR_VISION_2_SEQ_MAPPING_NAMES.get(M);throw I&&(O+=` Please use the following class instead: '${I[0]}'`),Error(O)}if(!(n instanceof Tensor)&&!isTypedArray$1(n)&&!Array.isArray(n))throw Error(`\`inputs\` must be a Tensor, TypedArray, or Array, but is "${n.constructor.name}".`);let f;if(this.config.is_encoder_decoder)f=0;else if(f=n instanceof Tensor?n.dims.at(-1):n.length,f===0)throw Error("Must supply a non-empty array of input token ids.");i=this._get_generation_config(i),l=l??new LogitsProcessorList,l=this._get_logits_processor(i,f,l);let b=i.eos_token_id;b!==null&&!Array.isArray(b)&&(b=[b]);let _=1;const v=_+(i.max_new_tokens??1/0),m=Number.isInteger(i.max_length)&&(i.max_new_tokens??null)===null;let u=Sampler.getSampler(i),o=this.getStartBeams(n,i,_,d);for(;o.some(T=>!T.done)&&_<v;){let T=[];for(let O of o){if(O.done){T.push(O);continue}if(m&&O.output_token_ids.length>=i.max_length){O.done=!0,T.push(O);continue}let M=await this.runBeam(O);i.output_attentions&&this.addAttentionsToBeam(O,M),i.output_scores;let I=M.logits.slice(null,-1,null);l(O.output_token_ids,I);let R=u(I);for(let[D,N]of R){let L={...O};this.updateBeam(L,D),L.score+=N,b&&b.includes(D)&&(L.done=!0),T.push(L)}}++_,T=this.groupBeams(T).map(O=>O.sort((M,I)=>I.score-M.score).slice(0,i.num_beams)),o=T.flat(),i.callback_function&&i.callback_function(o)}const h=this.groupBeams(o),w=T=>h.map(O=>i.num_return_sequences>1?O.slice(0,i.num_return_sequences).map(M=>M[T]):[O[0][T]]).flat(),E=w("output_token_ids");if(i.return_dict_in_generate){const T=w("decoder_attentions"),O=w("cross_attentions");return{sequences:E,decoder_attentions:T,cross_attentions:O}}else return E}addAttentionsToBeam(n,i){if(this.config.is_encoder_decoder){if(!i.cross_attentions||i.cross_attentions.length===0)throw Error("`output_attentions` is true, but the model did not produce cross-attentions. This is most likely because the model was not exported with `output_attentions=True`.");n.cross_attentions||(n.cross_attentions=[]),n.cross_attentions.push(i.cross_attentions)}if(!i.decoder_attentions||i.decoder_attentions.length===0)throw Error("`output_attentions` is true, but the model did not produce decoder-attentions. This is most likely because the model was not exported with `output_attentions=True`.");n.decoder_attentions||(n.decoder_attentions=[]),n.decoder_attentions.push(i.decoder_attentions)}groupBeams(n){const i=Object.create(null);for(const l of n)i[l.id]===void 0?i[l.id]=[l]:i[l.id].push(l);return Object.values(i)}getPastKeyValues(n,i){const l=Object.create(null);for(const d in n)if(d.startsWith("present")){let f=d.replace("present","past_key_values");i&&d.includes("encoder")?l[f]=i[f]:l[f]=n[d]}return l}getAttentions(n){const i=Object.create(null);for(const l of["cross_attentions","decoder_attentions"]){const d=[];for(const f in n)if(f.startsWith(l)){const b=f.split(".").pop();d[b]=n[f]}i[l]=d}return i}addPastKeyValues(n,i){if(i)Object.assign(n,i);else if(this.config.is_encoder_decoder&&(this.add_encoder_pkv??!0)){let d=[1,this.num_encoder_heads,0,this.encoder_dim_kv],f=[1,this.num_decoder_heads,0,this.decoder_dim_kv];for(let b=0;b<this.num_decoder_layers;++b)n[`past_key_values.${b}.encoder.key`]=new Tensor("float32",[],d),n[`past_key_values.${b}.encoder.value`]=new Tensor("float32",[],d),n[`past_key_values.${b}.decoder.key`]=new Tensor("float32",[],f),n[`past_key_values.${b}.decoder.value`]=new Tensor("float32",[],f)}else if(this.config.model_type==="falcon"){let d=[1*this.num_heads,0,this.dim_kv];for(let f=0;f<this.num_layers;++f)n[`past_key_values.${f}.key`]=new Tensor("float32",[],d),n[`past_key_values.${f}.value`]=new Tensor("float32",[],d)}else if(this.config.multi_query){let d=[1*this.num_heads,0,2*this.dim_kv];for(let f=0;f<this.num_layers;++f)n[`past_key_values.${f}.key_value`]=new Tensor("float32",[],d)}else if(this.config.model_type==="bloom"){let d=[1*this.num_heads,this.dim_kv,0],f=[1*this.num_heads,0,this.dim_kv];for(let b=0;b<this.num_layers;++b)n[`past_key_values.${b}.key`]=new Tensor("float32",[],d),n[`past_key_values.${b}.value`]=new Tensor("float32",[],f)}else{let d=[1,this.num_heads,0,this.dim_kv];for(let f=0;f<this.num_layers;++f)n[`past_key_values.${f}.key`]=new Tensor("float32",[],d),n[`past_key_values.${f}.value`]=new Tensor("float32",[],d)}}getStartBeams(n,i,l,d){return this._getStartBeams(this,n,i,l,d)}async runBeam(n){return await this._runBeam(this,n)}updateBeam(n,i){return this._updateBeam(n,i)}}class ModelOutput{}class BaseModelOutput extends ModelOutput{constructor({last_hidden_state:e,hidden_states:n=null,attentions:i=null}){super(),this.last_hidden_state=e,this.hidden_states=n,this.attentions=i}}class BertPreTrainedModel extends PreTrainedModel{}class BertModel extends BertPreTrainedModel{}class BertForMaskedLM extends BertPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class BertForSequenceClassification extends BertPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class BertForTokenClassification extends BertPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class BertForQuestionAnswering extends BertPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class NomicBertPreTrainedModel extends PreTrainedModel{}class NomicBertModel extends NomicBertPreTrainedModel{}class RoFormerPreTrainedModel extends PreTrainedModel{}class RoFormerModel extends RoFormerPreTrainedModel{}class RoFormerForMaskedLM extends RoFormerPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class RoFormerForSequenceClassification extends RoFormerPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class RoFormerForTokenClassification extends RoFormerPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class RoFormerForQuestionAnswering extends RoFormerPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class ConvBertPreTrainedModel extends PreTrainedModel{}class ConvBertModel extends ConvBertPreTrainedModel{}class ConvBertForMaskedLM extends ConvBertPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class ConvBertForSequenceClassification extends ConvBertPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class ConvBertForTokenClassification extends ConvBertPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class ConvBertForQuestionAnswering extends ConvBertPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class ElectraPreTrainedModel extends PreTrainedModel{}class ElectraModel extends ElectraPreTrainedModel{}class ElectraForMaskedLM extends ElectraPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class ElectraForSequenceClassification extends ElectraPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class ElectraForTokenClassification extends ElectraPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class ElectraForQuestionAnswering extends ElectraPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class CamembertPreTrainedModel extends PreTrainedModel{}class CamembertModel extends CamembertPreTrainedModel{}class CamembertForMaskedLM extends CamembertPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class CamembertForSequenceClassification extends CamembertPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class CamembertForTokenClassification extends CamembertPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class CamembertForQuestionAnswering extends CamembertPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class DebertaPreTrainedModel extends PreTrainedModel{}class DebertaModel extends DebertaPreTrainedModel{}class DebertaForMaskedLM extends DebertaPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class DebertaForSequenceClassification extends DebertaPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class DebertaForTokenClassification extends DebertaPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class DebertaForQuestionAnswering extends DebertaPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class DebertaV2PreTrainedModel extends PreTrainedModel{}class DebertaV2Model extends DebertaV2PreTrainedModel{}class DebertaV2ForMaskedLM extends DebertaV2PreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class DebertaV2ForSequenceClassification extends DebertaV2PreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class DebertaV2ForTokenClassification extends DebertaV2PreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class DebertaV2ForQuestionAnswering extends DebertaV2PreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class DistilBertPreTrainedModel extends PreTrainedModel{}class DistilBertModel extends DistilBertPreTrainedModel{}class DistilBertForSequenceClassification extends DistilBertPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class DistilBertForTokenClassification extends DistilBertPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class DistilBertForQuestionAnswering extends DistilBertPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class DistilBertForMaskedLM extends DistilBertPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class EsmPreTrainedModel extends PreTrainedModel{}class EsmModel extends EsmPreTrainedModel{}class EsmForMaskedLM extends EsmPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class EsmForSequenceClassification extends EsmPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class EsmForTokenClassification extends EsmPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class MobileBertPreTrainedModel extends PreTrainedModel{}class MobileBertModel extends MobileBertPreTrainedModel{}class MobileBertForMaskedLM extends MobileBertPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class MobileBertForSequenceClassification extends MobileBertPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class MobileBertForQuestionAnswering extends MobileBertPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class MPNetPreTrainedModel extends PreTrainedModel{}class MPNetModel extends MPNetPreTrainedModel{}class MPNetForMaskedLM extends MPNetPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class MPNetForSequenceClassification extends MPNetPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class MPNetForTokenClassification extends MPNetPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class MPNetForQuestionAnswering extends MPNetPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class SqueezeBertPreTrainedModel extends PreTrainedModel{}class SqueezeBertModel extends SqueezeBertPreTrainedModel{}class SqueezeBertForMaskedLM extends SqueezeBertPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class SqueezeBertForSequenceClassification extends SqueezeBertPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class SqueezeBertForQuestionAnswering extends SqueezeBertPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class AlbertPreTrainedModel extends PreTrainedModel{}class AlbertModel extends AlbertPreTrainedModel{}class AlbertForSequenceClassification extends AlbertPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class AlbertForQuestionAnswering extends AlbertPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class AlbertForMaskedLM extends AlbertPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class T5PreTrainedModel extends PreTrainedModel{}class T5Model extends T5PreTrainedModel{}class T5ForConditionalGeneration extends T5PreTrainedModel{constructor(e,n,i,l){super(e,n),this.decoder_merged_session=i,this.generation_config=l,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}class LongT5PreTrainedModel extends PreTrainedModel{}class LongT5Model extends LongT5PreTrainedModel{}class LongT5ForConditionalGeneration extends LongT5PreTrainedModel{constructor(e,n,i,l){super(e,n),this.decoder_merged_session=i,this.generation_config=l,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}class MT5PreTrainedModel extends PreTrainedModel{}class MT5Model extends MT5PreTrainedModel{}class MT5ForConditionalGeneration extends MT5PreTrainedModel{constructor(e,n,i,l){super(e,n),this.decoder_merged_session=i,this.generation_config=l,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}class BartPretrainedModel extends PreTrainedModel{}class BartModel extends BartPretrainedModel{}class BartForConditionalGeneration extends BartPretrainedModel{constructor(e,n,i,l){super(e,n),this.decoder_merged_session=i,this.generation_config=l,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class BartForSequenceClassification extends BartPretrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class MBartPreTrainedModel extends PreTrainedModel{}class MBartModel extends MBartPreTrainedModel{}class MBartForConditionalGeneration extends MBartPreTrainedModel{constructor(e,n,i,l){super(e,n),this.decoder_merged_session=i,this.generation_config=l,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class MBartForSequenceClassification extends MBartPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class MBartForCausalLM extends MBartPreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class BlenderbotPreTrainedModel extends PreTrainedModel{}class BlenderbotModel extends BlenderbotPreTrainedModel{}class BlenderbotForConditionalGeneration extends BlenderbotPreTrainedModel{constructor(e,n,i,l){super(e,n),this.decoder_merged_session=i,this.generation_config=l,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class BlenderbotSmallPreTrainedModel extends PreTrainedModel{}class BlenderbotSmallModel extends BlenderbotSmallPreTrainedModel{}class BlenderbotSmallForConditionalGeneration extends BlenderbotSmallPreTrainedModel{constructor(e,n,i,l){super(e,n),this.decoder_merged_session=i,this.generation_config=l,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class RobertaPreTrainedModel extends PreTrainedModel{}class RobertaModel extends RobertaPreTrainedModel{}class RobertaForMaskedLM extends RobertaPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class RobertaForSequenceClassification extends RobertaPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class RobertaForTokenClassification extends RobertaPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class RobertaForQuestionAnswering extends RobertaPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class XLMPreTrainedModel extends PreTrainedModel{}class XLMModel extends XLMPreTrainedModel{}class XLMWithLMHeadModel extends XLMPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class XLMForSequenceClassification extends XLMPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class XLMForTokenClassification extends XLMPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class XLMForQuestionAnswering extends XLMPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class XLMRobertaPreTrainedModel extends PreTrainedModel{}class XLMRobertaModel extends XLMRobertaPreTrainedModel{}class XLMRobertaForMaskedLM extends XLMRobertaPreTrainedModel{async _call(e){return new MaskedLMOutput(await super._call(e))}}class XLMRobertaForSequenceClassification extends XLMRobertaPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class XLMRobertaForTokenClassification extends XLMRobertaPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class XLMRobertaForQuestionAnswering extends XLMRobertaPreTrainedModel{async _call(e){return new QuestionAnsweringModelOutput(await super._call(e))}}class ASTPreTrainedModel extends PreTrainedModel{}class ASTModel extends ASTPreTrainedModel{}class ASTForAudioClassification extends ASTPreTrainedModel{}class WhisperPreTrainedModel extends PreTrainedModel{}class WhisperModel extends WhisperPreTrainedModel{}class WhisperForConditionalGeneration extends WhisperPreTrainedModel{constructor(n,i,l,d){super(n,i);Ie(this,"requires_attention_mask",!1);Ie(this,"main_input_name","input_features");this.decoder_merged_session=l,this.generation_config=d,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}async generate(n,i=null,l=null){if(i=this._get_generation_config(i),i.return_timestamps??(i.return_timestamps=!1),i.return_timestamps&&(l=[new WhisperTimeStampLogitsProcessor(i)]),i.return_token_timestamps&&(i.output_attentions=!0,i.return_dict_in_generate=!0,i.task==="translate"&&console.warn("Token-level timestamps may not be reliable for task 'translate'."),!i.alignment_heads))throw new Error("Model generation config has no `alignment_heads`, token-level timestamps not available. See https://gist.github.com/hollance/42e32852f24243b748ae6bc1f985b13a on how to add this property to the generation config.");const d=await super.generate(n,i,l);return i.return_token_timestamps&&i.alignment_heads&&(d.token_timestamps=this._extract_token_timestamps(d,i.alignment_heads,i.num_frames)),d}_extract_token_timestamps(n,i,l=null,d=.02){if(!n.cross_attentions)throw new Error("Model outputs must contain cross attentions to extract timestamps. This is most likely because the model was not exported with `output_attentions=True`.");let f=this.config.median_filter_width;f===void 0&&(console.warn("Model config has no `median_filter_width`, using default value of 7."),f=7);const b=n.cross_attentions.map(m=>{let u=Array.from({length:this.config.decoder_layers},(O,M)=>cat(m.map(I=>I[M]),2)),o=stack(i.map(([O,M])=>l?u[O].slice(null,M,null,[0,l]):u[O].slice(null,M)));o=o.transpose(1,0,2,3);let[h,w]=std_mean(o,-2,0,!0),E=o.clone();for(let O=0;O<E.dims[0];++O){let M=E[O];for(let I=0;I<M.dims[0];++I){let R=M[I];const D=h[O][I][0],N=w[O][I][0];for(let L=0;L<R.dims[0];++L){let B=R[L];for(let $=0;$<B.data.length;++$)B.data[$]=(B.data[$]-N.data[$])/D.data[$];B.data.set(medianFilter(B.data,f))}}}return mean(E,1)}),_=[n.sequences.length,n.sequences[0].length],v=new Tensor("float32",new Float32Array(_[0]*_[1]),_);for(let m=0;m<_[0];++m){const u=b[m].neg().squeeze_(0);let[o,h]=dynamicTimeWarping(u),w=Array.from({length:o.length-1},(O,M)=>o[M+1]-o[M]),E=mergeArrays([1],w).map(O=>!!O),T=[];for(let O=0;O<E.length;++O)E[O]&&T.push(h[O]*d);v[m].data.set(T,1)}return v}}class VisionEncoderDecoderModel extends PreTrainedModel{constructor(n,i,l,d){super(n,i);Ie(this,"main_input_name","pixel_values");this.decoder_merged_session=l,this.generation_config=d;const f=this.config.encoder,b=this.config.decoder,_=f.model_type;(MODEL_MAPPING_NAMES_ENCODER_ONLY.get(_)??MODEL_MAPPING_NAMES_ENCODER_DECODER.get(_))||console.warn(`Model type for encoder '${_}' not found, assuming encoder-only architecture. Please report this at https://github.com/xenova/transformers.js/issues/new/choose.`);const m=MODEL_WITH_LM_HEAD_MAPPING_NAMES.get(b.model_type);if(!m)throw new Error(`Unable to construct \`VisionEncoderDecoder\` due to unsupported decoder: "${this.config.decoder.model_type}"`);const u=m[1],o=new u(b,l,d);this.add_encoder_pkv="num_decoder_layers"in o,this.add_encoder_pkv?(this.num_decoder_layers=o.num_decoder_layers,this.num_decoder_heads=o.num_decoder_heads,this.decoder_dim_kv=o.decoder_dim_kv,this.num_encoder_layers=o.num_encoder_layers,this.num_encoder_heads=o.num_encoder_heads,this.encoder_dim_kv=o.encoder_dim_kv):(this.num_layers=o.num_layers,this.num_heads=o.num_heads,this.dim_kv=o.dim_kv)}}class CLIPPreTrainedModel extends PreTrainedModel{}class CLIPModel extends CLIPPreTrainedModel{}class CLIPTextModelWithProjection extends CLIPPreTrainedModel{static async from_pretrained(e,n={}){return n.model_file_name??(n.model_file_name="text_model"),super.from_pretrained(e,n)}}class CLIPVisionModelWithProjection extends CLIPPreTrainedModel{static async from_pretrained(e,n={}){return n.model_file_name??(n.model_file_name="vision_model"),super.from_pretrained(e,n)}}class SiglipPreTrainedModel extends PreTrainedModel{}class SiglipModel extends SiglipPreTrainedModel{}class SiglipTextModel extends SiglipPreTrainedModel{static async from_pretrained(e,n={}){return n.model_file_name??(n.model_file_name="text_model"),super.from_pretrained(e,n)}}class SiglipVisionModel extends CLIPPreTrainedModel{static async from_pretrained(e,n={}){return n.model_file_name??(n.model_file_name="vision_model"),super.from_pretrained(e,n)}}class ChineseCLIPPreTrainedModel extends PreTrainedModel{}class ChineseCLIPModel extends ChineseCLIPPreTrainedModel{}class CLIPSegPreTrainedModel extends PreTrainedModel{}class CLIPSegModel extends CLIPSegPreTrainedModel{}class CLIPSegForImageSegmentation extends CLIPSegPreTrainedModel{}class GPT2PreTrainedModel extends PreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class GPT2Model extends GPT2PreTrainedModel{}class GPT2LMHeadModel extends GPT2PreTrainedModel{}class GPTNeoPreTrainedModel extends PreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_heads,this.num_layers=this.config.num_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class GPTNeoModel extends GPTNeoPreTrainedModel{}class GPTNeoForCausalLM extends GPTNeoPreTrainedModel{}class GPTNeoXPreTrainedModel extends PreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class GPTNeoXModel extends GPTNeoXPreTrainedModel{}class GPTNeoXForCausalLM extends GPTNeoXPreTrainedModel{}class GPTJPreTrainedModel extends PreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class GPTJModel extends GPTJPreTrainedModel{}class GPTJForCausalLM extends GPTJPreTrainedModel{}class GPTBigCodePreTrainedModel extends PreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class GPTBigCodeModel extends GPTBigCodePreTrainedModel{}class GPTBigCodeForCausalLM extends GPTBigCodePreTrainedModel{}class CodeGenPreTrainedModel extends PreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class CodeGenModel extends CodeGenPreTrainedModel{}class CodeGenForCausalLM extends CodeGenPreTrainedModel{}class LlamaPreTrainedModel extends PreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads??this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class LlamaModel extends LlamaPreTrainedModel{}class LlamaForCausalLM extends LlamaPreTrainedModel{}class Qwen2PreTrainedModel extends PreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads??this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class Qwen2Model extends Qwen2PreTrainedModel{}class Qwen2ForCausalLM extends Qwen2PreTrainedModel{}class PhiPreTrainedModel extends PreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class PhiModel extends PhiPreTrainedModel{}class PhiForCausalLM extends PhiPreTrainedModel{}class BloomPreTrainedModel extends PreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.hidden_size/this.num_heads}}class BloomModel extends BloomPreTrainedModel{}class BloomForCausalLM extends BloomPreTrainedModel{}class MptPreTrainedModel extends PreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_heads,this.num_layers=this.config.n_layers,this.dim_kv=this.config.d_model/this.num_heads}}class MptModel extends MptPreTrainedModel{}class MptForCausalLM extends MptPreTrainedModel{}class OPTPreTrainedModel extends PreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class OPTModel extends OPTPreTrainedModel{}class OPTForCausalLM extends OPTPreTrainedModel{}class ViTPreTrainedModel extends PreTrainedModel{}class ViTModel extends ViTPreTrainedModel{}class ViTForImageClassification extends ViTPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class FastViTPreTrainedModel extends PreTrainedModel{}class FastViTModel extends FastViTPreTrainedModel{}class FastViTForImageClassification extends FastViTPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class VitMattePreTrainedModel extends PreTrainedModel{}class VitMatteForImageMatting extends VitMattePreTrainedModel{async _call(e){return new ImageMattingOutput(await super._call(e))}}class MobileViTPreTrainedModel extends PreTrainedModel{}class MobileViTModel extends MobileViTPreTrainedModel{}class MobileViTForImageClassification extends MobileViTPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class MobileViTV2PreTrainedModel extends PreTrainedModel{}class MobileViTV2Model extends MobileViTV2PreTrainedModel{}class MobileViTV2ForImageClassification extends MobileViTV2PreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class OwlViTPreTrainedModel extends PreTrainedModel{}class OwlViTModel extends OwlViTPreTrainedModel{}class OwlViTForObjectDetection extends OwlViTPreTrainedModel{}class Owlv2PreTrainedModel extends PreTrainedModel{}class Owlv2Model extends Owlv2PreTrainedModel{}class Owlv2ForObjectDetection extends Owlv2PreTrainedModel{}class BeitPreTrainedModel extends PreTrainedModel{}class BeitModel extends BeitPreTrainedModel{}class BeitForImageClassification extends BeitPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class DetrPreTrainedModel extends PreTrainedModel{}class DetrModel extends DetrPreTrainedModel{}class DetrForObjectDetection extends DetrPreTrainedModel{async _call(e){return new DetrObjectDetectionOutput(await super._call(e))}}class DetrForSegmentation extends DetrPreTrainedModel{async _call(e){return new DetrSegmentationOutput(await super._call(e))}}class DetrObjectDetectionOutput extends ModelOutput{constructor({logits:e,pred_boxes:n}){super(),this.logits=e,this.pred_boxes=n}}class DetrSegmentationOutput extends ModelOutput{constructor({logits:e,pred_boxes:n,pred_masks:i}){super(),this.logits=e,this.pred_boxes=n,this.pred_masks=i}}class TableTransformerPreTrainedModel extends PreTrainedModel{}class TableTransformerModel extends TableTransformerPreTrainedModel{}class TableTransformerForObjectDetection extends TableTransformerPreTrainedModel{async _call(e){return new TableTransformerObjectDetectionOutput(await super._call(e))}}class TableTransformerObjectDetectionOutput extends DetrObjectDetectionOutput{}class DeiTPreTrainedModel extends PreTrainedModel{}class DeiTModel extends DeiTPreTrainedModel{}class DeiTForImageClassification extends DeiTPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class ResNetPreTrainedModel extends PreTrainedModel{}class ResNetModel extends ResNetPreTrainedModel{}class ResNetForImageClassification extends ResNetPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class SwinPreTrainedModel extends PreTrainedModel{}class SwinModel extends SwinPreTrainedModel{}class SwinForImageClassification extends SwinPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class Swin2SRPreTrainedModel extends PreTrainedModel{}class Swin2SRModel extends Swin2SRPreTrainedModel{}class Swin2SRForImageSuperResolution extends Swin2SRPreTrainedModel{}class DPTPreTrainedModel extends PreTrainedModel{}class DPTModel extends DPTPreTrainedModel{}class DPTForDepthEstimation extends DPTPreTrainedModel{}class DepthAnythingPreTrainedModel extends PreTrainedModel{}class DepthAnythingForDepthEstimation extends DepthAnythingPreTrainedModel{}class GLPNPreTrainedModel extends PreTrainedModel{}class GLPNModel extends GLPNPreTrainedModel{}class GLPNForDepthEstimation extends GLPNPreTrainedModel{}class DonutSwinPreTrainedModel extends PreTrainedModel{}class DonutSwinModel extends DonutSwinPreTrainedModel{}class ConvNextPreTrainedModel extends PreTrainedModel{}class ConvNextModel extends ConvNextPreTrainedModel{}class ConvNextForImageClassification extends ConvNextPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class ConvNextV2PreTrainedModel extends PreTrainedModel{}class ConvNextV2Model extends ConvNextV2PreTrainedModel{}class ConvNextV2ForImageClassification extends ConvNextV2PreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class Dinov2PreTrainedModel extends PreTrainedModel{}class Dinov2Model extends Dinov2PreTrainedModel{}class Dinov2ForImageClassification extends Dinov2PreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class YolosPreTrainedModel extends PreTrainedModel{}class YolosModel extends YolosPreTrainedModel{}class YolosForObjectDetection extends YolosPreTrainedModel{async _call(e){return new YolosObjectDetectionOutput(await super._call(e))}}class YolosObjectDetectionOutput extends ModelOutput{constructor({logits:e,pred_boxes:n}){super(),this.logits=e,this.pred_boxes=n}}class SamPreTrainedModel extends PreTrainedModel{}class SamModel extends SamPreTrainedModel{constructor(e,n,i){super(e,n),this.prompt_encoder_mask_decoder=i}async get_image_embeddings({pixel_values:e}){return await encoderForward(this,{pixel_values:e})}async forward(e){if((!e.image_embeddings||!e.image_positional_embeddings)&&(e={...e,...await this.get_image_embeddings(e)}),!e.input_labels){const n=e.input_points.dims.slice(0,-1),i=n.reduce((l,d)=>l*d,1);e.input_labels=new Tensor("int64",new BigInt64Array(i).fill(1n),n)}return await sessionRun(this.prompt_encoder_mask_decoder,{input_points:e.input_points,input_labels:e.input_labels,image_embeddings:e.image_embeddings,image_positional_embeddings:e.image_positional_embeddings})}async _call(e){return new SamImageSegmentationOutput(await super._call(e))}}class SamImageSegmentationOutput extends ModelOutput{constructor({iou_scores:e,pred_masks:n}){super(),this.iou_scores=e,this.pred_masks=n}}class MarianPreTrainedModel extends PreTrainedModel{}class MarianModel extends MarianPreTrainedModel{}class MarianMTModel extends MarianPreTrainedModel{constructor(e,n,i,l){super(e,n),this.decoder_merged_session=i,this.generation_config=l,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class M2M100PreTrainedModel extends PreTrainedModel{}class M2M100Model extends M2M100PreTrainedModel{}class M2M100ForConditionalGeneration extends M2M100PreTrainedModel{constructor(e,n,i,l){super(e,n),this.decoder_merged_session=i,this.generation_config=l,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}class Wav2Vec2PreTrainedModel extends PreTrainedModel{}class Wav2Vec2Model extends Wav2Vec2PreTrainedModel{}class Wav2Vec2ForCTC extends Wav2Vec2PreTrainedModel{async _call(e){return new CausalLMOutput(await super._call(e))}}class Wav2Vec2ForSequenceClassification extends Wav2Vec2PreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class Wav2Vec2ForAudioFrameClassification extends Wav2Vec2PreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class UniSpeechPreTrainedModel extends PreTrainedModel{}class UniSpeechModel extends UniSpeechPreTrainedModel{}class UniSpeechForCTC extends UniSpeechPreTrainedModel{async _call(e){return new CausalLMOutput(await super._call(e))}}class UniSpeechForSequenceClassification extends UniSpeechPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class UniSpeechSatPreTrainedModel extends PreTrainedModel{}class UniSpeechSatModel extends UniSpeechSatPreTrainedModel{}class UniSpeechSatForCTC extends UniSpeechSatPreTrainedModel{async _call(e){return new CausalLMOutput(await super._call(e))}}class UniSpeechSatForSequenceClassification extends UniSpeechSatPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class UniSpeechSatForAudioFrameClassification extends UniSpeechSatPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class Wav2Vec2BertPreTrainedModel extends PreTrainedModel{}class Wav2Vec2BertModel extends Wav2Vec2BertPreTrainedModel{}class Wav2Vec2BertForCTC extends Wav2Vec2BertPreTrainedModel{async _call(e){return new CausalLMOutput(await super._call(e))}}class Wav2Vec2BertForSequenceClassification extends Wav2Vec2BertPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class HubertPreTrainedModel extends PreTrainedModel{}class HubertModel extends Wav2Vec2PreTrainedModel{}class HubertForCTC extends Wav2Vec2PreTrainedModel{async _call(e){return new CausalLMOutput(await super._call(e))}}class HubertForSequenceClassification extends Wav2Vec2PreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class WavLMPreTrainedModel extends PreTrainedModel{}class WavLMModel extends WavLMPreTrainedModel{}class WavLMForCTC extends WavLMPreTrainedModel{async _call(e){return new CausalLMOutput(await super._call(e))}}class WavLMForSequenceClassification extends WavLMPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class WavLMForXVector extends WavLMPreTrainedModel{async _call(e){return new XVectorOutput(await super._call(e))}}class WavLMForAudioFrameClassification extends WavLMPreTrainedModel{async _call(e){return new TokenClassifierOutput(await super._call(e))}}class SpeechT5PreTrainedModel extends PreTrainedModel{}class SpeechT5Model extends SpeechT5PreTrainedModel{}class SpeechT5ForSpeechToText extends SpeechT5PreTrainedModel{}class SpeechT5ForTextToSpeech extends SpeechT5PreTrainedModel{constructor(e,n,i,l){super(e,n),this.decoder_merged_session=i,this.generation_config=l,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.hidden_size/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.hidden_size/this.num_encoder_heads}async generate_speech(e,n,{threshold:i=.5,minlenratio:l=0,maxlenratio:d=20,vocoder:f=null}={}){const b={input_ids:e},{encoder_outputs:_,encoder_attention_mask:v}=await encoderForward(this,b),m=_.dims[1]/this.config.reduction_factor,u=Math.floor(m*d),o=Math.floor(m*l),h=this.config.num_mel_bins;let w=[],E=null,T=null,O=0;for(;;){++O;const R=boolTensor(!!T);let D;T?D=T.output_sequence_out:D=new Tensor("float32",new Float32Array(h),[1,1,h]);let N={use_cache_branch:R,output_sequence:D,encoder_attention_mask:v,speaker_embeddings:n,encoder_hidden_states:_};this.addPastKeyValues(N,E),T=await sessionRun(this.decoder_merged_session,N),E=this.getPastKeyValues(T,E);const{prob:L,spectrum:B}=T;if(w.push(B),O>=o&&(Array.from(L.data).filter($=>$>=i).length>0||O>=u))break}const M=cat(w),{waveform:I}=await sessionRun(f.session,{spectrogram:M});return{spectrogram:M,waveform:I}}}class SpeechT5HifiGan extends PreTrainedModel{constructor(){super(...arguments);Ie(this,"main_input_name","spectrogram")}}class TrOCRPreTrainedModel extends PreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.config.pad_token_id=this.config.eos_token_id,this.num_encoder_layers=this.num_decoder_layers=this.config.decoder_layers,this.num_encoder_heads=this.num_decoder_heads=this.config.decoder_attention_heads,this.encoder_dim_kv=this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads}}class TrOCRForCausalLM extends TrOCRPreTrainedModel{}class MistralPreTrainedModel extends PreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class MistralModel extends MistralPreTrainedModel{}class MistralForCausalLM extends MistralPreTrainedModel{}class Starcoder2PreTrainedModel extends PreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class Starcoder2Model extends Starcoder2PreTrainedModel{}class Starcoder2ForCausalLM extends Starcoder2PreTrainedModel{}class FalconPreTrainedModel extends PreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class FalconModel extends FalconPreTrainedModel{}class FalconForCausalLM extends FalconPreTrainedModel{}class ClapPreTrainedModel extends PreTrainedModel{}class ClapModel extends ClapPreTrainedModel{}class ClapTextModelWithProjection extends ClapPreTrainedModel{static async from_pretrained(e,n={}){return n.model_file_name??(n.model_file_name="text_model"),super.from_pretrained(e,n)}}class ClapAudioModelWithProjection extends ClapPreTrainedModel{static async from_pretrained(e,n={}){return n.model_file_name??(n.model_file_name="audio_model"),super.from_pretrained(e,n)}}class VitsPreTrainedModel extends PreTrainedModel{}class VitsModel extends VitsPreTrainedModel{async _call(e){return new VitsModelOutput(await super._call(e))}}class SegformerPreTrainedModel extends PreTrainedModel{}class SegformerModel extends SegformerPreTrainedModel{}class SegformerForImageClassification extends SegformerPreTrainedModel{}class SegformerForSemanticSegmentation extends SegformerPreTrainedModel{}class StableLmPreTrainedModel extends PreTrainedModel{constructor(e,n,i){super(e,n),this.generation_config=i,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class StableLmModel extends StableLmPreTrainedModel{}class StableLmForCausalLM extends StableLmPreTrainedModel{}class EfficientNetPreTrainedModel extends PreTrainedModel{}class EfficientNetModel extends EfficientNetPreTrainedModel{}class EfficientNetForImageClassification extends EfficientNetPreTrainedModel{async _call(e){return new SequenceClassifierOutput(await super._call(e))}}class PretrainedMixin{static async from_pretrained(e,{quantized:n=!0,progress_callback:i=null,config:l=null,cache_dir:d=null,local_files_only:f=!1,revision:b="main",model_file_name:_=null}={}){let v={quantized:n,progress_callback:i,config:l,cache_dir:d,local_files_only:f,revision:b,model_file_name:_};if(l=await AutoConfig.from_pretrained(e,v),v.config||(v.config=l),!this.MODEL_CLASS_MAPPINGS)throw new Error("`MODEL_CLASS_MAPPINGS` not implemented for this type of `AutoClass`: "+this.name);for(let m of this.MODEL_CLASS_MAPPINGS){const u=m.get(l.model_type);if(u)return await u[1].from_pretrained(e,v)}if(this.BASE_IF_FAIL)return console.warn(`Unknown model class "${l.model_type}", attempting to construct from base class.`),await PreTrainedModel.from_pretrained(e,v);throw Error(`Unsupported model type: ${l.model_type}`)}}Ie(PretrainedMixin,"MODEL_CLASS_MAPPINGS",null),Ie(PretrainedMixin,"BASE_IF_FAIL",!1);const MODEL_MAPPING_NAMES_ENCODER_ONLY=new Map([["bert",["BertModel",BertModel]],["nomic_bert",["NomicBertModel",NomicBertModel]],["roformer",["RoFormerModel",RoFormerModel]],["electra",["ElectraModel",ElectraModel]],["esm",["EsmModel",EsmModel]],["convbert",["ConvBertModel",ConvBertModel]],["camembert",["CamembertModel",CamembertModel]],["deberta",["DebertaModel",DebertaModel]],["deberta-v2",["DebertaV2Model",DebertaV2Model]],["mpnet",["MPNetModel",MPNetModel]],["albert",["AlbertModel",AlbertModel]],["distilbert",["DistilBertModel",DistilBertModel]],["roberta",["RobertaModel",RobertaModel]],["xlm",["XLMModel",XLMModel]],["xlm-roberta",["XLMRobertaModel",XLMRobertaModel]],["clap",["ClapModel",ClapModel]],["clip",["CLIPModel",CLIPModel]],["clipseg",["CLIPSegModel",CLIPSegModel]],["chinese_clip",["ChineseCLIPModel",ChineseCLIPModel]],["siglip",["SiglipModel",SiglipModel]],["mobilebert",["MobileBertModel",MobileBertModel]],["squeezebert",["SqueezeBertModel",SqueezeBertModel]],["wav2vec2",["Wav2Vec2Model",Wav2Vec2Model]],["wav2vec2-bert",["Wav2Vec2BertModel",Wav2Vec2BertModel]],["unispeech",["UniSpeechModel",UniSpeechModel]],["unispeech-sat",["UniSpeechSatModel",UniSpeechSatModel]],["hubert",["HubertModel",HubertModel]],["wavlm",["WavLMModel",WavLMModel]],["audio-spectrogram-transformer",["ASTModel",ASTModel]],["vits",["VitsModel",VitsModel]],["detr",["DetrModel",DetrModel]],["table-transformer",["TableTransformerModel",TableTransformerModel]],["vit",["ViTModel",ViTModel]],["fastvit",["FastViTModel",FastViTModel]],["mobilevit",["MobileViTModel",MobileViTModel]],["mobilevitv2",["MobileViTV2Model",MobileViTV2Model]],["owlvit",["OwlViTModel",OwlViTModel]],["owlv2",["Owlv2Model",Owlv2Model]],["beit",["BeitModel",BeitModel]],["deit",["DeiTModel",DeiTModel]],["convnext",["ConvNextModel",ConvNextModel]],["convnextv2",["ConvNextV2Model",ConvNextV2Model]],["dinov2",["Dinov2Model",Dinov2Model]],["resnet",["ResNetModel",ResNetModel]],["swin",["SwinModel",SwinModel]],["swin2sr",["Swin2SRModel",Swin2SRModel]],["donut-swin",["DonutSwinModel",DonutSwinModel]],["yolos",["YolosModel",YolosModel]],["dpt",["DPTModel",DPTModel]],["glpn",["GLPNModel",GLPNModel]],["hifigan",["SpeechT5HifiGan",SpeechT5HifiGan]],["efficientnet",["EfficientNetModel",EfficientNetModel]]]),MODEL_MAPPING_NAMES_ENCODER_DECODER=new Map([["t5",["T5Model",T5Model]],["longt5",["LongT5Model",LongT5Model]],["mt5",["MT5Model",MT5Model]],["bart",["BartModel",BartModel]],["mbart",["MBartModel",MBartModel]],["marian",["MarianModel",MarianModel]],["whisper",["WhisperModel",WhisperModel]],["m2m_100",["M2M100Model",M2M100Model]],["blenderbot",["BlenderbotModel",BlenderbotModel]],["blenderbot-small",["BlenderbotSmallModel",BlenderbotSmallModel]]]),MODEL_MAPPING_NAMES_DECODER_ONLY=new Map([["bloom",["BloomModel",BloomModel]],["gpt2",["GPT2Model",GPT2Model]],["gptj",["GPTJModel",GPTJModel]],["gpt_bigcode",["GPTBigCodeModel",GPTBigCodeModel]],["gpt_neo",["GPTNeoModel",GPTNeoModel]],["gpt_neox",["GPTNeoXModel",GPTNeoXModel]],["codegen",["CodeGenModel",CodeGenModel]],["llama",["LlamaModel",LlamaModel]],["qwen2",["Qwen2Model",Qwen2Model]],["phi",["PhiModel",PhiModel]],["mpt",["MptModel",MptModel]],["opt",["OPTModel",OPTModel]],["mistral",["MistralModel",MistralModel]],["starcoder2",["Starcoder2Model",Starcoder2Model]],["falcon",["FalconModel",FalconModel]]]),MODEL_FOR_SPEECH_SEQ_2_SEQ_MAPPING_NAMES=new Map([["speecht5",["SpeechT5ForSpeechToText",SpeechT5ForSpeechToText]],["whisper",["WhisperForConditionalGeneration",WhisperForConditionalGeneration]]]),MODEL_FOR_TEXT_TO_SPECTROGRAM_MAPPING_NAMES=new Map([["speecht5",["SpeechT5ForTextToSpeech",SpeechT5ForTextToSpeech]]]),MODEL_FOR_TEXT_TO_WAVEFORM_MAPPING_NAMES=new Map([["vits",["VitsModel",VitsModel]]]),MODEL_FOR_SEQUENCE_CLASSIFICATION_MAPPING_NAMES=new Map([["bert",["BertForSequenceClassification",BertForSequenceClassification]],["roformer",["RoFormerForSequenceClassification",RoFormerForSequenceClassification]],["electra",["ElectraForSequenceClassification",ElectraForSequenceClassification]],["esm",["EsmForSequenceClassification",EsmForSequenceClassification]],["convbert",["ConvBertForSequenceClassification",ConvBertForSequenceClassification]],["camembert",["CamembertForSequenceClassification",CamembertForSequenceClassification]],["deberta",["DebertaForSequenceClassification",DebertaForSequenceClassification]],["deberta-v2",["DebertaV2ForSequenceClassification",DebertaV2ForSequenceClassification]],["mpnet",["MPNetForSequenceClassification",MPNetForSequenceClassification]],["albert",["AlbertForSequenceClassification",AlbertForSequenceClassification]],["distilbert",["DistilBertForSequenceClassification",DistilBertForSequenceClassification]],["roberta",["RobertaForSequenceClassification",RobertaForSequenceClassification]],["xlm",["XLMForSequenceClassification",XLMForSequenceClassification]],["xlm-roberta",["XLMRobertaForSequenceClassification",XLMRobertaForSequenceClassification]],["bart",["BartForSequenceClassification",BartForSequenceClassification]],["mbart",["MBartForSequenceClassification",MBartForSequenceClassification]],["mobilebert",["MobileBertForSequenceClassification",MobileBertForSequenceClassification]],["squeezebert",["SqueezeBertForSequenceClassification",SqueezeBertForSequenceClassification]]]),MODEL_FOR_TOKEN_CLASSIFICATION_MAPPING_NAMES=new Map([["bert",["BertForTokenClassification",BertForTokenClassification]],["roformer",["RoFormerForTokenClassification",RoFormerForTokenClassification]],["electra",["ElectraForTokenClassification",ElectraForTokenClassification]],["esm",["EsmForTokenClassification",EsmForTokenClassification]],["convbert",["ConvBertForTokenClassification",ConvBertForTokenClassification]],["camembert",["CamembertForTokenClassification",CamembertForTokenClassification]],["deberta",["DebertaForTokenClassification",DebertaForTokenClassification]],["deberta-v2",["DebertaV2ForTokenClassification",DebertaV2ForTokenClassification]],["mpnet",["MPNetForTokenClassification",MPNetForTokenClassification]],["distilbert",["DistilBertForTokenClassification",DistilBertForTokenClassification]],["roberta",["RobertaForTokenClassification",RobertaForTokenClassification]],["xlm",["XLMForTokenClassification",XLMForTokenClassification]],["xlm-roberta",["XLMRobertaForTokenClassification",XLMRobertaForTokenClassification]]]),MODEL_FOR_SEQ_TO_SEQ_CAUSAL_LM_MAPPING_NAMES=new Map([["t5",["T5ForConditionalGeneration",T5ForConditionalGeneration]],["longt5",["LongT5ForConditionalGeneration",LongT5ForConditionalGeneration]],["mt5",["MT5ForConditionalGeneration",MT5ForConditionalGeneration]],["bart",["BartForConditionalGeneration",BartForConditionalGeneration]],["mbart",["MBartForConditionalGeneration",MBartForConditionalGeneration]],["marian",["MarianMTModel",MarianMTModel]],["m2m_100",["M2M100ForConditionalGeneration",M2M100ForConditionalGeneration]],["blenderbot",["BlenderbotForConditionalGeneration",BlenderbotForConditionalGeneration]],["blenderbot-small",["BlenderbotSmallForConditionalGeneration",BlenderbotSmallForConditionalGeneration]]]),MODEL_WITH_LM_HEAD_MAPPING_NAMES=new Map([["bloom",["BloomForCausalLM",BloomForCausalLM]],["gpt2",["GPT2LMHeadModel",GPT2LMHeadModel]],["gptj",["GPTJForCausalLM",GPTJForCausalLM]],["gpt_bigcode",["GPTBigCodeForCausalLM",GPTBigCodeForCausalLM]],["gpt_neo",["GPTNeoForCausalLM",GPTNeoForCausalLM]],["gpt_neox",["GPTNeoXForCausalLM",GPTNeoXForCausalLM]],["codegen",["CodeGenForCausalLM",CodeGenForCausalLM]],["llama",["LlamaForCausalLM",LlamaForCausalLM]],["qwen2",["Qwen2ForCausalLM",Qwen2ForCausalLM]],["phi",["PhiForCausalLM",PhiForCausalLM]],["mpt",["MptForCausalLM",MptForCausalLM]],["opt",["OPTForCausalLM",OPTForCausalLM]],["mbart",["MBartForCausalLM",MBartForCausalLM]],["mistral",["MistralForCausalLM",MistralForCausalLM]],["starcoder2",["Starcoder2ForCausalLM",Starcoder2ForCausalLM]],["falcon",["FalconForCausalLM",FalconForCausalLM]],["trocr",["TrOCRForCausalLM",TrOCRForCausalLM]],["stablelm",["StableLmForCausalLM",StableLmForCausalLM]]]),MODEL_FOR_MASKED_LM_MAPPING_NAMES=new Map([["bert",["BertForMaskedLM",BertForMaskedLM]],["roformer",["RoFormerForMaskedLM",RoFormerForMaskedLM]],["electra",["ElectraForMaskedLM",ElectraForMaskedLM]],["esm",["EsmForMaskedLM",EsmForMaskedLM]],["convbert",["ConvBertForMaskedLM",ConvBertForMaskedLM]],["camembert",["CamembertForMaskedLM",CamembertForMaskedLM]],["deberta",["DebertaForMaskedLM",DebertaForMaskedLM]],["deberta-v2",["DebertaV2ForMaskedLM",DebertaV2ForMaskedLM]],["mpnet",["MPNetForMaskedLM",MPNetForMaskedLM]],["albert",["AlbertForMaskedLM",AlbertForMaskedLM]],["distilbert",["DistilBertForMaskedLM",DistilBertForMaskedLM]],["roberta",["RobertaForMaskedLM",RobertaForMaskedLM]],["xlm",["XLMWithLMHeadModel",XLMWithLMHeadModel]],["xlm-roberta",["XLMRobertaForMaskedLM",XLMRobertaForMaskedLM]],["mobilebert",["MobileBertForMaskedLM",MobileBertForMaskedLM]],["squeezebert",["SqueezeBertForMaskedLM",SqueezeBertForMaskedLM]]]),MODEL_FOR_QUESTION_ANSWERING_MAPPING_NAMES=new Map([["bert",["BertForQuestionAnswering",BertForQuestionAnswering]],["roformer",["RoFormerForQuestionAnswering",RoFormerForQuestionAnswering]],["electra",["ElectraForQuestionAnswering",ElectraForQuestionAnswering]],["convbert",["ConvBertForQuestionAnswering",ConvBertForQuestionAnswering]],["camembert",["CamembertForQuestionAnswering",CamembertForQuestionAnswering]],["deberta",["DebertaForQuestionAnswering",DebertaForQuestionAnswering]],["deberta-v2",["DebertaV2ForQuestionAnswering",DebertaV2ForQuestionAnswering]],["mpnet",["MPNetForQuestionAnswering",MPNetForQuestionAnswering]],["albert",["AlbertForQuestionAnswering",AlbertForQuestionAnswering]],["distilbert",["DistilBertForQuestionAnswering",DistilBertForQuestionAnswering]],["roberta",["RobertaForQuestionAnswering",RobertaForQuestionAnswering]],["xlm",["XLMForQuestionAnswering",XLMForQuestionAnswering]],["xlm-roberta",["XLMRobertaForQuestionAnswering",XLMRobertaForQuestionAnswering]],["mobilebert",["MobileBertForQuestionAnswering",MobileBertForQuestionAnswering]],["squeezebert",["SqueezeBertForQuestionAnswering",SqueezeBertForQuestionAnswering]]]),MODEL_FOR_VISION_2_SEQ_MAPPING_NAMES=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",VisionEncoderDecoderModel]]]),MODEL_FOR_DOCUMENT_QUESTION_ANSWERING_MAPPING_NAMES=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",VisionEncoderDecoderModel]]]),MODEL_FOR_IMAGE_CLASSIFICATION_MAPPING_NAMES=new Map([["vit",["ViTForImageClassification",ViTForImageClassification]],["fastvit",["FastViTForImageClassification",FastViTForImageClassification]],["mobilevit",["MobileViTForImageClassification",MobileViTForImageClassification]],["mobilevitv2",["MobileViTV2ForImageClassification",MobileViTV2ForImageClassification]],["beit",["BeitForImageClassification",BeitForImageClassification]],["deit",["DeiTForImageClassification",DeiTForImageClassification]],["convnext",["ConvNextForImageClassification",ConvNextForImageClassification]],["convnextv2",["ConvNextV2ForImageClassification",ConvNextV2ForImageClassification]],["dinov2",["Dinov2ForImageClassification",Dinov2ForImageClassification]],["resnet",["ResNetForImageClassification",ResNetForImageClassification]],["swin",["SwinForImageClassification",SwinForImageClassification]],["segformer",["SegformerForImageClassification",SegformerForImageClassification]],["efficientnet",["EfficientNetForImageClassification",EfficientNetForImageClassification]]]),MODEL_FOR_OBJECT_DETECTION_MAPPING_NAMES=new Map([["detr",["DetrForObjectDetection",DetrForObjectDetection]],["table-transformer",["TableTransformerForObjectDetection",TableTransformerForObjectDetection]],["yolos",["YolosForObjectDetection",YolosForObjectDetection]]]),MODEL_FOR_ZERO_SHOT_OBJECT_DETECTION_MAPPING_NAMES=new Map([["owlvit",["OwlViTForObjectDetection",OwlViTForObjectDetection]],["owlv2",["Owlv2ForObjectDetection",Owlv2ForObjectDetection]]]),MODEL_FOR_IMAGE_SEGMENTATION_MAPPING_NAMES=new Map([["detr",["DetrForSegmentation",DetrForSegmentation]],["clipseg",["CLIPSegForImageSegmentation",CLIPSegForImageSegmentation]]]),MODEL_FOR_SEMANTIC_SEGMENTATION_MAPPING_NAMES=new Map([["segformer",["SegformerForSemanticSegmentation",SegformerForSemanticSegmentation]]]),MODEL_FOR_MASK_GENERATION_MAPPING_NAMES=new Map([["sam",["SamModel",SamModel]]]),MODEL_FOR_CTC_MAPPING_NAMES=new Map([["wav2vec2",["Wav2Vec2ForCTC",Wav2Vec2ForCTC]],["wav2vec2-bert",["Wav2Vec2BertForCTC",Wav2Vec2BertForCTC]],["unispeech",["UniSpeechForCTC",UniSpeechForCTC]],["unispeech-sat",["UniSpeechSatForCTC",UniSpeechSatForCTC]],["wavlm",["WavLMForCTC",WavLMForCTC]],["hubert",["HubertForCTC",HubertForCTC]]]),MODEL_FOR_AUDIO_CLASSIFICATION_MAPPING_NAMES=new Map([["wav2vec2",["Wav2Vec2ForSequenceClassification",Wav2Vec2ForSequenceClassification]],["wav2vec2-bert",["Wav2Vec2BertForSequenceClassification",Wav2Vec2BertForSequenceClassification]],["unispeech",["UniSpeechForSequenceClassification",UniSpeechForSequenceClassification]],["unispeech-sat",["UniSpeechSatForSequenceClassification",UniSpeechSatForSequenceClassification]],["wavlm",["WavLMForSequenceClassification",WavLMForSequenceClassification]],["hubert",["HubertForSequenceClassification",HubertForSequenceClassification]],["audio-spectrogram-transformer",["ASTForAudioClassification",ASTForAudioClassification]]]),MODEL_FOR_AUDIO_XVECTOR_MAPPING_NAMES=new Map([["wavlm",["WavLMForXVector",WavLMForXVector]]]),MODEL_FOR_AUDIO_FRAME_CLASSIFICATION_MAPPING_NAMES=new Map([["unispeech-sat",["UniSpeechSatForAudioFrameClassification",UniSpeechSatForAudioFrameClassification]],["wavlm",["WavLMForAudioFrameClassification",WavLMForAudioFrameClassification]],["wav2vec2",["Wav2Vec2ForAudioFrameClassification",Wav2Vec2ForAudioFrameClassification]]]),MODEL_FOR_IMAGE_MATTING_MAPPING_NAMES=new Map([["vitmatte",["VitMatteForImageMatting",VitMatteForImageMatting]]]),MODEL_FOR_IMAGE_TO_IMAGE_MAPPING_NAMES=new Map([["swin2sr",["Swin2SRForImageSuperResolution",Swin2SRForImageSuperResolution]]]),MODEL_FOR_DEPTH_ESTIMATION_MAPPING_NAMES=new Map([["dpt",["DPTForDepthEstimation",DPTForDepthEstimation]],["depth_anything",["DepthAnythingForDepthEstimation",DepthAnythingForDepthEstimation]],["glpn",["GLPNForDepthEstimation",GLPNForDepthEstimation]]]),MODEL_FOR_IMAGE_FEATURE_EXTRACTION_MAPPING_NAMES=new Map([["clip",["CLIPVisionModelWithProjection",CLIPVisionModelWithProjection]],["siglip",["SiglipVisionModel",SiglipVisionModel]]]),MODEL_CLASS_TYPE_MAPPING=[[MODEL_MAPPING_NAMES_ENCODER_ONLY,MODEL_TYPES.EncoderOnly],[MODEL_MAPPING_NAMES_ENCODER_DECODER,MODEL_TYPES.EncoderDecoder],[MODEL_MAPPING_NAMES_DECODER_ONLY,MODEL_TYPES.DecoderOnly],[MODEL_FOR_SEQUENCE_CLASSIFICATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_TOKEN_CLASSIFICATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_SEQ_TO_SEQ_CAUSAL_LM_MAPPING_NAMES,MODEL_TYPES.Seq2Seq],[MODEL_FOR_SPEECH_SEQ_2_SEQ_MAPPING_NAMES,MODEL_TYPES.Seq2Seq],[MODEL_WITH_LM_HEAD_MAPPING_NAMES,MODEL_TYPES.DecoderOnly],[MODEL_FOR_MASKED_LM_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_QUESTION_ANSWERING_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_VISION_2_SEQ_MAPPING_NAMES,MODEL_TYPES.Vision2Seq],[MODEL_FOR_IMAGE_CLASSIFICATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_IMAGE_SEGMENTATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_SEMANTIC_SEGMENTATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_IMAGE_MATTING_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_IMAGE_TO_IMAGE_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_DEPTH_ESTIMATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_OBJECT_DETECTION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_ZERO_SHOT_OBJECT_DETECTION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_MASK_GENERATION_MAPPING_NAMES,MODEL_TYPES.MaskGeneration],[MODEL_FOR_CTC_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_AUDIO_CLASSIFICATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_TEXT_TO_SPECTROGRAM_MAPPING_NAMES,MODEL_TYPES.Seq2Seq],[MODEL_FOR_TEXT_TO_WAVEFORM_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_AUDIO_XVECTOR_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_AUDIO_FRAME_CLASSIFICATION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly],[MODEL_FOR_IMAGE_FEATURE_EXTRACTION_MAPPING_NAMES,MODEL_TYPES.EncoderOnly]];for(const[t,e]of MODEL_CLASS_TYPE_MAPPING)for(const[n,i]of t.values())MODEL_TYPE_MAPPING.set(n,e),MODEL_CLASS_TO_NAME_MAPPING.set(i,n),MODEL_NAME_TO_CLASS_MAPPING.set(n,i);const CUSTOM_MAPPING=[["CLIPTextModelWithProjection",CLIPTextModelWithProjection,MODEL_TYPES.EncoderOnly],["SiglipTextModel",SiglipTextModel,MODEL_TYPES.EncoderOnly],["ClapTextModelWithProjection",ClapTextModelWithProjection,MODEL_TYPES.EncoderOnly],["ClapAudioModelWithProjection",ClapAudioModelWithProjection,MODEL_TYPES.EncoderOnly]];for(const[t,e,n]of CUSTOM_MAPPING)MODEL_TYPE_MAPPING.set(t,n),MODEL_CLASS_TO_NAME_MAPPING.set(e,t),MODEL_NAME_TO_CLASS_MAPPING.set(t,e);class AutoModel extends PretrainedMixin{}Ie(AutoModel,"MODEL_CLASS_MAPPINGS",MODEL_CLASS_TYPE_MAPPING.map(e=>e[0])),Ie(AutoModel,"BASE_IF_FAIL",!0);class AutoModelForSequenceClassification extends PretrainedMixin{}Ie(AutoModelForSequenceClassification,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_SEQUENCE_CLASSIFICATION_MAPPING_NAMES]);class AutoModelForTokenClassification extends PretrainedMixin{}Ie(AutoModelForTokenClassification,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_TOKEN_CLASSIFICATION_MAPPING_NAMES]);class AutoModelForSeq2SeqLM extends PretrainedMixin{}Ie(AutoModelForSeq2SeqLM,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_SEQ_TO_SEQ_CAUSAL_LM_MAPPING_NAMES]);class AutoModelForSpeechSeq2Seq extends PretrainedMixin{}Ie(AutoModelForSpeechSeq2Seq,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_SPEECH_SEQ_2_SEQ_MAPPING_NAMES]);class AutoModelForTextToSpectrogram extends PretrainedMixin{}Ie(AutoModelForTextToSpectrogram,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_TEXT_TO_SPECTROGRAM_MAPPING_NAMES]);class AutoModelForTextToWaveform extends PretrainedMixin{}Ie(AutoModelForTextToWaveform,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_TEXT_TO_WAVEFORM_MAPPING_NAMES]);class AutoModelForCausalLM extends PretrainedMixin{}Ie(AutoModelForCausalLM,"MODEL_CLASS_MAPPINGS",[MODEL_WITH_LM_HEAD_MAPPING_NAMES]);class AutoModelForMaskedLM extends PretrainedMixin{}Ie(AutoModelForMaskedLM,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_MASKED_LM_MAPPING_NAMES]);class AutoModelForQuestionAnswering extends PretrainedMixin{}Ie(AutoModelForQuestionAnswering,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_QUESTION_ANSWERING_MAPPING_NAMES]);class AutoModelForVision2Seq extends PretrainedMixin{}Ie(AutoModelForVision2Seq,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_VISION_2_SEQ_MAPPING_NAMES]);class AutoModelForImageClassification extends PretrainedMixin{}Ie(AutoModelForImageClassification,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_IMAGE_CLASSIFICATION_MAPPING_NAMES]);class AutoModelForImageSegmentation extends PretrainedMixin{}Ie(AutoModelForImageSegmentation,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_IMAGE_SEGMENTATION_MAPPING_NAMES]);class AutoModelForSemanticSegmentation extends PretrainedMixin{}Ie(AutoModelForSemanticSegmentation,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_SEMANTIC_SEGMENTATION_MAPPING_NAMES]);class AutoModelForObjectDetection extends PretrainedMixin{}Ie(AutoModelForObjectDetection,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_OBJECT_DETECTION_MAPPING_NAMES]);class AutoModelForZeroShotObjectDetection extends PretrainedMixin{}Ie(AutoModelForZeroShotObjectDetection,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_ZERO_SHOT_OBJECT_DETECTION_MAPPING_NAMES]);class AutoModelForMaskGeneration extends PretrainedMixin{}Ie(AutoModelForMaskGeneration,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_MASK_GENERATION_MAPPING_NAMES]);class AutoModelForCTC extends PretrainedMixin{}Ie(AutoModelForCTC,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_CTC_MAPPING_NAMES]);class AutoModelForAudioClassification extends PretrainedMixin{}Ie(AutoModelForAudioClassification,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_AUDIO_CLASSIFICATION_MAPPING_NAMES]);class AutoModelForXVector extends PretrainedMixin{}Ie(AutoModelForXVector,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_AUDIO_XVECTOR_MAPPING_NAMES]);class AutoModelForAudioFrameClassification extends PretrainedMixin{}Ie(AutoModelForAudioFrameClassification,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_AUDIO_FRAME_CLASSIFICATION_MAPPING_NAMES]);class AutoModelForDocumentQuestionAnswering extends PretrainedMixin{}Ie(AutoModelForDocumentQuestionAnswering,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_DOCUMENT_QUESTION_ANSWERING_MAPPING_NAMES]);class AutoModelForImageMatting extends PretrainedMixin{}Ie(AutoModelForImageMatting,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_IMAGE_MATTING_MAPPING_NAMES]);class AutoModelForImageToImage extends PretrainedMixin{}Ie(AutoModelForImageToImage,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_IMAGE_TO_IMAGE_MAPPING_NAMES]);class AutoModelForDepthEstimation extends PretrainedMixin{}Ie(AutoModelForDepthEstimation,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_DEPTH_ESTIMATION_MAPPING_NAMES]);class AutoModelForImageFeatureExtraction extends PretrainedMixin{}Ie(AutoModelForImageFeatureExtraction,"MODEL_CLASS_MAPPINGS",[MODEL_FOR_IMAGE_FEATURE_EXTRACTION_MAPPING_NAMES]);class Seq2SeqLMOutput extends ModelOutput{constructor({logits:e,past_key_values:n,encoder_outputs:i,decoder_attentions:l=null,cross_attentions:d=null}){super(),this.logits=e,this.past_key_values=n,this.encoder_outputs=i,this.decoder_attentions=l,this.cross_attentions=d}}class SequenceClassifierOutput extends ModelOutput{constructor({logits:e}){super(),this.logits=e}}class XVectorOutput extends ModelOutput{constructor({logits:e,embeddings:n}){super(),this.logits=e,this.embeddings=n}}class TokenClassifierOutput extends ModelOutput{constructor({logits:e}){super(),this.logits=e}}class MaskedLMOutput extends ModelOutput{constructor({logits:e}){super(),this.logits=e}}class QuestionAnsweringModelOutput extends ModelOutput{constructor({start_logits:e,end_logits:n}){super(),this.start_logits=e,this.end_logits=n}}class CausalLMOutput extends ModelOutput{constructor({logits:e}){super(),this.logits=e}}class CausalLMOutputWithPast extends ModelOutput{constructor({logits:e,past_key_values:n}){super(),this.logits=e,this.past_key_values=n}}class ImageMattingOutput extends ModelOutput{constructor({alphas:e}){super(),this.alphas=e}}class VitsModelOutput extends ModelOutput{constructor({waveform:e,spectrogram:n}){super(),this.waveform=e,this.spectrogram=n}}const BROWSER_ENV=typeof self<"u",WEBWORKER_ENV=BROWSER_ENV&&self.constructor.name==="DedicatedWorkerGlobalScope";let createCanvasFunction,ImageDataClass,loadImageFunction;if(BROWSER_ENV)createCanvasFunction=(t,e)=>{if(!self.OffscreenCanvas)throw new Error("OffscreenCanvas not supported by this browser.");return new self.OffscreenCanvas(t,e)},loadImageFunction=self.createImageBitmap,ImageDataClass=self.ImageData;else if(sharp)loadImageFunction=async t=>{const n=(await t.metadata()).channels;let{data:i,info:l}=await t.rotate().raw().toBuffer({resolveWithObject:!0});const d=new RawImage(new Uint8ClampedArray(i),l.width,l.height,l.channels);return n!==void 0&&n!==l.channels&&d.convert(n),d};else throw new Error("Unable to load image processing library.");const RESAMPLING_MAPPING={0:"nearest",1:"lanczos",2:"bilinear",3:"bicubic",4:"box",5:"hamming"},CONTENT_TYPE_MAP=new Map([["png","image/png"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["gif","image/gif"]]);class RawImage{constructor(e,n,i,l){this.data=e,this.width=n,this.height=i,this.channels=l}get size(){return[this.width,this.height]}static async read(e){if(e instanceof RawImage)return e;if(typeof e=="string"||e instanceof URL)return await this.fromURL(e);throw new Error(`Unsupported input type: ${typeof e}`)}static async fromURL(e){let n=await getFile(e);if(n.status!==200)throw new Error(`Unable to read image from "${e}" (${n.status} ${n.statusText})`);let i=await n.blob();return this.fromBlob(i)}static async fromBlob(e){if(BROWSER_ENV){let n=await loadImageFunction(e);const i=createCanvasFunction(n.width,n.height).getContext("2d");return i.drawImage(n,0,0),new this(i.getImageData(0,0,n.width,n.height).data,n.width,n.height,4)}else{let n=sharp(await e.arrayBuffer());return await loadImageFunction(n)}}static fromTensor(e,n="CHW"){if(e.dims.length!==3)throw new Error(`Tensor should have 3 dimensions, but has ${e.dims.length} dimensions.`);if(n==="CHW")e=e.transpose(1,2,0);else if(n!=="HWC")throw new Error(`Unsupported channel format: ${n}`);if(!(e.data instanceof Uint8ClampedArray||e.data instanceof Uint8Array))throw new Error(`Unsupported tensor type: ${e.type}`);switch(e.dims[2]){case 1:case 2:case 3:case 4:return new RawImage(e.data,e.dims[1],e.dims[0],e.dims[2]);default:throw new Error(`Unsupported number of channels: ${e.dims[2]}`)}}grayscale(){if(this.channels===1)return this;let e=new Uint8ClampedArray(this.width*this.height*1);switch(this.channels){case 3:case 4:for(let n=0,i=0;n<this.data.length;n+=this.channels){const l=this.data[n],d=this.data[n+1],f=this.data[n+2];e[i++]=Math.round(.2989*l+.587*d+.114*f)}break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(e,this.width,this.height,1)}rgb(){if(this.channels===3)return this;let e=new Uint8ClampedArray(this.width*this.height*3);switch(this.channels){case 1:for(let n=0,i=0;n<this.data.length;++n)e[i++]=this.data[n],e[i++]=this.data[n],e[i++]=this.data[n];break;case 4:for(let n=0,i=0;n<this.data.length;n+=4)e[i++]=this.data[n],e[i++]=this.data[n+1],e[i++]=this.data[n+2];break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(e,this.width,this.height,3)}rgba(){if(this.channels===4)return this;let e=new Uint8ClampedArray(this.width*this.height*4);switch(this.channels){case 1:for(let n=0,i=0;n<this.data.length;++n)e[i++]=this.data[n],e[i++]=this.data[n],e[i++]=this.data[n],e[i++]=255;break;case 3:for(let n=0,i=0;n<this.data.length;n+=3)e[i++]=this.data[n],e[i++]=this.data[n+1],e[i++]=this.data[n+2],e[i++]=255;break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(e,this.width,this.height,4)}async resize(e,n,{resample:i=2}={}){let l=RESAMPLING_MAPPING[i]??i;if(BROWSER_ENV){let d=this.channels,f=this.toCanvas();const b=createCanvasFunction(e,n).getContext("2d");return b.drawImage(f,0,0,e,n),new RawImage(b.getImageData(0,0,e,n).data,e,n,4).convert(d)}else{let d=this.toSharp();switch(l){case"box":case"hamming":(l==="box"||l==="hamming")&&(console.warn(`Resampling method ${l} is not yet supported. Using bilinear instead.`),l="bilinear");case"nearest":case"bilinear":case"bicubic":d=d.affine([e/this.width,0,0,n/this.height],{interpolator:l});break;case"lanczos":d=d.resize({width:e,height:n,fit:"fill",kernel:"lanczos3"});break;default:throw new Error(`Resampling method ${l} is not supported.`)}return await loadImageFunction(d)}}async pad([e,n,i,l]){if(e=Math.max(e,0),n=Math.max(n,0),i=Math.max(i,0),l=Math.max(l,0),e===0&&n===0&&i===0&&l===0)return this;if(BROWSER_ENV){let d=this.channels,f=this.toCanvas(),b=this.width+e+n,_=this.height+i+l;const v=createCanvasFunction(b,_).getContext("2d");return v.drawImage(f,0,0,this.width,this.height,e,i,b,_),new RawImage(v.getImageData(0,0,b,_).data,b,_,4).convert(d)}else{let d=this.toSharp().extend({left:e,right:n,top:i,bottom:l});return await loadImageFunction(d)}}async crop([e,n,i,l]){if(e=Math.max(e,0),n=Math.max(n,0),i=Math.min(i,this.width-1),l=Math.min(l,this.height-1),e===0&&n===0&&i===this.width-1&&l===this.height-1)return this;const d=i-e+1,f=l-n+1;if(BROWSER_ENV){const b=this.channels,_=this.toCanvas(),v=createCanvasFunction(d,f).getContext("2d");return v.drawImage(_,e,n,d,f,0,0,d,f),new RawImage(v.getImageData(0,0,d,f).data,d,f,4).convert(b)}else{const b=this.toSharp().extract({left:e,top:n,width:d,height:f});return await loadImageFunction(b)}}async center_crop(e,n){if(this.width===e&&this.height===n)return this;let i=(this.width-e)/2,l=(this.height-n)/2;if(BROWSER_ENV){let d=this.channels,f=this.toCanvas();const b=createCanvasFunction(e,n).getContext("2d");let _=0,v=0,m=0,u=0;return i>=0?_=i:m=-i,l>=0?v=l:u=-l,b.drawImage(f,_,v,e,n,m,u,e,n),new RawImage(b.getImageData(0,0,e,n).data,e,n,4).convert(d)}else{let d=this.toSharp();if(i>=0&&l>=0)d=d.extract({left:Math.floor(i),top:Math.floor(l),width:e,height:n});else if(i<=0&&l<=0){let f=Math.floor(-l),b=Math.floor(-i);d=d.extend({top:f,left:b,right:e-this.width-b,bottom:n-this.height-f})}else{let f=[0,0],b=0;l<0?(f[0]=Math.floor(-l),f[1]=n-this.height-f[0]):b=Math.floor(l);let _=[0,0],v=0;i<0?(_[0]=Math.floor(-i),_[1]=e-this.width-_[0]):v=Math.floor(i),d=d.extend({top:f[0],bottom:f[1],left:_[0],right:_[1]}).extract({left:v,top:b,width:e,height:n})}return await loadImageFunction(d)}}async toBlob(e="image/png",n=1){if(!BROWSER_ENV)throw new Error("toBlob() is only supported in browser environments.");return await this.toCanvas().convertToBlob({type:e,quality:n})}toTensor(e="CHW"){let n=new Tensor("uint8",new Uint8Array(this.data),[this.height,this.width,this.channels]);if(e!=="HWC")if(e==="CHW")n=n.permute(2,0,1);else throw new Error(`Unsupported channel format: ${e}`);return n}toCanvas(){if(!BROWSER_ENV)throw new Error("toCanvas() is only supported in browser environments.");let e=this.clone().rgba(),n=createCanvasFunction(e.width,e.height),i=new ImageDataClass(e.data,e.width,e.height);return n.getContext("2d").putImageData(i,0,0),n}_update(e,n,i,l=null){return this.data=e,this.width=n,this.height=i,l!==null&&(this.channels=l),this}clone(){return new RawImage(this.data.slice(),this.width,this.height,this.channels)}convert(e){if(this.channels===e)return this;switch(e){case 1:this.grayscale();break;case 3:this.rgb();break;case 4:this.rgba();break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this}async save(e){if(BROWSER_ENV){if(WEBWORKER_ENV)throw new Error("Unable to save an image from a Web Worker.");const n=e.split(".").pop().toLowerCase(),i=CONTENT_TYPE_MAP.get(n)??"image/png",l=await this.toBlob(i),d=URL.createObjectURL(l),f=document.createElement("a");f.href=d,f.download=e,f.click(),f.remove()}else{if(env$1.useFS)return await this.toSharp().toFile(e);throw new Error("Unable to save the image because filesystem is disabled in this environment.")}}toSharp(){if(BROWSER_ENV)throw new Error("toSharp() is only supported in server-side environments.");return sharp(this.data,{raw:{width:this.width,height:this.height,channels:this.channels}})}}async function read_audio(t,e){if(typeof AudioContext>"u")throw Error("Unable to load audio from path/URL since `AudioContext` is not available in your environment. Instead, audio data should be passed directly to the pipeline/processor. For more information and some example code, see https://huggingface.co/docs/transformers.js/guides/node-audio-processing.");const n=await(await getFile(t)).arrayBuffer(),i=new AudioContext({sampleRate:e});typeof e>"u"&&console.warn(`No sampling rate provided, using default of ${i.sampleRate}Hz.`);const l=await i.decodeAudioData(n);let d;if(l.numberOfChannels===2){const f=Math.sqrt(2),b=l.getChannelData(0),_=l.getChannelData(1);d=new Float32Array(b.length);for(let v=0;v<l.length;++v)d[v]=f*(b[v]+_[v])/2}else d=l.getChannelData(0);return d}function hanning(t){if(t<1)return new Float64Array;if(t===1)return new Float64Array([1]);const e=t-1,n=Math.PI/e,i=new Float64Array(t);for(let l=0;l<t;++l){const d=2*l-e;i[l]=.5+.5*Math.cos(n*d)}return i}const HERTZ_TO_MEL_MAPPING={htk:t=>2595*Math.log10(1+t/700),kaldi:t=>1127*Math.log(1+t/700),slaney:(t,e=1e3,n=15,i=27/Math.log(6.4))=>t>=e?n+Math.log(t/e)*i:3*t/200};function hertz_to_mel(t,e="htk"){const n=HERTZ_TO_MEL_MAPPING[e];if(!n)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return typeof t=="number"?n(t):t.map(i=>n(i))}const MEL_TO_HERTZ_MAPPING={htk:t=>700*(10**(t/2595)-1),kaldi:t=>700*(Math.exp(t/1127)-1),slaney:(t,e=1e3,n=15,i=Math.log(6.4)/27)=>t>=n?e*Math.exp(i*(t-n)):200*t/3};function mel_to_hertz(t,e="htk"){const n=MEL_TO_HERTZ_MAPPING[e];if(!n)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return typeof t=="number"?n(t):t.map(i=>n(i))}function _create_triangular_filter_bank(t,e){const n=Float64Array.from({length:e.length-1},(f,b)=>e[b+1]-e[b]),i=Array.from({length:t.length},()=>new Array(e.length));for(let f=0;f<t.length;++f){const b=i[f];for(let _=0;_<e.length;++_)b[_]=e[_]-t[f]}const l=e.length-2,d=Array.from({length:l},()=>new Array(t.length));for(let f=0;f<t.length;++f){const b=i[f];for(let _=0;_<l;++_){const v=-b[_]/n[_],m=b[_+2]/n[_+1];d[_][f]=Math.max(0,Math.min(v,m))}}return d}function linspace(t,e,n){const i=(e-t)/(n-1);return Float64Array.from({length:n},(l,d)=>t+i*d)}function mel_filter_bank(t,e,n,i,l,d=null,f="htk",b=!1){if(d!==null&&d!=="slaney")throw new Error('norm must be one of null or "slaney"');const _=hertz_to_mel(n,f),v=hertz_to_mel(i,f),m=linspace(_,v,e+2);let u=mel_to_hertz(m,f),o;if(b){const w=l/(t*2);o=hertz_to_mel(Float64Array.from({length:t},(E,T)=>T*w),f),u=m}else o=linspace(0,Math.floor(l/2),t);const h=_create_triangular_filter_bank(o,u);if(d!==null&&d==="slaney")for(let w=0;w<e;++w){const E=h[w],T=2/(u[w+2]-u[w]);for(let O=0;O<t;++O)E[O]*=T}return h}function padReflect(t,e,n){const i=new t.constructor(t.length+e+n),l=t.length-1;for(let d=0;d<t.length;++d)i[e+d]=t[d];for(let d=1;d<=e;++d)i[e-d]=t[calculateReflectOffset(d,l)];for(let d=1;d<=n;++d)i[l+e+d]=t[calculateReflectOffset(l-d,l)];return i}function _db_conversion_helper(t,e,n,i,l){if(n<=0)throw new Error("reference must be greater than zero");if(i<=0)throw new Error("min_value must be greater than zero");n=Math.max(i,n);const d=Math.log10(n);for(let f=0;f<t.length;++f)t[f]=e*Math.log10(Math.max(i,t[f])-d);if(l!==null){if(l<=0)throw new Error("db_range must be greater than zero");const f=max$1(t)[0]-l;for(let b=0;b<t.length;++b)t[b]=Math.max(t[b],f)}return t}function amplitude_to_db(t,e=1,n=1e-5,i=null){return _db_conversion_helper(t,20,e,n,i)}function power_to_db(t,e=1,n=1e-10,i=null){return _db_conversion_helper(t,10,e,n,i)}function spectrogram(t,e,n,i,{fft_length:l=null,power:d=1,center:f=!0,pad_mode:b="reflect",onesided:_=!0,preemphasis:v=null,mel_filters:m=null,mel_floor:u=1e-10,log_mel:o=null,reference:h=1,min_value:w=1e-10,db_range:E=null,remove_dc_offset:T=null,max_num_frames:O=null,do_pad:M=!0,transpose:I=!1}={}){const R=e.length;if(l===null&&(l=n),n>l)throw Error(`frame_length (${n}) may not be larger than fft_length (${l})`);if(R!==n)throw new Error(`Length of the window (${R}) must equal frame_length (${n})`);if(i<=0)throw new Error("hop_length must be greater than zero");if(d===null&&m!==null)throw new Error("You have provided `mel_filters` but `power` is `None`. Mel spectrogram computation is not yet supported for complex-valued spectrogram. Specify `power` to fix this issue.");if(f){if(b!=="reflect")throw new Error(`pad_mode="${b}" not implemented yet.`);const U=Math.floor((l-1)/2)+1;t=padReflect(t,U,U)}const D=Math.floor(1+Math.floor((t.length-n)/i)),N=_?Math.floor(l/2)+1:l;let L=D,B=D;O!==null&&(O>D?M&&(B=O):B=L=O);const $=new FFT(l),V=new Float64Array(l),G=new Float64Array($.outputBufferSize),X=new Array(L);for(let U=0;U<L;++U){const q=U*i;for(let ie=0;ie<n;++ie)V[ie]=t[q+ie];if(T){let ie=0;for(let Z=0;Z<n;++Z)ie+=V[Z];const Ee=ie/n;for(let Z=0;Z<n;++Z)V[Z]-=Ee}if(v!==null){for(let ie=n-1;ie>=1;--ie)V[ie]-=v*V[ie-1];V[0]*=1-v}for(let ie=0;ie<e.length;++ie)V[ie]*=e[ie];$.realTransform(G,V);const le=new Array(N);for(let ie=0;ie<le.length;++ie){const Ee=ie<<1;le[ie]=G[Ee]**2+G[Ee+1]**2}X[U]=le}if(d!==null&&d!==2){const U=2/d;for(let q=0;q<X.length;++q){const le=X[q];for(let ie=0;ie<le.length;++ie)le[ie]**=U}}const ee=m.length,Q=new Float32Array(ee*B),Y=I?[B,ee]:[ee,B];for(let U=0;U<ee;++U){const q=m[U];for(let le=0;le<L;++le){const ie=X[le];let Ee=0;for(let Z=0;Z<N;++Z)Ee+=q[Z]*ie[Z];Q[I?le*ee+U:U*L+le]=Math.max(u,Ee)}}if(d!==null&&o!==null){const U=Math.min(Q.length,L*ee);switch(o){case"log":for(let q=0;q<U;++q)Q[q]=Math.log(Q[q]);break;case"log10":for(let q=0;q<U;++q)Q[q]=Math.log10(Q[q]);break;case"dB":if(d===1)amplitude_to_db(Q,h,w,E);else if(d===2)power_to_db(Q,h,w,E);else throw new Error(`Cannot use log_mel option '${o}' with power ${d}`);break;default:throw new Error(`log_mel must be one of null, 'log', 'log10' or 'dB'. Got '${o}'`)}}return{data:Q,dims:Y}}function window_function(t,e,{periodic:n=!0,frame_length:i=null,center:l=!0}={}){const d=n?t+1:t;let f;switch(e){case"boxcar":f=new Float64Array(d).fill(1);break;case"hann":case"hann_window":f=hanning(d);break;case"povey":f=hanning(d).map(b=>Math.pow(b,.85));break;default:throw new Error(`Unknown window type ${e}.`)}if(n&&(f=f.subarray(0,t)),i===null)return f;if(t>i)throw new Error(`Length of the window (${t}) may not be larger than frame_length (${i})`);return f}function center_to_corners_format([t,e,n,i]){return[t-n/2,e-i/2,t+n/2,e+i/2]}function post_process_object_detection(t,e=.5,n=null,i=!1){const l=t.logits,d=t.pred_boxes,[f,b,_]=l.dims;if(n!==null&&n.length!==f)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let v=[];for(let m=0;m<f;++m){let u=n!==null?n[m]:null,o={boxes:[],classes:[],scores:[]},h=l[m],w=d[m];for(let E=0;E<b;++E){let T=h[E],O=[],M;if(i){M=T.sigmoid().data;for(let I=0;I<M.length;++I)M[I]>e&&O.push(I)}else{let I=max$1(T.data)[1];if(I===_-1)continue;O.push(I),M=softmax(T.data)}for(const I of O){let R=w[E].data;R=center_to_corners_format(R),u!==null&&(R=R.map((D,N)=>D*u[(N+1)%2])),o.boxes.push(R),o.classes.push(I),o.scores.push(M[I])}}v.push(o)}return v}function validate_audio_inputs(t,e){var n;if(!(t instanceof Float32Array||t instanceof Float64Array))throw new Error(`${e} expects input to be a Float32Array or a Float64Array, but got ${((n=t==null?void 0:t.constructor)==null?void 0:n.name)??typeof t} instead. If using the feature extractor directly, remember to use \`read_audio(url, sampling_rate)\` to obtain the raw audio data of the file/url.`)}function constraint_to_multiple_of(t,e,n=0,i=null){const l=t/e;let d=bankers_round(l)*e;return i!==null&&d>i&&(d=Math.floor(l)*e),d<n&&(d=Math.ceil(l)*e),d}function enforce_size_divisibility([t,e],n){return[Math.max(Math.floor(t/n),1)*n,Math.max(Math.floor(e/n),1)*n]}class FeatureExtractor extends Callable{constructor(e){super(),this.config=e}}class ImageFeatureExtractor extends FeatureExtractor{constructor(e){super(e),this.image_mean=this.config.image_mean??this.config.mean,this.image_std=this.config.image_std??this.config.std,this.resample=this.config.resample??2,this.do_rescale=this.config.do_rescale??!0,this.rescale_factor=this.config.rescale_factor??1/255,this.do_normalize=this.config.do_normalize,this.do_resize=this.config.do_resize,this.do_thumbnail=this.config.do_thumbnail,this.size=this.config.size,this.size_divisibility=this.config.size_divisibility??this.config.size_divisor,this.do_center_crop=this.config.do_center_crop,this.crop_size=this.config.crop_size,this.do_convert_rgb=this.config.do_convert_rgb??!0,this.do_crop_margin=this.config.do_crop_margin,this.pad_size=this.config.pad_size,this.do_pad=this.config.do_pad,this.do_pad&&!this.pad_size&&this.size&&this.size.width!==void 0&&this.size.height!==void 0&&(this.pad_size=this.size),this.do_flip_channel_order=this.config.do_flip_channel_order??!1}async thumbnail(e,n,i=2){const l=e.height,d=e.width,f=n.height,b=n.width;let _=Math.min(l,f),v=Math.min(d,b);return _===l&&v===d?e:(l>d?v=Math.floor(d*_/l):d>l&&(_=Math.floor(l*v/d)),await e.resize(v,_,{resample:i}))}async crop_margin(e,n=200){const i=e.clone().grayscale(),l=min$1(i.data)[0],f=max$1(i.data)[0]-l;if(f===0)return e;const b=n/255;let _=i.width,v=i.height,m=0,u=0;for(let o=0;o<i.height;++o){const h=o*i.width;for(let w=0;w<i.width;++w)(i.data[h+w]-l)/f<b&&(_=Math.min(_,w),v=Math.min(v,o),m=Math.max(m,w),u=Math.max(u,o))}return e=await e.crop([_,v,m,u]),e}pad_image(e,n,i,{mode:l="constant",center:d=!1,constant_values:f=0}={}){const[b,_,v]=n;let m,u;if(typeof i=="number"?(m=i,u=i):(m=i.width,u=i.height),m!==_||u!==b){const o=new Float32Array(m*u*v);if(Array.isArray(f))for(let E=0;E<o.length;++E)o[E]=f[E%v];else f!==0&&o.fill(f);const[h,w]=d?[Math.floor((m-_)/2),Math.floor((u-b)/2)]:[0,0];for(let E=0;E<b;++E){const T=(E+w)*m,O=E*_;for(let M=0;M<_;++M){const I=(T+M+h)*v,R=(O+M)*v;for(let D=0;D<v;++D)o[I+D]=e[R+D]}}if(l==="symmetric"){if(d)throw new Error("`center` padding is not supported when `mode` is set to `symmetric`.");const E=b-1,T=_-1;for(let O=0;O<u;++O){const M=O*m,I=calculateReflectOffset(O,E)*_;for(let R=0;R<m;++R){if(O<b&&R<_)continue;const D=(M+R)*v,N=(I+calculateReflectOffset(R,T))*v;for(let L=0;L<v;++L)o[D+L]=e[N+L]}}}e=o,n=[u,m,v]}return[e,n]}rescale(e){for(let n=0;n<e.length;++n)e[n]=this.rescale_factor*e[n]}get_resize_output_image_size(e,n){const[i,l]=e.size;let d,f;if(this.do_thumbnail){const{height:b,width:_}=n;d=Math.min(b,_)}else Number.isInteger(n)?(d=n,f=this.config.max_size??d):n!==void 0&&(d=n.shortest_edge,f=n.longest_edge);if(d!==void 0||f!==void 0){const b=d===void 0?1:Math.max(d/i,d/l),_=i*b,v=l*b,m=f===void 0?1:Math.min(f/_,f/v);let u=Math.floor(Number((_*m).toFixed(2))),o=Math.floor(Number((v*m).toFixed(2)));return this.size_divisibility!==void 0&&([u,o]=enforce_size_divisibility([u,o],this.size_divisibility)),[u,o]}else if(n!==void 0&&n.width!==void 0&&n.height!==void 0){let b=n.width,_=n.height;if(this.config.keep_aspect_ratio&&this.config.ensure_multiple_of){let v=_/l,m=b/i;Math.abs(1-m)<Math.abs(1-v)?v=m:m=v,_=constraint_to_multiple_of(v*l,this.config.ensure_multiple_of),b=constraint_to_multiple_of(m*i,this.config.ensure_multiple_of)}return[b,_]}else{if(this.size_divisibility!==void 0)return enforce_size_divisibility([i,l],this.size_divisibility);throw new Error(`Could not resize image due to unsupported \`this.size\` option in config: ${JSON.stringify(n)}`)}}async resize(e){const[n,i]=this.get_resize_output_image_size(e,this.size);return await e.resize(n,i,{resample:this.resample})}async preprocess(e,{do_normalize:n=null,do_pad:i=null,do_convert_rgb:l=null,do_convert_grayscale:d=null,do_flip_channel_order:f=null}={}){this.do_crop_margin&&(e=await this.crop_margin(e));const[b,_]=e.size;if(l??this.do_convert_rgb?e=e.rgb():d&&(e=e.grayscale()),this.do_resize&&(e=await this.resize(e)),this.do_thumbnail&&(e=await this.thumbnail(e,this.size,this.resample)),this.do_center_crop){let h,w;Number.isInteger(this.crop_size)?(h=this.crop_size,w=this.crop_size):(h=this.crop_size.width,w=this.crop_size.height),e=await e.center_crop(h,w)}const v=[e.height,e.width];let m=Float32Array.from(e.data),u=[e.height,e.width,e.channels];if(this.do_rescale&&this.rescale(m),n??this.do_normalize){let h=this.image_mean;Array.isArray(this.image_mean)||(h=new Array(e.channels).fill(h));let w=this.image_std;if(Array.isArray(this.image_std)||(w=new Array(e.channels).fill(h)),h.length!==e.channels||w.length!==e.channels)throw new Error(`When set to arrays, the length of \`image_mean\` (${h.length}) and \`image_std\` (${w.length}) must match the number of channels in the image (${e.channels}).`);for(let E=0;E<m.length;E+=e.channels)for(let T=0;T<e.channels;++T)m[E+T]=(m[E+T]-h[T])/w[T]}if(i??this.do_pad){if(this.pad_size)[m,u]=this.pad_image(m,[e.height,e.width,e.channels],this.pad_size);else if(this.size_divisibility){const[h,w]=enforce_size_divisibility([u[1],u[0]],this.size_divisibility);[m,u]=this.pad_image(m,u,{width:h,height:w})}}if(f??this.do_flip_channel_order){if(u[2]!==3)throw new Error("Flipping channel order is only supported for RGB images.");for(let h=0;h<m.length;h+=3){const w=m[h];m[h]=m[h+2],m[h+2]=w}}const o=new Tensor("float32",m,u).permute(2,0,1);return{original_size:[_,b],reshaped_input_size:v,pixel_values:o}}async _call(e,...n){Array.isArray(e)||(e=[e]);const i=await Promise.all(e.map(d=>this.preprocess(d)));return{pixel_values:stack(i.map(d=>d.pixel_values),0),original_sizes:i.map(d=>d.original_size),reshaped_input_sizes:i.map(d=>d.reshaped_input_size)}}}class SegformerFeatureExtractor extends ImageFeatureExtractor{post_process_semantic_segmentation(e,n=null){const i=e.logits,l=i.dims[0];if(n!==null&&n.length!==l)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");const d=[];for(let f=0;f<l;++f){const b=n!==null?n[f]:null;let _=i[f];b!==null&&(_=interpolate$2(_,b,"bilinear",!1));const[v,m]=b??_.dims.slice(-2),u=new Tensor("int32",new Int32Array(v*m),[v,m]),o=_[0].data;for(let T=1;T<_.dims[0];++T){const O=_[T].data;for(let M=0;M<O.length;++M)O[M]>o[M]&&(o[M]=O[M],u.data[M]=T)}const h=new Array(_.dims[0]),w=u.data;for(let T=0;T<w.length;++T){const O=w[T];h[O]=O}const E=h.filter(T=>T!==void 0);d.push({segmentation:u,labels:E})}return d}}class DPTFeatureExtractor extends ImageFeatureExtractor{}class DPTImageProcessor extends DPTFeatureExtractor{}class BitImageProcessor extends ImageFeatureExtractor{}class GLPNFeatureExtractor extends ImageFeatureExtractor{}class CLIPFeatureExtractor extends ImageFeatureExtractor{}class ChineseCLIPFeatureExtractor extends ImageFeatureExtractor{}class SiglipImageProcessor extends ImageFeatureExtractor{}class ConvNextFeatureExtractor extends ImageFeatureExtractor{constructor(e){super(e),this.crop_pct=this.config.crop_pct??224/256}async resize(e){var i;const n=(i=this.size)==null?void 0:i.shortest_edge;if(n===void 0)throw new Error("Size dictionary must contain 'shortest_edge' key.");if(n<384){const l=Math.floor(n/this.crop_pct),[d,f]=this.get_resize_output_image_size(e,{shortest_edge:l});e=await e.resize(d,f,{resample:this.resample}),e=await e.center_crop(n,n)}else e=await e.resize(n,n,{resample:this.resample});return e}}class ConvNextImageProcessor extends ConvNextFeatureExtractor{}class ViTFeatureExtractor extends ImageFeatureExtractor{}class ViTImageProcessor extends ImageFeatureExtractor{}class EfficientNetImageProcessor extends ImageFeatureExtractor{constructor(e){super(e),this.include_top=this.config.include_top??!0,this.include_top&&(this.image_std=this.image_std.map(n=>n*n))}}class MobileViTFeatureExtractor extends ImageFeatureExtractor{}class MobileViTImageProcessor extends MobileViTFeatureExtractor{}class OwlViTFeatureExtractor extends ImageFeatureExtractor{post_process_object_detection(...e){return post_process_object_detection(...e)}}class Owlv2ImageProcessor extends OwlViTFeatureExtractor{}class DeiTFeatureExtractor extends ImageFeatureExtractor{}class BeitFeatureExtractor extends ImageFeatureExtractor{}class DonutFeatureExtractor extends ImageFeatureExtractor{pad_image(e,n,i,l={}){const[d,f,b]=n;let _=this.image_mean;Array.isArray(this.image_mean)||(_=new Array(b).fill(_));let v=this.image_std;Array.isArray(v)||(v=new Array(b).fill(_));const m=_.map((u,o)=>-u/v[o]);return super.pad_image(e,n,i,{center:!0,constant_values:m,...l})}}class NougatImageProcessor extends DonutFeatureExtractor{}class DetrFeatureExtractor extends ImageFeatureExtractor{async _call(e){const n=await super._call(e),i=[n.pixel_values.dims[0],64,64],l=new Tensor("int64",new BigInt64Array(i.reduce((d,f)=>d*f)).fill(1n),i);return{...n,pixel_mask:l}}post_process_object_detection(...e){return post_process_object_detection(...e)}remove_low_and_no_objects(e,n,i,l){let d=[],f=[],b=[];for(let _=0;_<e.dims[0];++_){let v=e[_],m=n[_],u=max$1(v.data)[1];if(u===l)continue;let h=softmax(v.data)[u];h>i&&(d.push(m),f.push(h),b.push(u))}return[d,f,b]}check_segment_validity(e,n,i,l=.5,d=.8){let f=[],b=0,_=0;for(let m=0;m<e.length;++m)e[m]===i&&(f.push(m),++b),n[i].data[m]>=l&&++_;let v=b>0&&_>0;return v&&(v=b/_>d),[v,f]}compute_segments(e,n,i,l,d,f=null,b=null){let[_,v]=b??e[0].dims,m=new Tensor("int32",new Int32Array(_*v),[_,v]),u=[];if(b!==null)for(let E=0;E<e.length;++E)e[E]=interpolate$2(e[E],b,"bilinear",!1);let o=new Int32Array(e[0].data.length),h=new Float32Array(e[0].data.length);for(let E=0;E<e.length;++E){let T=n[E];for(let O=0;O<e[E].data.length;++O)e[E].data[O]*=T,e[E].data[O]>h[O]&&(o[O]=E,h[O]=e[E].data[O])}let w=0;for(let E=0;E<i.length;++E){let T=i[E],[O,M]=this.check_segment_validity(o,e,E,l,d);if(O){++w;for(let I of M)m.data[I]=w;u.push({id:w,label_id:T,score:n[E]})}}return[m,u]}post_process_panoptic_segmentation(e,n=.5,i=.5,l=.8,d=null,f=null){d===null&&(console.warn("`label_ids_to_fuse` unset. No instance will be fused."),d=new Set);const b=e.logits,v=e.pred_masks.sigmoid();let[m,u,o]=b.dims;if(o-=1,f!==null&&f.length!==m)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let h=[];for(let w=0;w<m;++w){let E=f!==null?f[w]:null,T=b[w],O=v[w],[M,I,R]=this.remove_low_and_no_objects(T,O,n,o);if(R.length===0){let[L,B]=E??O.dims.slice(-2),$=new Tensor("int32",new Int32Array(L*B).fill(-1),[L,B]);h.push({segmentation:$,segments_info:[]});continue}let[D,N]=this.compute_segments(M,I,R,i,l,d,E);h.push({segmentation:D,segments_info:N})}return h}post_process_instance_segmentation(){throw Error("Not implemented yet")}}class YolosFeatureExtractor extends ImageFeatureExtractor{post_process_object_detection(...e){return post_process_object_detection(...e)}}class SamImageProcessor extends ImageFeatureExtractor{reshape_input_points(e,n,i){e=structuredClone(e);let l=calculateDimensions(e);if(l.length===3)l=[1,...l],e=[e];else if(l.length!==4)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");for(let d=0;d<e.length;++d){let f=n[d],b=i[d],_=[b[0]/f[0],b[1]/f[1]];for(let v=0;v<e[d].length;++v)for(let m=0;m<e[d][v].length;++m)for(let u=0;u<e[d][v][m].length;++u)e[d][v][m][u]*=_[u]}return new Tensor("float32",Float32Array.from(e.flat(1/0)),l)}add_input_labels(e,n){let i=calculateDimensions(e);if(i.length===2)i=[1,...i],e=[e];else if(i.length!==3)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");if(i.some((l,d)=>l!==n.dims[d]))throw Error(`The first ${i.length} dimensions of 'input_points' and 'input_labels' must be the same.`);return new Tensor("int64",e.flat(1/0).map(BigInt),i)}async _call(e,n=null,i=null){const l=await super._call(e);if(n&&(l.input_points=this.reshape_input_points(n,l.original_sizes,l.reshaped_input_sizes)),i){if(!l.input_points)throw Error("`input_points` must be provided if `input_labels` are provided.");l.input_labels=this.add_input_labels(i,l.input_points)}return l}post_process_masks(e,n,i,{mask_threshold:l=0,binarize:d=!0,pad_size:f=null}={}){const b=[];f=f??this.pad_size;const _=[f.height,f.width];for(let v=0;v<n.length;++v){const m=n[v],u=i[v],o=e[v],h=[];for(let w=0;w<o.dims[0];++w){const E=o[w];let T=interpolate$2(E,_,"bilinear",!1);if(T=T.slice(null,[0,u[0]],[0,u[1]]),T=interpolate$2(T,m,"bilinear",!1),d){const O=new Uint8Array(T.data.length);for(let M=0;M<T.data.length;++M)T.data[M]>l&&(O[M]=1);T=new Tensor("bool",O,T.dims)}h.push(T)}b.push(stack(h))}return b}}class Swin2SRImageProcessor extends ImageFeatureExtractor{pad_image(e,n,i,l={}){const[d,f,b]=n;return super.pad_image(e,n,{width:f+(i-f%i)%i,height:d+(i-d%i)%i},{mode:"symmetric",center:!1,constant_values:-1,...l})}}class VitMatteImageProcessor extends ImageFeatureExtractor{async _call(e,n){Array.isArray(e)||(e=[e]),Array.isArray(n)||(n=[n]);const i=await Promise.all(e.map(f=>this.preprocess(f))),l=await Promise.all(n.map(f=>this.preprocess(f,{do_normalize:!1,do_convert_rgb:!1,do_convert_grayscale:!0})));return{pixel_values:stack(i.map((f,b)=>cat([f.pixel_values,l[b].pixel_values],0)),0),original_sizes:i.map(f=>f.original_size),reshaped_input_sizes:i.map(f=>f.reshaped_input_size)}}}class WhisperFeatureExtractor extends FeatureExtractor{constructor(e){var n;super(e),(n=this.config).mel_filters??(n.mel_filters=mel_filter_bank(Math.floor(1+this.config.n_fft/2),this.config.feature_size,0,8e3,this.config.sampling_rate,"slaney","slaney")),this.window=window_function(this.config.n_fft,"hann")}_extract_fbank_features(e){const{data:n,dims:i}=spectrogram(e,this.window,this.config.n_fft,this.config.hop_length,{power:2,mel_filters:this.config.mel_filters,log_mel:"log10",max_num_frames:this.config.nb_max_frames}),l=max$1(n)[0];for(let d=0;d<n.length;++d)n[d]=(Math.max(n[d],l-8)+4)/4;return{data:n,dims:i}}async _call(e){validate_audio_inputs(e,"WhisperFeatureExtractor");let n;e.length>this.config.n_samples?(console.warn("Attempting to extract features for audio longer than 30 seconds. If using a pipeline to extract transcript from a long audio clip, remember to specify `chunk_length_s` and/or `stride_length_s`."),n=e.slice(0,this.config.n_samples)):(n=new Float32Array(this.config.n_samples),n.set(e));const{data:i,dims:l}=this._extract_fbank_features(n);return{input_features:new Tensor("float32",i,[1,...l])}}}class Wav2Vec2FeatureExtractor extends FeatureExtractor{_zero_mean_unit_var_norm(e){const i=e.reduce((d,f)=>d+f,0)/e.length,l=e.reduce((d,f)=>d+(f-i)**2,0)/e.length;return e.map(d=>(d-i)/Math.sqrt(l+1e-7))}async _call(e){validate_audio_inputs(e,"Wav2Vec2FeatureExtractor"),e instanceof Float64Array&&(e=new Float32Array(e));let n=e;this.config.do_normalize&&(n=this._zero_mean_unit_var_norm(n));const i=[1,n.length];return{input_values:new Tensor("float32",n,i),attention_mask:new Tensor("int64",new BigInt64Array(n.length).fill(1n),i)}}}class SeamlessM4TFeatureExtractor extends FeatureExtractor{constructor(e){super(e);const n=this.config.sampling_rate,i=mel_filter_bank(256,this.config.num_mel_bins,20,Math.floor(n/2),n,null,"kaldi",!0);for(let l=0;l<i.length;++l)i[l].push(0);this.mel_filters=i,this.window=window_function(400,"povey",{periodic:!1})}_extract_fbank_features(e,n){return e=e.map(i=>i*32768),spectrogram(e,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1192092955078125e-22,remove_dc_offset:!0,max_num_frames:n,transpose:!0})}async _call(e,{padding:n=!0,pad_to_multiple_of:i=2,do_normalize_per_mel_bins:l=!0,return_attention_mask:d=!0}={}){validate_audio_inputs(e,"SeamlessM4TFeatureExtractor");let f=this._extract_fbank_features(e,this.config.max_length);if(l){const[w,E]=f.dims;for(let T=0;T<E;++T){let O=0;for(let D=0;D<w;++D)O+=f.data[D*E+T];const M=O/w;let I=0;for(let D=0;D<w;++D)I+=(f.data[D*E+T]-M)**2;I/=w-1;const R=Math.sqrt(I+1e-7);for(let D=0;D<w;++D){const N=D*E+T;f.data[N]=(f.data[N]-M)/R}}}let b;if(n){const[w,E]=f.dims,T=w%i;if(T>0){const O=new Float32Array(E*(w+T));O.set(f.data),O.fill(this.config.padding_value,f.data.length);const M=w+T;f={data:O,dims:[M,E]},d&&(b=new Tensor("int64",new BigInt64Array(M),[1,M]),b.data.fill(1n,0,w))}}const[_,v]=f.dims,m=this.config.stride;if(_%m!==0)throw new Error(`The number of frames (${_}) must be a multiple of the stride (${m}).`);const o=new Tensor("float32",f.data,f.dims).view(1,Math.floor(_/m),v*m),h={input_features:o};if(d){const w=o.dims[1],E=new Tensor("int64",new BigInt64Array(w),[1,w]);if(b)for(let T=1,O=0;T<_;T+=m,++O)E.data[O]=b.data[T];else E.data.fill(1n);h.attention_mask=E}return h}}class ASTFeatureExtractor extends FeatureExtractor{constructor(e){super(e);const n=this.config.sampling_rate,i=mel_filter_bank(256,this.config.num_mel_bins,20,Math.floor(n/2),n,null,"kaldi",!0);for(let l=0;l<i.length;++l)i[l].push(0);this.mel_filters=i,this.window=window_function(400,"hann",{periodic:!1}),this.mean=this.config.mean,this.std=this.config.std}_extract_fbank_features(e,n){return spectrogram(e,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1192092955078125e-22,remove_dc_offset:!0,max_num_frames:n,transpose:!0})}async _call(e){validate_audio_inputs(e,"ASTFeatureExtractor");const n=this._extract_fbank_features(e,this.config.max_length);if(this.config.do_normalize){const i=this.std*2;for(let l=0;l<n.data.length;++l)n.data[l]=(n.data[l]-this.mean)/i}return{input_values:new Tensor("float32",n.data,[1,...n.dims])}}}class ClapFeatureExtractor extends FeatureExtractor{constructor(e){super(e),this.mel_filters=mel_filter_bank(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,null,"htk"),this.mel_filters_slaney=mel_filter_bank(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,"slaney","slaney"),this.window=window_function(this.config.fft_window_size,"hann")}_get_input_mel(e,n,i,l){let d,f=!1;const b=e.length-n;if(b>0)if(i==="rand_trunc"){f=!0;const _=Math.floor(Math.random()*(b+1));e=e.subarray(_,_+n),d=this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples),d.dims=[1,...d.dims]}else throw new Error(`Truncation strategy "${i}" not implemented`);else{if(b<0){let _=new Float64Array(n);if(_.set(e),l==="repeat")for(let v=e.length;v<n;v+=e.length)_.set(e.subarray(0,Math.min(e.length,n-v)),v);else if(l==="repeatpad")for(let v=e.length;v<-b;v+=e.length)_.set(e,v);e=_}if(i==="fusion")throw new Error(`Truncation strategy "${i}" not implemented`);d=this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples),d.dims=[1,...d.dims]}return{...d,longer:f}}_extract_fbank_features(e,n,i=null){return spectrogram(e,this.window,this.config.fft_window_size,this.config.hop_length,{power:2,mel_filters:n,log_mel:"dB",max_num_frames:i,do_pad:!1,transpose:!0})}async _call(e,{max_length:n=null}={}){validate_audio_inputs(e,"ClapFeatureExtractor");const i=this._get_input_mel(e,n??this.config.nb_max_samples,this.config.truncation,this.config.padding);return{input_features:new Tensor("float32",i.data,[1,...i.dims])}}}class SpeechT5FeatureExtractor extends FeatureExtractor{}class Processor extends Callable{constructor(e){super(),this.feature_extractor=e}async _call(e,...n){return await this.feature_extractor(e,...n)}}class SamProcessor extends Processor{async _call(...e){return await this.feature_extractor(...e)}post_process_masks(...e){return this.feature_extractor.post_process_masks(...e)}reshape_input_points(...e){return this.feature_extractor.reshape_input_points(...e)}}class WhisperProcessor extends Processor{async _call(e){return await this.feature_extractor(e)}}class Wav2Vec2ProcessorWithLM extends Processor{async _call(e){return await this.feature_extractor(e)}}class SpeechT5Processor extends Processor{async _call(e){return await this.feature_extractor(e)}}class OwlViTProcessor extends Processor{}class AutoProcessor{static async from_pretrained(e,{progress_callback:n=null,config:i=null,cache_dir:l=null,local_files_only:d=!1,revision:f="main"}={}){let b=i??await getModelJSON(e,"preprocessor_config.json",!0,{progress_callback:n,cache_dir:l,local_files_only:d,revision:f}),_=b.feature_extractor_type??b.image_processor_type,v=this.FEATURE_EXTRACTOR_CLASS_MAPPING[_];if(!v)if(b.size!==void 0)console.warn(`Feature extractor type "${_}" not found, assuming ImageFeatureExtractor due to size parameter in config.`),v=ImageFeatureExtractor;else throw new Error(`Unknown Feature Extractor type: ${_}`);let m=this.PROCESSOR_CLASS_MAPPING[b.processor_class]??Processor,u=new v(b);return new m(u)}}Ie(AutoProcessor,"FEATURE_EXTRACTOR_CLASS_MAPPING",{ImageFeatureExtractor,WhisperFeatureExtractor,ViTFeatureExtractor,MobileViTFeatureExtractor,MobileViTImageProcessor,OwlViTFeatureExtractor,Owlv2ImageProcessor,CLIPFeatureExtractor,ChineseCLIPFeatureExtractor,SiglipImageProcessor,ConvNextFeatureExtractor,ConvNextImageProcessor,SegformerFeatureExtractor,BitImageProcessor,DPTImageProcessor,DPTFeatureExtractor,GLPNFeatureExtractor,BeitFeatureExtractor,DeiTFeatureExtractor,DetrFeatureExtractor,YolosFeatureExtractor,DonutFeatureExtractor,NougatImageProcessor,EfficientNetImageProcessor,ViTImageProcessor,VitMatteImageProcessor,SamImageProcessor,Swin2SRImageProcessor,Wav2Vec2FeatureExtractor,SeamlessM4TFeatureExtractor,SpeechT5FeatureExtractor,ASTFeatureExtractor,ClapFeatureExtractor}),Ie(AutoProcessor,"PROCESSOR_CLASS_MAPPING",{WhisperProcessor,Wav2Vec2ProcessorWithLM,SamProcessor,SpeechT5Processor,OwlViTProcessor});async function prepareImages(t){return Array.isArray(t)||(t=[t]),await Promise.all(t.map(e=>RawImage.read(e)))}async function prepareAudios(t,e){return Array.isArray(t)||(t=[t]),await Promise.all(t.map(n=>typeof n=="string"||n instanceof URL?read_audio(n,e):n instanceof Float64Array?new Float32Array(n):n))}function get_bounding_box(t,e){e&&(t=t.map(f=>f|0));const[n,i,l,d]=t;return{xmin:n,ymin:i,xmax:l,ymax:d}}class Pipeline extends Callable{constructor({task:e,model:n,tokenizer:i=null,processor:l=null}){super(),this.task=e,this.model=n,this.tokenizer=i,this.processor=l}async dispose(){await this.model.dispose()}}class TextClassificationPipeline extends Pipeline{constructor(e){super(e)}async _call(e,{topk:n=1}={}){const i=this.tokenizer(e,{padding:!0,truncation:!0}),l=await this.model(i),d=this.model.config.problem_type==="multi_label_classification"?_=>_.sigmoid().data:_=>softmax(_.data),f=this.model.config.id2label,b=[];for(const _ of l.logits){const v=d(_),u=getTopItems(v,n).map(o=>({label:f[o[0]],score:o[1]}));n===1?b.push(...u):b.push(u)}return Array.isArray(e)||n===1?b:b[0]}}class TokenClassificationPipeline extends Pipeline{constructor(e){super(e)}async _call(e,{ignore_labels:n=["O"]}={}){const i=Array.isArray(e),l=this.tokenizer(i?e:[e],{padding:!0,truncation:!0}),f=(await this.model(l)).logits,b=this.model.config.id2label,_=[];for(let v=0;v<f.dims[0];++v){const m=l.input_ids[v],u=f[v],o=[];for(let h=0;h<u.dims[0];++h){const w=u[h],E=max$1(w.data)[1],T=b?b[E]:`LABEL_${E}`;if(n.includes(T))continue;const O=this.tokenizer.decode([m[h].item()],{skip_special_tokens:!0});if(O==="")continue;const M=softmax(w.data);o.push({entity:T,score:M[E],index:h,word:O,start:null,end:null})}_.push(o)}return i?_:_[0]}}class QuestionAnsweringPipeline extends Pipeline{constructor(e){super(e)}async _call(e,n,{topk:i=1}={}){const l=this.tokenizer(e,{text_pair:n,padding:!0,truncation:!0}),d=await this.model(l),f=[];for(let b=0;b<d.start_logits.dims[0];++b){const _=l.input_ids[b],v=_.indexOf(this.tokenizer.sep_token_id),m=Array.from(softmax(d.start_logits[b].data)).map((h,w)=>[h,w]).filter(h=>h[1]>v),u=Array.from(softmax(d.end_logits[b].data)).map((h,w)=>[h,w]).filter(h=>h[1]>v),o=product(m,u).filter(h=>h[0][1]<=h[1][1]).map(h=>[h[0][1],h[1][1],h[0][0]*h[1][0]]).sort((h,w)=>w[2]-h[2]);for(let h=0;h<Math.min(o.length,i);++h){const[w,E,T]=o[h],O=[..._].slice(w,E+1),M=this.tokenizer.decode(O,{skip_special_tokens:!0});f.push({answer:M,score:T})}}return i===1?f[0]:f}}class FillMaskPipeline extends Pipeline{constructor(e){super(e)}async _call(e,{topk:n=5}={}){const i=this.tokenizer(e,{padding:!0,truncation:!0}),l=await this.model(i),d=[];for(let f=0;f<i.input_ids.dims[0];++f){const b=i.input_ids[f],_=b.indexOf(this.tokenizer.mask_token_id);if(_===-1)throw Error(`Mask token (${this.tokenizer.mask_token}) not found in text.`);const m=l.logits[f][_],u=getTopItems(softmax(m.data),n);d.push(u.map(o=>{const h=[...b];return h[_]=o[0],{score:o[1],token:o[0],token_str:this.tokenizer.model.vocab[o[0]],sequence:this.tokenizer.decode(h,{skip_special_tokens:!0})}}))}return Array.isArray(e)?d:d[0]}}class Text2TextGenerationPipeline extends Pipeline{constructor(n){super(n);Ie(this,"_key","generated_text")}async _call(n,i={}){Array.isArray(n)||(n=[n]),this.model.config.prefix&&(n=n.map(v=>this.model.config.prefix+v));const l=this.model.config.task_specific_params;l&&l[this.task]&&l[this.task].prefix&&(n=n.map(v=>l[this.task].prefix+v));const d=this.tokenizer,f={padding:!0,truncation:!0};let b;this instanceof TranslationPipeline&&"_build_translation_inputs"in d?b=d._build_translation_inputs(n,f,i).input_ids:b=d(n,f).input_ids;const _=await this.model.generate(b,i);return d.batch_decode(_,{skip_special_tokens:!0}).map(v=>({[this._key]:v}))}}class SummarizationPipeline extends Text2TextGenerationPipeline{constructor(n){super(n);Ie(this,"_key","summary_text")}}class TranslationPipeline extends Text2TextGenerationPipeline{constructor(n){super(n);Ie(this,"_key","translation_text")}}function isChat(t){return Array.isArray(t)&&t.every(e=>"role"in e&&"content"in e)}class TextGenerationPipeline extends Pipeline{constructor(e){super(e)}async _call(e,n={}){let i=!1,l=!1,d;if(typeof e=="string")d=e=[e];else if(Array.isArray(e)&&e.every(w=>typeof w=="string"))i=!0,d=e;else{if(isChat(e))e=[e];else if(Array.isArray(e)&&e.every(isChat))i=!0;else throw new Error("Input must be a string, an array of strings, a Chat, or an array of Chats");l=!0,d=e.map(w=>this.tokenizer.apply_chat_template(w,{tokenize:!1,add_generation_prompt:!0}))}const f=n.add_special_tokens??!1,b=l?!1:n.return_full_text??!0;this.tokenizer.padding_side="left";const{input_ids:_,attention_mask:v}=this.tokenizer(d,{add_special_tokens:f,padding:!0,truncation:!0}),m=await this.model.generate(_,n,null,{inputs_attention_mask:v});let u=this.tokenizer.batch_decode(m,{skip_special_tokens:!0}),o;!b&&_.dims.at(-1)>0&&(o=this.tokenizer.batch_decode(_,{skip_special_tokens:!0}).map(w=>w.length));const h=Array.from({length:e.length},w=>[]);for(let w=0;w<u.length;++w){const E=Math.floor(w/m.length*e.length);o&&(u[w]=u[w].slice(o[E])),h[E].push({generated_text:l?[...e[E],{role:"assistant",content:u[w]}]:u[w]})}return!i&&h.length===1?h[0]:h}}class ZeroShotClassificationPipeline extends Pipeline{constructor(e){super(e),this.label2id=Object.fromEntries(Object.entries(this.model.config.label2id).map(([n,i])=>[n.toLowerCase(),i])),this.entailment_id=this.label2id.entailment,this.entailment_id===void 0&&(console.warn("Could not find 'entailment' in label2id mapping. Using 2 as entailment_id."),this.entailment_id=2),this.contradiction_id=this.label2id.contradiction??this.label2id.not_entailment,this.contradiction_id===void 0&&(console.warn("Could not find 'contradiction' in label2id mapping. Using 0 as contradiction_id."),this.contradiction_id=0)}async _call(e,n,{hypothesis_template:i="This example is {}.",multi_label:l=!1}={}){const d=Array.isArray(e);d||(e=[e]),Array.isArray(n)||(n=[n]);const f=n.map(v=>i.replace("{}",v)),b=l||n.length===1,_=[];for(const v of e){const m=[];for(const h of f){const w=this.tokenizer(v,{text_pair:h,padding:!0,truncation:!0}),E=await this.model(w);b?m.push([E.logits.data[this.contradiction_id],E.logits.data[this.entailment_id]]):m.push(E.logits.data[this.entailment_id])}const o=(b?m.map(h=>softmax(h)[1]):softmax(m)).map((h,w)=>[h,w]).sort((h,w)=>w[0]-h[0]);_.push({sequence:v,labels:o.map(h=>n[h[1]]),scores:o.map(h=>h[0])})}return d?_:_[0]}}class FeatureExtractionPipeline extends Pipeline{constructor(e){super(e)}async _call(e,{pooling:n="none",normalize:i=!1,quantize:l=!1,precision:d="binary"}={}){const f=this.tokenizer(e,{padding:!0,truncation:!0}),b=await this.model(f);let _=b.last_hidden_state??b.logits??b.token_embeddings;if(n!=="none")if(n==="mean")_=mean_pooling(_,f.attention_mask);else if(n==="cls")_=_.slice(null,0);else throw Error(`Pooling method '${n}' not supported.`);return i&&(_=_.normalize(2,-1)),l&&(_=quantize_embeddings(_,d)),_}}class ImageFeatureExtractionPipeline extends Pipeline{constructor(e){super(e)}async _call(e,{pool:n=null}={}){const i=await prepareImages(e),{pixel_values:l}=await this.processor(i),d=await this.model({pixel_values:l});let f;if(n){if(!("pooler_output"in d))throw Error("No pooled output was returned. Make sure the model has a 'pooler' layer when using the 'pool' option.");f=d.pooler_output}else f=d.last_hidden_state??d.logits??d.image_embeds;return f}}class AudioClassificationPipeline extends Pipeline{constructor(e){super(e)}async _call(e,{topk:n=null}={}){const i=!Array.isArray(e),l=this.processor.feature_extractor.config.sampling_rate,d=await prepareAudios(e,l),f=this.model.config.id2label,b=[];for(const _ of d){const v=await this.processor(_),u=(await this.model(v)).logits[0],h=getTopItems(softmax(u.data),n).map(w=>({label:f[w[0]],score:w[1]}));n===1?b.push(...h):b.push(h)}return!i||n===1?b:b[0]}}class ZeroShotAudioClassificationPipeline extends Pipeline{constructor(e){super(e)}async _call(e,n,{hypothesis_template:i="This is a sound of {}."}={}){const l=!Array.isArray(e);l&&(e=[e]);const d=n.map(m=>i.replace("{}",m)),f=this.tokenizer(d,{padding:!0,truncation:!0}),b=this.processor.feature_extractor.config.sampling_rate,_=await prepareAudios(e,b),v=[];for(const m of _){const u=await this.processor(m),o=await this.model({...f,...u}),h=softmax(o.logits_per_audio.data);v.push([...h].map((w,E)=>({score:w,label:n[E]})))}return l?v[0]:v}}class AutomaticSpeechRecognitionPipeline extends Pipeline{constructor(e){super(e)}async _call(e,n={}){switch(this.model.config.model_type){case"whisper":return this._call_whisper(e,n);case"wav2vec2":case"wav2vec2-bert":case"unispeech":case"unispeech-sat":case"hubert":return this._call_wav2vec2(e,n);default:throw new Error(`AutomaticSpeechRecognitionPipeline does not support model type '${this.model.config.model_type}'.`)}}async _call_wav2vec2(e,n={}){n.language&&console.warn('`language` parameter is not yet supported for `wav2vec2` models, defaulting to "English".'),n.task&&console.warn('`task` parameter is not yet supported for `wav2vec2` models, defaulting to "transcribe".');const i=!Array.isArray(e);i&&(e=[e]);const l=this.processor.feature_extractor.config.sampling_rate,d=await prepareAudios(e,l),f=[];for(const b of d){const _=await this.processor(b),m=(await this.model(_)).logits[0],u=[];for(const h of m)u.push(max$1(h.data)[1]);const o=this.tokenizer.decode(u);f.push({text:o})}return i?f[0]:f}async _call_whisper(e,n={}){const i=n.return_timestamps??!1,l=n.chunk_length_s??0,d=n.chunk_callback??null,f=n.force_full_sequences??!1;let b=n.stride_length_s??null;i==="word"&&(n.return_token_timestamps=!0);const _=pop(n,"language",null),v=pop(n,"task",null);if(_||v||i){if(n.forced_decoder_ids)throw new Error("Cannot specify `language`/`task`/`return_timestamps` and `forced_decoder_ids` at the same time.");const T=this.tokenizer.get_decoder_prompt_ids({language:_,task:v,no_timestamps:!i});T.length>0&&(n.forced_decoder_ids=T)}const m=!Array.isArray(e);m&&(e=[e]);const u=this.processor.feature_extractor.config.chunk_length/this.model.config.max_source_positions,o=this.processor.feature_extractor.config.hop_length,h=this.processor.feature_extractor.config.sampling_rate,w=await prepareAudios(e,h),E=[];for(const T of w){let O=[];if(l>0){if(b===null)b=l/6;else if(l<=b)throw Error("`chunk_length_s` must be larger than `stride_length_s`.");const R=h*l,D=h*b,N=R-2*D;let L=0;for(;L<T.length;){const B=T.subarray(L,L+R),$=await this.processor(B),V=L===0,G=L+N>=T.length;O.push({stride:[B.length,V?0:D,G?0:D],input_features:$.input_features,is_last:G}),L+=N}}else O=[{stride:[T.length,0,0],input_features:(await this.processor(T)).input_features,is_last:!0}];for(const R of O){n.num_frames=Math.floor(R.stride[0]/o);const D=await this.model.generate(R.input_features,n);i==="word"?(R.tokens=D.sequences[0],R.token_timestamps=D.token_timestamps.tolist()[0].map(N=>round$1(N,2))):R.tokens=D[0],R.stride=R.stride.map(N=>N/h),d!==null&&d(R)}const[M,I]=this.tokenizer._decode_asr(O,{time_precision:u,return_timestamps:i,force_full_sequences:f});E.push({text:M,...I})}return m?E[0]:E}}class ImageToTextPipeline extends Pipeline{constructor(e){super(e)}async _call(e,n={}){const i=Array.isArray(e),l=await prepareImages(e),{pixel_values:d}=await this.processor(l),f=[];for(const b of d){b.dims=[1,...b.dims];const _=await this.model.generate(b,n),v=this.tokenizer.batch_decode(_,{skip_special_tokens:!0}).map(m=>({generated_text:m.trim()}));f.push(v)}return i?f:f[0]}}class ImageClassificationPipeline extends Pipeline{constructor(e){super(e)}async _call(e,{topk:n=1}={}){const i=Array.isArray(e),l=await prepareImages(e),{pixel_values:d}=await this.processor(l),f=await this.model({pixel_values:d}),b=this.model.config.id2label,_=[];for(const v of f.logits){const u=getTopItems(softmax(v.data),n).map(o=>({label:b[o[0]],score:o[1]}));n===1?_.push(...u):_.push(u)}return i||n===1?_:_[0]}}class ImageSegmentationPipeline extends Pipeline{constructor(e){super(e),this.subtasks_mapping={panoptic:"post_process_panoptic_segmentation",instance:"post_process_instance_segmentation",semantic:"post_process_semantic_segmentation"}}async _call(e,{threshold:n=.5,mask_threshold:i=.5,overlap_mask_area_threshold:l=.8,label_ids_to_fuse:d=null,target_sizes:f=null,subtask:b=null}={}){if(Array.isArray(e)&&e.length!==1)throw Error("Image segmentation pipeline currently only supports a batch size of 1.");const v=await prepareImages(e),m=v.map(O=>[O.height,O.width]),{pixel_values:u,pixel_mask:o}=await this.processor(v),h=await this.model({pixel_values:u,pixel_mask:o});let w=null;if(b!==null)w=this.subtasks_mapping[b];else for(let[O,M]of Object.entries(this.subtasks_mapping))if(M in this.processor.feature_extractor){w=this.processor.feature_extractor[M].bind(this.processor.feature_extractor),b=O;break}const E=this.model.config.id2label,T=[];if(b==="panoptic"||b==="instance"){const O=w(h,n,i,l,d,f??m)[0],M=O.segmentation;for(const I of O.segments_info){const R=new Uint8ClampedArray(M.data.length);for(let N=0;N<M.data.length;++N)M.data[N]===I.id&&(R[N]=255);const D=new RawImage(R,M.dims[1],M.dims[0],1);T.push({score:I.score,label:E[I.label_id],mask:D})}}else if(b==="semantic"){const{segmentation:O,labels:M}=w(h,f??m)[0];for(const I of M){const R=new Uint8ClampedArray(O.data.length);for(let N=0;N<O.data.length;++N)O.data[N]===I&&(R[N]=255);const D=new RawImage(R,O.dims[1],O.dims[0],1);T.push({score:null,label:E[I],mask:D})}}else throw Error(`Subtask ${b} not supported.`);return T}}class ZeroShotImageClassificationPipeline extends Pipeline{constructor(e){super(e)}async _call(e,n,{hypothesis_template:i="This is a photo of {}"}={}){const l=Array.isArray(e),d=await prepareImages(e),f=n.map(o=>i.replace("{}",o)),b=this.tokenizer(f,{padding:this.model.config.model_type==="siglip"?"max_length":!0,truncation:!0}),{pixel_values:_}=await this.processor(d),v=await this.model({...b,pixel_values:_}),m=this.model.config.model_type==="siglip"?o=>o.sigmoid().data:o=>softmax(o.data),u=[];for(const o of v.logits_per_image){const w=[...m(o)].map((E,T)=>({score:E,label:n[T]}));w.sort((E,T)=>T.score-E.score),u.push(w)}return l?u:u[0]}}class ObjectDetectionPipeline extends Pipeline{constructor(e){super(e)}async _call(e,{threshold:n=.9,percentage:i=!1}={}){const l=Array.isArray(e);if(l&&e.length!==1)throw Error("Object detection pipeline currently only supports a batch size of 1.");const d=await prepareImages(e),f=i?null:d.map(h=>[h.height,h.width]),{pixel_values:b,pixel_mask:_}=await this.processor(d),v=await this.model({pixel_values:b,pixel_mask:_}),m=this.processor.feature_extractor.post_process_object_detection(v,n,f),u=this.model.config.id2label,o=m.map(h=>h.boxes.map((w,E)=>({score:h.scores[E],label:u[h.classes[E]],box:get_bounding_box(w,!i)})));return l?o:o[0]}}class ZeroShotObjectDetectionPipeline extends Pipeline{constructor(e){super(e)}async _call(e,n,{threshold:i=.1,topk:l=null,percentage:d=!1}={}){const f=Array.isArray(e),b=await prepareImages(e),_=this.tokenizer(n,{padding:!0,truncation:!0}),v=await this.processor(b),m=[];for(let u=0;u<b.length;++u){const o=b[u],h=d?null:[[o.height,o.width]],w=v.pixel_values[u].unsqueeze_(0),E=await this.model({..._,pixel_values:w}),T=this.processor.feature_extractor.post_process_object_detection(E,i,h,!0)[0];let O=T.boxes.map((M,I)=>({score:T.scores[I],label:n[T.classes[I]],box:get_bounding_box(M,!d)})).sort((M,I)=>I.score-M.score);l!==null&&(O=O.slice(0,l)),m.push(O)}return f?m:m[0]}}class DocumentQuestionAnsweringPipeline extends Pipeline{constructor(e){super(e)}async _call(e,n,i={}){const l=(await prepareImages(e))[0],{pixel_values:d}=await this.processor(l),f=`<s_docvqa><s_question>${n}</s_question><s_answer>`,b=this.tokenizer(f,{add_special_tokens:!1,padding:!0,truncation:!0}).input_ids,_=await this.model.generate(d,{...i,decoder_input_ids:b,max_length:this.model.config.decoder.max_position_embeddings}),m=this.tokenizer.batch_decode(_)[0].match(/<s_answer>(.*?)<\/s_answer>/);let u=null;return m&&m.length>=2&&(u=m[1].trim()),[{answer:u}]}}class TextToAudioPipeline extends Pipeline{constructor(n){super(n);Ie(this,"DEFAULT_VOCODER_ID","Xenova/speecht5_hifigan");this.vocoder=n.vocoder??null}async _call(n,{speaker_embeddings:i=null}={}){return this.processor?this._call_text_to_spectrogram(n,{speaker_embeddings:i}):this._call_text_to_waveform(n)}async _call_text_to_waveform(n){const i=this.tokenizer(n,{padding:!0,truncation:!0}),{waveform:l}=await this.model(i),d=this.model.config.sampling_rate;return{audio:l.data,sampling_rate:d}}async _call_text_to_spectrogram(n,{speaker_embeddings:i}){if(this.vocoder||(console.log("No vocoder specified, using default HifiGan vocoder."),this.vocoder=await AutoModel.from_pretrained(this.DEFAULT_VOCODER_ID,{quantized:!1})),(typeof i=="string"||i instanceof URL)&&(i=new Float32Array(await(await fetch(i)).arrayBuffer())),i instanceof Float32Array)i=new Tensor("float32",i,[1,i.length]);else if(!(i instanceof Tensor))throw new Error("Speaker embeddings must be a `Tensor`, `Float32Array`, `string`, or `URL`.");const{input_ids:l}=this.tokenizer(n,{padding:!0,truncation:!0}),{waveform:d}=await this.model.generate_speech(l,i,{vocoder:this.vocoder}),f=this.processor.feature_extractor.config.sampling_rate;return{audio:d.data,sampling_rate:f}}}class ImageToImagePipeline extends Pipeline{constructor(e){super(e)}async _call(e){const n=await prepareImages(e),i=await this.processor(n),l=await this.model(i),d=[];for(const f of l.reconstruction){const b=f.squeeze().clamp_(0,1).mul_(255).round_().to("uint8");d.push(RawImage.fromTensor(b))}return d.length>1?d:d[0]}}class DepthEstimationPipeline extends Pipeline{constructor(e){super(e)}async _call(e){const n=await prepareImages(e),i=await this.processor(n),{predicted_depth:l}=await this.model(i),d=[];for(let f=0;f<n.length;++f){const b=interpolate$2(l[f],n[f].size.reverse(),"bilinear",!1),_=b.mul_(255/max$1(b.data)[0]).to("uint8");d.push({predicted_depth:l[f],depth:RawImage.fromTensor(_)})}return d.length>1?d:d[0]}}const SUPPORTED_TASKS=Object.freeze({"text-classification":{tokenizer:AutoTokenizer,pipeline:TextClassificationPipeline,model:AutoModelForSequenceClassification,default:{model:"Xenova/distilbert-base-uncased-finetuned-sst-2-english"},type:"text"},"token-classification":{tokenizer:AutoTokenizer,pipeline:TokenClassificationPipeline,model:AutoModelForTokenClassification,default:{model:"Xenova/bert-base-multilingual-cased-ner-hrl"},type:"text"},"question-answering":{tokenizer:AutoTokenizer,pipeline:QuestionAnsweringPipeline,model:AutoModelForQuestionAnswering,default:{model:"Xenova/distilbert-base-cased-distilled-squad"},type:"text"},"fill-mask":{tokenizer:AutoTokenizer,pipeline:FillMaskPipeline,model:AutoModelForMaskedLM,default:{model:"Xenova/bert-base-uncased"},type:"text"},summarization:{tokenizer:AutoTokenizer,pipeline:SummarizationPipeline,model:AutoModelForSeq2SeqLM,default:{model:"Xenova/distilbart-cnn-6-6"},type:"text"},translation:{tokenizer:AutoTokenizer,pipeline:TranslationPipeline,model:AutoModelForSeq2SeqLM,default:{model:"Xenova/t5-small"},type:"text"},"text2text-generation":{tokenizer:AutoTokenizer,pipeline:Text2TextGenerationPipeline,model:AutoModelForSeq2SeqLM,default:{model:"Xenova/flan-t5-small"},type:"text"},"text-generation":{tokenizer:AutoTokenizer,pipeline:TextGenerationPipeline,model:AutoModelForCausalLM,default:{model:"Xenova/gpt2"},type:"text"},"zero-shot-classification":{tokenizer:AutoTokenizer,pipeline:ZeroShotClassificationPipeline,model:AutoModelForSequenceClassification,default:{model:"Xenova/distilbert-base-uncased-mnli"},type:"text"},"audio-classification":{pipeline:AudioClassificationPipeline,model:AutoModelForAudioClassification,processor:AutoProcessor,default:{model:"Xenova/wav2vec2-base-superb-ks"},type:"audio"},"zero-shot-audio-classification":{tokenizer:AutoTokenizer,pipeline:ZeroShotAudioClassificationPipeline,model:AutoModel,processor:AutoProcessor,default:{model:"Xenova/clap-htsat-unfused"},type:"multimodal"},"automatic-speech-recognition":{tokenizer:AutoTokenizer,pipeline:AutomaticSpeechRecognitionPipeline,model:[AutoModelForSpeechSeq2Seq,AutoModelForCTC],processor:AutoProcessor,default:{model:"Xenova/whisper-tiny.en"},type:"multimodal"},"text-to-audio":{tokenizer:AutoTokenizer,pipeline:TextToAudioPipeline,model:[AutoModelForTextToWaveform,AutoModelForTextToSpectrogram],processor:[AutoProcessor,null],default:{model:"Xenova/speecht5_tts"},type:"text"},"image-to-text":{tokenizer:AutoTokenizer,pipeline:ImageToTextPipeline,model:AutoModelForVision2Seq,processor:AutoProcessor,default:{model:"Xenova/vit-gpt2-image-captioning"},type:"multimodal"},"image-classification":{pipeline:ImageClassificationPipeline,model:AutoModelForImageClassification,processor:AutoProcessor,default:{model:"Xenova/vit-base-patch16-224"},type:"multimodal"},"image-segmentation":{pipeline:ImageSegmentationPipeline,model:[AutoModelForImageSegmentation,AutoModelForSemanticSegmentation],processor:AutoProcessor,default:{model:"Xenova/detr-resnet-50-panoptic"},type:"multimodal"},"zero-shot-image-classification":{tokenizer:AutoTokenizer,pipeline:ZeroShotImageClassificationPipeline,model:AutoModel,processor:AutoProcessor,default:{model:"Xenova/clip-vit-base-patch32"},type:"multimodal"},"object-detection":{pipeline:ObjectDetectionPipeline,model:AutoModelForObjectDetection,processor:AutoProcessor,default:{model:"Xenova/detr-resnet-50"},type:"multimodal"},"zero-shot-object-detection":{tokenizer:AutoTokenizer,pipeline:ZeroShotObjectDetectionPipeline,model:AutoModelForZeroShotObjectDetection,processor:AutoProcessor,default:{model:"Xenova/owlvit-base-patch32"},type:"multimodal"},"document-question-answering":{tokenizer:AutoTokenizer,pipeline:DocumentQuestionAnsweringPipeline,model:AutoModelForDocumentQuestionAnswering,processor:AutoProcessor,default:{model:"Xenova/donut-base-finetuned-docvqa"},type:"multimodal"},"image-to-image":{pipeline:ImageToImagePipeline,model:AutoModelForImageToImage,processor:AutoProcessor,default:{model:"Xenova/swin2SR-classical-sr-x2-64"},type:"image"},"depth-estimation":{pipeline:DepthEstimationPipeline,model:AutoModelForDepthEstimation,processor:AutoProcessor,default:{model:"Xenova/dpt-large"},type:"image"},"feature-extraction":{tokenizer:AutoTokenizer,pipeline:FeatureExtractionPipeline,model:AutoModel,default:{model:"Xenova/all-MiniLM-L6-v2"},type:"text"},"image-feature-extraction":{processor:AutoProcessor,pipeline:ImageFeatureExtractionPipeline,model:[AutoModelForImageFeatureExtraction,AutoModel],default:{model:"Xenova/vit-base-patch16-224-in21k"},type:"image"}}),TASK_ALIASES=Object.freeze({"sentiment-analysis":"text-classification",ner:"token-classification",asr:"automatic-speech-recognition","text-to-speech":"text-to-audio",embeddings:"feature-extraction"});async function pipeline(t,e=null,{quantized:n=!0,progress_callback:i=null,config:l=null,cache_dir:d=null,local_files_only:f=!1,revision:b="main",model_file_name:_=null}={}){t=TASK_ALIASES[t]??t;const v=SUPPORTED_TASKS[t.split("_",1)[0]];if(!v)throw Error(`Unsupported pipeline: ${t}. Must be one of [${Object.keys(SUPPORTED_TASKS)}]`);e||(e=v.default.model,console.log(`No model specified. Using default model: "${e}".`));const m={quantized:n,progress_callback:i,config:l,cache_dir:d,local_files_only:f,revision:b,model_file_name:_},u=new Map([["tokenizer",v.tokenizer],["model",v.model],["processor",v.processor]]),o=await loadItems(u,e,m);o.task=t,dispatchCallback(i,{status:"ready",task:t,model:e});const h=v.pipeline;return new h(o)}async function loadItems(t,e,n){const i=Object.create(null),l=[];for(let[d,f]of t.entries()){if(!f)continue;let b;Array.isArray(f)?b=new Promise(async(_,v)=>{let m;for(let u of f){if(u===null){_(null);return}try{_(await u.from_pretrained(e,n));return}catch(o){m=o}}v(m)}):b=f.from_pretrained(e,n),i[d]=b,l.push(b)}await Promise.all(l);for(let[d,f]of Object.entries(i))i[d]=await f;return i}const runningInBrowser=typeof window<"u"&&typeof document<"u",sanitizeBaseUrl=t=>{if(!t||typeof t!="string")return null;const e=t.trim();return e?e.endsWith("/")?e.slice(0,-1):e:null},readStoredModelBase=()=>{var t;if(!runningInBrowser)return null;try{const e=(t=window.localStorage)==null?void 0:t.getItem("agentlee_model_base_url");return sanitizeBaseUrl(e)}catch{return null}},inferLocalModelServer=()=>{if(!runningInBrowser)return null;try{const t=window.location;if(!t)return null;const{hostname:e}=t;return e==="localhost"||e==="127.0.0.1"||e==="::1"?`http://${e==="localhost"?"127.0.0.1":e}:8000`:null}catch{return null}},detectLocalModelBase=()=>{var i;const t=runningInBrowser?sanitizeBaseUrl((window==null?void 0:window.AGENTLEE_MODEL_BASE_URL)??((i=window==null?void 0:window.AGENTLEE_RUNTIME)==null?void 0:i.MODEL_BASE_URL)):null;if(t)return t;const e=readStoredModelBase();if(e)return runningInBrowser&&(window.AGENTLEE_MODEL_BASE_URL=e),e;const n=inferLocalModelServer();return n?(runningInBrowser&&(window.AGENTLEE_MODEL_BASE_URL=n),n):null},localModelBase=detectLocalModelBase(),shouldAvoidGatedDownloads=runningInBrowser&&!localModelBase,BROWSER_GATED_MODELS=new Set(["HuggingFaceTB/SmolLM2-1.7B-Instruct","HuggingFaceTB/SmolLM2-360M-Instruct","HuggingFaceTB/SmolLM2-135M-Instruct","Xenova/SmolLM2-360M-Instruct","Xenova/SmolLM-360M-Instruct","Xenova/SmolLM-135M-Instruct"]),gatedWarningSent=new Set;env$1.allowLocalModels=!!localModelBase;env$1.allowRemoteModels=!0;env$1.useBrowserCache=!0;localModelBase&&(env$1.localModelPath=`${localModelBase}/models`);env$1.cacheDir||(env$1.cacheDir="indexeddb://agentlee-transformers");typeof console<"u"&&(env$1.allowLocalModels?console.info("[localModelHub] Using browser-cached models from",env$1.localModelPath):console.info("[localModelHub] No local model bundle detected; streaming weights from Hugging Face Hub."));const MODEL_CONFIG={planner:{label:"SmolLM2 Planner",model:["HuggingFaceTB/SmolLM2-1.7B-Instruct","HuggingFaceTB/SmolLM2-360M-Instruct","HuggingFaceTB/SmolLM2-135M-Instruct","Xenova/SmolLM2-360M-Instruct","Xenova/SmolLM-360M-Instruct","Xenova/SmolLM-135M-Instruct","Xenova/Qwen1.5-0.5B-Chat"],task:"text-generation",generation:{max_new_tokens:320,temperature:.35,top_p:.92},pipelineOptions:{quantized:!0,dtype:"q4"}},brain:{label:"Qwen Brain",model:"Xenova/Qwen1.5-0.5B-Chat",task:"text-generation",generation:{max_new_tokens:420,temperature:.58,top_p:.9},pipelineOptions:{quantized:!0,dtype:"q4"}},companion:{label:"Blenderbot Companion",model:"facebook/blenderbot-400M-distill",task:"conversational",pipelineOptions:{quantized:!0}},voice:{label:"LaMini Voice Styler",model:"Xenova/LaMini-Flan-T5-248M",task:"text2text-generation",generation:{max_new_tokens:220,temperature:.55,top_p:.9},pipelineOptions:{quantized:!0}},librarian:{label:"MiniLM Librarian",model:"Xenova/all-MiniLM-L6-v2",task:"feature-extraction"}},pipelineCache=new Map,modelStatus=new Map;function updateStatus(t,e){const l={...modelStatus.get(t)||{key:t,label:MODEL_CONFIG[t].label,modelId:Array.isArray(MODEL_CONFIG[t].model)?MODEL_CONFIG[t].model[0]:MODEL_CONFIG[t].model,ready:!1,loading:!1},...e};modelStatus.set(t,l)}function resolveCandidates(t){const e=MODEL_CONFIG[t],n=Array.isArray(e.model)?e.model:[e.model];if(!shouldAvoidGatedDownloads)return n;const i=n.filter(d=>!BROWSER_GATED_MODELS.has(d));if(!i.length)return n;!gatedWarningSent.has(t)&&typeof console<"u"&&(console.info(`[localModelHub] Skipping gated Hugging Face models for ${t} in browser mode. Run "npm run models" or set window.AGENTLEE_MODEL_BASE_URL to self-host weights.`),gatedWarningSent.add(t));const l=n.filter(d=>BROWSER_GATED_MODELS.has(d));return[...i,...l]}async function loadModel(t){if(!pipelineCache.has(t)){const e=MODEL_CONFIG[t],n=resolveCandidates(t),i=(async()=>{let l=null;for(const f of n){updateStatus(t,{loading:!0,ready:!1,error:null,progress:0,modelId:f});const b=v=>{if((v==null?void 0:v.status)==="downloading"&&typeof v.loaded=="number"&&typeof v.total=="number"&&v.total>0){const m=Math.min(100,Math.round(v.loaded/v.total*100));updateStatus(t,{progress:m,loading:!0,modelId:f})}},_={...e.pipelineOptions||{},progress_callback:b};try{const v=await pipeline(e.task,f,_);return updateStatus(t,{ready:!0,loading:!1,progress:100,modelId:f,error:null}),v}catch(v){l=v,console.warn(`[localModelHub] Failed to load ${f}`,v)}}const d=l?String((l==null?void 0:l.message)||l):"All configured models failed to load.";throw updateStatus(t,{loading:!1,ready:!1,error:d}),l??new Error(d)})().catch(l=>{throw pipelineCache.delete(t),l});pipelineCache.set(t,i)}return pipelineCache.get(t)}async function warmUpModelGroup(t=["planner","brain","voice","companion"]){await Promise.all(t.map(e=>loadModel(e).catch(()=>null)))}function stripPrompt(t,e){return e?t&&e.indexOf(t)===0?e.slice(t.length).trim():e.trim():""}function extractJson(t){if(!t)return null;const e=t.match(/```json([\s\S]*?)```/i);if(e)try{return JSON.parse(e[1])}catch{}const n=t.indexOf("{"),i=t.lastIndexOf("}");if(n>=0&&i>n){const l=t.slice(n,i+1);try{return JSON.parse(l)}catch{return null}}return null}async function runTextGenerator(t,e,n={}){var b;const i=await loadModel(t),d={...MODEL_CONFIG[t].generation||{},...n},f=await i(e,d);if(Array.isArray(f)){if(typeof((b=f[0])==null?void 0:b.generated_text)=="string")return stripPrompt(e,f[0].generated_text);if(typeof f[0]=="string")return stripPrompt(e,f[0])}return typeof(f==null?void 0:f.generated_text)=="string"?stripPrompt(e,f.generated_text):typeof f=="string"?stripPrompt(e,f):String(f??"")}async function runTextToText(t){const e=await loadModel("voice"),n=MODEL_CONFIG.voice,i=await e(t,n.generation||{});return Array.isArray(i)&&i[0]?(i[0].generated_text||i[0].summary_text||"").trim():typeof(i==null?void 0:i.generated_text)=="string"?i.generated_text.trim():typeof i=="string"?i.trim():""}async function runConversation(t){const n=await(await loadModel("companion"))(t);return Array.isArray(n)&&n[0]?(n[0].generated_text||n[0].text||"").trim():typeof(n==null?void 0:n.generated_text)=="string"?n.generated_text.trim():typeof n=="string"?n.trim():""}async function runPlannerModel(t){const e=`You orchestrate Retrieval-Augmented Generation (RAG) for Agent Lee. Build a small plan.
User question: ${t.userMessage}
Slide: ${t.slideTitle||"Unknown"} (${t.slideId||"n/a"})
Slide summary: ${t.slideSummary||"None provided."}
Chart context: ${t.chartContext||"Not provided."}
Evidence preview:
${t.evidencePreview||"No local evidence available."}

Respond in JSON with the following shape:
{
  "plan": "one paragraph summarizing how you will answer",
  "focusPoints": ["short bullet", "another"],
  "navigationTarget": "optional slide id/number or null",
  "answerDraft": "short draft paragraph"
}`,n=await runTextGenerator("planner",e,{max_new_tokens:360,temperature:.33}),i=extractJson(n)||{};return{plan:String(i.plan||i.summary||n||"").trim(),focusPoints:Array.isArray(i.focusPoints)?i.focusPoints.map(l=>String(l)).filter(Boolean):[],navigationTarget:i.navigationTarget?String(i.navigationTarget).trim():void 0,answerDraft:i.answerDraft?String(i.answerDraft).trim():void 0,rawText:n.trim()}}async function runBrainModel(t){var l,d,f,b;const e=(d=(l=t.planner)==null?void 0:l.focusPoints)!=null&&d.length?t.planner.focusPoints.map((_,v)=>`${v+1}. ${_}`).join(`
`):"1. Highlight safety, cost, and growth impacts.",n=(f=t.planner)!=null&&f.navigationTarget?`Preferred navigation target: ${t.planner.navigationTarget}`:"Navigation target optional.",i=`${t.deckPrompt}

=== USER QUESTION ===
${t.userMessage}

=== CURRENT SLIDE ===
Title: ${t.slideTitle||"Unknown"} (ID: ${t.slideId||"n/a"})
Narrative: ${t.slideNarrative||"Not provided."}

=== LOCAL EVIDENCE SUMMARY ===
${t.evidencePreview||"No local evidence indexed yet."}

=== PLANNER NOTES ===
Plan: ${((b=t.planner)==null?void 0:b.plan)||"No plan available."}
Focus points:
${e}
${n}

Write a confident spoken narration (3-4 short paragraphs, 250-320 words). Speak as Agent Lee. Mention data only when grounded in the evidence above. If a navigation change is required, include [[NAVIGATE: target]] once.`;return runTextGenerator("brain",i,{max_new_tokens:440,temperature:.55})}async function runVoiceStyler(t){const e=t.planFocus&&t.planFocus.length?t.planFocus.join("; "):null,n=`Rewrite the following answer as a natural spoken narration for a live presentation.
Slide: ${t.slideTitle||"Unknown"}
Focus: ${e||"Highlight safety, cost per foot, operational excellence, and growth thesis."}
Tone: Warm, confident, actionable. Keep references to slides intact. Preserve any [[NAVIGATE: ...]] tokens.

Answer:
${t.finalAnswer}`;return await runTextToText(n)||t.finalAnswer}async function runCompanionModel(t){const e=`You are Agent Lee's companion voice.
The audience asked: ${t.userMessage}
Slide: ${t.slideTitle||"Unknown"}
Main narration:
${t.finalAnswer}

Respond with ONE friendly follow-up sentence inviting the audience to ask about charts, evidence, or next steps. Keep it under 25 words.`;return runConversation(e)}async function runSingleModelAnswer(t){const{question:e,slideTitle:n,chartContext:i,citations:l,forceChartFocus:d,chartData:f}=t,b=(l||[]).slice(0,6).map(u=>{var T,O;const o=`[${u.id}]`,h=(T=u.meta)!=null&&T.path?`${u.meta.path}${u.meta.lineStart&&u.meta.lineEnd?`:${u.meta.lineStart}-${u.meta.lineEnd}`:""}`:u.docId||"source",w=(O=u.meta)!=null&&O.type?` (${u.meta.type})`:"",E=typeof u.score=="number"?` score=${u.score.toFixed(3)}`:"";return`${o} ${h}${w}${E}: ${u.textSnippet}`}).join(`

`),_=!!(d&&i),v=f&&Array.isArray(f)&&f.length?`
Chart Data (JSON):
${JSON.stringify(f).slice(0,6e3)}`:"",m=`You are Agent Lee. Answer succinctly and only with supported facts.

Question:
${e}

${n?`Slide: ${n}
`:""}${i?`Chart context: ${i}
`:""}${v}

Top Evidence:
${b||"(no local evidence)"}

Instructions:
- Produce a clear 34 paragraph answer (250320 words).
- Use inline citations like [1], [2] that refer to the evidence list above when a claim is supported.
- Do not invent citations; only cite when grounded.
- If a navigation change is appropriate, include one token [[NAVIGATE: target]] exactly once.
- If evidence is insufficient, state what is missing and suggest what to check.
 - STRICT GROUNDING: Use ONLY the information from Top Evidence and the Chart context provided above. If a claim cannot be supported by those, say so explicitly and do not introduce unrelated topics.
${_?`
- USER ASKED ABOUT A CHART. FOCUS PRIMARILY ON THE CHART CONTEXT ABOVE. Describe what the chart shows, trends, comparisons, and the key takeaway. Do not discuss unrelated acquisitions or slides.`:""}
`;return runTextGenerator("brain",m,{max_new_tokens:420,temperature:.35,top_p:.9})}const __vite_import_meta_env__={BASE_URL:"/visusewerstory/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var define_process_env_default={};const readAllowLocalNarrationPreference=()=>{var e;try{if(typeof window<"u"){const n=window;if(typeof n.ALLOW_LOCAL_NARRATION=="boolean")return n.ALLOW_LOCAL_NARRATION;const i=(e=window.localStorage)==null?void 0:e.getItem("agentlee_allow_local_narration");if(i==="true")return!0;if(i==="false")return!1}}catch{}const t=(typeof import.meta<"u"&&(__vite_import_meta_env__==null?void 0:__vite_import_meta_env__.VITE_ALLOW_LOCAL_NARRATION))??(typeof process<"u"&&(define_process_env_default==null?void 0:define_process_env_default.VITE_ALLOW_LOCAL_NARRATION));return typeof t=="string"?t==="true":!1};let ALLOW_LOCAL_NARRATION=readAllowLocalNarrationPreference();const GENERIC_HELP_TEXT="I am Agent Lee. I can navigate the presentation or clarify our data. You can ask me to 'Turn to Page 8', 'Show the Map', or 'Explain the Financials'.",determineResponse=(t,e)=>{const n=t.toLowerCase(),i=n.match(/(?:page|slide)\s+(\d+)/);if(i){const l=parseInt(i[1],10);return l>=1?{text:`Certainly. Turning to Page ${l}.`,navigationTarget:l.toString()}:{text:`I cannot turn to page ${l} as that page is out of range for this presentation.`}}return n.includes("map")||n.includes("acquisition")||n.includes("where")?{text:"Navigating to the National Platform Map. As you can see, we have expanded well beyond the Midwest into the Mid-Atlantic region with strategic hubs in Pennsylvania and New Jersey.",navigationTarget:"AcquisitionMap"}:n.includes("money")||n.includes("financial")||n.includes("revenue")||n.includes("ebitda")?{text:"Moving to the Financial Bridge. We are tracking from a $37M base towards a $70M target, driven by organic growth, tech uplift, and M&A.",navigationTarget:"Engineering Tomorrow"}:n.includes("timeline")||n.includes("history")||n.includes("growth")||n.includes("years")?{text:"Visualizing our 50-year trajectory. Notice the exponential curve starting in 2020 as we integrated AI and strategic capital.",navigationTarget:"Through the Tunnels"}:n.includes("velocity")||n.includes("crew")||n.includes("capacity")?{text:"Displaying our Operational Velocity. This chart projects our crew capacity growing through 2050 to meet national demand.",navigationTarget:"Masters of the Main"}:n.includes("evidence")||n.includes("source")||n.includes("verify")||n.includes("link")?{text:"Opening the Evidence Locker. Here you can verify every claim, download case studies, and review our acquisition announcements.",navigationTarget:"Evidence Locker"}:n.includes("future")||n.includes("evolution")||n.includes("ai")&&n.includes("intelligence")?{text:"Revealing the Evolution of Intelligence. We are transitioning from a service provider to a predictive platform.",navigationTarget:"The Evolution of Intelligence"}:n.includes("close")||n.includes("end")||n.includes("thank")?{text:"Initiating closing sequence. Thank you for your partnership. We are ready to execute.",navigationTarget:"The Road Ahead"}:n.includes("how much")||n.includes("target")||n.includes("worth")?{text:"Our financial roadmap targets $70M in near-term revenue, building on our current $37M base operations with an additional $25M from strategic M&A."}:n.includes("mor")||n.includes("sheridan")||n.includes("buy")?{text:"We successfully acquired MOR Construction to anchor our Mid-Atlantic operations and Sheridan Plumbing to deepen our Chicago footprint. Both are fully integrated."}:n.includes("cloud")||n.includes("save")||n.includes("cost")?{text:"According to our verified case studies, AI-enabled workflows have delivered 75% cloud cost savings and reduced inspection review times by over 70%."}:n.includes("safe")||n.includes("risk")||n.includes("covenant")?{text:"Safety is paramount. Our 'Covenant' ensures we treat every line as if it were under our own home. We use cross-bore safety audits and predictive modeling to minimize risk."}:e?{text:`Regarding the current slide "${e}": We are focused on maximizing asset value through trenchless innovation and verifiable data. I can provide specific figures if you ask about costs, capacity, or growth.`}:{text:GENERIC_HELP_TEXT}},isDeterministicSpecific=t=>t?t.navigationTarget?!0:t.text.trim()!==GENERIC_HELP_TEXT:!1;let AGENT_STATUS={initialized:!1,online:!1,model:null,lastError:null};const BASE_DECK_PROMPT=buildAgentLeeCorePrompt();let localModelsReady=!1,chatSession=null,initializationPromise=null;const ensureLocalModelsReady=async()=>{if(!localModelsReady)try{await warmUpModelGroup(),localModelsReady=!0}catch(t){console.warn("[LeewayIndustriesService] warmUpModelGroup failed",t)}},getKnowledgeSnippet=(t,e=8)=>`Knowledge base query: "${t}". Agent Lee has access to comprehensive sewer infrastructure data including CCTV inspections, project costs, bidding processes, and construction data.`,initChatSession=t=>initializationPromise||(initializationPromise=(async()=>(await ensureLocalModelsReady(),AGENT_STATUS.initialized=!0,AGENT_STATUS.online=!0,AGENT_STATUS.model="local-model-hub",AGENT_STATUS.lastError=null,chatSession={sendMessage:async({message:e})=>{try{return await sendMessageToAgentLee(e)}catch(n){return console.error("Agent Lee local hub error:",n),AGENT_STATUS.lastError=n&&n.message?n.message:String(n),{text:"Agent Lee is offline. Local model hub error occurred."}}}},chatSession))(),initializationPromise);function isGarbled(t){if(!t||typeof t!="string")return!0;const e=t.split(/\s+/).filter(Boolean),n=/^(hi|hello|hey|thanks?|thanks\s+for)/i;if(e.length<=3&&n.test(t.trim())||t.trim().startsWith("LOCAL_EVIDENCE_SUMMARY:"))return!1;if(e.length<5||/\b(?:[A-Za-z]\s+){5,}[A-Za-z]\b/.test(t))return!0;const l=e.filter(m=>/^[A-Za-z]+$/.test(m));if(l.length){if(l.filter(o=>o.length===1).length/l.length>=.6)return!0;const u=l.filter(o=>o.length<=2&&!/[aeiou]/i.test(o));if(u.length>=4&&u.length/l.length>=.5)return!0}const d=(t.match(/[aeiou]/gi)||[]).length,f=(t.match(/[a-z]/gi)||[]).length;if(f>=12&&d/Math.max(1,f)<.2||new Set(e.map(m=>m.toLowerCase())).size/e.length<.3)return!0;const v=e.map(m=>m.toLowerCase().replace(/[^a-z]/g,"")).filter(Boolean);if(v.length){const m={};for(const w of v)m[w]=(m[w]||0)+1;const u=Object.entries(m).sort((w,E)=>E[1]-w[1])[0];if(u){const[w,E]=u;if(E>=3&&E/v.length>=.4&&w.length<=5)return!0}const o={};for(const w of v){const E=w.slice(-3);E&&(o[E]=(o[E]||0)+1)}const h=Object.entries(o).sort((w,E)=>E[1]-w[1])[0];if(h){const[,w]=h;if(w>=3&&w/v.length>=.5)return!0}}return!!(/his appendix/.test(t)&&t.includes("Tis"))}function normalizeWord(t){return t.toLowerCase().replace(/[^a-z]/g,"").replace(/(.)\1+/g,"$1")}function isAgentNameVariant(t){if(!t||typeof t!="string")return!1;const e=t.split(/\s+/).map(f=>normalizeWord(f)).filter(Boolean);if(!e.length)return!1;const n=new Set(e),i=new Set(["agent","agt","agnt","agentlee","agentlee","alee","aello","agello","agento","agentl","agentl"]);let l=0;for(const f of n)(i.has(f)||f.includes("agent")||f.includes("lee")||f.includes("aello"))&&l++;if(l>=2)return!0;let d=0;for(const f of e)f.length&&(f.includes("agent")||f.includes("aello")||f.includes("agello")||f.includes("age"))&&d++;return d>=3}function sanitizeLLMText(t){if(!t)return"";let e=String(t);e=e.replace(/^system:.*$/gim,"");const n=/(L?OCAL?_EVIDENCE[_A-Z]*){5,}/g;return e=e.replace(n,"LOCAL_EVIDENCE"),e=e.replace(/\[?LOCAL LLM DISABLED\]?/gi,""),e=e.replace(/local generation is disabled/gi,""),e=e.replace(/gemma:local-disabled/gi,""),e=e.replace(/\n{3,}/g,`

`).trim(),e.trim()}const LOCAL_LLM_DISABLED_RE=/\[?LOCAL LLM DISABLED\]?|local generation is disabled|gemma:local-disabled|LOCAL-LLM-DISABLED/i,buildLocalTemplatedNarration=(t,e)=>{const n=[];try{if(t!=null&&t.title&&n.push(`Let me walk you through: ${t.title}.`),e&&n.push(`Supporting data: ${e.slice(0,120)}.`),t!=null&&t.narration){const i=t.narration;Array.isArray(i.paragraphs)&&i.paragraphs.length&&n.push(i.paragraphs.slice(0,2).join(" ")),Array.isArray(i.bullets)&&i.bullets.length&&n.push(`Key points: ${i.bullets.slice(0,4).join("; ")}`)}}catch(i){console.warn("[LeewayIndustriesService] Local templated narration assembly failed:",i)}return n.filter(Boolean).join(" ").trim()},buildSlideNarrativeText=t=>{if(!t)return{};const e=t.narration;if(!e)return{};const n=Array.isArray(e.paragraphs)?e.paragraphs.filter(Boolean):[],i=Array.isArray(e.bullets)?e.bullets.filter(Boolean):[],l=n.length?n[0]:void 0,d=[n.join(" "),i.length?`Bullets: ${i.join("; ")}`:""].filter(Boolean).join(`
`).trim();return{summary:l,narrative:d}},sendMessageToAgentLee=async(t,e)=>{var i,l,d,f,b,_,v;const n=determineResponse(t,e==null?void 0:e.title);if(isDeterministicSpecific(n))return console.log("[LeewayIndustriesService] Using deterministic engine result:",n),n;try{console.log("=== Agent Lee Request Started ==="),console.log("Message:",t),console.log("Current slide:",e==null?void 0:e.title);const m=Date.now();let u=t;e&&(u=`[Current Slide: ${e.title} (ID: ${e.id})] ${u}`),console.log("Calling answerWithEvidence to gather evidence...");const o=await answerWithEvidence(t,u,e??null);console.log("Evidence collected; preview:",String(((i=o.evidence)==null?void 0:i.localDataPreview)||"").slice(0,240));const h=(((l=o.evidence)==null?void 0:l.localDataPreview)||"").slice(0,2e3),w=((d=o.evidence)==null?void 0:d.chartContext)||null,E=buildSlideNarrativeText(e);await ensureLocalModelsReady(),AGENT_STATUS.online=!0,AGENT_STATUS.model="local-model-hub",AGENT_STATUS.lastError=null;let T="",O;const M=typeof import.meta<"u"&&(__vite_import_meta_env__==null?void 0:__vite_import_meta_env__.VITE_AGENTLEE_SINGLE_MODEL)==="1"||typeof process<"u"&&(define_process_env_default==null?void 0:define_process_env_default.VITE_AGENTLEE_SINGLE_MODEL)==="1";if(!ALLOW_LOCAL_NARRATION)T=buildLocalTemplatedNarration(e,h),console.warn("[LeewayIndustriesService] Local narration disabled via toggle; using templated narration only.");else if(M){const I=/\b(chart|charts|graph|graphs|plot|figure|visual|visualization)\b/i.test(t);if(I&&!w){const N="I can only discuss charts and evidence included in this presentation. I don't have the context for a chart on this page yet. Try switching to a slide with a visible chart or open the Evidence Locker.";return console.warn("[LeewayIndustriesService] Chart requested but no chartContext available  returning scope message."),{text:N}}T=await runSingleModelAnswer({question:t,slideTitle:e==null?void 0:e.title,chartContext:w,citations:((f=o==null?void 0:o.evidence)==null?void 0:f.citations)||[],chartData:((b=o==null?void 0:o.evidence)==null?void 0:b.chartData)||null,forceChartFocus:I})||"";const D=T.match(/\[\[NAVIGATE:\s*(.*?)\]\]/);D&&(O=(_=D[1])==null?void 0:_.trim(),T=T.replace(D[0],"").trim())}else{const I=await runPlannerModel({userMessage:t,slideTitle:e==null?void 0:e.title,slideId:e==null?void 0:e.id,slideSummary:E.summary,evidencePreview:h,chartContext:w}),R=`${BASE_DECK_PROMPT}

=== REQUEST CONTEXT ===
User: ${t}`;let D=await runBrainModel({userMessage:t,slideTitle:e==null?void 0:e.title,slideId:e==null?void 0:e.id,slideNarrative:E.narrative,evidencePreview:h,planner:I,deckPrompt:R});D.trim()||(D=buildLocalTemplatedNarration(e,h)||"I am still collecting the necessary local evidence. Ask me about another slide while this one loads.");let N=D;try{N=await runVoiceStyler({finalAnswer:D,slideTitle:e==null?void 0:e.title,planFocus:I.focusPoints})||D}catch($){console.warn("[LeewayIndustriesService] Voice styler failed; using brain answer.",$)}let L="";try{L=await runCompanionModel({userMessage:t,finalAnswer:N,slideTitle:e==null?void 0:e.title})||""}catch($){console.warn("[LeewayIndustriesService] Companion model failed; continuing without follow-up.",$)}T=[N,L].filter(Boolean).join(`

`),T.trim()||(T=buildLocalTemplatedNarration(e,h)||"Agent Lee is reviewing the latest evidence for that slide. Please try again in a few moments.");const B=T.match(/\[\[NAVIGATE:\s*(.*?)\]\]/);B&&(O=(v=B[1])==null?void 0:v.trim(),T=T.replace(B[0],"").trim())}T=sanitizeLLMText(T),(!T||isGarbled(T)||isAgentNameVariant(T))&&(isAgentNameVariant(T)&&console.warn("[LeewayIndustriesService] Rejected final narration because it appears to contain garbled Agent Lee name variants."),isGarbled(T)&&console.warn("[LeewayIndustriesService] Rejected final narration because output is garbled or repetitive."),T="I'm sorry, I encountered an issue generating a detailed response. Please try rephrasing your question or asking about a specific slide, map, or financial view.");try{window.AGENT_DIAGNOSTICS=window.AGENT_DIAGNOSTICS||{},window.AGENT_DIAGNOSTICS.lastResponse={timestamp:Date.now(),durationMs:Date.now()-m,textPreview:T.slice(0,300),success:!0,models:"planner+brain+voice+companion"}}catch{}return console.log("Agent Lee response:",T),console.log("=== Agent Lee Request Completed ==="),{text:T,navigationTarget:O}}catch(m){console.error("Agent Lee Error:",m),AGENT_STATUS.lastError=m!=null&&m.message?m.message:String(m),AGENT_STATUS.online=!1;let u="Agent Lee encountered an error while running the local narration stack. Check console for details.";try{const o=[];if(e!=null&&e.narration){const w=e.narration;Array.isArray(w.paragraphs)&&o.push(...w.paragraphs.slice(0,3)),Array.isArray(w.bullets)&&w.bullets.length&&o.push(`Key takeaways: ${w.bullets.slice(0,5).join("; ")}`)}const h=o.filter(Boolean).join(" ")||u;try{window.AGENT_DIAGNOSTICS=window.AGENT_DIAGNOSTICS||{},window.AGENT_DIAGNOSTICS.lastResponse={timestamp:Date.now(),durationMs:0,textPreview:String(h).slice(0,300),success:!1,error:String((m==null?void 0:m.message)??m)}}catch{}return{text:h}}catch{return{text:u}}}};if(typeof window<"u"){window.AGENT_STATUS=AGENT_STATUS,window.getKnowledgeSnippet=getKnowledgeSnippet;try{const t=Object.getOwnPropertyDescriptor(window,"ALLOW_LOCAL_NARRATION");!t||t.configurable?Object.defineProperty(window,"ALLOW_LOCAL_NARRATION",{configurable:!0,get:()=>ALLOW_LOCAL_NARRATION,set:e=>{ALLOW_LOCAL_NARRATION=!!e}}):typeof window.ALLOW_LOCAL_NARRATION=="boolean"&&(ALLOW_LOCAL_NARRATION=!!window.ALLOW_LOCAL_NARRATION)}catch{window.ALLOW_LOCAL_NARRATION=ALLOW_LOCAL_NARRATION}initChatSession().catch(()=>null)}function Cog6ToothIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ForwardRef$6=reactExports.forwardRef(Cog6ToothIcon);function MagnifyingGlassPlusIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM10.5 7.5v6m3-3h-6"}))}const ForwardRef$5=reactExports.forwardRef(MagnifyingGlassPlusIcon);function PauseCircleIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 9v6m-4.5 0V9M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ForwardRef$4=reactExports.forwardRef(PauseCircleIcon);function PlayCircleIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"}))}const ForwardRef$3=reactExports.forwardRef(PlayCircleIcon);function SpeakerWaveIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const ForwardRef$2=reactExports.forwardRef(SpeakerWaveIcon);function SpeakerXMarkIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const ForwardRef$1=reactExports.forwardRef(SpeakerXMarkIcon);function UserIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const ForwardRef=reactExports.forwardRef(UserIcon),DASH_VARIANTS=/[\u2010-\u2015\u2212]/g,PREFERRED_VOICE_CONFIG=[{label:"Microsoft Aria Online (Natural)  English (United States)",searchTerms:["Microsoft Aria Online (Natural)  English (United States)","Microsoft Aria Online (Natural) - English (United States)","Microsoft Aria Online (Natural)","en-US-AriaNeural"]},{label:"Microsoft Brian Online (Natural)  English (United States)",searchTerms:["Microsoft Brian Online (Natural)  English (United States)","Microsoft Brian Online (Natural) - English (United States)","Microsoft Brian Online (Natural)","en-US-BrianNeural"]},{label:"Microsoft Christopher Online (Natural)  English (United States)",searchTerms:["Microsoft Christopher Online (Natural)  English (United States)","Microsoft Christopher Online (Natural) - English (United States)","Microsoft Christopher Online (Natural)","en-US-ChristopherNeural"]},{label:"Microsoft Emma Online (Natural)  English (United States)",searchTerms:["Microsoft Emma Online (Natural)  English (United States)","Microsoft Emma Online (Natural) - English (United States)","Microsoft Emma Online (Natural)","en-US-EmmaNeural"]},{label:"Microsoft EmmaMultilingual Online (Natural)  English (United States)",searchTerms:["Microsoft EmmaMultilingual Online (Natural)  English (United States)","Microsoft EmmaMultilingual Online (Natural) - English (United States)","Microsoft EmmaMultilingual Online (Natural)","en-US-EmmaMultilingualNeural"]},{label:"Microsoft Eric Online (Natural)  English (United States)",searchTerms:["Microsoft Eric Online (Natural)  English (United States)","Microsoft Eric Online (Natural) - English (United States)","Microsoft Eric Online (Natural)","en-US-EricNeural"]},{label:"Microsoft Jenny Online (Natural)  English (United States)",searchTerms:["Microsoft Jenny Online (Natural)  English (United States)","Microsoft Jenny Online (Natural) - English (United States)","Microsoft Jenny Online (Natural)","en-US-JennyNeural"]},{label:"Samantha (Enhanced)  English (United States)",searchTerms:["Samantha (Enhanced)","Samantha","en-US-Samantha"]},{label:"Ava (Enhanced)  English (United States)",searchTerms:["Ava (Enhanced)","Ava","en-US-Ava"]},{label:"Allison (Enhanced)  English (United States)",searchTerms:["Allison (Enhanced)","Allison","en-US-Allison"]},{label:"Alex  English (United States)",searchTerms:["Alex","en-US-Alex"]},{label:"Google US English  English (United States)",searchTerms:["Google US English","Google English (United States)","en-US-google"]},{label:"Google en-US  English (United States)",searchTerms:["en-US","English (United States)"]}],preferredVoiceLabels=PREFERRED_VOICE_CONFIG.flatMap(t=>t.searchTerms),normalizeVoiceText=t=>t?t.replace(DASH_VARIANTS,"-").toLowerCase().replace(/[_\s()]+/g,"-").replace(/-+/g,"-").trim():"",preferredVoiceTokens=Array.from(new Set(preferredVoiceLabels.map(t=>normalizeVoiceText(t)).filter(Boolean))),normalizeLang=t=>normalizeVoiceText(t),filterPreferredVoices=t=>{if(!(t!=null&&t.length))return[];const e=t.map(d=>{const f=normalizeVoiceText(d.name),b=normalizeLang(d.lang),_=preferredVoiceTokens.findIndex(u=>f.includes(u)),v=b.startsWith("en-us")?0:b.startsWith("en")?2:4,m=_>=0?_:preferredVoiceTokens.length+v;return{voice:d,score:m}}).sort((d,f)=>d.score-f.score).map(d=>d.voice),n=e.filter(d=>{const f=normalizeVoiceText(d.name),b=normalizeLang(d.lang);return preferredVoiceTokens.some(_=>f.includes(_))||b.startsWith("en-us")}),i=n.length?n:e.filter(d=>normalizeLang(d.lang).startsWith("en")),l=new Set;return i.filter(d=>{const f=d.name||`${d.lang}-${d}`;return l.has(f)?!1:(l.add(f),!0)})},pickPreferredVoiceName=(t,e)=>{var i,l;return t!=null&&t.length?e&&t.some(d=>d.name===e)?e:((i=filterPreferredVoices(t)[0])==null?void 0:i.name)||((l=t[0])==null?void 0:l.name)||"":""},mapVoicesToPreferred=t=>{const e=[...t];return{preferred:PREFERRED_VOICE_CONFIG.map(i=>{const l=e.findIndex(f=>{const b=normalizeVoiceText(f.name);return i.searchTerms.some(_=>b.includes(normalizeVoiceText(_)))}),d=l>=0?e.splice(l,1)[0]:void 0;return{label:i.label,actualName:d==null?void 0:d.name,lang:d==null?void 0:d.lang,available:!!d}}),remaining:e}};class TTSService{constructor(){this.voice=null,this.desiredVoiceName=null,this.isMuted=!1,this.queue=[],this.isProcessingQueue=!1,this.synth=window.speechSynthesis,this.desiredVoiceName=this.readStoredString("agentlee_tts_voice"),this.rate=this.readStoredNumber("agentlee_tts_rate",1,.6,1.4),this.pitch=this.readStoredNumber("agentlee_tts_pitch",1,.6,1.4),this.synth.onvoiceschanged!==void 0&&(this.synth.onvoiceschanged=()=>this.loadVoices()),this.loadVoices()}readStoredString(e){try{return localStorage.getItem(e)}catch{return null}}storeString(e,n){try{localStorage.setItem(e,n)}catch{}}readStoredNumber(e,n,i,l){try{const d=localStorage.getItem(e);if(!d)return n;const f=parseFloat(d);return Number.isNaN(f)?n:this.clamp(f,i,l)}catch{return n}}storeNumber(e,n){try{localStorage.setItem(e,n.toString())}catch{}}clamp(e,n,i){return Math.min(Math.max(e,n),i)}findVoiceByName(e,n){if(!n)return;const i=this.normalizeName(n);return e.find(l=>this.normalizeName(l.name)===i)||e.find(l=>{var d;return(d=l.name)==null?void 0:d.toLowerCase().includes(n.toLowerCase())})}normalizeName(e){return(e||"").toLowerCase().replace(/[^a-z0-9]+/g," ").trim()}loadVoices(){var d;const e=this.synth.getVoices();if(e&&e.length&&this.desiredVoiceName){const f=this.findVoiceByName(e,this.desiredVoiceName);f&&(this.voice=f)}const n=preferredVoiceLabels;let i;const l=this.findVoiceByName(e,this.desiredVoiceName||void 0);if(l)i=l;else for(const f of n)if(i=e.find(b=>b.name&&b.name.toLowerCase().includes(f.toLowerCase())),i)break;i||(i=e.find(f=>f.lang&&f.lang.toLowerCase().startsWith("en-us"))||e.find(f=>f.lang&&f.lang.toLowerCase().startsWith("en"))||(e.length?e[0]:void 0)),this.voice=i||null,(d=this.voice)!=null&&d.name&&this.storeString("agentlee_tts_voice",this.voice.name);try{window.TTS_VOICES=e.map(f=>({name:f.name,lang:f.lang,default:f.default,localService:f.localService,voiceURI:f.voiceURI})),window.TTS_DEBUG!==!1&&console.table(window.TTS_VOICES,["name","lang","localService"])}catch{}}getAvailableVoices(){try{const e=this.synth.getVoices();return e!=null&&e.length?e.map(n=>({name:n.name,lang:n.lang})):window.TTS_VOICES||[]}catch{return[]}}setVoiceByName(e){this.desiredVoiceName=e;const n=this.synth.getVoices(),i=this.findVoiceByName(n,e);return i&&(this.voice=i,this.storeString("agentlee_tts_voice",i.name)),!!i}speak(e,n,i){this.cancel(),setTimeout(()=>{this._speakWeb(e,n,i)},50)}_speakWeb(e,n,i){const l=new SpeechSynthesisUtterance(e);this.voice&&(l.voice=this.voice),l.rate=this.rate,l.pitch=this.pitch,l.volume=this.isMuted?0:1,l.onstart=()=>{i&&i()},l.onend=()=>{n&&n(),this._processQueue()},l.onerror=d=>{d.error==="interrupted"||d.error==="canceled"||(console.warn("TTS Event:",d.error),n&&n())},this.synth.speak(l)}_speakImmediate(e,n,i){const l=new SpeechSynthesisUtterance(e);this.voice&&(l.voice=this.voice),l.rate=this.rate,l.pitch=this.pitch,l.volume=this.isMuted?0:1,l.onstart=()=>{i&&i()},l.onend=()=>{n&&n(),this._processQueue()},l.onerror=d=>{n&&n(),this._processQueue()},this.synth.speak(l)}_processQueue(){if(this.isProcessingQueue||!this.queue.length)return;this.isProcessingQueue=!0;const e=this.queue.shift();if(!e){this.isProcessingQueue=!1;return}this._speakImmediate(e.text,()=>{e.onEnd&&e.onEnd(),this.isProcessingQueue=!1,this._processQueue()},e.onStart)}speakQueued(e,n,i){if(e)try{this.synth.speaking||this.synth.paused||this.isProcessingQueue?this.queue.push({text:e,onEnd:n,onStart:i}):(this.queue.push({text:e,onEnd:n,onStart:i}),this._processQueue())}catch(l){console.error("speakQueued error",l)}}speakQueuedAsync(e){return e?new Promise(n=>{this.speakQueued(e,()=>n())}):Promise.resolve()}pause(){this.synth.speaking&&!this.synth.paused&&this.synth.pause()}resume(){this.synth.paused&&this.synth.resume()}cancel(){(this.synth.speaking||this.synth.pending||this.synth.paused)&&this.synth.cancel()}clearQueue(){this.queue=[],this.isProcessingQueue=!1}setMute(e){this.isMuted=e,e&&this.synth.speaking&&this.cancel()}getRate(){return this.rate}setRate(e){this.rate=this.clamp(e,.6,1.4),this.storeNumber("agentlee_tts_rate",this.rate)}getPitch(){return this.pitch}setPitch(e){this.pitch=this.clamp(e,.6,1.4),this.storeNumber("agentlee_tts_pitch",this.pitch)}previewVoice(e){const n=e||"Hi, I'm Agent Lee. Let's walk this page together.";this.cancel(),this.clearQueue(),setTimeout(()=>{this._speakImmediate(n)},50)}}const ttsService=new TTSService;try{window.ttsService=ttsService}catch(t){}const AgentLee=({role:t,currentSlide:e,isSpeaking:n,onNavigate:i,isOpen:l,onOpenChange:d,playDuringTyping:f})=>{var Q;const[b,_]=reactExports.useState(!1),v=typeof l<"u",m=v?!!l:b,u=Y=>{v?d==null||d(Y):_(Y)},[o,h]=reactExports.useState([]),[w,E]=reactExports.useState(null),[T,O]=reactExports.useState(""),[M,I]=reactExports.useState(!1),[R,D]=reactExports.useState(AGENT_STATUS),[N,L]=reactExports.useState(!1),B=reactExports.useRef(null),$=reactExports.useRef(e);reactExports.useEffect(()=>{$.current=e},[e]);let V="(No answer returned)";reactExports.useEffect(()=>{initChatSession()},[t]),reactExports.useEffect(()=>{let Y=!0;const U=()=>{Y&&D({...AGENT_STATUS})},q=setInterval(U,1e3);return U(),()=>{Y=!1,clearInterval(q)}},[]);const G=()=>{var Y;(Y=B.current)==null||Y.scrollIntoView({behavior:"smooth"})};reactExports.useEffect(()=>{G()},[o,M]),reactExports.useEffect(()=>{if(m&&o.length===0){const U=`Hello. I am Agent Lee. I am here to help you understand "${e.title}". How can I assist you with this data?`,q={id:Date.now(),sender:"agent",text:U,isStreaming:!1};E(q.id),h([q]),setTimeout(()=>{var le;try{(le=ttsService.speakQueued)==null||le.call(ttsService,U)}catch{}},120)}},[m,e,o.length,f]);const X=async()=>{if(!T.trim())return;const Y={id:Date.now(),sender:"user",text:T};h(Ee=>[...Ee,Y]),O(""),I(!0);const U=T.match(/(?:go to|turn to|page|slide|navigate to)\s*(\d+)/i);let q=!1,le=T;if(U){const Ee=parseInt(U[1],10);if(!isNaN(Ee)&&Ee>0&&Ee<=STORY_CONFIG.slides.length){console.log("User requested navigation to page:",Ee);const Z={id:Date.now()+1,sender:"agent",text:`Certainly. Turning to Page ${Ee}.`,isStreaming:!1};h(ue=>[...ue,Z]),i(Ee.toString()),q=!0,le=T.replace(U[0],"").replace(/\s{2,}/g," ").trim()}}const ie=async Ee=>{var ke;console.log("Getting response from local model hub...");const Z=$.current||e,ue=await sendMessageToAgentLee(Ee||T,Z);V=ue.text||"(No answer returned)";let Ae=ue.navigationTarget;if(Ae){console.log("Navigation command in response:",Ae),i(Ae);return}if(I(!1),isGarbled(V)||isAgentNameVariant(V)||!ALLOW_LOCAL_NARRATION&&LOCAL_LLM_DISABLED_RE.test(V)){console.warn("[AgentLee UI] Detected garbled or disabled assistantText; attempting a recovery pass.");try{const Ne=`Please narrate this slide in clear, correct English with no agent or system references. The slide title is: ${Z==null?void 0:Z.title}. Keep it concise.`,Le=await sendMessageToAgentLee(Ne,Z);let Pe=Le&&Le.text?Le.text:"";!(isGarbled(Pe)||isAgentNameVariant(Pe)||LOCAL_LLM_DISABLED_RE.test(Pe))&&Pe.trim()?(V=Pe,console.log("[AgentLee UI] Recovery succeeded. Using retry text.")):(console.warn("[AgentLee UI] Retry failed; using local templated fallback."),V=Z&&Z.narration&&Z.narration.paragraphs&&Z.narration.paragraphs.slice(0,2).join(" ")||"I'm sorry, I couldn't narrate that properly. Please rephrase or ask a specific question about this slide.")}catch(Ne){console.warn("[AgentLee UI] Recovery pass crashed; using fallback.",Ne),V=Z&&Z.narration&&Z.narration.paragraphs&&Z.narration.paragraphs.slice(0,2).join(" ")||"I'm sorry, I couldn't narrate that properly. Please rephrase or ask a specific question about this slide."}}const Ce={id:Date.now()+1,sender:"agent",text:V,isStreaming:!1};h(Ne=>[...Ne,Ce]);try{(ke=ttsService.speakQueued)==null||ke.call(ttsService,V)}catch{}};if(q){const Ee=le||"Tell me about the chart on this page.";setTimeout(()=>{ie(Ee)},600);return}await ie(T)},ee=Y=>{Y.key==="Enter"&&X()};return m?((Q=ttsService.getRate)==null||Q.call(ttsService),jsxRuntimeExports.jsxs("div",{className:"fixed bottom-20 left-8 w-[380px] h-[500px] bg-slate-950 border border-green-800/50 rounded-xl shadow-2xl flex flex-col z-50 overflow-hidden font-sans animate-[slideUp_0.3s_ease-out]",children:[jsxRuntimeExports.jsxs("div",{className:"bg-green-950/80 p-4 flex justify-between items-center border-b border-green-800 backdrop-blur-md shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(ForwardRef,{className:"w-5 h-5 text-green-400"}),n&&jsxRuntimeExports.jsx(ForwardRef$2,{className:"absolute left-6 top-0 w-5 h-5 text-green-400 animate-pulse"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-black text-white text-base tracking-wide block leading-none",children:"AGENT LEE"}),jsxRuntimeExports.jsx("span",{className:"text-[9px] text-green-400 uppercase tracking-widest font-mono",children:"Intelligence Unit"})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>u(!1),className:"text-green-400 hover:text-white transition-colors text-xl font-bold",title:"Close Agent Lee",children:jsxRuntimeExports.jsx(ForwardRef$4,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-black/40 custom-scrollbar relative",children:[o.map(Y=>jsxRuntimeExports.jsx("div",{className:`flex ${Y.sender==="user"?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsx("div",{className:`max-w-[90%] p-3 rounded-lg text-sm leading-relaxed font-medium shadow-sm ${Y.sender==="user"?"bg-blue-900/80 text-white rounded-br-none border border-blue-700":"bg-slate-900/90 text-slate-200 rounded-bl-none border border-green-900/30"}`,children:Y.text})},Y.id)),M&&jsxRuntimeExports.jsx("div",{className:"flex justify-start",children:jsxRuntimeExports.jsx("div",{className:"bg-slate-900/90 p-3 rounded-lg rounded-bl-none border border-slate-800 flex gap-1 items-center",children:jsxRuntimeExports.jsx("span",{className:"text-xs text-green-500 font-mono animate-pulse",children:"Processing..."})})}),jsxRuntimeExports.jsx("div",{ref:B})]}),jsxRuntimeExports.jsx("div",{className:"p-3 bg-slate-950 border-t border-green-900/50 shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:T,onChange:Y=>O(Y.target.value),onKeyDown:ee,placeholder:"Ask strategic questions...",className:"flex-1 bg-slate-900 border border-slate-700 rounded px-3 py-2 text-sm text-white focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500/50 placeholder-slate-500 transition-all"}),jsxRuntimeExports.jsx("button",{onClick:X,disabled:!T.trim()||M,className:"px-4 py-2 bg-green-800 hover:bg-green-700 text-white rounded text-sm font-bold transition-colors disabled:opacity-50 shadow-lg",title:"Send question to Agent Lee",children:jsxRuntimeExports.jsx(ForwardRef$5,{className:"w-5 h-5"})})]})}),N&&jsxRuntimeExports.jsxs("div",{className:"p-2 bg-black/60 border-t border-green-800 text-xs text-green-200 overflow-auto max-h-40",children:[jsxRuntimeExports.jsx("strong",{children:"Agent Status:"}),jsxRuntimeExports.jsx("pre",{className:"text-[11px] text-green-200",children:JSON.stringify(window.AGENT_STATUS,null,2)}),jsxRuntimeExports.jsx("strong",{children:"Last Diagnostics:"}),jsxRuntimeExports.jsx("pre",{className:"text-[11px] text-green-200",children:JSON.stringify(window.AGENT_DIAGNOSTICS||{},null,2)}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 mt-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>{window.AGENT_DIAGNOSTICS={},L(!1)},className:"px-2 py-1 bg-green-800 rounded",children:"Clear"})})]})]})):jsxRuntimeExports.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-green-950/90 hover:bg-green-900 text-white px-4 py-3 rounded-lg border border-green-700 transition-all hover:shadow-[0_0_15px_rgba(34,197,94,0.4)] whitespace-nowrap backdrop-blur-sm z-50",children:[jsxRuntimeExports.jsx(ForwardRef,{className:"w-5 h-5 text-green-400"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-sm uppercase tracking-wider text-green-100",children:"Agent Lee"})]})},FlagBackground=()=>{const t=reactExports.useRef(null);return reactExports.useEffect(()=>{const e=t.current;if(!e)return;const n=e.getContext("2d");if(!n)return;const i=()=>{e.width=window.innerWidth,e.height=window.innerHeight};window.addEventListener("resize",i),i();const l=13,d=.4,f=7/13;let b=0;const _={amplitude:25,frequency:.015,speed:.08},v={amplitude:12,frequency:.035,speed:.12},m={amplitude:6,frequency:.08,speed:.15},u=(T,O,M)=>{const I=Math.sin(T*_.frequency+M*_.speed)*_.amplitude,R=Math.sin(T*v.frequency-M*v.speed)*v.amplitude,D=Math.cos(T*m.frequency+M*m.speed)*m.amplitude,N=Math.cos(T*_.frequency+M*_.speed)*_.amplitude,L=Math.atan(N),B=Math.cos(L)*.3+.7;return{offset:I+R+D,lighting:B}},o=(T,O,M,I)=>{var $;const R=(($=T.match(/\w\w/g))==null?void 0:$.map(V=>parseInt(V,16)))||[0,0,0],D=Math.floor(R[0]*O),N=Math.floor(R[1]*O),L=Math.floor(R[2]*O),B=Math.sin(M*.5)*Math.cos(I*.5)*5;return`rgb(${Math.max(0,Math.min(255,D+B))}, ${Math.max(0,Math.min(255,N+B))}, ${Math.max(0,Math.min(255,L+B))})`},h=(T,O,M,I)=>{n.fillStyle=I,n.shadowColor="rgba(255,255,255,0.3)",n.shadowBlur=4,n.beginPath();for(let R=0;R<5;R++){const D=R*4*Math.PI/5-Math.PI/2,N=T+M*Math.cos(D),L=O+M*Math.sin(D);R===0?n.moveTo(N,L):n.lineTo(N,L)}n.closePath(),n.fill(),n.shadowBlur=0};let w;const E=()=>{if(!n||!e)return;n.clearRect(0,0,e.width,e.height);const T=e.height/l,O=e.width*d,M=e.height*f;for(let L=0;L<l;L++){const B=L%2===0?"#B22234":"#FFFFFF",$=L*T;for(let V=0;V<e.width;V+=4){const G=u(V,$,b),X=o(B,G.lighting,V,$);n.fillStyle=X,n.fillRect(V,$+G.offset,5,T+8)}}for(let L=0;L<O;L+=4)for(let B=0;B<M;B+=4){const $=u(L,B,b),V=o("#3C3B6E",$.lighting,L,B);n.fillStyle=V,n.fillRect(L,B+$.offset,5,5)}const I=9,R=O/12,D=M/10,N=Math.min(R,D)*.4;for(let L=0;L<I;L++){const B=L%2===0?6:5,$=L%2===0?R:R*2;for(let V=0;V<B;V++){const G=$+V*R*2,X=D+L*D,ee=u(G,X,b),Y=`rgba(255, 255, 255, ${.85+ee.lighting*.15})`;h(G,X+ee.offset,N,Y)}}b+=1,w=requestAnimationFrame(E)};return E(),()=>{window.removeEventListener("resize",i),cancelAnimationFrame(w)}},[]),jsxRuntimeExports.jsx("canvas",{ref:t,id:"flagCanvas",className:"absolute top-0 left-0 w-full h-full z-0 flag-canvas-shadow pointer-events-none"})},IntroScreen=({onStart:t})=>{const[e,n]=reactExports.useState(!1),[i,l]=reactExports.useState("Auto"),[d,f]=reactExports.useState(!0),[b,_]=reactExports.useState([]),[v,m]=reactExports.useState(localStorage.getItem("agentlee_tts_voice")||""),[u,o]=reactExports.useState(localStorage.getItem("agentlee_use_enhanced")==="true"),[h,w]=reactExports.useState(localStorage.getItem("agentlee_play_during")==="true"),[E,T]=reactExports.useState(localStorage.getItem("agentlee_allow_local_narration")?localStorage.getItem("agentlee_allow_local_narration")==="true":!0),[O,M]=reactExports.useState(()=>{const B=localStorage.getItem("agentlee_tts_rate"),$=B?parseFloat(B):NaN;return Number.isFinite($)?$:ttsService.getRate()}),[I,R]=reactExports.useState(()=>{const B=localStorage.getItem("agentlee_tts_pitch"),$=B?parseFloat(B):NaN;return Number.isFinite($)?$:ttsService.getPitch()}),{preferred:D,remaining:N}=React.useMemo(()=>mapVoicesToPreferred(b),[b]),L=React.useCallback(()=>{if(e){try{v&&ttsService.setVoiceByName(v),ttsService.setRate(O),ttsService.setPitch(I)}catch(B){console.warn("Failed to set voice preferences before start",B)}try{gemmaLLM.setAllowLocalNarration(E)}catch(B){console.warn("Failed to set gemmaLLM narration toggle",B)}try{E&&gemmaLLM.initialize()}catch(B){console.warn("Failed to initialize gemmaLLM",B)}try{window.ALLOW_LOCAL_NARRATION=E}catch{}t(i)}},[E,e,t,i,v,I,O]);return React.useEffect(()=>{async function B(){try{await initChatSession("Executive");const V=()=>AGENT_STATUS.initialized&&AGENT_STATUS.online;let G=0;for(;!V()&&G<8e3;)await new Promise(X=>setTimeout(X,200)),G+=200}catch{}f(!1)}B(),(async()=>{for(let V=0;V<20;V++){const G=ttsService.getAvailableVoices();if(G&&G.length){_(G);const X=pickPreferredVoiceName(G,v);X&&X!==v&&(m(X),localStorage.setItem("agentlee_tts_voice",X),ttsService.setVoiceByName(X));return}await new Promise(X=>setTimeout(X,200))}try{const V=window.TTS_VOICES||[];if(V&&V.length){_(V);const G=pickPreferredVoiceName(V,v);G&&G!==v&&(m(G),localStorage.setItem("agentlee_tts_voice",G),ttsService.setVoiceByName(G))}}catch{}})()},[]),jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-slate-950 text-white flex items-center justify-center p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-xl w-full text-center space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"inline-block px-3 py-1 bg-orange-500/10 border border-orange-500/20 rounded-full text-orange-500 text-[10px] font-mono uppercase tracking-widest",children:"Confidential Presentation"}),jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold",children:"A Visu Sewer Story"}),jsxRuntimeExports.jsx("p",{className:"text-slate-400",children:"From Pipes to Progress: An interactive journey through the infrastructure underground."}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 justify-center text-sm",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:e,onChange:B=>n(B.target.checked),className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-400",children:"I acknowledge the Covenant and grant permission."})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>l("Auto"),className:`px-4 py-2 rounded border ${i==="Auto"?"border-orange-500 text-white bg-orange-600/30":"border-slate-600 text-slate-300"}`,children:"Auto-Pilot"}),jsxRuntimeExports.jsx("button",{onClick:()=>l("Manual"),className:`px-4 py-2 rounded border ${i==="Manual"?"border-orange-500 text-white bg-orange-600/30":"border-slate-600 text-slate-300"}`,children:"Manual"})]}),jsxRuntimeExports.jsx("button",{onClick:L,disabled:!e,className:"w-full py-3 bg-gradient-to-r from-orange-600 to-orange-500 text-white font-bold rounded disabled:opacity-50",children:"Start Presentation"})]}),jsxRuntimeExports.jsx("div",{className:"text-[10px] text-slate-600 uppercase tracking-widest",children:"Created by Leeway Industries"})]})})};function r(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(e=0;e<l;e++)t[e]&&(n=r(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function clsx(){for(var t,e,n=0,i="",l=arguments.length;n<l;n++)(t=arguments[n])&&(e=r(t))&&(i&&(i+=" "),i+=e);return i}var EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function isEventKey(t){if(typeof t!="string")return!1;var e=EventKeys;return e.includes(t)}var SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function isSvgElementPropKey(t){if(typeof t!="string")return!1;var e=SVGElementPropKeys;return e.includes(t)}function isDataAttribute(t){return typeof t=="string"&&t.startsWith("data-")}function svgPropertiesNoEvents(t){var e=Object.entries(t).filter(n=>{var[i]=n;return isSvgElementPropKey(i)||isDataAttribute(i)});return Object.fromEntries(e)}function svgPropertiesNoEventsFromUnknown(t){if(t==null)return null;if(reactExports.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return svgPropertiesNoEvents(e)}return typeof t=="object"&&!Array.isArray(t)?svgPropertiesNoEvents(t):null}function svgPropertiesAndEvents(t){var e=Object.entries(t).filter(n=>{var[i]=n;return isSvgElementPropKey(i)||isDataAttribute(i)||isEventKey(i)});return Object.fromEntries(e)}function svgPropertiesAndEventsFromUnknown(t){return t==null?null:reactExports.isValidElement(t)?svgPropertiesAndEvents(t.props):typeof t=="object"&&!Array.isArray(t)?svgPropertiesAndEvents(t):null}var _excluded$t=["children","width","height","viewBox","className","style","title","desc"];function _extends$z(){return _extends$z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$z.apply(null,arguments)}function _objectWithoutProperties$t(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$t(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$t(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Surface=reactExports.forwardRef((t,e)=>{var{children:n,width:i,height:l,viewBox:d,className:f,style:b,title:_,desc:v}=t,m=_objectWithoutProperties$t(t,_excluded$t),u=d||{width:i,height:l,x:0,y:0},o=clsx("recharts-surface",f);return reactExports.createElement("svg",_extends$z({},svgPropertiesAndEvents(m),{className:o,width:i,height:l,style:b,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height),ref:e}),reactExports.createElement("title",null,_),reactExports.createElement("desc",null,v),n)}),_excluded$s=["children","className"];function _extends$y(){return _extends$y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$y.apply(null,arguments)}function _objectWithoutProperties$s(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$s(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$s(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Layer=reactExports.forwardRef((t,e)=>{var{children:n,className:i}=t,l=_objectWithoutProperties$s(t,_excluded$s),d=clsx("recharts-layer",i);return reactExports.createElement("g",_extends$y({className:d},svgPropertiesAndEvents(l),{ref:e}),n)}),reactDomExports=requireReactDom(),LegendPortalContext=reactExports.createContext(null),useLegendPortal=()=>reactExports.useContext(LegendPortalContext);function constant$1(t){return function(){return t}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function appendRound(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return append;const n=10**e;return function(i){this._+=i[0];for(let l=1,d=i.length;l<d;++l)this._+=Math.round(arguments[l]*n)/n+i[l]}}class Path{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?append:appendRound(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,l){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+l}`}bezierCurveTo(e,n,i,l,d,f){this._append`C${+e},${+n},${+i},${+l},${this._x1=+d},${this._y1=+f}`}arcTo(e,n,i,l,d){if(e=+e,n=+n,i=+i,l=+l,d=+d,d<0)throw new Error(`negative radius: ${d}`);let f=this._x1,b=this._y1,_=i-e,v=l-n,m=f-e,u=b-n,o=m*m+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(o>epsilon)if(!(Math.abs(u*_-v*m)>epsilon)||!d)this._append`L${this._x1=e},${this._y1=n}`;else{let h=i-f,w=l-b,E=_*_+v*v,T=h*h+w*w,O=Math.sqrt(E),M=Math.sqrt(o),I=d*Math.tan((pi-Math.acos((E+o-T)/(2*O*M)))/2),R=I/M,D=I/O;Math.abs(R-1)>epsilon&&this._append`L${e+R*m},${n+R*u}`,this._append`A${d},${d},0,0,${+(u*h>m*w)},${this._x1=e+D*_},${this._y1=n+D*v}`}}arc(e,n,i,l,d,f){if(e=+e,n=+n,i=+i,f=!!f,i<0)throw new Error(`negative radius: ${i}`);let b=i*Math.cos(l),_=i*Math.sin(l),v=e+b,m=n+_,u=1^f,o=f?l-d:d-l;this._x1===null?this._append`M${v},${m}`:(Math.abs(this._x1-v)>epsilon||Math.abs(this._y1-m)>epsilon)&&this._append`L${v},${m}`,i&&(o<0&&(o=o%tau+tau),o>tauEpsilon?this._append`A${i},${i},0,1,${u},${e-b},${n-_}A${i},${i},0,1,${u},${this._x1=v},${this._y1=m}`:o>epsilon&&this._append`A${i},${i},0,${+(o>=pi)},${u},${this._x1=e+i*Math.cos(d)},${this._y1=n+i*Math.sin(d)}`)}rect(e,n,i,l){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+l}h${-i}Z`}toString(){return this._}}function withPath(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new Path(e)}function array(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Linear(t){this._context=t}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function curveLinear(t){return new Linear(t)}function x(t){return t[0]}function y(t){return t[1]}function shapeLine(t,e){var n=constant$1(!0),i=null,l=curveLinear,d=null,f=withPath(b);t=typeof t=="function"?t:t===void 0?x:constant$1(t),e=typeof e=="function"?e:e===void 0?y:constant$1(e);function b(_){var v,m=(_=array(_)).length,u,o=!1,h;for(i==null&&(d=l(h=f())),v=0;v<=m;++v)!(v<m&&n(u=_[v],v,_))===o&&((o=!o)?d.lineStart():d.lineEnd()),o&&d.point(+t(u,v,_),+e(u,v,_));if(h)return d=null,h+""||null}return b.x=function(_){return arguments.length?(t=typeof _=="function"?_:constant$1(+_),b):t},b.y=function(_){return arguments.length?(e=typeof _=="function"?_:constant$1(+_),b):e},b.defined=function(_){return arguments.length?(n=typeof _=="function"?_:constant$1(!!_),b):n},b.curve=function(_){return arguments.length?(l=_,i!=null&&(d=l(i)),b):l},b.context=function(_){return arguments.length?(_==null?i=d=null:d=l(i=_),b):i},b}function shapeArea(t,e,n){var i=null,l=constant$1(!0),d=null,f=curveLinear,b=null,_=withPath(v);t=typeof t=="function"?t:t===void 0?x:constant$1(+t),e=typeof e=="function"?e:constant$1(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?y:constant$1(+n);function v(u){var o,h,w,E=(u=array(u)).length,T,O=!1,M,I=new Array(E),R=new Array(E);for(d==null&&(b=f(M=_())),o=0;o<=E;++o){if(!(o<E&&l(T=u[o],o,u))===O)if(O=!O)h=o,b.areaStart(),b.lineStart();else{for(b.lineEnd(),b.lineStart(),w=o-1;w>=h;--w)b.point(I[w],R[w]);b.lineEnd(),b.areaEnd()}O&&(I[o]=+t(T,o,u),R[o]=+e(T,o,u),b.point(i?+i(T,o,u):I[o],n?+n(T,o,u):R[o]))}if(M)return b=null,M+""||null}function m(){return shapeLine().defined(l).curve(f).context(d)}return v.x=function(u){return arguments.length?(t=typeof u=="function"?u:constant$1(+u),i=null,v):t},v.x0=function(u){return arguments.length?(t=typeof u=="function"?u:constant$1(+u),v):t},v.x1=function(u){return arguments.length?(i=u==null?null:typeof u=="function"?u:constant$1(+u),v):i},v.y=function(u){return arguments.length?(e=typeof u=="function"?u:constant$1(+u),n=null,v):e},v.y0=function(u){return arguments.length?(e=typeof u=="function"?u:constant$1(+u),v):e},v.y1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:constant$1(+u),v):n},v.lineX0=v.lineY0=function(){return m().x(t).y(e)},v.lineY1=function(){return m().x(t).y(n)},v.lineX1=function(){return m().x(i).y(e)},v.defined=function(u){return arguments.length?(l=typeof u=="function"?u:constant$1(!!u),v):l},v.curve=function(u){return arguments.length?(f=u,d!=null&&(b=f(d)),v):f},v.context=function(u){return arguments.length?(u==null?d=b=null:b=f(d=u),v):d},v}class Bump{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function bumpX(t){return new Bump(t,!0)}function bumpY(t){return new Bump(t,!1)}const symbolCircle={draw(t,e){const n=sqrt$1(e/pi$1);t.moveTo(n,0),t.arc(0,0,n,0,tau$1)}},symbolCross={draw(t,e){const n=sqrt$1(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(t,e){const n=sqrt$1(e/tan30_2),i=n*tan30;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},symbolSquare={draw(t,e){const n=sqrt$1(e),i=-n/2;t.rect(i,i,n,n)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(t,e){const n=sqrt$1(e*ka),i=kx*n,l=ky*n;t.moveTo(0,-n),t.lineTo(i,l);for(let d=1;d<5;++d){const f=tau$1*d/5,b=cos(f),_=sin(f);t.lineTo(_*n,-b*n),t.lineTo(b*i-_*l,_*i+b*l)}t.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(t,e){const n=-sqrt$1(e/(sqrt3*3));t.moveTo(0,n*2),t.lineTo(-sqrt3*n,-n),t.lineTo(sqrt3*n,-n),t.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(t,e){const n=sqrt$1(e/a),i=n/2,l=n*k,d=i,f=n*k+n,b=-d,_=f;t.moveTo(i,l),t.lineTo(d,f),t.lineTo(b,_),t.lineTo(c*i-s*l,s*i+c*l),t.lineTo(c*d-s*f,s*d+c*f),t.lineTo(c*b-s*_,s*b+c*_),t.lineTo(c*i+s*l,c*l-s*i),t.lineTo(c*d+s*f,c*f-s*d),t.lineTo(c*b+s*_,c*_-s*b),t.closePath()}};function Symbol$1(t,e){let n=null,i=withPath(l);t=typeof t=="function"?t:constant$1(t||symbolCircle),e=typeof e=="function"?e:constant$1(e===void 0?64:+e);function l(){let d;if(n||(n=d=i()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),d)return n=null,d+""||null}return l.type=function(d){return arguments.length?(t=typeof d=="function"?d:constant$1(d),l):t},l.size=function(d){return arguments.length?(e=typeof d=="function"?d:constant$1(+d),l):e},l.context=function(d){return arguments.length?(n=d??null,l):n},l}function noop$3(){}function point$2(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Basis(t){this._context=t}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasis(t){return new Basis(t)}function BasisClosed(t){this._context=t}BasisClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasisClosed(t){return new BasisClosed(t)}function BasisOpen(t){this._context=t}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasisOpen(t){return new BasisOpen(t)}function LinearClosed(t){this._context=t}LinearClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function curveLinearClosed(t){return new LinearClosed(t)}function sign(t){return t<0?-1:1}function slope3(t,e,n){var i=t._x1-t._x0,l=e-t._x1,d=(t._y1-t._y0)/(i||l<0&&-0),f=(n-t._y1)/(l||i<0&&-0),b=(d*l+f*i)/(i+l);return(sign(d)+sign(f))*Math.min(Math.abs(d),Math.abs(f),.5*Math.abs(b))||0}function slope2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function point$1(t,e,n){var i=t._x0,l=t._y0,d=t._x1,f=t._y1,b=(d-i)/3;t._context.bezierCurveTo(i+b,l+b*e,d-b,f-b*n,d,f)}function MonotoneX(t){this._context=t}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,n=slope3(this,t,e)),n);break;default:point$1(this,this._t0,n=slope3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function MonotoneY(t){this._context=new ReflectContext(t)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,e){MonotoneX.prototype.point.call(this,e,t)};function ReflectContext(t){this._context=t}ReflectContext.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,l,d){this._context.bezierCurveTo(e,t,i,n,d,l)}};function monotoneX(t){return new MonotoneX(t)}function monotoneY(t){return new MonotoneY(t)}function Natural(t){this._context=t}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=controlPoints(t),l=controlPoints(e),d=0,f=1;f<n;++d,++f)this._context.bezierCurveTo(i[0][d],l[0][d],i[1][d],l[1][d],t[f],e[f]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function controlPoints(t){var e,n=t.length-1,i,l=new Array(n),d=new Array(n),f=new Array(n);for(l[0]=0,d[0]=2,f[0]=t[0]+2*t[1],e=1;e<n-1;++e)l[e]=1,d[e]=4,f[e]=4*t[e]+2*t[e+1];for(l[n-1]=2,d[n-1]=7,f[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=l[e]/d[e-1],d[e]-=i,f[e]-=i*f[e-1];for(l[n-1]=f[n-1]/d[n-1],e=n-2;e>=0;--e)l[e]=(f[e]-l[e+1])/d[e];for(d[n-1]=(t[n]+l[n-1])/2,e=0;e<n-1;++e)d[e]=2*t[e+1]-l[e+1];return[l,d]}function curveNatural(t){return new Natural(t)}function Step(t,e){this._context=t,this._t=e}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function curveStep(t){return new Step(t,.5)}function stepBefore(t){return new Step(t,0)}function stepAfter(t){return new Step(t,1)}function stackOffsetNone(t,e){if((f=t.length)>1)for(var n=1,i,l,d=t[e[0]],f,b=d.length;n<f;++n)for(l=d,d=t[e[n]],i=0;i<b;++i)d[i][1]+=d[i][0]=isNaN(l[i][1])?l[i][0]:l[i][1]}function stackOrderNone(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function stackValue(t,e){return t[e]}function stackSeries(t){const e=[];return e.key=t,e}function shapeStack(){var t=constant$1([]),e=stackOrderNone,n=stackOffsetNone,i=stackValue;function l(d){var f=Array.from(t.apply(this,arguments),stackSeries),b,_=f.length,v=-1,m;for(const u of d)for(b=0,++v;b<_;++b)(f[b][v]=[0,+i(u,f[b].key,v,d)]).data=u;for(b=0,m=array(e(f));b<_;++b)f[m[b]].index=b;return n(f,m),f}return l.keys=function(d){return arguments.length?(t=typeof d=="function"?d:constant$1(Array.from(d)),l):t},l.value=function(d){return arguments.length?(i=typeof d=="function"?d:constant$1(+d),l):i},l.order=function(d){return arguments.length?(e=d==null?stackOrderNone:typeof d=="function"?d:constant$1(Array.from(d)),l):e},l.offset=function(d){return arguments.length?(n=d??stackOffsetNone,l):n},l}function stackOffsetExpand(t,e){if((i=t.length)>0){for(var n,i,l=0,d=t[0].length,f;l<d;++l){for(f=n=0;n<i;++n)f+=t[n][l][1]||0;if(f)for(n=0;n<i;++n)t[n][l][1]/=f}stackOffsetNone(t,e)}}function stackOffsetSilhouette(t,e){if((l=t.length)>0){for(var n=0,i=t[e[0]],l,d=i.length;n<d;++n){for(var f=0,b=0;f<l;++f)b+=t[f][n][1]||0;i[n][1]+=i[n][0]=-b/2}stackOffsetNone(t,e)}}function stackOffsetWiggle(t,e){if(!(!((f=t.length)>0)||!((d=(l=t[e[0]]).length)>0))){for(var n=0,i=1,l,d,f;i<d;++i){for(var b=0,_=0,v=0;b<f;++b){for(var m=t[e[b]],u=m[i][1]||0,o=m[i-1][1]||0,h=(u-o)/2,w=0;w<b;++w){var E=t[e[w]],T=E[i][1]||0,O=E[i-1][1]||0;h+=T-O}_+=u,v+=h*u}l[i-1][1]+=l[i-1][0]=n,_&&(n-=v/_)}l[i-1][1]+=l[i-1][0]=n,stackOffsetNone(t,e)}}var get$2={},isUnsafeProperty={},hasRequiredIsUnsafeProperty;function requireIsUnsafeProperty(){return hasRequiredIsUnsafeProperty||(hasRequiredIsUnsafeProperty=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(isUnsafeProperty)),isUnsafeProperty}var isDeepKey={},hasRequiredIsDeepKey;function requireIsDeepKey(){return hasRequiredIsDeepKey||(hasRequiredIsDeepKey=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(isDeepKey)),isDeepKey}var toKey={},hasRequiredToKey;function requireToKey(){return hasRequiredToKey||(hasRequiredToKey=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;return typeof n=="string"||typeof n=="symbol"?n:Object.is((i=n==null?void 0:n.valueOf)==null?void 0:i.call(n),-0)?"-0":String(n)}t.toKey=e})(toKey)),toKey}var toPath={},toString$1={},hasRequiredToString;function requireToString(){return hasRequiredToString||(hasRequiredToString=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const i=String(n);return i==="0"&&Object.is(Number(n),-0)?"-0":i}t.toString=e})(toString$1)),toString$1}var hasRequiredToPath;function requireToPath(){return hasRequiredToPath||(hasRequiredToPath=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireToString(),n=requireToKey();function i(l){if(Array.isArray(l))return l.map(n.toKey);if(typeof l=="symbol")return[l];l=e.toString(l);const d=[],f=l.length;if(f===0)return d;let b=0,_="",v="",m=!1;for(l.charCodeAt(0)===46&&(d.push(""),b++);b<f;){const u=l[b];v?u==="\\"&&b+1<f?(b++,_+=l[b]):u===v?v="":_+=u:m?u==='"'||u==="'"?v=u:u==="]"?(m=!1,d.push(_),_=""):_+=u:u==="["?(m=!0,_&&(d.push(_),_="")):u==="."?_&&(d.push(_),_=""):_+=u,b++}return _&&d.push(_),d}t.toPath=i})(toPath)),toPath}var hasRequiredGet$1;function requireGet$1(){return hasRequiredGet$1||(hasRequiredGet$1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireIsUnsafeProperty(),n=requireIsDeepKey(),i=requireToKey(),l=requireToPath();function d(b,_,v){if(b==null)return v;switch(typeof _){case"string":{if(e.isUnsafeProperty(_))return v;const m=b[_];return m===void 0?n.isDeepKey(_)?d(b,l.toPath(_),v):v:m}case"number":case"symbol":{typeof _=="number"&&(_=i.toKey(_));const m=b[_];return m===void 0?v:m}default:{if(Array.isArray(_))return f(b,_,v);if(Object.is(_==null?void 0:_.valueOf(),-0)?_="-0":_=String(_),e.isUnsafeProperty(_))return v;const m=b[_];return m===void 0?v:m}}}function f(b,_,v){if(_.length===0)return v;let m=b;for(let u=0;u<_.length;u++){if(m==null||e.isUnsafeProperty(_[u]))return v;m=m[_[u]]}return m===void 0?v:m}t.get=d})(get$2)),get$2}var get$1,hasRequiredGet;function requireGet(){return hasRequiredGet||(hasRequiredGet=1,get$1=requireGet$1().get),get$1}var getExports=requireGet();const get=getDefaultExportFromCjs(getExports);var mathSign=t=>t===0?0:t>0?1:-1,isNan=t=>typeof t=="number"&&t!=+t,isPercent=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,isNumber=t=>(typeof t=="number"||t instanceof Number)&&!isNan(t),isNumOrStr=t=>isNumber(t)||typeof t=="string",idCounter=0,uniqueId=t=>{var e=++idCounter;return"".concat(t||"").concat(e)},getPercentValue=function t(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(e)&&typeof e!="string")return i;var d;if(isPercent(e)){if(n==null)return i;var f=e.indexOf("%");d=n*parseFloat(e.slice(0,f))/100}else d=+e;return isNan(d)&&(d=i),l&&n!=null&&d>n&&(d=n),d},hasDuplicate=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},i=0;i<e;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1};function interpolate$1(t,e,n){return isNumber(t)&&isNumber(e)?t+n*(e-t):e}function findEntryInArray(t,e,n){if(!(!t||!t.length))return t.find(i=>i&&(typeof e=="function"?e(i):get(i,e))===n)}var isNullish=t=>t===null||typeof t>"u",upperFirst=t=>isNullish(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function isNotNil(t){return t!=null}function noop$2(){}var _excluded$r=["type","size","sizeType"];function _extends$x(){return _extends$x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$x.apply(null,arguments)}function ownKeys$K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$K(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$K(Object(n),!0).forEach(function(i){_defineProperty$M(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$K(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$M(t,e,n){return(e=_toPropertyKey$M(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$M(t){var e=_toPrimitive$M(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$M(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$r(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$r(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$r(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=t=>{var e="symbol".concat(upperFirst(t));return symbolFactories[e]||symbolCircle},calculateAreaSize=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*RADIAN$1;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},registerSymbol=(t,e)=>{symbolFactories["symbol".concat(upperFirst(t))]=e},Symbols=t=>{var{type:e="circle",size:n=64,sizeType:i="area"}=t,l=_objectWithoutProperties$r(t,_excluded$r),d=_objectSpread$K(_objectSpread$K({},l),{},{type:e,size:n,sizeType:i}),f="circle";typeof e=="string"&&(f=e);var b=()=>{var o=getSymbolFactory(f),h=Symbol$1().type(o).size(calculateAreaSize(n,i,f)),w=h();if(w!==null)return w},{className:_,cx:v,cy:m}=d,u=svgPropertiesAndEvents(d);return isNumber(v)&&isNumber(m)&&isNumber(n)?reactExports.createElement("path",_extends$x({},u,{className:clsx("recharts-symbols",_),transform:"translate(".concat(v,", ").concat(m,")"),d:b()})):null};Symbols.registerSymbol=registerSymbol;var isPolarCoordinate=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,adaptEventHandlers=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(reactExports.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(l=>{isEventKey(l)&&(i[l]=(d=>n[l](n,d)))}),i},getEventHandlerOfChild=(t,e,n)=>i=>(t(e,n,i),null),adaptEventsOfChild=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var i=null;return Object.keys(t).forEach(l=>{var d=t[l];isEventKey(l)&&typeof d=="function"&&(i||(i={}),i[l]=getEventHandlerOfChild(d,e,n))}),i};function ownKeys$J(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$J(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$J(Object(n),!0).forEach(function(i){_defineProperty$L(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$J(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$L(t,e,n){return(e=_toPropertyKey$L(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$L(t){var e=_toPrimitive$L(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$L(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function resolveDefaultProps(t,e){var n=_objectSpread$J({},t),i=e,l=Object.keys(e),d=l.reduce((f,b)=>(f[b]===void 0&&i[b]!==void 0&&(f[b]=i[b]),f),n);return d}function _extends$w(){return _extends$w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$w.apply(null,arguments)}function ownKeys$I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$I(Object(n),!0).forEach(function(i){_defineProperty$K(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$I(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$K(t,e,n){return(e=_toPropertyKey$K(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$K(t){var e=_toPrimitive$K(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$K(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SIZE=32,defaultLegendContentDefaultProps={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Icon(t){var{data:e,iconType:n,inactiveColor:i}=t,l=SIZE/2,d=SIZE/6,f=SIZE/3,b=e.inactive?i:e.color,_=n??e.type;if(_==="none")return null;if(_==="plainline"){var v;return reactExports.createElement("line",{strokeWidth:4,fill:"none",stroke:b,strokeDasharray:(v=e.payload)===null||v===void 0?void 0:v.strokeDasharray,x1:0,y1:l,x2:SIZE,y2:l,className:"recharts-legend-icon"})}if(_==="line")return reactExports.createElement("path",{strokeWidth:4,fill:"none",stroke:b,d:"M0,".concat(l,"h").concat(f,`
            A`).concat(d,",").concat(d,",0,1,1,").concat(2*f,",").concat(l,`
            H`).concat(SIZE,"M").concat(2*f,",").concat(l,`
            A`).concat(d,",").concat(d,",0,1,1,").concat(f,",").concat(l),className:"recharts-legend-icon"});if(_==="rect")return reactExports.createElement("path",{stroke:"none",fill:b,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(reactExports.isValidElement(e.legendIcon)){var m=_objectSpread$I({},e);return delete m.legendIcon,reactExports.cloneElement(e.legendIcon,m)}return reactExports.createElement(Symbols,{fill:b,cx:l,cy:l,size:SIZE,sizeType:"diameter",type:_})}function Items(t){var{payload:e,iconSize:n,layout:i,formatter:l,inactiveColor:d,iconType:f}=t,b={x:0,y:0,width:SIZE,height:SIZE},_={display:i==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((m,u)=>{var o=m.formatter||l,h=clsx({"recharts-legend-item":!0,["legend-item-".concat(u)]:!0,inactive:m.inactive});if(m.type==="none")return null;var w=m.inactive?d:m.color,E=o?o(m.value,m,u):m.value;return reactExports.createElement("li",_extends$w({className:h,style:_,key:"legend-item-".concat(u)},adaptEventsOfChild(t,m,u)),reactExports.createElement(Surface,{width:n,height:n,viewBox:b,style:v,"aria-label":"".concat(E," legend icon")},reactExports.createElement(Icon,{data:m,iconType:f,inactiveColor:d})),reactExports.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},E))})}var DefaultLegendContent=t=>{var e=resolveDefaultProps(t,defaultLegendContentDefaultProps),{payload:n,layout:i,align:l}=e;if(!n||!n.length)return null;var d={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return reactExports.createElement("ul",{className:"recharts-default-legend",style:d},reactExports.createElement(Items,_extends$w({},e,{payload:n})))},uniqBy$3={},uniqBy$2={},hasRequiredUniqBy$2;function requireUniqBy$2(){return hasRequiredUniqBy$2||(hasRequiredUniqBy$2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){const l=new Map;for(let d=0;d<n.length;d++){const f=n[d],b=i(f);l.has(b)||l.set(b,f)}return Array.from(l.values())}t.uniqBy=e})(uniqBy$2)),uniqBy$2}var identity$4={},hasRequiredIdentity;function requireIdentity(){return hasRequiredIdentity||(hasRequiredIdentity=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(identity$4)),identity$4}var isArrayLikeObject={},isArrayLike={},isLength={},hasRequiredIsLength;function requireIsLength(){return hasRequiredIsLength||(hasRequiredIsLength=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(isLength)),isLength}var hasRequiredIsArrayLike;function requireIsArrayLike(){return hasRequiredIsArrayLike||(hasRequiredIsArrayLike=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireIsLength();function n(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}t.isArrayLike=n})(isArrayLike)),isArrayLike}var isObjectLike={},hasRequiredIsObjectLike;function requireIsObjectLike(){return hasRequiredIsObjectLike||(hasRequiredIsObjectLike=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(isObjectLike)),isObjectLike}var hasRequiredIsArrayLikeObject;function requireIsArrayLikeObject(){return hasRequiredIsArrayLikeObject||(hasRequiredIsArrayLikeObject=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireIsArrayLike(),n=requireIsObjectLike();function i(l){return n.isObjectLike(l)&&e.isArrayLike(l)}t.isArrayLikeObject=i})(isArrayLikeObject)),isArrayLikeObject}var iteratee={},property={},hasRequiredProperty;function requireProperty(){return hasRequiredProperty||(hasRequiredProperty=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireGet$1();function n(i){return function(l){return e.get(l,i)}}t.property=n})(property)),property}var matches={},isMatch={},isMatchWith={},isObject={},hasRequiredIsObject;function requireIsObject(){return hasRequiredIsObject||(hasRequiredIsObject=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(isObject)),isObject}var isPrimitive={},hasRequiredIsPrimitive;function requireIsPrimitive(){return hasRequiredIsPrimitive||(hasRequiredIsPrimitive=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(isPrimitive)),isPrimitive}var eq={},hasRequiredEq;function requireEq(){return hasRequiredEq||(hasRequiredEq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}t.eq=e})(eq)),eq}var hasRequiredIsMatchWith;function requireIsMatchWith(){return hasRequiredIsMatchWith||(hasRequiredIsMatchWith=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireIsObject(),n=requireIsPrimitive(),i=requireEq();function l(m,u,o){return typeof o!="function"?l(m,u,()=>{}):d(m,u,function h(w,E,T,O,M,I){const R=o(w,E,T,O,M,I);return R!==void 0?!!R:d(w,E,h,I)},new Map)}function d(m,u,o,h){if(u===m)return!0;switch(typeof u){case"object":return f(m,u,o,h);case"function":return Object.keys(u).length>0?d(m,{...u},o,h):i.eq(m,u);default:return e.isObject(m)?typeof u=="string"?u==="":!0:i.eq(m,u)}}function f(m,u,o,h){if(u==null)return!0;if(Array.isArray(u))return _(m,u,o,h);if(u instanceof Map)return b(m,u,o,h);if(u instanceof Set)return v(m,u,o,h);const w=Object.keys(u);if(m==null)return w.length===0;if(w.length===0)return!0;if(h!=null&&h.has(u))return h.get(u)===m;h==null||h.set(u,m);try{for(let E=0;E<w.length;E++){const T=w[E];if(!n.isPrimitive(m)&&!(T in m)||u[T]===void 0&&m[T]!==void 0||u[T]===null&&m[T]!==null||!o(m[T],u[T],T,m,u,h))return!1}return!0}finally{h==null||h.delete(u)}}function b(m,u,o,h){if(u.size===0)return!0;if(!(m instanceof Map))return!1;for(const[w,E]of u.entries()){const T=m.get(w);if(o(T,E,w,m,u,h)===!1)return!1}return!0}function _(m,u,o,h){if(u.length===0)return!0;if(!Array.isArray(m))return!1;const w=new Set;for(let E=0;E<u.length;E++){const T=u[E];let O=!1;for(let M=0;M<m.length;M++){if(w.has(M))continue;const I=m[M];let R=!1;if(o(I,T,E,m,u,h)&&(R=!0),R){w.add(M),O=!0;break}}if(!O)return!1}return!0}function v(m,u,o,h){return u.size===0?!0:m instanceof Set?_([...m],[...u],o,h):!1}t.isMatchWith=l,t.isSetMatch=v})(isMatchWith)),isMatchWith}var hasRequiredIsMatch;function requireIsMatch(){return hasRequiredIsMatch||(hasRequiredIsMatch=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireIsMatchWith();function n(i,l){return e.isMatchWith(i,l,()=>{})}t.isMatch=n})(isMatch)),isMatch}var cloneDeep$1={},cloneDeepWith$1={},getSymbols={},hasRequiredGetSymbols;function requireGetSymbols(){return hasRequiredGetSymbols||(hasRequiredGetSymbols=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(i=>Object.prototype.propertyIsEnumerable.call(n,i))}t.getSymbols=e})(getSymbols)),getSymbols}var getTag={},hasRequiredGetTag;function requireGetTag(){return hasRequiredGetTag||(hasRequiredGetTag=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(getTag)),getTag}var tags={},hasRequiredTags;function requireTags(){return hasRequiredTags||(hasRequiredTags=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",i="[object Number]",l="[object Boolean]",d="[object Arguments]",f="[object Symbol]",b="[object Date]",_="[object Map]",v="[object Set]",m="[object Array]",u="[object Function]",o="[object ArrayBuffer]",h="[object Object]",w="[object Error]",E="[object DataView]",T="[object Uint8Array]",O="[object Uint8ClampedArray]",M="[object Uint16Array]",I="[object Uint32Array]",R="[object BigUint64Array]",D="[object Int8Array]",N="[object Int16Array]",L="[object Int32Array]",B="[object BigInt64Array]",$="[object Float32Array]",V="[object Float64Array]";t.argumentsTag=d,t.arrayBufferTag=o,t.arrayTag=m,t.bigInt64ArrayTag=B,t.bigUint64ArrayTag=R,t.booleanTag=l,t.dataViewTag=E,t.dateTag=b,t.errorTag=w,t.float32ArrayTag=$,t.float64ArrayTag=V,t.functionTag=u,t.int16ArrayTag=N,t.int32ArrayTag=L,t.int8ArrayTag=D,t.mapTag=_,t.numberTag=i,t.objectTag=h,t.regexpTag=e,t.setTag=v,t.stringTag=n,t.symbolTag=f,t.uint16ArrayTag=M,t.uint32ArrayTag=I,t.uint8ArrayTag=T,t.uint8ClampedArrayTag=O})(tags)),tags}var isTypedArray={},hasRequiredIsTypedArray;function requireIsTypedArray(){return hasRequiredIsTypedArray||(hasRequiredIsTypedArray=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(isTypedArray)),isTypedArray}var hasRequiredCloneDeepWith$1;function requireCloneDeepWith$1(){return hasRequiredCloneDeepWith$1||(hasRequiredCloneDeepWith$1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireGetSymbols(),n=requireGetTag(),i=requireTags(),l=requireIsPrimitive(),d=requireIsTypedArray();function f(m,u){return b(m,void 0,m,new Map,u)}function b(m,u,o,h=new Map,w=void 0){const E=w==null?void 0:w(m,u,o,h);if(E!==void 0)return E;if(l.isPrimitive(m))return m;if(h.has(m))return h.get(m);if(Array.isArray(m)){const T=new Array(m.length);h.set(m,T);for(let O=0;O<m.length;O++)T[O]=b(m[O],O,o,h,w);return Object.hasOwn(m,"index")&&(T.index=m.index),Object.hasOwn(m,"input")&&(T.input=m.input),T}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const T=new RegExp(m.source,m.flags);return T.lastIndex=m.lastIndex,T}if(m instanceof Map){const T=new Map;h.set(m,T);for(const[O,M]of m)T.set(O,b(M,O,o,h,w));return T}if(m instanceof Set){const T=new Set;h.set(m,T);for(const O of m)T.add(b(O,void 0,o,h,w));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(d.isTypedArray(m)){const T=new(Object.getPrototypeOf(m)).constructor(m.length);h.set(m,T);for(let O=0;O<m.length;O++)T[O]=b(m[O],O,o,h,w);return T}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const T=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return h.set(m,T),_(T,m,o,h,w),T}if(typeof File<"u"&&m instanceof File){const T=new File([m],m.name,{type:m.type});return h.set(m,T),_(T,m,o,h,w),T}if(typeof Blob<"u"&&m instanceof Blob){const T=new Blob([m],{type:m.type});return h.set(m,T),_(T,m,o,h,w),T}if(m instanceof Error){const T=new m.constructor;return h.set(m,T),T.message=m.message,T.name=m.name,T.stack=m.stack,T.cause=m.cause,_(T,m,o,h,w),T}if(m instanceof Boolean){const T=new Boolean(m.valueOf());return h.set(m,T),_(T,m,o,h,w),T}if(m instanceof Number){const T=new Number(m.valueOf());return h.set(m,T),_(T,m,o,h,w),T}if(m instanceof String){const T=new String(m.valueOf());return h.set(m,T),_(T,m,o,h,w),T}if(typeof m=="object"&&v(m)){const T=Object.create(Object.getPrototypeOf(m));return h.set(m,T),_(T,m,o,h,w),T}return m}function _(m,u,o=m,h,w){const E=[...Object.keys(u),...e.getSymbols(u)];for(let T=0;T<E.length;T++){const O=E[T],M=Object.getOwnPropertyDescriptor(m,O);(M==null||M.writable)&&(m[O]=b(u[O],O,o,h,w))}}function v(m){switch(n.getTag(m)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=f,t.cloneDeepWithImpl=b,t.copyProperties=_})(cloneDeepWith$1)),cloneDeepWith$1}var hasRequiredCloneDeep$1;function requireCloneDeep$1(){return hasRequiredCloneDeep$1||(hasRequiredCloneDeep$1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireCloneDeepWith$1();function n(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}t.cloneDeep=n})(cloneDeep$1)),cloneDeep$1}var hasRequiredMatches;function requireMatches(){return hasRequiredMatches||(hasRequiredMatches=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireIsMatch(),n=requireCloneDeep$1();function i(l){return l=n.cloneDeep(l),d=>e.isMatch(d,l)}t.matches=i})(matches)),matches}var matchesProperty={},cloneDeep={},cloneDeepWith={},hasRequiredCloneDeepWith;function requireCloneDeepWith(){return hasRequiredCloneDeepWith||(hasRequiredCloneDeepWith=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireCloneDeepWith$1(),n=requireTags();function i(l,d){return e.cloneDeepWith(l,(f,b,_,v)=>{const m=d==null?void 0:d(f,b,_,v);if(m!==void 0)return m;if(typeof l=="object")switch(Object.prototype.toString.call(l)){case n.numberTag:case n.stringTag:case n.booleanTag:{const u=new l.constructor(l==null?void 0:l.valueOf());return e.copyProperties(u,l),u}case n.argumentsTag:{const u={};return e.copyProperties(u,l),u.length=l.length,u[Symbol.iterator]=l[Symbol.iterator],u}default:return}})}t.cloneDeepWith=i})(cloneDeepWith)),cloneDeepWith}var hasRequiredCloneDeep;function requireCloneDeep(){return hasRequiredCloneDeep||(hasRequiredCloneDeep=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireCloneDeepWith();function n(i){return e.cloneDeepWith(i)}t.cloneDeep=n})(cloneDeep)),cloneDeep}var has$1={},isIndex={},hasRequiredIsIndex;function requireIsIndex(){return hasRequiredIsIndex||(hasRequiredIsIndex=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(i,l=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<l;case"symbol":return!1;case"string":return e.test(i)}}t.isIndex=n})(isIndex)),isIndex}var isArguments={},hasRequiredIsArguments;function requireIsArguments(){return hasRequiredIsArguments||(hasRequiredIsArguments=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireGetTag();function n(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}t.isArguments=n})(isArguments)),isArguments}var hasRequiredHas;function requireHas(){return hasRequiredHas||(hasRequiredHas=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireIsDeepKey(),n=requireIsIndex(),i=requireIsArguments(),l=requireToPath();function d(f,b){let _;if(Array.isArray(b)?_=b:typeof b=="string"&&e.isDeepKey(b)&&(f==null?void 0:f[b])==null?_=l.toPath(b):_=[b],_.length===0)return!1;let v=f;for(let m=0;m<_.length;m++){const u=_[m];if((v==null||!Object.hasOwn(v,u))&&!((Array.isArray(v)||i.isArguments(v))&&n.isIndex(u)&&u<v.length))return!1;v=v[u]}return!0}t.has=d})(has$1)),has$1}var hasRequiredMatchesProperty;function requireMatchesProperty(){return hasRequiredMatchesProperty||(hasRequiredMatchesProperty=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireIsMatch(),n=requireToKey(),i=requireCloneDeep(),l=requireGet$1(),d=requireHas();function f(b,_){switch(typeof b){case"object":{Object.is(b==null?void 0:b.valueOf(),-0)&&(b="-0");break}case"number":{b=n.toKey(b);break}}return _=i.cloneDeep(_),function(v){const m=l.get(v,b);return m===void 0?d.has(v,b):_===void 0?m===void 0:e.isMatch(m,_)}}t.matchesProperty=f})(matchesProperty)),matchesProperty}var hasRequiredIteratee;function requireIteratee(){return hasRequiredIteratee||(hasRequiredIteratee=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireIdentity(),n=requireProperty(),i=requireMatches(),l=requireMatchesProperty();function d(f){if(f==null)return e.identity;switch(typeof f){case"function":return f;case"object":return Array.isArray(f)&&f.length===2?l.matchesProperty(f[0],f[1]):i.matches(f);case"string":case"symbol":case"number":return n.property(f)}}t.iteratee=d})(iteratee)),iteratee}var hasRequiredUniqBy$1;function requireUniqBy$1(){return hasRequiredUniqBy$1||(hasRequiredUniqBy$1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireUniqBy$2(),n=requireIdentity(),i=requireIsArrayLikeObject(),l=requireIteratee();function d(f,b=n.identity){return i.isArrayLikeObject(f)?e.uniqBy(Array.from(f),l.iteratee(b)):[]}t.uniqBy=d})(uniqBy$3)),uniqBy$3}var uniqBy$1,hasRequiredUniqBy;function requireUniqBy(){return hasRequiredUniqBy||(hasRequiredUniqBy=1,uniqBy$1=requireUniqBy$1().uniqBy),uniqBy$1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(t,e,n){return e===!0?uniqBy(t,n):typeof e=="function"?uniqBy(t,e):t}var withSelector$1={exports:{}},withSelector_production={},shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var t=requireReact();function e(u,o){return u===o&&(u!==0||1/u===1/o)||u!==u&&o!==o}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,l=t.useEffect,d=t.useLayoutEffect,f=t.useDebugValue;function b(u,o){var h=o(),w=i({inst:{value:h,getSnapshot:o}}),E=w[0].inst,T=w[1];return d(function(){E.value=h,E.getSnapshot=o,_(E)&&T({inst:E})},[u,h,o]),l(function(){return _(E)&&T({inst:E}),u(function(){_(E)&&T({inst:E})})},[u]),f(h),h}function _(u){var o=u.getSnapshot;u=u.value;try{var h=o();return!n(u,h)}catch{return!0}}function v(u,o){return o()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:b;return useSyncExternalStoreShim_production.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var t=requireReact(),e=requireShim();function n(v,m){return v===m&&(v!==0||1/v===1/m)||v!==v&&m!==m}var i=typeof Object.is=="function"?Object.is:n,l=e.useSyncExternalStore,d=t.useRef,f=t.useEffect,b=t.useMemo,_=t.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(v,m,u,o,h){var w=d(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=b(function(){function O(N){if(!M){if(M=!0,I=N,N=o(N),h!==void 0&&E.hasValue){var L=E.value;if(h(L,N))return R=L}return R=N}if(L=R,i(I,N))return L;var B=o(N);return h!==void 0&&h(L,B)?(I=N,L):(I=N,R=B)}var M=!1,I,R,D=u===void 0?null:u;return[function(){return O(m())},D===null?void 0:function(){return O(D())}]},[m,u,o,h]);var T=l(v,w[0],w[1]);return f(function(){E.hasValue=!0,E.value=T},[T]),_(T),T},withSelector_production}var hasRequiredWithSelector$1;function requireWithSelector$1(){return hasRequiredWithSelector$1||(hasRequiredWithSelector$1=1,withSelector$1.exports=requireWithSelector_production()),withSelector$1.exports}var withSelectorExports=requireWithSelector$1(),RechartsReduxContext=reactExports.createContext(null),noopDispatch=t=>t,useAppDispatch=()=>{var t=reactExports.useContext(RechartsReduxContext);return t?t.store.dispatch:noopDispatch},noop$1=()=>{},addNestedSubNoop=()=>noop$1,refEquality=(t,e)=>t===e;function useAppSelector(t){var e=reactExports.useContext(RechartsReduxContext);return withSelectorExports.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:addNestedSubNoop,e?e.store.getState:noop$1,e?e.store.getState:noop$1,e?t:noop$1,refEquality)}function assertIsFunction(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function assertIsObject(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function assertIsArrayOfFunctions(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${n}]`)}}var ensureIsArray=t=>Array.isArray(t)?t:[t];function getDependencies(t){const e=Array.isArray(t[0])?t[0]:t;return assertIsArrayOfFunctions(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function collectInputSelectorResults(t,e){const n=[],{length:i}=t;for(let l=0;l<i;l++)n.push(t[l].apply(null,e));return n}var StrongRef=class{constructor(t){this.value=t}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(t,e={}){let n=createCacheNode();const{resultEqualityCheck:i}=e;let l,d=0;function f(){var u;let b=n;const{length:_}=arguments;for(let o=0,h=_;o<h;o++){const w=arguments[o];if(typeof w=="function"||typeof w=="object"&&w!==null){let E=b.o;E===null&&(b.o=E=new WeakMap);const T=E.get(w);T===void 0?(b=createCacheNode(),E.set(w,b)):b=T}else{let E=b.p;E===null&&(b.p=E=new Map);const T=E.get(w);T===void 0?(b=createCacheNode(),E.set(w,b)):b=T}}const v=b;let m;if(b.s===TERMINATED)m=b.v;else if(m=t.apply(null,arguments),d++,i){const o=((u=l==null?void 0:l.deref)==null?void 0:u.call(l))??l;o!=null&&i(o,m)&&(m=o,d!==0&&d--),l=typeof m=="object"&&m!==null||typeof m=="function"?new Ref(m):m}return v.s=TERMINATED,v.v=m,m}return f.clearCache=()=>{n=createCacheNode(),f.resetResultsCount()},f.resultsCount=()=>d,f.resetResultsCount=()=>{d=0},f}function createSelectorCreator(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,i=(...l)=>{let d=0,f=0,b,_={},v=l.pop();typeof v=="object"&&(_=v,v=l.pop()),assertIsFunction(v,`createSelector expects an output function after the inputs, but received: [${typeof v}]`);const m={...n,..._},{memoize:u,memoizeOptions:o=[],argsMemoize:h=weakMapMemoize,argsMemoizeOptions:w=[]}=m,E=ensureIsArray(o),T=ensureIsArray(w),O=getDependencies(l),M=u(function(){return d++,v.apply(null,arguments)},...E),I=h(function(){f++;const D=collectInputSelectorResults(O,arguments);return b=M.apply(null,D),b},...T);return Object.assign(I,{resultFunc:v,memoizedResultFunc:M,dependencies:O,dependencyRecomputations:()=>f,resetDependencyRecomputations:()=>{f=0},lastResult:()=>b,recomputations:()=>d,resetRecomputations:()=>{d=0},memoize:u,argsMemoize:h})};return Object.assign(i,{withTypes:()=>i}),i}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((t,e=createSelector)=>{assertIsObject(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),i=n.map(d=>t[d]);return e(i,(...d)=>d.reduce((f,b,_)=>(f[n[_]]=b,f),{}))},{withTypes:()=>createStructuredSelector}),sortBy$2={},orderBy={},compareValues={},hasRequiredCompareValues;function requireCompareValues(){return hasRequiredCompareValues||(hasRequiredCompareValues=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,l,d)=>{if(i!==l){const f=e(i),b=e(l);if(f===b&&f===0){if(i<l)return d==="desc"?1:-1;if(i>l)return d==="desc"?-1:1}return d==="desc"?b-f:f-b}return 0};t.compareValues=n})(compareValues)),compareValues}var isKey={},isSymbol={},hasRequiredIsSymbol;function requireIsSymbol(){return hasRequiredIsSymbol||(hasRequiredIsSymbol=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(isSymbol)),isSymbol}var hasRequiredIsKey;function requireIsKey(){return hasRequiredIsKey||(hasRequiredIsKey=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireIsSymbol(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function l(d,f){return Array.isArray(d)?!1:typeof d=="number"||typeof d=="boolean"||d==null||e.isSymbol(d)?!0:typeof d=="string"&&(i.test(d)||!n.test(d))||f!=null&&Object.hasOwn(f,d)}t.isKey=l})(isKey)),isKey}var hasRequiredOrderBy;function requireOrderBy(){return hasRequiredOrderBy||(hasRequiredOrderBy=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireCompareValues(),n=requireIsKey(),i=requireToPath();function l(d,f,b,_){if(d==null)return[];b=_?void 0:b,Array.isArray(d)||(d=Object.values(d)),Array.isArray(f)||(f=f==null?[null]:[f]),f.length===0&&(f=[null]),Array.isArray(b)||(b=b==null?[]:[b]),b=b.map(h=>String(h));const v=(h,w)=>{let E=h;for(let T=0;T<w.length&&E!=null;++T)E=E[w[T]];return E},m=(h,w)=>w==null||h==null?w:typeof h=="object"&&"key"in h?Object.hasOwn(w,h.key)?w[h.key]:v(w,h.path):typeof h=="function"?h(w):Array.isArray(h)?v(w,h):typeof w=="object"?w[h]:w,u=f.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||n.isKey(h)?h:{key:h,path:i.toPath(h)}));return d.map(h=>({original:h,criteria:u.map(w=>m(w,h))})).slice().sort((h,w)=>{for(let E=0;E<u.length;E++){const T=e.compareValues(h.criteria[E],w.criteria[E],b[E]);if(T!==0)return T}return 0}).map(h=>h.original)}t.orderBy=l})(orderBy)),orderBy}var flatten={},hasRequiredFlatten;function requireFlatten(){return hasRequiredFlatten||(hasRequiredFlatten=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i=1){const l=[],d=Math.floor(i),f=(b,_)=>{for(let v=0;v<b.length;v++){const m=b[v];Array.isArray(m)&&_<d?f(m,_+1):l.push(m)}};return f(n,0),l}t.flatten=e})(flatten)),flatten}var isIterateeCall={},hasRequiredIsIterateeCall;function requireIsIterateeCall(){return hasRequiredIsIterateeCall||(hasRequiredIsIterateeCall=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireIsIndex(),n=requireIsArrayLike(),i=requireIsObject(),l=requireEq();function d(f,b,_){return i.isObject(_)&&(typeof b=="number"&&n.isArrayLike(_)&&e.isIndex(b)&&b<_.length||typeof b=="string"&&b in _)?l.eq(_[b],f):!1}t.isIterateeCall=d})(isIterateeCall)),isIterateeCall}var hasRequiredSortBy$1;function requireSortBy$1(){return hasRequiredSortBy$1||(hasRequiredSortBy$1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireOrderBy(),n=requireFlatten(),i=requireIsIterateeCall();function l(d,...f){const b=f.length;return b>1&&i.isIterateeCall(d,f[0],f[1])?f=[]:b>2&&i.isIterateeCall(f[0],f[1],f[2])&&(f=[f[0]]),e.orderBy(d,n.flatten(f),["asc"])}t.sortBy=l})(sortBy$2)),sortBy$2}var sortBy$1,hasRequiredSortBy;function requireSortBy(){return hasRequiredSortBy||(hasRequiredSortBy=1,sortBy$1=requireSortBy$1().sortBy),sortBy$1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);var selectLegendSettings=t=>t.legend.settings,selectLegendSize=t=>t.legend.size,selectAllLegendPayload2DArray=t=>t.legend.payload,selectLegendPayload=createSelector([selectAllLegendPayload2DArray,selectLegendSettings],(t,e)=>{var{itemSorter:n}=e,i=t.flat(1);return n?sortBy(i,n):i});function useLegendPayload(){return useAppSelector(selectLegendPayload)}var EPS$1=1;function useElementOffset(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=reactExports.useState({height:0,left:0,top:0,width:0}),i=reactExports.useCallback(l=>{if(l!=null){var d=l.getBoundingClientRect(),f={height:d.height,left:d.left,top:d.top,width:d.width};(Math.abs(f.height-e.height)>EPS$1||Math.abs(f.left-e.left)>EPS$1||Math.abs(f.top-e.top)>EPS$1||Math.abs(f.width-e.width)>EPS$1)&&n({height:f.height,left:f.left,top:f.top,width:f.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,i]}function formatProdErrorMessage$1(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$4(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function createStore(t,e,n){if(typeof t!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(formatProdErrorMessage$1(1));return n(createStore)(t,e)}let i=t,l=e,d=new Map,f=d,b=0,_=!1;function v(){f===d&&(f=new Map,d.forEach((T,O)=>{f.set(O,T)}))}function m(){if(_)throw new Error(formatProdErrorMessage$1(3));return l}function u(T){if(typeof T!="function")throw new Error(formatProdErrorMessage$1(4));if(_)throw new Error(formatProdErrorMessage$1(5));let O=!0;v();const M=b++;return f.set(M,T),function(){if(O){if(_)throw new Error(formatProdErrorMessage$1(6));O=!1,v(),f.delete(M),d=null}}}function o(T){if(!isPlainObject$4(T))throw new Error(formatProdErrorMessage$1(7));if(typeof T.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof T.type!="string")throw new Error(formatProdErrorMessage$1(17));if(_)throw new Error(formatProdErrorMessage$1(9));try{_=!0,l=i(l,T)}finally{_=!1}return(d=f).forEach(M=>{M()}),T}function h(T){if(typeof T!="function")throw new Error(formatProdErrorMessage$1(10));i=T,o({type:actionTypes_default.REPLACE})}function w(){const T=u;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(formatProdErrorMessage$1(11));function M(){const R=O;R.next&&R.next(m())}return M(),{unsubscribe:T(M)}},[symbol_observable_default](){return this}}}return o({type:actionTypes_default.INIT}),{dispatch:o,subscribe:u,getState:m,replaceReducer:h,[symbol_observable_default]:w}}function assertReducerShape(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof n(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(t){const e=Object.keys(t),n={};for(let d=0;d<e.length;d++){const f=e[d];typeof t[f]=="function"&&(n[f]=t[f])}const i=Object.keys(n);let l;try{assertReducerShape(n)}catch(d){l=d}return function(f={},b){if(l)throw l;let _=!1;const v={};for(let m=0;m<i.length;m++){const u=i[m],o=n[u],h=f[u],w=o(h,b);if(typeof w>"u")throw b&&b.type,new Error(formatProdErrorMessage$1(14));v[u]=w,_=_||w!==h}return _=_||i.length!==Object.keys(f).length,_?v:f}}function compose$1(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function applyMiddleware(...t){return e=>(n,i)=>{const l=e(n,i);let d=()=>{throw new Error(formatProdErrorMessage$1(15))};const f={getState:l.getState,dispatch:(_,...v)=>d(_,...v)},b=t.map(_=>_(f));return d=compose$1(...b)(l.dispatch),{...l,dispatch:d}}}function isAction(t){return isPlainObject$4(t)&&"type"in t&&typeof t.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(t){return!!t&&!!t[DRAFT_STATE]}function isDraftable(t){var e;return t?isPlainObject$3(t)||Array.isArray(t)||!!t[DRAFTABLE]||!!((e=t.constructor)!=null&&e[DRAFTABLE])||isMap(t)||isSet(t):!1}var objectCtorString=Object.prototype.constructor.toString(),cachedCtorStrings=new WeakMap;function isPlainObject$3(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let i=cachedCtorStrings.get(n);return i===void 0&&(i=Function.toString.call(n),cachedCtorStrings.set(n,i)),i===objectCtorString}function each(t,e,n=!0){getArchtype(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(l=>{e(l,t[l],t)}):t.forEach((i,l)=>e(l,i,t))}function getArchtype(t){const e=t[DRAFT_STATE];return e?e.type_:Array.isArray(t)?1:isMap(t)?2:isSet(t)?3:0}function has(t,e){return getArchtype(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function set(t,e,n){const i=getArchtype(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function is(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function isMap(t){return t instanceof Map}function isSet(t){return t instanceof Set}function latest(t){return t.copy_||t.base_}function shallowCopy(t,e){if(isMap(t))return new Map(t);if(isSet(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=isPlainObject$3(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[DRAFT_STATE];let l=Reflect.ownKeys(i);for(let d=0;d<l.length;d++){const f=l[d],b=i[f];b.writable===!1&&(b.writable=!0,b.configurable=!0),(b.get||b.set)&&(i[f]={configurable:!0,writable:!0,enumerable:b.enumerable,value:t[f]})}return Object.create(getPrototypeOf(t),i)}else{const i=getPrototypeOf(t);if(i!==null&&n)return{...t};const l=Object.create(i);return Object.assign(l,t)}}function freeze(t,e=!1){return isFrozen(t)||isDraft(t)||!isDraftable(t)||(getArchtype(t)>1&&Object.defineProperties(t,{set:dontMutateMethodOverride,add:dontMutateMethodOverride,clear:dontMutateMethodOverride,delete:dontMutateMethodOverride}),Object.freeze(t),e&&Object.values(t).forEach(n=>freeze(n,!0))),t}function dontMutateFrozenCollections(){die(2)}var dontMutateMethodOverride={value:dontMutateFrozenCollections};function isFrozen(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var plugins={};function getPlugin(t){const e=plugins[t];return e||die(0,t),e}var currentScope;function getCurrentScope(){return currentScope}function createScope(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(t,e){e&&(getPlugin("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function revokeScope(t){leaveScope(t),t.drafts_.forEach(revokeDraft),t.drafts_=null}function leaveScope(t){t===currentScope&&(currentScope=t.parent_)}function enterScope(t){return currentScope=createScope(currentScope,t)}function revokeDraft(t){const e=t[DRAFT_STATE];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function processResult(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[DRAFT_STATE].modified_&&(revokeScope(e),die(4)),isDraftable(t)&&(t=finalize(e,t),e.parent_||maybeFreeze(e,t)),e.patches_&&getPlugin("Patches").generateReplacementPatches_(n[DRAFT_STATE].base_,t,e.patches_,e.inversePatches_)):t=finalize(e,n,[]),revokeScope(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==NOTHING?t:void 0}function finalize(t,e,n){if(isFrozen(e))return e;const i=t.immer_.shouldUseStrictIteration(),l=e[DRAFT_STATE];if(!l)return each(e,(d,f)=>finalizeProperty(t,l,e,d,f,n),i),e;if(l.scope_!==t)return e;if(!l.modified_)return maybeFreeze(t,l.base_,!0),l.base_;if(!l.finalized_){l.finalized_=!0,l.scope_.unfinalizedDrafts_--;const d=l.copy_;let f=d,b=!1;l.type_===3&&(f=new Set(d),d.clear(),b=!0),each(f,(_,v)=>finalizeProperty(t,l,d,_,v,n,b),i),maybeFreeze(t,d,!1),n&&t.patches_&&getPlugin("Patches").generatePatches_(l,n,t.patches_,t.inversePatches_)}return l.copy_}function finalizeProperty(t,e,n,i,l,d,f){if(l==null||typeof l!="object"&&!f)return;const b=isFrozen(l);if(!(b&&!f)){if(isDraft(l)){const _=d&&e&&e.type_!==3&&!has(e.assigned_,i)?d.concat(i):void 0,v=finalize(t,l,_);if(set(n,i,v),isDraft(v))t.canAutoFreeze_=!1;else return}else f&&n.add(l);if(isDraftable(l)&&!b){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===l&&b)return;finalize(t,l),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(isMap(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&maybeFreeze(t,l)}}}function maybeFreeze(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&freeze(e,n)}function createProxyProxy(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=i,d=objectTraps;n&&(l=[i],d=arrayTraps);const{revoke:f,proxy:b}=Proxy.revocable(l,d);return i.draft_=b,i.revoke_=f,b}var objectTraps={get(t,e){if(e===DRAFT_STATE)return t;const n=latest(t);if(!has(n,e))return readPropFromProto(t,n,e);const i=n[e];return t.finalized_||!isDraftable(i)?i:i===peek(t.base_,e)?(prepareCopy(t),t.copy_[e]=createProxy(i,t)):i},has(t,e){return e in latest(t)},ownKeys(t){return Reflect.ownKeys(latest(t))},set(t,e,n){const i=getDescriptorFromProto(latest(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const l=peek(latest(t),e),d=l==null?void 0:l[DRAFT_STATE];if(d&&d.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(is(n,l)&&(n!==void 0||has(t.base_,e)))return!0;prepareCopy(t),markChanged(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return peek(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,prepareCopy(t),markChanged(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=latest(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){die(11)},getPrototypeOf(t){return getPrototypeOf(t.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(t,e)=>{arrayTraps[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});arrayTraps.deleteProperty=function(t,e){return arrayTraps.set.call(this,t,e,void 0)};arrayTraps.set=function(t,e,n){return objectTraps.set.call(this,t[0],e,n,t[0])};function peek(t,e){const n=t[DRAFT_STATE];return(n?latest(n):t)[e]}function readPropFromProto(t,e,n){var l;const i=getDescriptorFromProto(e,n);return i?"value"in i?i.value:(l=i.get)==null?void 0:l.call(t.draft_):void 0}function getDescriptorFromProto(t,e){if(!(e in t))return;let n=getPrototypeOf(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=getPrototypeOf(n)}}function markChanged(t){t.modified_||(t.modified_=!0,t.parent_&&markChanged(t.parent_))}function prepareCopy(t){t.copy_||(t.copy_=shallowCopy(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const d=n;n=e;const f=this;return function(_=d,...v){return f.produce(_,m=>n.call(this,m,...v))}}typeof n!="function"&&die(6),i!==void 0&&typeof i!="function"&&die(7);let l;if(isDraftable(e)){const d=enterScope(this),f=createProxy(e,void 0);let b=!0;try{l=n(f),b=!1}finally{b?revokeScope(d):leaveScope(d)}return usePatchesInScope(d,i),processResult(l,d)}else if(!e||typeof e!="object"){if(l=n(e),l===void 0&&(l=e),l===NOTHING&&(l=void 0),this.autoFreeze_&&freeze(l,!0),i){const d=[],f=[];getPlugin("Patches").generateReplacementPatches_(e,l,d,f),i(d,f)}return l}else die(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(f,...b)=>this.produceWithPatches(f,_=>e(_,...b));let i,l;return[this.produce(e,n,(f,b)=>{i=f,l=b}),i,l]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){isDraftable(t)||die(8),isDraft(t)&&(t=current(t));const e=enterScope(this),n=createProxy(t,void 0);return n[DRAFT_STATE].isManual_=!0,leaveScope(e),n}finishDraft(t,e){const n=t&&t[DRAFT_STATE];(!n||!n.isManual_)&&die(9);const{scope_:i}=n;return usePatchesInScope(i,e),processResult(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const l=e[n];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}n>-1&&(e=e.slice(n+1));const i=getPlugin("Patches").applyPatches_;return isDraft(t)?i(t,e):this.produce(t,l=>i(l,e))}};function createProxy(t,e){const n=isMap(t)?getPlugin("MapSet").proxyMap_(t,e):isSet(t)?getPlugin("MapSet").proxySet_(t,e):createProxyProxy(t,e);return(e?e.scope_:getCurrentScope()).drafts_.push(n),n}function current(t){return isDraft(t)||die(10,t),currentImpl(t)}function currentImpl(t){if(!isDraftable(t)||isFrozen(t))return t;const e=t[DRAFT_STATE];let n,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=shallowCopy(t,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else n=shallowCopy(t,!0);return each(n,(l,d)=>{set(n,l,currentImpl(d))},i),e&&(e.finalized_=!1),n}var immer=new Immer2,produce=immer.produce,setUseStrictIteration=immer.setUseStrictIteration.bind(immer);function castDraft(t){return t}function createThunkMiddleware(t){return({dispatch:n,getState:i})=>l=>d=>typeof d=="function"?d(n,i,t):l(d)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$1:compose$1.apply(null,arguments)};function createAction(t,e){function n(...i){if(e){let l=e(...i);if(!l)throw new Error(formatProdErrorMessage(0));return{type:t,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>isAction(i)&&i.type===t,n}var Tuple=class lo extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,lo.prototype)}static get[Symbol.species](){return lo}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new lo(...e[0].concat(this)):new lo(...e.concat(this))}};function freezeDraftable(t){return isDraftable(t)?produce(t,()=>{}):t}function getOrInsertComputed(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function isBoolean(t){return typeof t=="boolean"}var buildGetDefaultMiddleware=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:l=!0,actionCreatorCheck:d=!0}=e??{};let f=new Tuple;return n&&(isBoolean(n)?f.push(thunk):f.push(withExtraArgument(n.extraArgument))),f},SHOULD_AUTOBATCH="RTK_autoBatch",prepareAutoBatched=()=>t=>({payload:t,meta:{[SHOULD_AUTOBATCH]:!0}}),createQueueWithTimer=t=>e=>{setTimeout(e,t)},autoBatchEnhancer=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let l=!0,d=!1,f=!1;const b=new Set,_=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):t.type==="callback"?t.queueNotification:createQueueWithTimer(t.timeout),v=()=>{f=!1,d&&(d=!1,b.forEach(m=>m()))};return Object.assign({},i,{subscribe(m){const u=()=>l&&m(),o=i.subscribe(u);return b.add(m),()=>{o(),b.delete(m)}},dispatch(m){var u;try{return l=!((u=m==null?void 0:m.meta)!=null&&u[SHOULD_AUTOBATCH]),d=!l,d&&(f||(f=!0,_(v))),i.dispatch(m)}finally{l=!0}}})},buildGetDefaultEnhancers=t=>function(n){const{autoBatch:i=!0}=n??{};let l=new Tuple(t);return i&&l.push(autoBatchEnhancer(typeof i=="object"?i:void 0)),l};function configureStore(t){const e=buildGetDefaultMiddleware(),{reducer:n=void 0,middleware:i,devTools:l=!0,preloadedState:d=void 0,enhancers:f=void 0}=t||{};let b;if(typeof n=="function")b=n;else if(isPlainObject$4(n))b=combineReducers(n);else throw new Error(formatProdErrorMessage(1));let _;typeof i=="function"?_=i(e):_=e();let v=compose$1;l&&(v=composeWithDevTools({trace:!1,...typeof l=="object"&&l}));const m=applyMiddleware(..._),u=buildGetDefaultEnhancers(m);let o=typeof f=="function"?f(u):u();const h=v(...o);return createStore(b,d,h)}function executeReducerBuilderCallback(t){const e={},n=[];let i;const l={addCase(d,f){const b=typeof d=="string"?d:d.type;if(!b)throw new Error(formatProdErrorMessage(28));if(b in e)throw new Error(formatProdErrorMessage(29));return e[b]=f,l},addAsyncThunk(d,f){return f.pending&&(e[d.pending.type]=f.pending),f.rejected&&(e[d.rejected.type]=f.rejected),f.fulfilled&&(e[d.fulfilled.type]=f.fulfilled),f.settled&&n.push({matcher:d.settled,reducer:f.settled}),l},addMatcher(d,f){return n.push({matcher:d,reducer:f}),l},addDefaultCase(d){return i=d,l}};return t(l),[e,n,i]}setUseStrictIteration(!1);function isStateFunction(t){return typeof t=="function"}function createReducer(t,e){let[n,i,l]=executeReducerBuilderCallback(e),d;if(isStateFunction(t))d=()=>freezeDraftable(t());else{const b=freezeDraftable(t);d=()=>b}function f(b=d(),_){let v=[n[_.type],...i.filter(({matcher:m})=>m(_)).map(({reducer:m})=>m)];return v.filter(m=>!!m).length===0&&(v=[l]),v.reduce((m,u)=>{if(u)if(isDraft(m)){const h=u(m,_);return h===void 0?m:h}else{if(isDraftable(m))return produce(m,o=>u(o,_));{const o=u(m,_);if(o===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return o}}return m},b)}return f.getInitialState=d,f}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(t=21)=>{let e="",n=t;for(;n--;)e+=urlAlphabet[Math.random()*64|0];return e},asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(t,e){return`${t}/${e}`}function buildCreateSlice({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[asyncThunkSymbol];return function(l){const{name:d,reducerPath:f=d}=l;if(!d)throw new Error(formatProdErrorMessage(11));const b=(typeof l.reducers=="function"?l.reducers(buildReducerCreators()):l.reducers)||{},_=Object.keys(b),v={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(R,D){const N=typeof R=="string"?R:R.type;if(!N)throw new Error(formatProdErrorMessage(12));if(N in v.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return v.sliceCaseReducersByType[N]=D,m},addMatcher(R,D){return v.sliceMatchers.push({matcher:R,reducer:D}),m},exposeAction(R,D){return v.actionCreators[R]=D,m},exposeCaseReducer(R,D){return v.sliceCaseReducersByName[R]=D,m}};_.forEach(R=>{const D=b[R],N={reducerName:R,type:getType(d,R),createNotation:typeof l.reducers=="function"};isAsyncThunkSliceReducerDefinition(D)?handleThunkCaseReducerDefinition(N,D,m,e):handleNormalReducerDefinition(N,D,m)});function u(){const[R={},D=[],N=void 0]=typeof l.extraReducers=="function"?executeReducerBuilderCallback(l.extraReducers):[l.extraReducers],L={...R,...v.sliceCaseReducersByType};return createReducer(l.initialState,B=>{for(let $ in L)B.addCase($,L[$]);for(let $ of v.sliceMatchers)B.addMatcher($.matcher,$.reducer);for(let $ of D)B.addMatcher($.matcher,$.reducer);N&&B.addDefaultCase(N)})}const o=R=>R,h=new Map,w=new WeakMap;let E;function T(R,D){return E||(E=u()),E(R,D)}function O(){return E||(E=u()),E.getInitialState()}function M(R,D=!1){function N(B){let $=B[R];return typeof $>"u"&&D&&($=getOrInsertComputed(w,N,O)),$}function L(B=o){const $=getOrInsertComputed(h,D,()=>new WeakMap);return getOrInsertComputed($,B,()=>{const V={};for(const[G,X]of Object.entries(l.selectors??{}))V[G]=wrapSelector(X,B,()=>getOrInsertComputed(w,B,O),D);return V})}return{reducerPath:R,getSelectors:L,get selectors(){return L(N)},selectSlice:N}}const I={name:d,reducer:T,actions:v.actionCreators,caseReducers:v.sliceCaseReducersByName,getInitialState:O,...M(f),injectInto(R,{reducerPath:D,...N}={}){const L=D??f;return R.inject({reducerPath:L,reducer:T},N),{...I,...M(L,!0)}}};return I}}function wrapSelector(t,e,n,i){function l(d,...f){let b=e(d);return typeof b>"u"&&i&&(b=n()),t(b,...f)}return l.unwrapped=t,l}var createSlice=buildCreateSlice();function buildReducerCreators(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function handleNormalReducerDefinition({type:t,reducerName:e,createNotation:n},i,l){let d,f;if("reducer"in i){if(n&&!isCaseReducerWithPrepareDefinition(i))throw new Error(formatProdErrorMessage(17));d=i.reducer,f=i.prepare}else d=i;l.addCase(t,d).exposeCaseReducer(e,d).exposeAction(e,f?createAction(t,f):createAction(t))}function isAsyncThunkSliceReducerDefinition(t){return t._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(t){return t._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:t,reducerName:e},n,i,l){if(!l)throw new Error(formatProdErrorMessage(18));const{payloadCreator:d,fulfilled:f,pending:b,rejected:_,settled:v,options:m}=n,u=l(t,d,m);i.exposeAction(e,u),f&&i.addCase(u.fulfilled,f),b&&i.addCase(u.pending,b),_&&i.addCase(u.rejected,_),v&&i.addMatcher(u.settled,v),i.exposeCaseReducer(e,{fulfilled:f||noop,pending:b||noop,rejected:_||noop,settled:v||noop})}function noop(){}var task="task",listener="listener",completed="completed",cancelled="cancelled",taskCancelled=`task-${cancelled}`,taskCompleted=`task-${completed}`,listenerCancelled=`${listener}-${cancelled}`,listenerCompleted=`${listener}-${completed}`,TaskAbortError=class{constructor(t){Ie(this,"name","TaskAbortError");Ie(this,"message");this.code=t,this.message=`${task} ${cancelled} (reason: ${t})`}},assertFunction=(t,e)=>{if(typeof t!="function")throw new TypeError(formatProdErrorMessage(32))},noop2=()=>{},catchRejection=(t,e=noop2)=>(t.catch(e),t),addAbortSignalListener=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),abortControllerWithReason=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},validateActive=t=>{if(t.aborted){const{reason:e}=t;throw new TaskAbortError(e)}};function raceWithSignal(t,e){let n=noop2;return new Promise((i,l)=>{const d=()=>l(new TaskAbortError(t.reason));if(t.aborted){d();return}n=addAbortSignalListener(t,d),e.finally(()=>n()).then(i,l)}).finally(()=>{n=noop2})}var runTask=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof TaskAbortError?"cancelled":"rejected",error:n}}finally{e==null||e()}},createPause=t=>e=>catchRejection(raceWithSignal(t,e).then(n=>(validateActive(t),n))),createDelay=t=>{const e=createPause(t);return n=>e(new Promise(i=>setTimeout(i,n)))},{assign}=Object,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=(t,e)=>{const n=i=>addAbortSignalListener(t,()=>abortControllerWithReason(i,t.reason));return(i,l)=>{assertFunction(i);const d=new AbortController;n(d);const f=runTask(async()=>{validateActive(t),validateActive(d.signal);const b=await i({pause:createPause(d.signal),delay:createDelay(d.signal),signal:d.signal});return validateActive(d.signal),b},()=>abortControllerWithReason(d,taskCompleted));return l!=null&&l.autoJoin&&e.push(f.catch(noop2)),{result:createPause(t)(f),cancel(){abortControllerWithReason(d,taskCancelled)}}}},createTakePattern=(t,e)=>{const n=async(i,l)=>{validateActive(e);let d=()=>{};const b=[new Promise((_,v)=>{let m=t({predicate:i,effect:(u,o)=>{o.unsubscribe(),_([u,o.getState(),o.getOriginalState()])}});d=()=>{m(),v()}})];l!=null&&b.push(new Promise(_=>setTimeout(_,l,null)));try{const _=await raceWithSignal(e,Promise.race(b));return validateActive(e),_}finally{d()}};return(i,l)=>catchRejection(n(i,l))},getListenerEntryPropsFrom=t=>{let{type:e,actionCreator:n,matcher:i,predicate:l,effect:d}=t;if(e)l=createAction(e).match;else if(n)e=n.type,l=n.match;else if(i)l=i;else if(!l)throw new Error(formatProdErrorMessage(21));return assertFunction(d),{predicate:l,type:e,effect:d}},createListenerEntry=assign(t=>{const{type:e,predicate:n,effect:i}=getListenerEntryPropsFrom(t);return{id:nanoid(),effect:i,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),findListenerEntry=(t,e)=>{const{type:n,effect:i,predicate:l}=getListenerEntryPropsFrom(e);return Array.from(t.values()).find(d=>(typeof n=="string"?d.type===n:d.predicate===l)&&d.effect===i)},cancelActiveListeners=t=>{t.pending.forEach(e=>{abortControllerWithReason(e,listenerCancelled)})},createClearListenerMiddleware=(t,e)=>()=>{for(const n of e.keys())cancelActiveListeners(n);t.clear()},safelyNotifyError=(t,e,n)=>{try{t(e,n)}catch(i){setTimeout(()=>{throw i},0)}},addListener=assign(createAction(`${alm}/add`),{withTypes:()=>addListener}),clearAllListeners=createAction(`${alm}/removeAll`),removeListener=assign(createAction(`${alm}/remove`),{withTypes:()=>removeListener}),defaultErrorHandler=(...t)=>{console.error(`${alm}/error`,...t)},createListenerMiddleware=(t={})=>{const e=new Map,n=new Map,i=h=>{const w=n.get(h)??0;n.set(h,w+1)},l=h=>{const w=n.get(h)??1;w===1?n.delete(h):n.set(h,w-1)},{extra:d,onError:f=defaultErrorHandler}=t;assertFunction(f);const b=h=>(h.unsubscribe=()=>e.delete(h.id),e.set(h.id,h),w=>{h.unsubscribe(),w!=null&&w.cancelActive&&cancelActiveListeners(h)}),_=h=>{const w=findListenerEntry(e,h)??createListenerEntry(h);return b(w)};assign(_,{withTypes:()=>_});const v=h=>{const w=findListenerEntry(e,h);return w&&(w.unsubscribe(),h.cancelActive&&cancelActiveListeners(w)),!!w};assign(v,{withTypes:()=>v});const m=async(h,w,E,T)=>{const O=new AbortController,M=createTakePattern(_,O.signal),I=[];try{h.pending.add(O),i(h),await Promise.resolve(h.effect(w,assign({},E,{getOriginalState:T,condition:(R,D)=>M(R,D).then(Boolean),take:M,delay:createDelay(O.signal),pause:createPause(O.signal),extra:d,signal:O.signal,fork:createFork(O.signal,I),unsubscribe:h.unsubscribe,subscribe:()=>{e.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((R,D,N)=>{R!==O&&(abortControllerWithReason(R,listenerCancelled),N.delete(R))})},cancel:()=>{abortControllerWithReason(O,listenerCancelled),h.pending.delete(O)},throwIfCancelled:()=>{validateActive(O.signal)}})))}catch(R){R instanceof TaskAbortError||safelyNotifyError(f,R,{raisedBy:"effect"})}finally{await Promise.all(I),abortControllerWithReason(O,listenerCompleted),l(h),h.pending.delete(O)}},u=createClearListenerMiddleware(e,n);return{middleware:h=>w=>E=>{if(!isAction(E))return w(E);if(addListener.match(E))return _(E.payload);if(clearAllListeners.match(E)){u();return}if(removeListener.match(E))return v(E.payload);let T=h.getState();const O=()=>{if(T===INTERNAL_NIL_TOKEN)throw new Error(formatProdErrorMessage(23));return T};let M;try{if(M=w(E),e.size>0){const I=h.getState(),R=Array.from(e.values());for(const D of R){let N=!1;try{N=D.predicate(E,I,T)}catch(L){N=!1,safelyNotifyError(f,L,{raisedBy:"predicate"})}N&&m(D,E,h,O)}}}finally{T=INTERNAL_NIL_TOKEN}return M},startListening:_,stopListening:v,clearListeners:u}};function formatProdErrorMessage(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var initialState$b={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},chartLayoutSlice=createSlice({name:"chartLayout",initialState:initialState$b,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,i,l,d;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,t.margin.bottom=(l=e.payload.bottom)!==null&&l!==void 0?l:0,t.margin.left=(d=e.payload.left)!==null&&d!==void 0?d:0},setScale(t,e){t.scale=e.payload}}}),{setMargin,setLayout,setChartSize,setScale}=chartLayoutSlice.actions,chartLayoutReducer=chartLayoutSlice.reducer;function getSliced(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function ownKeys$H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$H(Object(n),!0).forEach(function(i){_defineProperty$J(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$H(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$J(t,e,n){return(e=_toPropertyKey$J(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$J(t){var e=_toPrimitive$J(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$J(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function getValueByDataKey(t,e,n){return isNullish(t)||isNullish(e)?n:isNumOrStr(e)?get(t,e,n):typeof e=="function"?e(t):n}var appendOffsetOfLegend=(t,e,n)=>{if(e&&n){var{width:i,height:l}=n,{align:d,verticalAlign:f,layout:b}=e;if((b==="vertical"||b==="horizontal"&&f==="middle")&&d!=="center"&&isNumber(t[d]))return _objectSpread$H(_objectSpread$H({},t),{},{[d]:t[d]+(i||0)});if((b==="horizontal"||b==="vertical"&&d==="center")&&f!=="middle"&&isNumber(t[f]))return _objectSpread$H(_objectSpread$H({},t),{},{[f]:t[f]+(l||0)})}return t},isCategoricalAxis=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",getCoordinatesOfGrid=(t,e,n,i)=>{if(i)return t.map(b=>b.coordinate);var l,d,f=t.map(b=>(b.coordinate===e&&(l=!0),b.coordinate===n&&(d=!0),b.coordinate));return l||f.push(e),d||f.push(n),f},getTicksOfAxis=(t,e,n)=>{if(!t)return null;var{duplicateDomain:i,type:l,range:d,scale:f,realScaleType:b,isCategorical:_,categoricalDomain:v,tickCount:m,ticks:u,niceTicks:o,axisType:h}=t;if(!f)return null;var w=b==="scaleBand"&&f.bandwidth?f.bandwidth()/2:2,E=l==="category"&&f.bandwidth?f.bandwidth()/w:0;if(E=h==="angleAxis"&&d&&d.length>=2?mathSign(d[0]-d[1])*2*E:E,u||o){var T=(u||o||[]).map((O,M)=>{var I=i?i.indexOf(O):O;return{coordinate:f(I)+E,value:O,offset:E,index:M}});return T.filter(O=>!isNan(O.coordinate))}return _&&v?v.map((O,M)=>({coordinate:f(O)+E,value:O,index:M,offset:E})):f.ticks&&m!=null?f.ticks(m).map((O,M)=>({coordinate:f(O)+E,value:O,offset:E,index:M})):f.domain().map((O,M)=>({coordinate:f(O)+E,value:i?i[O]:O,index:M,offset:E}))},EPS=1e-4,checkDomainOfScale=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,i=t.range(),l=Math.min(i[0],i[1])-EPS,d=Math.max(i[0],i[1])+EPS,f=t(e[0]),b=t(e[n-1]);(f<l||f>d||b<l||b>d)&&t.domain([e[0],e[n-1]])}},truncateByDomain=(t,e)=>{if(!e||e.length!==2||!isNumber(e[0])||!isNumber(e[1]))return t;var n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]),l=[t[0],t[1]];return(!isNumber(t[0])||t[0]<n)&&(l[0]=n),(!isNumber(t[1])||t[1]>i)&&(l[1]=i),l[0]>i&&(l[0]=i),l[1]<n&&(l[1]=n),l},offsetSign=t=>{var e=t.length;if(!(e<=0))for(var n=0,i=t[0].length;n<i;++n)for(var l=0,d=0,f=0;f<e;++f){var b=isNan(t[f][n][1])?t[f][n][0]:t[f][n][1];b>=0?(t[f][n][0]=l,t[f][n][1]=l+b,l=t[f][n][1]):(t[f][n][0]=d,t[f][n][1]=d+b,d=t[f][n][1])}},offsetPositive=t=>{var e=t.length;if(!(e<=0))for(var n=0,i=t[0].length;n<i;++n)for(var l=0,d=0;d<e;++d){var f=isNan(t[d][n][1])?t[d][n][0]:t[d][n][1];f>=0?(t[d][n][0]=l,t[d][n][1]=l+f,l=t[d][n][1]):(t[d][n][0]=0,t[d][n][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=(t,e,n)=>{var i=STACK_OFFSET_MAP[n],l=shapeStack().keys(e).value((d,f)=>Number(getValueByDataKey(d,f,0))).order(stackOrderNone).offset(i);return l(t)};function getNormalizedStackId(t){return t==null?void 0:String(t)}function getCateCoordinateOfLine(t){var{axis:e,ticks:n,bandSize:i,entry:l,index:d,dataKey:f}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!isNullish(l[e.dataKey])){var b=findEntryInArray(n,"value",l[e.dataKey]);if(b)return b.coordinate+i/2}return n[d]?n[d].coordinate+i/2:null}var _=getValueByDataKey(l,isNullish(f)?e.dataKey:f);return isNullish(_)?null:e.scale(_)}var getCateCoordinateOfBar=t=>{var{axis:e,ticks:n,offset:i,bandSize:l,entry:d,index:f}=t;if(e.type==="category")return n[f]?n[f].coordinate+i:null;var b=getValueByDataKey(d,e.dataKey,e.scale.domain()[f]);return isNullish(b)?null:e.scale(b)-l/2+i},getBaseValueOfBar=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var i=Math.min(n[0],n[1]),l=Math.max(n[0],n[1]);return i<=0&&l>=0?0:l<0?l:i}return n[0]},getDomainOfSingle=t=>{var e=t.flat(2).filter(isNumber);return[Math.min(...e),Math.max(...e)]},makeDomainFinite=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],getDomainOfStackGroups=(t,e,n)=>{if(t!=null)return makeDomainFinite(Object.keys(t).reduce((i,l)=>{var d=t[l],{stackedData:f}=d,b=f.reduce((_,v)=>{var m=getSliced(v,e,n),u=getDomainOfSingle(m);return[Math.min(_[0],u[0]),Math.max(_[1],u[1])]},[1/0,-1/0]);return[Math.min(b[0],i[0]),Math.max(b[1],i[1])]},[1/0,-1/0]))},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,getBandSizeOfAxis=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&e&&e.length>=2){for(var l=sortBy(e,m=>m.coordinate),d=1/0,f=1,b=l.length;f<b;f++){var _=l[f],v=l[f-1];d=Math.min((_.coordinate||0)-(v.coordinate||0),d)}return d===1/0?0:d}return n?void 0:0};function getTooltipEntry(t){var{tooltipEntrySettings:e,dataKey:n,payload:i,value:l,name:d}=t;return _objectSpread$H(_objectSpread$H({},e),{},{dataKey:n,payload:i,value:l,name:d})}function getTooltipNameProp(t,e){if(t)return String(t);if(typeof e=="string")return e}var calculateCartesianTooltipPos=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},calculatePolarTooltipPos=(t,e)=>e==="centric"?t.angle:t.radius,selectChartWidth=t=>t.layout.width,selectChartHeight=t=>t.layout.height,selectContainerScale=t=>t.layout.scale,selectMargin=t=>t.layout.margin,selectAllXAxes=createSelector(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),selectAllYAxes=createSelector(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),DATA_ITEM_INDEX_ATTRIBUTE_NAME="data-recharts-item-index",DATA_ITEM_DATAKEY_ATTRIBUTE_NAME="data-recharts-item-data-key",DEFAULT_Y_AXIS_WIDTH=60;function ownKeys$G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$G(Object(n),!0).forEach(function(i){_defineProperty$I(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$G(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$I(t,e,n){return(e=_toPropertyKey$I(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$I(t){var e=_toPrimitive$I(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$I(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var selectBrushHeight=t=>t.brush.height;function selectLeftAxesOffset(t){var e=selectAllYAxes(t);return e.reduce((n,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var l=typeof i.width=="number"?i.width:DEFAULT_Y_AXIS_WIDTH;return n+l}return n},0)}function selectRightAxesOffset(t){var e=selectAllYAxes(t);return e.reduce((n,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var l=typeof i.width=="number"?i.width:DEFAULT_Y_AXIS_WIDTH;return n+l}return n},0)}function selectTopAxesOffset(t){var e=selectAllXAxes(t);return e.reduce((n,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?n+i.height:n,0)}function selectBottomAxesOffset(t){var e=selectAllXAxes(t);return e.reduce((n,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?n+i.height:n,0)}var selectChartOffsetInternal=createSelector([selectChartWidth,selectChartHeight,selectMargin,selectBrushHeight,selectLeftAxesOffset,selectRightAxesOffset,selectTopAxesOffset,selectBottomAxesOffset,selectLegendSettings,selectLegendSize],(t,e,n,i,l,d,f,b,_,v)=>{var m={left:(n.left||0)+l,right:(n.right||0)+d},u={top:(n.top||0)+f,bottom:(n.bottom||0)+b},o=_objectSpread$G(_objectSpread$G({},u),m),h=o.bottom;o.bottom+=i,o=appendOffsetOfLegend(o,_,v);var w=t-o.left-o.right,E=e-o.top-o.bottom;return _objectSpread$G(_objectSpread$G({brushBottom:h},o),{},{width:Math.max(w,0),height:Math.max(E,0)})}),selectChartViewBox=createSelector(selectChartOffsetInternal,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),selectAxisViewBox=createSelector(selectChartWidth,selectChartHeight,(t,e)=>({x:0,y:0,width:t,height:e})),PanoramaContext=reactExports.createContext(null),useIsPanorama=()=>reactExports.useContext(PanoramaContext)!=null,selectBrushSettings=t=>t.brush,selectBrushDimensions=createSelector([selectBrushSettings,selectChartOffsetInternal,selectMargin],(t,e,n)=>({height:t.height,x:isNumber(t.x)?t.x:e.left,y:isNumber(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:isNumber(t.width)?t.width:e.width})),throttle$2={},debounce$1={},debounce={},hasRequiredDebounce$1;function requireDebounce$1(){return hasRequiredDebounce$1||(hasRequiredDebounce$1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i,{signal:l,edges:d}={}){let f,b=null;const _=d!=null&&d.includes("leading"),v=d==null||d.includes("trailing"),m=()=>{b!==null&&(n.apply(f,b),f=void 0,b=null)},u=()=>{v&&m(),E()};let o=null;const h=()=>{o!=null&&clearTimeout(o),o=setTimeout(()=>{o=null,u()},i)},w=()=>{o!==null&&(clearTimeout(o),o=null)},E=()=>{w(),f=void 0,b=null},T=()=>{m()},O=function(...M){if(l!=null&&l.aborted)return;f=this,b=M;const I=o==null;h(),_&&I&&m()};return O.schedule=h,O.cancel=E,O.flush=T,l==null||l.addEventListener("abort",E,{once:!0}),O}t.debounce=e})(debounce)),debounce}var hasRequiredDebounce;function requireDebounce(){return hasRequiredDebounce||(hasRequiredDebounce=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireDebounce$1();function n(i,l=0,d={}){typeof d!="object"&&(d={});const{leading:f=!1,trailing:b=!0,maxWait:_}=d,v=Array(2);f&&(v[0]="leading"),b&&(v[1]="trailing");let m,u=null;const o=e.debounce(function(...E){m=i.apply(this,E),u=null},l,{edges:v}),h=function(...E){return _!=null&&(u===null&&(u=Date.now()),Date.now()-u>=_)?(m=i.apply(this,E),u=Date.now(),o.cancel(),o.schedule(),m):(o.apply(this,E),m)},w=()=>(o.flush(),m);return h.cancel=o.cancel,h.flush=w,h}t.debounce=n})(debounce$1)),debounce$1}var hasRequiredThrottle$1;function requireThrottle$1(){return hasRequiredThrottle$1||(hasRequiredThrottle$1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireDebounce();function n(i,l=0,d={}){const{leading:f=!0,trailing:b=!0}=d;return e.debounce(i,l,{leading:f,maxWait:l,trailing:b})}t.throttle=n})(throttle$2)),throttle$2}var throttle$1,hasRequiredThrottle;function requireThrottle(){return hasRequiredThrottle||(hasRequiredThrottle=1,throttle$1=requireThrottle$1().throttle),throttle$1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports);var warn=function t(e,n){for(var i=arguments.length,l=new Array(i>2?i-2:0),d=2;d<i;d++)l[d-2]=arguments[d]},calculateChartDimensions=(t,e,n)=>{var{width:i="100%",height:l="100%",aspect:d,maxHeight:f}=n,b=isPercent(i)?t:Number(i),_=isPercent(l)?e:Number(l);return d&&d>0&&(b?_=b/d:_&&(b=_*d),f&&_!=null&&_>f&&(_=f)),{calculatedWidth:b,calculatedHeight:_}},bothOverflow={width:0,height:0,overflow:"visible"},overflowX={width:0,overflowX:"visible"},overflowY={height:0,overflowY:"visible"},noStyle={},getInnerDivStyle=t=>{var{width:e,height:n}=t,i=isPercent(e),l=isPercent(n);return i&&l?bothOverflow:i?overflowX:l?overflowY:noStyle};function getDefaultWidthAndHeight(t){var{width:e,height:n,aspect:i}=t,l=e,d=n;return l===void 0&&d===void 0?(l="100%",d="100%"):l===void 0?l=i&&i>0?void 0:"100%":d===void 0&&(d=i&&i>0?void 0:"100%"),{width:l,height:d}}function isWellBehavedNumber(t){return Number.isFinite(t)}function isPositiveNumber(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function _extends$v(){return _extends$v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$v.apply(null,arguments)}function ownKeys$F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$F(Object(n),!0).forEach(function(i){_defineProperty$H(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$F(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$H(t,e,n){return(e=_toPropertyKey$H(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$H(t){var e=_toPrimitive$H(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$H(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ResponsiveContainerContext=reactExports.createContext({width:-1,height:-1});function isAcceptableSize(t){return isPositiveNumber(t.width)&&isPositiveNumber(t.height)}function ResponsiveContainerContextProvider(t){var{children:e,width:n,height:i}=t,l=reactExports.useMemo(()=>({width:n,height:i}),[n,i]);return isAcceptableSize(l)?reactExports.createElement(ResponsiveContainerContext.Provider,{value:l},e):null}var useResponsiveContainerContext=()=>reactExports.useContext(ResponsiveContainerContext),SizeDetectorContainer=reactExports.forwardRef((t,e)=>{var{aspect:n,initialDimension:i={width:-1,height:-1},width:l,height:d,minWidth:f=0,minHeight:b,maxHeight:_,children:v,debounce:m=0,id:u,className:o,onResize:h,style:w={}}=t,E=reactExports.useRef(null),T=reactExports.useRef();T.current=h,reactExports.useImperativeHandle(e,()=>E.current);var[O,M]=reactExports.useState({containerWidth:i.width,containerHeight:i.height}),I=reactExports.useCallback((B,$)=>{M(V=>{var G=Math.round(B),X=Math.round($);return V.containerWidth===G&&V.containerHeight===X?V:{containerWidth:G,containerHeight:X}})},[]);reactExports.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return noop$2;var B=X=>{var ee,{width:Q,height:Y}=X[0].contentRect;I(Q,Y),(ee=T.current)===null||ee===void 0||ee.call(T,Q,Y)};m>0&&(B=throttle(B,m,{trailing:!0,leading:!1}));var $=new ResizeObserver(B),{width:V,height:G}=E.current.getBoundingClientRect();return I(V,G),$.observe(E.current),()=>{$.disconnect()}},[I,m]);var{containerWidth:R,containerHeight:D}=O;warn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:L}=calculateChartDimensions(R,D,{width:l,height:d,aspect:n,maxHeight:_});return warn(N!=null&&N>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,L,l,d,f,b,n),reactExports.createElement("div",{id:u?"".concat(u):void 0,className:clsx("recharts-responsive-container",o),style:_objectSpread$F(_objectSpread$F({},w),{},{width:l,height:d,minWidth:f,minHeight:b,maxHeight:_}),ref:E},reactExports.createElement("div",{style:getInnerDivStyle({width:l,height:d})},reactExports.createElement(ResponsiveContainerContextProvider,{width:N,height:L},v)))}),ResponsiveContainer=reactExports.forwardRef((t,e)=>{var n=useResponsiveContainerContext();if(isPositiveNumber(n.width)&&isPositiveNumber(n.height))return t.children;var{width:i,height:l}=getDefaultWidthAndHeight({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:d,calculatedHeight:f}=calculateChartDimensions(void 0,void 0,{width:i,height:l,aspect:t.aspect,maxHeight:t.maxHeight});return isNumber(d)&&isNumber(f)?reactExports.createElement(ResponsiveContainerContextProvider,{width:d,height:f},t.children):reactExports.createElement(SizeDetectorContainer,_extends$v({},t,{width:i,height:l,ref:e}))});function cartesianViewBoxToTrapezoid(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var useViewBox=()=>{var t,e=useIsPanorama(),n=useAppSelector(selectChartViewBox),i=useAppSelector(selectBrushDimensions),l=(t=useAppSelector(selectBrushSettings))===null||t===void 0?void 0:t.padding;return!e||!i||!l?n:{width:i.width-l.left-l.right,height:i.height-l.top-l.bottom,x:l.left,y:l.top}},manyComponentsThrowErrorsIfOffsetIsUndefined={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},useOffsetInternal=()=>{var t;return(t=useAppSelector(selectChartOffsetInternal))!==null&&t!==void 0?t:manyComponentsThrowErrorsIfOffsetIsUndefined},useChartWidth=()=>useAppSelector(selectChartWidth),useChartHeight=()=>useAppSelector(selectChartHeight),useMargin=()=>useAppSelector(t=>t.layout.margin),selectChartLayout=t=>t.layout.layoutType,useChartLayout=()=>useAppSelector(selectChartLayout),useIsInChartContext=()=>{var t=useChartLayout();return t!==void 0},ReportChartSize=t=>{var e=useAppDispatch(),n=useIsPanorama(),{width:i,height:l}=t,d=useResponsiveContainerContext(),f=i,b=l;return d&&(f=d.width>0?d.width:i,b=d.height>0?d.height:l),reactExports.useEffect(()=>{!n&&isPositiveNumber(f)&&isPositiveNumber(b)&&e(setChartSize({width:f,height:b}))},[e,n,f,b]),null},initialState$a={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},legendSlice=createSlice({name:"legend",initialState:initialState$a,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:prepareAutoBatched()},removeLegendPayload:{reducer(t,e){var n=current(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:prepareAutoBatched()}}}),{setLegendSize,setLegendSettings,addLegendPayload,removeLegendPayload}=legendSlice.actions,legendReducer=legendSlice.reducer,_excluded$q=["contextPayload"];function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$u.apply(null,arguments)}function ownKeys$E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$E(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$E(Object(n),!0).forEach(function(i){_defineProperty$G(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$E(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$G(t,e,n){return(e=_toPropertyKey$G(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$G(t){var e=_toPrimitive$G(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$G(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$q(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$q(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$q(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function defaultUniqBy$1(t){return t.value}function LegendContent(t){var{contextPayload:e}=t,n=_objectWithoutProperties$q(t,_excluded$q),i=getUniqPayload(e,t.payloadUniqBy,defaultUniqBy$1),l=_objectSpread$E(_objectSpread$E({},n),{},{payload:i});return reactExports.isValidElement(t.content)?reactExports.cloneElement(t.content,l):typeof t.content=="function"?reactExports.createElement(t.content,l):reactExports.createElement(DefaultLegendContent,l)}function getDefaultPosition(t,e,n,i,l,d){var{layout:f,align:b,verticalAlign:_}=e,v,m;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(b==="center"&&f==="vertical"?v={left:((i||0)-d.width)/2}:v=b==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(_==="middle"?m={top:((l||0)-d.height)/2}:m=_==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),_objectSpread$E(_objectSpread$E({},v),m)}function LegendSettingsDispatcher(t){var e=useAppDispatch();return reactExports.useEffect(()=>{e(setLegendSettings(t))},[e,t]),null}function LegendSizeDispatcher(t){var e=useAppDispatch();return reactExports.useEffect(()=>(e(setLegendSize(t)),()=>{e(setLegendSize({width:0,height:0}))}),[e,t]),null}function getWidthOrHeight(t,e,n,i){return t==="vertical"&&isNumber(e)?{height:e}:t==="horizontal"?{width:n||i}:null}var legendDefaultProps={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Legend(t){var e=resolveDefaultProps(t,legendDefaultProps),n=useLegendPayload(),i=useLegendPortal(),l=useMargin(),{width:d,height:f,wrapperStyle:b,portal:_}=e,[v,m]=useElementOffset([n]),u=useChartWidth(),o=useChartHeight();if(u==null||o==null)return null;var h=u-((l==null?void 0:l.left)||0)-((l==null?void 0:l.right)||0),w=getWidthOrHeight(e.layout,f,d,h),E=_?b:_objectSpread$E(_objectSpread$E({position:"absolute",width:(w==null?void 0:w.width)||d||"auto",height:(w==null?void 0:w.height)||f||"auto"},getDefaultPosition(b,e,l,u,o,v)),b),T=_??i;if(T==null||n==null)return null;var O=reactExports.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:m},reactExports.createElement(LegendSettingsDispatcher,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),reactExports.createElement(LegendSizeDispatcher,{width:v.width,height:v.height}),reactExports.createElement(LegendContent,_extends$u({},e,w,{margin:l,chartWidth:u,chartHeight:o,contextPayload:n})));return reactDomExports.createPortal(O,T)}Legend.displayName="Legend";function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$t.apply(null,arguments)}function ownKeys$D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$D(Object(n),!0).forEach(function(i){_defineProperty$F(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$D(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$F(t,e,n){return(e=_toPropertyKey$F(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$F(t){var e=_toPrimitive$F(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$F(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function defaultFormatter(t){return Array.isArray(t)&&isNumOrStr(t[0])&&isNumOrStr(t[1])?t.join(" ~ "):t}var DefaultTooltipContent=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:i={},labelStyle:l={},payload:d,formatter:f,itemSorter:b,wrapperClassName:_,labelClassName:v,label:m,labelFormatter:u,accessibilityLayer:o=!1}=t,h=()=>{if(d&&d.length){var D={padding:0,margin:0},N=(b?sortBy(d,b):d).map((L,B)=>{if(L.type==="none")return null;var $=L.formatter||f||defaultFormatter,{value:V,name:G}=L,X=V,ee=G;if($){var Q=$(V,G,L,B,d);if(Array.isArray(Q))[X,ee]=Q;else if(Q!=null)X=Q;else return null}var Y=_objectSpread$D({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},i);return reactExports.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:Y},isNumOrStr(ee)?reactExports.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,isNumOrStr(ee)?reactExports.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,reactExports.createElement("span",{className:"recharts-tooltip-item-value"},X),reactExports.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return reactExports.createElement("ul",{className:"recharts-tooltip-item-list",style:D},N)}return null},w=_objectSpread$D({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=_objectSpread$D({margin:0},l),T=!isNullish(m),O=T?m:"",M=clsx("recharts-default-tooltip",_),I=clsx("recharts-tooltip-label",v);T&&u&&d!==void 0&&d!==null&&(O=u(m,d));var R=o?{role:"status","aria-live":"assertive"}:{};return reactExports.createElement("div",_extends$t({className:M,style:w},R),reactExports.createElement("p",{className:I,style:E},reactExports.isValidElement(O)?O:"".concat(O)),h())},CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(t){var{coordinate:e,translateX:n,translateY:i}=t;return clsx(CSS_CLASS_PREFIX,{["".concat(CSS_CLASS_PREFIX,"-right")]:isNumber(n)&&e&&isNumber(e.x)&&n>=e.x,["".concat(CSS_CLASS_PREFIX,"-left")]:isNumber(n)&&e&&isNumber(e.x)&&n<e.x,["".concat(CSS_CLASS_PREFIX,"-bottom")]:isNumber(i)&&e&&isNumber(e.y)&&i>=e.y,["".concat(CSS_CLASS_PREFIX,"-top")]:isNumber(i)&&e&&isNumber(e.y)&&i<e.y})}function getTooltipTranslateXY(t){var{allowEscapeViewBox:e,coordinate:n,key:i,offsetTopLeft:l,position:d,reverseDirection:f,tooltipDimension:b,viewBox:_,viewBoxDimension:v}=t;if(d&&isNumber(d[i]))return d[i];var m=n[i]-b-(l>0?l:0),u=n[i]+l;if(e[i])return f[i]?m:u;var o=_[i];if(o==null)return 0;if(f[i]){var h=m,w=o;return h<w?Math.max(u,o):Math.max(m,o)}if(v==null)return 0;var E=u+b,T=o+v;return E>T?Math.max(m,o):Math.max(u,o)}function getTransformStyle(t){var{translateX:e,translateY:n,useTranslate3d:i}=t;return{transform:i?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function getTooltipTranslate(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:i,position:l,reverseDirection:d,tooltipBox:f,useTranslate3d:b,viewBox:_}=t,v,m,u;return f.height>0&&f.width>0&&n?(m=getTooltipTranslateXY({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:i,position:l,reverseDirection:d,tooltipDimension:f.width,viewBox:_,viewBoxDimension:_.width}),u=getTooltipTranslateXY({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:i,position:l,reverseDirection:d,tooltipDimension:f.height,viewBox:_,viewBoxDimension:_.height}),v=getTransformStyle({translateX:m,translateY:u,useTranslate3d:b})):v=TOOLTIP_HIDDEN,{cssProperties:v,cssClasses:getTooltipCSSClassName({translateX:m,translateY:u,coordinate:n})}}function ownKeys$C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$C(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$C(Object(n),!0).forEach(function(i){_defineProperty$E(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$C(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$E(t,e,n){return(e=_toPropertyKey$E(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$E(t){var e=_toPrimitive$E(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$E(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class TooltipBoundingBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$E(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_defineProperty$E(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,i,l,d;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0,y:(l=(d=this.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&l!==void 0?l:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:i,animationEasing:l,children:d,coordinate:f,hasPayload:b,isAnimationActive:_,offset:v,position:m,reverseDirection:u,useTranslate3d:o,viewBox:h,wrapperStyle:w,lastBoundingBox:E,innerRef:T,hasPortalFromProps:O}=this.props,{cssClasses:M,cssProperties:I}=getTooltipTranslate({allowEscapeViewBox:n,coordinate:f,offsetTopLeft:v,position:m,reverseDirection:u,tooltipBox:{height:E.height,width:E.width},useTranslate3d:o,viewBox:h}),R=O?{}:_objectSpread$C(_objectSpread$C({transition:_&&e?"transform ".concat(i,"ms ").concat(l):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&b?"visible":"hidden",position:"absolute",top:0,left:0}),D=_objectSpread$C(_objectSpread$C({},R),{},{visibility:!this.state.dismissed&&e&&b?"visible":"hidden"},w);return reactExports.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:D,ref:T},d)}}var parseIsSsrByDefault=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Global={devToolsEnabled:!1,isSsr:parseIsSsrByDefault()},useAccessibilityLayer=()=>{var t;return(t=useAppSelector(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$s.apply(null,arguments)}function ownKeys$B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$B(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$B(Object(n),!0).forEach(function(i){_defineProperty$D(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$B(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$D(t,e,n){return(e=_toPropertyKey$D(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$D(t){var e=_toPrimitive$D(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$D(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=t=>isWellBehavedNumber(t.x)&&isWellBehavedNumber(t.y),areaDefined=t=>t.base!=null&&defined(t.base)&&defined(t),getX=t=>t.x,getY=t=>t.y,getCurveFactory=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(upperFirst(t));return(n==="curveMonotone"||n==="curveBump")&&e?CURVE_FACTORIES["".concat(n).concat(e==="vertical"?"Y":"X")]:CURVE_FACTORIES[n]||curveLinear},getPath$1=t=>{var{type:e="linear",points:n=[],baseLine:i,layout:l,connectNulls:d=!1}=t,f=getCurveFactory(e,l),b=d?n.filter(defined):n,_;if(Array.isArray(i)){var v=n.map((h,w)=>_objectSpread$B(_objectSpread$B({},h),{},{base:i[w]}));l==="vertical"?_=shapeArea().y(getY).x1(getX).x0(h=>h.base.x):_=shapeArea().x(getX).y1(getY).y0(h=>h.base.y);var m=_.defined(areaDefined).curve(f),u=d?v.filter(areaDefined):v;return m(u)}l==="vertical"&&isNumber(i)?_=shapeArea().y(getY).x1(getX).x0(i):isNumber(i)?_=shapeArea().x(getX).y1(getY).y0(i):_=shapeLine().x(getX).y(getY);var o=_.defined(defined).curve(f);return o(b)},Curve=t=>{var{className:e,points:n,path:i,pathRef:l}=t;if((!n||!n.length)&&!i)return null;var d=n&&n.length?getPath$1(t):i;return reactExports.createElement("path",_extends$s({},svgPropertiesNoEvents(t),adaptEventHandlers(t),{className:clsx("recharts-curve",e),d:d===null?void 0:d,ref:l}))},_excluded$p=["x","y","top","left","width","height","className"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$r.apply(null,arguments)}function ownKeys$A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$A(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$A(Object(n),!0).forEach(function(i){_defineProperty$C(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$A(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$C(t,e,n){return(e=_toPropertyKey$C(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$C(t){var e=_toPrimitive$C(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$C(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$p(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$p(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$p(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var getPath=(t,e,n,i,l,d)=>"M".concat(t,",").concat(l,"v").concat(i,"M").concat(d,",").concat(e,"h").concat(n),Cross=t=>{var{x:e=0,y:n=0,top:i=0,left:l=0,width:d=0,height:f=0,className:b}=t,_=_objectWithoutProperties$p(t,_excluded$p),v=_objectSpread$A({x:e,y:n,top:i,left:l,width:d,height:f},_);return!isNumber(e)||!isNumber(n)||!isNumber(d)||!isNumber(f)||!isNumber(i)||!isNumber(l)?null:reactExports.createElement("path",_extends$r({},svgPropertiesAndEvents(v),{className:clsx("recharts-cross",b),d:getPath(e,n,d,f,i,l)}))};function getCursorRectangle(t,e,n,i){var l=i/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-l:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-l,width:t==="horizontal"?i:n.width-1,height:t==="horizontal"?n.height-1:i}}function ownKeys$z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$z(Object(n),!0).forEach(function(i){_defineProperty$B(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$z(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$B(t,e,n){return(e=_toPropertyKey$B(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$B(t){var e=_toPrimitive$B(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$B(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getDashCase=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),getTransitionVal=(t,e,n)=>t.map(i=>"".concat(getDashCase(i)," ").concat(e,"ms ").concat(n)).join(","),getIntersectionKeys=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,i)=>n.filter(l=>i.includes(l))),mapObject=(t,e)=>Object.keys(e).reduce((n,i)=>_objectSpread$z(_objectSpread$z({},n),{},{[i]:t(i,e[i])}),{});function ownKeys$y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$y(Object(n),!0).forEach(function(i){_defineProperty$A(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$y(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$A(t,e,n){return(e=_toPropertyKey$A(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$A(t){var e=_toPrimitive$A(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$A(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var alpha=(t,e,n)=>t+(e-t)*n,needContinue=t=>{var{from:e,to:n}=t;return e!==n},calStepperVals=(t,e,n)=>{var i=mapObject((l,d)=>{if(needContinue(d)){var[f,b]=t(d.from,d.to,d.velocity);return _objectSpread$y(_objectSpread$y({},d),{},{from:f,velocity:b})}return d},e);return n<1?mapObject((l,d)=>needContinue(d)?_objectSpread$y(_objectSpread$y({},d),{},{velocity:alpha(d.velocity,i[l].velocity,n),from:alpha(d.from,i[l].from,n)}):d,e):calStepperVals(t,i,n-1)};function createStepperUpdate(t,e,n,i,l,d){var f,b=i.reduce((o,h)=>_objectSpread$y(_objectSpread$y({},o),{},{[h]:{from:t[h],velocity:0,to:e[h]}}),{}),_=()=>mapObject((o,h)=>h.from,b),v=()=>!Object.values(b).filter(needContinue).length,m=null,u=o=>{f||(f=o);var h=o-f,w=h/n.dt;b=calStepperVals(n,b,w),l(_objectSpread$y(_objectSpread$y(_objectSpread$y({},t),e),_())),f=o,v()||(m=d.setTimeout(u))};return()=>(m=d.setTimeout(u),()=>{var o;(o=m)===null||o===void 0||o()})}function createTimingUpdate(t,e,n,i,l,d,f){var b=null,_=l.reduce((u,o)=>_objectSpread$y(_objectSpread$y({},u),{},{[o]:[t[o],e[o]]}),{}),v,m=u=>{v||(v=u);var o=(u-v)/i,h=mapObject((E,T)=>alpha(...T,n(o)),_);if(d(_objectSpread$y(_objectSpread$y(_objectSpread$y({},t),e),h)),o<1)b=f.setTimeout(m);else{var w=mapObject((E,T)=>alpha(...T,n(1)),_);d(_objectSpread$y(_objectSpread$y(_objectSpread$y({},t),e),w))}};return()=>(b=f.setTimeout(m),()=>{var u;(u=b)===null||u===void 0||u()})}const configUpdate=(t,e,n,i,l,d)=>{var f=getIntersectionKeys(t,e);return n==null?()=>(l(_objectSpread$y(_objectSpread$y({},t),e)),()=>{}):n.isStepper===!0?createStepperUpdate(t,e,n,f,l,d):createTimingUpdate(t,e,n,i,f,l,d)};var ACCURACY=1e-4,cubicBezierFactor=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],evaluatePolynomial=(t,e)=>t.map((n,i)=>n*e**i).reduce((n,i)=>n+i),cubicBezier=(t,e)=>n=>{var i=cubicBezierFactor(t,e);return evaluatePolynomial(i,n)},derivativeCubicBezier=(t,e)=>n=>{var i=cubicBezierFactor(t,e),l=[...i.map((d,f)=>d*f).slice(1),0];return evaluatePolynomial(l,n)},getBezierCoordinates=function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var l,d=n[0].split("(");if(d[0]==="cubic-bezier"&&((l=d[1])===null||l===void 0?void 0:l.split(")")[0].split(",").length)===4){var f=d[1].split(")")[0].split(",").map(b=>parseFloat(b));return[f[0],f[1],f[2],f[3]]}}}return n.length===4?n:[0,0,1,1]},createBezierEasing=(t,e,n,i)=>{var l=cubicBezier(t,n),d=cubicBezier(e,i),f=derivativeCubicBezier(t,n),b=v=>v>1?1:v<0?0:v,_=v=>{for(var m=v>1?1:v,u=m,o=0;o<8;++o){var h=l(u)-m,w=f(u);if(Math.abs(h-m)<ACCURACY||w<ACCURACY)return d(u);u=b(u-h/w)}return d(u)};return _.isStepper=!1,_},configBezier=function t(){return createBezierEasing(...getBezierCoordinates(...arguments))},configSpring=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:l=17}=e,d=(f,b,_)=>{var v=-(f-b)*n,m=_*i,u=_+(v-m)*l/1e3,o=_*l/1e3+f;return Math.abs(o-b)<ACCURACY&&Math.abs(u)<ACCURACY?[b,0]:[o,u]};return d.isStepper=!0,d.dt=l,d},configEasing=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(t);case"spring":return configSpring();default:if(t.split("(")[0]==="cubic-bezier")return configBezier(t)}return typeof t=="function"?t:null};function createAnimateManager(t){var e,n=()=>null,i=!1,l=null,d=f=>{if(!i){if(Array.isArray(f)){if(!f.length)return;var b=f,[_,...v]=b;if(typeof _=="number"){l=t.setTimeout(d.bind(null,v),_);return}d(_),l=t.setTimeout(d.bind(null,v));return}typeof f=="string"&&(e=f,n(e)),typeof f=="object"&&(e=f,n(e)),typeof f=="function"&&f()}};return{stop:()=>{i=!0},start:f=>{i=!1,l&&(l(),l=null),d(f)},subscribe:f=>(n=f,()=>{n=()=>null}),getTimeoutController:()=>t}}class RequestAnimationFrameTimeoutController{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),l=null,d=f=>{f-i>=n?e(f):typeof requestAnimationFrame=="function"&&(l=requestAnimationFrame(d))};return l=requestAnimationFrame(d),()=>{l!=null&&cancelAnimationFrame(l)}}}function createDefaultAnimationManager(){return createAnimateManager(new RequestAnimationFrameTimeoutController)}var AnimationManagerContext=reactExports.createContext(createDefaultAnimationManager);function useAnimationManager(t,e){var n=reactExports.useContext(AnimationManagerContext);return reactExports.useMemo(()=>e??n(t),[t,e,n])}var defaultJavascriptAnimateProps={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},from={t:0},to={t:1};function JavascriptAnimate(t){var e=resolveDefaultProps(t,defaultJavascriptAnimateProps),{isActive:n,canBegin:i,duration:l,easing:d,begin:f,onAnimationEnd:b,onAnimationStart:_,children:v}=e,m=useAnimationManager(e.animationId,e.animationManager),[u,o]=reactExports.useState(n?from:to),h=reactExports.useRef(null);return reactExports.useEffect(()=>{n||o(to)},[n]),reactExports.useEffect(()=>{if(!n||!i)return noop$2;var w=configUpdate(from,to,configEasing(d),l,o,m.getTimeoutController()),E=()=>{h.current=w()};return m.start([_,f,E,l,b]),()=>{m.stop(),h.current&&h.current(),b()}},[n,i,l,d,f,_,b,m]),v(u.t)}function useAnimationId(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=reactExports.useRef(uniqueId(e)),i=reactExports.useRef(t);return i.current!==t&&(n.current=uniqueId(e),i.current=t),n.current}var _excluded$o=["radius"],_excluded2$b=["radius"];function ownKeys$x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$x(Object(n),!0).forEach(function(i){_defineProperty$z(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$x(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$z(t,e,n){return(e=_toPropertyKey$z(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$z(t){var e=_toPrimitive$z(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$z(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$q.apply(null,arguments)}function _objectWithoutProperties$o(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$o(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$o(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var getRectanglePath=(t,e,n,i,l)=>{var d=Math.min(Math.abs(n)/2,Math.abs(i)/2),f=i>=0?1:-1,b=n>=0?1:-1,_=i>=0&&n>=0||i<0&&n<0?1:0,v;if(d>0&&l instanceof Array){for(var m=[0,0,0,0],u=0,o=4;u<o;u++)m[u]=l[u]>d?d:l[u];v="M".concat(t,",").concat(e+f*m[0]),m[0]>0&&(v+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(_,",").concat(t+b*m[0],",").concat(e)),v+="L ".concat(t+n-b*m[1],",").concat(e),m[1]>0&&(v+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(_,`,
        `).concat(t+n,",").concat(e+f*m[1])),v+="L ".concat(t+n,",").concat(e+i-f*m[2]),m[2]>0&&(v+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(_,`,
        `).concat(t+n-b*m[2],",").concat(e+i)),v+="L ".concat(t+b*m[3],",").concat(e+i),m[3]>0&&(v+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(_,`,
        `).concat(t,",").concat(e+i-f*m[3])),v+="Z"}else if(d>0&&l===+l&&l>0){var h=Math.min(d,l);v="M ".concat(t,",").concat(e+f*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(_,",").concat(t+b*h,",").concat(e,`
            L `).concat(t+n-b*h,",").concat(e,`
            A `).concat(h,",").concat(h,",0,0,").concat(_,",").concat(t+n,",").concat(e+f*h,`
            L `).concat(t+n,",").concat(e+i-f*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(_,",").concat(t+n-b*h,",").concat(e+i,`
            L `).concat(t+b*h,",").concat(e+i,`
            A `).concat(h,",").concat(h,",0,0,").concat(_,",").concat(t,",").concat(e+i-f*h," Z")}else v="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return v},defaultProps$6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=t=>{var e=resolveDefaultProps(t,defaultProps$6),n=reactExports.useRef(null),[i,l]=reactExports.useState(-1);reactExports.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var q=n.current.getTotalLength();q&&l(q)}catch{}},[]);var{x:d,y:f,width:b,height:_,radius:v,className:m}=e,{animationEasing:u,animationDuration:o,animationBegin:h,isAnimationActive:w,isUpdateAnimationActive:E}=e,T=reactExports.useRef(b),O=reactExports.useRef(_),M=reactExports.useRef(d),I=reactExports.useRef(f),R=reactExports.useMemo(()=>({x:d,y:f,width:b,height:_,radius:v}),[d,f,b,_,v]),D=useAnimationId(R,"rectangle-");if(d!==+d||f!==+f||b!==+b||_!==+_||b===0||_===0)return null;var N=clsx("recharts-rectangle",m);if(!E){var L=svgPropertiesAndEvents(e),{radius:B}=L,$=_objectWithoutProperties$o(L,_excluded$o);return reactExports.createElement("path",_extends$q({},$,{radius:typeof v=="number"?v:void 0,className:N,d:getRectanglePath(d,f,b,_,v)}))}var V=T.current,G=O.current,X=M.current,ee=I.current,Q="0px ".concat(i===-1?1:i,"px"),Y="".concat(i,"px 0px"),U=getTransitionVal(["strokeDasharray"],o,typeof u=="string"?u:defaultProps$6.animationEasing);return reactExports.createElement(JavascriptAnimate,{animationId:D,key:D,canBegin:i>0,duration:o,easing:u,isActive:E,begin:h},q=>{var le=interpolate$1(V,b,q),ie=interpolate$1(G,_,q),Ee=interpolate$1(X,d,q),Z=interpolate$1(ee,f,q);n.current&&(T.current=le,O.current=ie,M.current=Ee,I.current=Z);var ue;w?q>0?ue={transition:U,strokeDasharray:Y}:ue={strokeDasharray:Q}:ue={strokeDasharray:Y};var Ae=svgPropertiesAndEvents(e),{radius:Ce}=Ae,ke=_objectWithoutProperties$o(Ae,_excluded2$b);return reactExports.createElement("path",_extends$q({},ke,{radius:typeof v=="number"?v:void 0,className:N,d:getRectanglePath(Ee,Z,le,ie,v),ref:n,style:_objectSpread$x(_objectSpread$x({},ue),e.style)}))})};function ownKeys$w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$w(Object(n),!0).forEach(function(i){_defineProperty$y(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$w(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$y(t,e,n){return(e=_toPropertyKey$y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$y(t){var e=_toPrimitive$y(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$y(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RADIAN=Math.PI/180,degreeToRadian=t=>t*Math.PI/180,radianToDegree=t=>t*180/Math.PI,polarToCartesian=(t,e,n,i)=>({x:t+Math.cos(-RADIAN*i)*n,y:e+Math.sin(-RADIAN*i)*n}),getMaxRadius=function t(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},distanceBetweenPoints=(t,e)=>{var{x:n,y:i}=t,{x:l,y:d}=e;return Math.sqrt((n-l)**2+(i-d)**2)},getAngleOfPoint=(t,e)=>{var{x:n,y:i}=t,{cx:l,cy:d}=e,f=distanceBetweenPoints({x:n,y:i},{x:l,y:d});if(f<=0)return{radius:f,angle:0};var b=(n-l)/f,_=Math.acos(b);return i>d&&(_=2*Math.PI-_),{radius:f,angle:radianToDegree(_),angleInRadian:_}},formatAngleOfSector=t=>{var{startAngle:e,endAngle:n}=t,i=Math.floor(e/360),l=Math.floor(n/360),d=Math.min(i,l);return{startAngle:e-d*360,endAngle:n-d*360}},reverseFormatAngleOfSector=(t,e)=>{var{startAngle:n,endAngle:i}=e,l=Math.floor(n/360),d=Math.floor(i/360),f=Math.min(l,d);return t+f*360},inRangeOfSector=(t,e)=>{var{chartX:n,chartY:i}=t,{radius:l,angle:d}=getAngleOfPoint({x:n,y:i},e),{innerRadius:f,outerRadius:b}=e;if(l<f||l>b||l===0)return null;var{startAngle:_,endAngle:v}=formatAngleOfSector(e),m=d,u;if(_<=v){for(;m>v;)m-=360;for(;m<_;)m+=360;u=m>=_&&m<=v}else{for(;m>_;)m-=360;for(;m<v;)m+=360;u=m>=v&&m<=_}return u?_objectSpread$w(_objectSpread$w({},e),{},{radius:l,angle:reverseFormatAngleOfSector(m,e)}):null},getTickClassName=t=>!reactExports.isValidElement(t)&&typeof t!="function"&&typeof t!="boolean"&&t!=null?t.className:"";function getRadialCursorPoints(t){var{cx:e,cy:n,radius:i,startAngle:l,endAngle:d}=t,f=polarToCartesian(e,n,i,l),b=polarToCartesian(e,n,i,d);return{points:[f,b],cx:e,cy:n,radius:i,startAngle:l,endAngle:d}}function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$p.apply(null,arguments)}var getDeltaAngle$1=(t,e)=>{var n=mathSign(e-t),i=Math.min(Math.abs(e-t),359.999);return n*i},getTangentCircle=t=>{var{cx:e,cy:n,radius:i,angle:l,sign:d,isExternal:f,cornerRadius:b,cornerIsExternal:_}=t,v=b*(f?1:-1)+i,m=Math.asin(b/v)/RADIAN,u=_?l:l+d*m,o=polarToCartesian(e,n,v,u),h=polarToCartesian(e,n,i,u),w=_?l-d*m:l,E=polarToCartesian(e,n,v*Math.cos(m*RADIAN),w);return{center:o,circleTangency:h,lineTangency:E,theta:m}},getSectorPath=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:l,startAngle:d,endAngle:f}=t,b=getDeltaAngle$1(d,f),_=d+b,v=polarToCartesian(e,n,l,d),m=polarToCartesian(e,n,l,_),u="M ".concat(v.x,",").concat(v.y,`
    A `).concat(l,",").concat(l,`,0,
    `).concat(+(Math.abs(b)>180),",").concat(+(d>_),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var o=polarToCartesian(e,n,i,d),h=polarToCartesian(e,n,i,_);u+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(b)>180),",").concat(+(d<=_),`,
            `).concat(o.x,",").concat(o.y," Z")}else u+="L ".concat(e,",").concat(n," Z");return u},getSectorWithCorner=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:l,cornerRadius:d,forceCornerRadius:f,cornerIsExternal:b,startAngle:_,endAngle:v}=t,m=mathSign(v-_),{circleTangency:u,lineTangency:o,theta:h}=getTangentCircle({cx:e,cy:n,radius:l,angle:_,sign:m,cornerRadius:d,cornerIsExternal:b}),{circleTangency:w,lineTangency:E,theta:T}=getTangentCircle({cx:e,cy:n,radius:l,angle:v,sign:-m,cornerRadius:d,cornerIsExternal:b}),O=b?Math.abs(_-v):Math.abs(_-v)-h-T;if(O<0)return f?"M ".concat(o.x,",").concat(o.y,`
        a`).concat(d,",").concat(d,",0,0,1,").concat(d*2,`,0
        a`).concat(d,",").concat(d,",0,0,1,").concat(-d*2,`,0
      `):getSectorPath({cx:e,cy:n,innerRadius:i,outerRadius:l,startAngle:_,endAngle:v});var M="M ".concat(o.x,",").concat(o.y,`
    A`).concat(d,",").concat(d,",0,0,").concat(+(m<0),",").concat(u.x,",").concat(u.y,`
    A`).concat(l,",").concat(l,",0,").concat(+(O>180),",").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(d,",").concat(d,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var{circleTangency:I,lineTangency:R,theta:D}=getTangentCircle({cx:e,cy:n,radius:i,angle:_,sign:m,isExternal:!0,cornerRadius:d,cornerIsExternal:b}),{circleTangency:N,lineTangency:L,theta:B}=getTangentCircle({cx:e,cy:n,radius:i,angle:v,sign:-m,isExternal:!0,cornerRadius:d,cornerIsExternal:b}),$=b?Math.abs(_-v):Math.abs(_-v)-D-B;if($<0&&d===0)return"".concat(M,"L").concat(e,",").concat(n,"Z");M+="L".concat(L.x,",").concat(L.y,`
      A`).concat(d,",").concat(d,",0,0,").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(m>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(d,",").concat(d,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,"Z")}else M+="L".concat(e,",").concat(n,"Z");return M},defaultProps$5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=t=>{var e=resolveDefaultProps(t,defaultProps$5),{cx:n,cy:i,innerRadius:l,outerRadius:d,cornerRadius:f,forceCornerRadius:b,cornerIsExternal:_,startAngle:v,endAngle:m,className:u}=e;if(d<l||v===m)return null;var o=clsx("recharts-sector",u),h=d-l,w=getPercentValue(f,h,0,!0),E;return w>0&&Math.abs(v-m)<360?E=getSectorWithCorner({cx:n,cy:i,innerRadius:l,outerRadius:d,cornerRadius:Math.min(w,h/2),forceCornerRadius:b,cornerIsExternal:_,startAngle:v,endAngle:m}):E=getSectorPath({cx:n,cy:i,innerRadius:l,outerRadius:d,startAngle:v,endAngle:m}),reactExports.createElement("path",_extends$p({},svgPropertiesAndEvents(e),{className:o,d:E}))};function getCursorPoints(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(isPolarCoordinate(e)){if(t==="centric"){var{cx:i,cy:l,innerRadius:d,outerRadius:f,angle:b}=e,_=polarToCartesian(i,l,d,b),v=polarToCartesian(i,l,f,b);return[{x:_.x,y:_.y},{x:v.x,y:v.y}]}return getRadialCursorPoints(e)}}var range$4={},toFinite={},toNumber={},hasRequiredToNumber;function requireToNumber(){return hasRequiredToNumber||(hasRequiredToNumber=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireIsSymbol();function n(i){return e.isSymbol(i)?NaN:Number(i)}t.toNumber=n})(toNumber)),toNumber}var hasRequiredToFinite;function requireToFinite(){return hasRequiredToFinite||(hasRequiredToFinite=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireToNumber();function n(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}t.toFinite=n})(toFinite)),toFinite}var hasRequiredRange$1;function requireRange$1(){return hasRequiredRange$1||(hasRequiredRange$1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireIsIterateeCall(),n=requireToFinite();function i(l,d,f){f&&typeof f!="number"&&e.isIterateeCall(l,d,f)&&(d=f=void 0),l=n.toFinite(l),d===void 0?(d=l,l=0):d=n.toFinite(d),f=f===void 0?l<d?1:-1:n.toFinite(f);const b=Math.max(Math.ceil((d-l)/(f||1)),0),_=new Array(b);for(let v=0;v<b;v++)_[v]=l,l+=f;return _}t.range=i})(range$4)),range$4}var range$3,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range$3=requireRange$1().range),range$3}var rangeExports=requireRange();const range$2=getDefaultExportFromCjs(rangeExports);function ascending(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function descending(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bisector(t){let e,n,i;t.length!==2?(e=ascending,n=(b,_)=>ascending(t(b),_),i=(b,_)=>t(b)-_):(e=t===ascending||t===descending?t:zero$1,n=t,i=t);function l(b,_,v=0,m=b.length){if(v<m){if(e(_,_)!==0)return m;do{const u=v+m>>>1;n(b[u],_)<0?v=u+1:m=u}while(v<m)}return v}function d(b,_,v=0,m=b.length){if(v<m){if(e(_,_)!==0)return m;do{const u=v+m>>>1;n(b[u],_)<=0?v=u+1:m=u}while(v<m)}return v}function f(b,_,v=0,m=b.length){const u=l(b,_,v,m-1);return u>v&&i(b[u-1],_)>-i(b[u],_)?u-1:u}return{left:l,center:f,right:d}}function zero$1(){return 0}function number$2(t){return t===null?NaN:+t}function*numbers(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(e,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,l]of e)this.set(i,l)}get(e){return super.get(intern_get(this,e))}has(e){return super.has(intern_get(this,e))}set(e,n){return super.set(intern_set(this,e),n)}delete(e){return super.delete(intern_delete(this,e))}}function intern_get({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function intern_set({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function intern_delete({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function keyof(t){return t!==null&&typeof t=="object"?t.valueOf():t}function compareDefined(t=ascending){if(t===ascending)return ascendingDefined;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function ascendingDefined(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(t,e,n){const i=(e-t)/Math.max(0,n),l=Math.floor(Math.log10(i)),d=i/Math.pow(10,l),f=d>=e10?10:d>=e5?5:d>=e2?2:1;let b,_,v;return l<0?(v=Math.pow(10,-l)/f,b=Math.round(t*v),_=Math.round(e*v),b/v<t&&++b,_/v>e&&--_,v=-v):(v=Math.pow(10,l)*f,b=Math.round(t/v),_=Math.round(e/v),b*v<t&&++b,_*v>e&&--_),_<b&&.5<=n&&n<2?tickSpec(t,e,n*2):[b,_,v]}function ticks(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[l,d,f]=i?tickSpec(e,t,n):tickSpec(t,e,n);if(!(d>=l))return[];const b=d-l+1,_=new Array(b);if(i)if(f<0)for(let v=0;v<b;++v)_[v]=(d-v)/-f;else for(let v=0;v<b;++v)_[v]=(d-v)*f;else if(f<0)for(let v=0;v<b;++v)_[v]=(l+v)/-f;else for(let v=0;v<b;++v)_[v]=(l+v)*f;return _}function tickIncrement(t,e,n){return e=+e,t=+t,n=+n,tickSpec(t,e,n)[2]}function tickStep(t,e,n){e=+e,t=+t,n=+n;const i=e<t,l=i?tickIncrement(e,t,n):tickIncrement(t,e,n);return(i?-1:1)*(l<0?1/-l:l)}function max(t,e){let n;for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function min(t,e){let n;for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function quickselect(t,e,n=0,i=1/0,l){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(l=l===void 0?ascendingDefined:compareDefined(l);i>n;){if(i-n>600){const _=i-n+1,v=e-n+1,m=Math.log(_),u=.5*Math.exp(2*m/3),o=.5*Math.sqrt(m*u*(_-u)/_)*(v-_/2<0?-1:1),h=Math.max(n,Math.floor(e-v*u/_+o)),w=Math.min(i,Math.floor(e+(_-v)*u/_+o));quickselect(t,e,h,w,l)}const d=t[e];let f=n,b=i;for(swap(t,n,e),l(t[i],d)>0&&swap(t,n,i);f<b;){for(swap(t,f,b),++f,--b;l(t[f],d)<0;)++f;for(;l(t[b],d)>0;)--b}l(t[n],d)===0?swap(t,n,b):(++b,swap(t,b,i)),b<=e&&(n=b+1),e<=b&&(i=b-1)}return t}function swap(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function quantile$1(t,e,n){if(t=Float64Array.from(numbers(t)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return min(t);if(e>=1)return max(t);var i,l=(i-1)*e,d=Math.floor(l),f=max(quickselect(t,d).subarray(0,d+1)),b=min(t.subarray(d+1));return f+(b-f)*(l-d)}}function quantileSorted(t,e,n=number$2){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,l=(i-1)*e,d=Math.floor(l),f=+n(t[d],d,t),b=+n(t[d+1],d+1,t);return f+(b-f)*(l-d)}}function range$1(t,e,n){t=+t,e=+e,n=(l=arguments.length)<2?(e=t,t=0,1):l<3?1:+n;for(var i=-1,l=Math.max(0,Math.ceil((e-t)/n))|0,d=new Array(l);++i<l;)d[i]=t+i*n;return d}function initRange(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function initInterpolator(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const implicit=Symbol("implicit");function ordinal(){var t=new InternMap,e=[],n=[],i=implicit;function l(d){let f=t.get(d);if(f===void 0){if(i!==implicit)return i;t.set(d,f=e.push(d)-1)}return n[f%n.length]}return l.domain=function(d){if(!arguments.length)return e.slice();e=[],t=new InternMap;for(const f of d)t.has(f)||t.set(f,e.push(f)-1);return l},l.range=function(d){return arguments.length?(n=Array.from(d),l):n.slice()},l.unknown=function(d){return arguments.length?(i=d,l):i},l.copy=function(){return ordinal(e,n).unknown(i)},initRange.apply(l,arguments),l}function band(){var t=ordinal().unknown(void 0),e=t.domain,n=t.range,i=0,l=1,d,f,b=!1,_=0,v=0,m=.5;delete t.unknown;function u(){var o=e().length,h=l<i,w=h?l:i,E=h?i:l;d=(E-w)/Math.max(1,o-_+v*2),b&&(d=Math.floor(d)),w+=(E-w-d*(o-_))*m,f=d*(1-_),b&&(w=Math.round(w),f=Math.round(f));var T=range$1(o).map(function(O){return w+d*O});return n(h?T.reverse():T)}return t.domain=function(o){return arguments.length?(e(o),u()):e()},t.range=function(o){return arguments.length?([i,l]=o,i=+i,l=+l,u()):[i,l]},t.rangeRound=function(o){return[i,l]=o,i=+i,l=+l,b=!0,u()},t.bandwidth=function(){return f},t.step=function(){return d},t.round=function(o){return arguments.length?(b=!!o,u()):b},t.padding=function(o){return arguments.length?(_=Math.min(1,v=+o),u()):_},t.paddingInner=function(o){return arguments.length?(_=Math.min(1,o),u()):_},t.paddingOuter=function(o){return arguments.length?(v=+o,u()):v},t.align=function(o){return arguments.length?(m=Math.max(0,Math.min(1,o)),u()):m},t.copy=function(){return band(e(),[i,l]).round(b).paddingInner(_).paddingOuter(v).align(m)},initRange.apply(u(),arguments)}function pointish(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pointish(e())},t}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function extend(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=reHex.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rgbn(e):n===3?new Rgb(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?rgba(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?rgba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=reRgbInteger.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(t))?new Rgb(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=reRgbaInteger.exec(t))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(t))?rgba(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=reHslPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named.hasOwnProperty(t)?rgbn(named[t]):t==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,t&255,1)}function rgba(t,e,n,i){return i<=0&&(t=e=n=NaN),new Rgb(t,e,n,i)}function rgbConvert(t){return t instanceof Color||(t=color(t)),t?(t=t.rgb(),new Rgb(t.r,t.g,t.b,t.opacity)):new Rgb}function rgb$1(t,e,n,i){return arguments.length===1?rgbConvert(t):new Rgb(t,e,n,i??1)}function Rgb(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}define(Rgb,rgb$1,extend(Color,{brighter(t){return t=t==null?brighter:Math.pow(brighter,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?darker:Math.pow(darker,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const t=clampa(this.opacity);return`${t===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${t===1?")":`, ${t})`}`}function clampa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function clampi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hex(t){return t=clampi(t),(t<16?"0":"")+t.toString(16)}function hsla(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,n,i)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color(t)),!t)return new Hsl;if(t instanceof Hsl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,l=Math.min(e,n,i),d=Math.max(e,n,i),f=NaN,b=d-l,_=(d+l)/2;return b?(e===d?f=(n-i)/b+(n<i)*6:n===d?f=(i-e)/b+2:f=(e-n)/b+4,b/=_<.5?d+l:2-d-l,f*=60):b=_>0&&_<1?0:f,new Hsl(f,b,_,t.opacity)}function hsl(t,e,n,i){return arguments.length===1?hslConvert(t):new Hsl(t,e,n,i??1)}function Hsl(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}define(Hsl,hsl,extend(Color,{brighter(t){return t=t==null?brighter:Math.pow(brighter,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?darker:Math.pow(darker,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,l=2*n-i;return new Rgb(hsl2rgb(t>=240?t-240:t+120,l,i),hsl2rgb(t,l,i),hsl2rgb(t<120?t+240:t-120,l,i),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=clampa(this.opacity);return`${t===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function clamph(t){return t=(t||0)%360,t<0?t+360:t}function clampt(t){return Math.max(0,Math.min(1,t||0))}function hsl2rgb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const constant=t=>()=>t;function linear$1(t,e){return function(n){return t+n*e}}function exponential(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function gamma(t){return(t=+t)==1?nogamma:function(e,n){return n-e?exponential(e,n,t):constant(isNaN(e)?n:e)}}function nogamma(t,e){var n=e-t;return n?linear$1(t,n):constant(isNaN(t)?e:t)}const rgb=(function t(e){var n=gamma(e);function i(l,d){var f=n((l=rgb$1(l)).r,(d=rgb$1(d)).r),b=n(l.g,d.g),_=n(l.b,d.b),v=nogamma(l.opacity,d.opacity);return function(m){return l.r=f(m),l.g=b(m),l.b=_(m),l.opacity=v(m),l+""}}return i.gamma=t,i})(1);function numberArray(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),l;return function(d){for(l=0;l<n;++l)i[l]=t[l]*(1-d)+e[l]*d;return i}}function isNumberArray(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function genericArray(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,l=new Array(i),d=new Array(n),f;for(f=0;f<i;++f)l[f]=interpolate(t[f],e[f]);for(;f<n;++f)d[f]=e[f];return function(b){for(f=0;f<i;++f)d[f]=l[f](b);return d}}function date$1(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function interpolateNumber(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function object(t,e){var n={},i={},l;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(l in e)l in t?n[l]=interpolate(t[l],e[l]):i[l]=e[l];return function(d){for(l in n)i[l]=n[l](d);return i}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(t){return function(){return t}}function one(t){return function(e){return t(e)+""}}function string(t,e){var n=reA.lastIndex=reB.lastIndex=0,i,l,d,f=-1,b=[],_=[];for(t=t+"",e=e+"";(i=reA.exec(t))&&(l=reB.exec(e));)(d=l.index)>n&&(d=e.slice(n,d),b[f]?b[f]+=d:b[++f]=d),(i=i[0])===(l=l[0])?b[f]?b[f]+=l:b[++f]=l:(b[++f]=null,_.push({i:f,x:interpolateNumber(i,l)})),n=reB.lastIndex;return n<e.length&&(d=e.slice(n),b[f]?b[f]+=d:b[++f]=d),b.length<2?_[0]?one(_[0].x):zero(e):(e=_.length,function(v){for(var m=0,u;m<e;++m)b[(u=_[m]).i]=u.x(v);return b.join("")})}function interpolate(t,e){var n=typeof e,i;return e==null||n==="boolean"?constant(e):(n==="number"?interpolateNumber:n==="string"?(i=color(e))?(e=i,rgb):string:e instanceof color?rgb:e instanceof Date?date$1:isNumberArray(e)?numberArray:Array.isArray(e)?genericArray:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?object:interpolateNumber)(t,e)}function interpolateRound(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function piecewise(t,e){e===void 0&&(e=t,t=interpolate);for(var n=0,i=e.length-1,l=e[0],d=new Array(i<0?0:i);n<i;)d[n]=t(l,l=e[++n]);return function(f){var b=Math.max(0,Math.min(i-1,Math.floor(f*=i)));return d[b](f-b)}}function constants(t){return function(){return t}}function number$1(t){return+t}var unit=[0,1];function identity$3(t){return t}function normalize(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:constants(isNaN(e)?NaN:.5)}function clamper(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function bimap(t,e,n){var i=t[0],l=t[1],d=e[0],f=e[1];return l<i?(i=normalize(l,i),d=n(f,d)):(i=normalize(i,l),d=n(d,f)),function(b){return d(i(b))}}function polymap(t,e,n){var i=Math.min(t.length,e.length)-1,l=new Array(i),d=new Array(i),f=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++f<i;)l[f]=normalize(t[f],t[f+1]),d[f]=n(e[f],e[f+1]);return function(b){var _=bisectRight(t,b,1,i)-1;return d[_](l[_](b))}}function copy$1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function transformer$2(){var t=unit,e=unit,n=interpolate,i,l,d,f=identity$3,b,_,v;function m(){var o=Math.min(t.length,e.length);return f!==identity$3&&(f=clamper(t[0],t[o-1])),b=o>2?polymap:bimap,_=v=null,u}function u(o){return o==null||isNaN(o=+o)?d:(_||(_=b(t.map(i),e,n)))(i(f(o)))}return u.invert=function(o){return f(l((v||(v=b(e,t.map(i),interpolateNumber)))(o)))},u.domain=function(o){return arguments.length?(t=Array.from(o,number$1),m()):t.slice()},u.range=function(o){return arguments.length?(e=Array.from(o),m()):e.slice()},u.rangeRound=function(o){return e=Array.from(o),n=interpolateRound,m()},u.clamp=function(o){return arguments.length?(f=o?!0:identity$3,m()):f!==identity$3},u.interpolate=function(o){return arguments.length?(n=o,m()):n},u.unknown=function(o){return arguments.length?(d=o,u):d},function(o,h){return i=o,l=h,m()}}function continuous(){return transformer$2()(identity$3,identity$3)}function formatDecimal(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function formatDecimalParts(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function exponent(t){return t=formatDecimalParts(Math.abs(t)),t?t[1]:NaN}function formatGroup(t,e){return function(n,i){for(var l=n.length,d=[],f=0,b=t[0],_=0;l>0&&b>0&&(_+b+1>i&&(b=Math.max(1,i-_)),d.push(n.substring(l-=b,l+b)),!((_+=b+1)>i));)b=t[f=(f+1)%t.length];return d.reverse().join(e)}}function formatNumerals(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){if(!(e=re.exec(t)))throw new Error("invalid format: "+t);var e;return new FormatSpecifier({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(t){e:for(var e=t.length,n=1,i=-1,l;n<e;++n)switch(t[n]){case".":i=l=n;break;case"0":i===0&&(i=n),l=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(l+1):t}var prefixExponent;function formatPrefixAuto(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var i=n[0],l=n[1],d=l-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,f=i.length;return d===f?i:d>f?i+new Array(d-f+1).join("0"):d>0?i.slice(0,d)+"."+i.slice(d):"0."+new Array(1-d).join("0")+formatDecimalParts(t,Math.max(0,e+d-1))[0]}function formatRounded(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var i=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+i:i.length>l+1?i.slice(0,l+1)+"."+i.slice(l+1):i+new Array(l-i.length+2).join("0")}const formatTypes={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:formatDecimal,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>formatRounded(t*100,e),r:formatRounded,s:formatPrefixAuto,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function identity$2(t){return t}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(t){var e=t.grouping===void 0||t.thousands===void 0?identity$2:formatGroup(map$1.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",l=t.decimal===void 0?".":t.decimal+"",d=t.numerals===void 0?identity$2:formatNumerals(map$1.call(t.numerals,String)),f=t.percent===void 0?"%":t.percent+"",b=t.minus===void 0?"":t.minus+"",_=t.nan===void 0?"NaN":t.nan+"";function v(u){u=formatSpecifier(u);var o=u.fill,h=u.align,w=u.sign,E=u.symbol,T=u.zero,O=u.width,M=u.comma,I=u.precision,R=u.trim,D=u.type;D==="n"?(M=!0,D="g"):formatTypes[D]||(I===void 0&&(I=12),R=!0,D="g"),(T||o==="0"&&h==="=")&&(T=!0,o="0",h="=");var N=E==="$"?n:E==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",L=E==="$"?i:/[%p]/.test(D)?f:"",B=formatTypes[D],$=/[defgprs%]/.test(D);I=I===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function V(G){var X=N,ee=L,Q,Y,U;if(D==="c")ee=B(G)+ee,G="";else{G=+G;var q=G<0||1/G<0;if(G=isNaN(G)?_:B(Math.abs(G),I),R&&(G=formatTrim(G)),q&&+G==0&&w!=="+"&&(q=!1),X=(q?w==="("?w:b:w==="-"||w==="("?"":w)+X,ee=(D==="s"?prefixes[8+prefixExponent/3]:"")+ee+(q&&w==="("?")":""),$){for(Q=-1,Y=G.length;++Q<Y;)if(U=G.charCodeAt(Q),48>U||U>57){ee=(U===46?l+G.slice(Q+1):G.slice(Q))+ee,G=G.slice(0,Q);break}}}M&&!T&&(G=e(G,1/0));var le=X.length+G.length+ee.length,ie=le<O?new Array(O-le+1).join(o):"";switch(M&&T&&(G=e(ie+G,ie.length?O-ee.length:1/0),ie=""),h){case"<":G=X+G+ee+ie;break;case"=":G=X+ie+G+ee;break;case"^":G=ie.slice(0,le=ie.length>>1)+X+G+ee+ie.slice(le);break;default:G=ie+X+G+ee;break}return d(G)}return V.toString=function(){return u+""},V}function m(u,o){var h=v((u=formatSpecifier(u),u.type="f",u)),w=Math.max(-8,Math.min(8,Math.floor(exponent(o)/3)))*3,E=Math.pow(10,-w),T=prefixes[8+w/3];return function(O){return h(E*O)+T}}return{format:v,formatPrefix:m}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(t){return locale$1=formatLocale$1(t),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(t){return Math.max(0,-exponent(Math.abs(t)))}function precisionPrefix(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(e)/3)))*3-exponent(Math.abs(t)))}function precisionRound(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,exponent(e)-exponent(t))+1}function tickFormat(t,e,n,i){var l=tickStep(t,e,n),d;switch(i=formatSpecifier(i??",f"),i.type){case"s":{var f=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(d=precisionPrefix(l,f))&&(i.precision=d),formatPrefix(i,f)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(d=precisionRound(l,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=d-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(d=precisionFixed(l))&&(i.precision=d-(i.type==="%")*2);break}}return format(i)}function linearish(t){var e=t.domain;return t.ticks=function(n){var i=e();return ticks(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var l=e();return tickFormat(l[0],l[l.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),l=0,d=i.length-1,f=i[l],b=i[d],_,v,m=10;for(b<f&&(v=f,f=b,b=v,v=l,l=d,d=v);m-- >0;){if(v=tickIncrement(f,b,n),v===_)return i[l]=f,i[d]=b,e(i);if(v>0)f=Math.floor(f/v)*v,b=Math.ceil(b/v)*v;else if(v<0)f=Math.ceil(f*v)/v,b=Math.floor(b*v)/v;else break;_=v}return t},t}function linear(){var t=continuous();return t.copy=function(){return copy$1(t,linear())},initRange.apply(t,arguments),linearish(t)}function identity$1(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,number$1),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return identity$1(t).unknown(e)},t=arguments.length?Array.from(t,number$1):[0,1],linearish(n)}function nice(t,e){t=t.slice();var n=0,i=t.length-1,l=t[n],d=t[i],f;return d<l&&(f=n,n=i,i=f,f=l,l=d,d=f),t[n]=e.floor(l),t[i]=e.ceil(d),t}function transformLog(t){return Math.log(t)}function transformExp(t){return Math.exp(t)}function transformLogn(t){return-Math.log(-t)}function transformExpn(t){return-Math.exp(-t)}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function powp(t){return t===10?pow10:t===Math.E?Math.exp:e=>Math.pow(t,e)}function logp(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function reflect(t){return(e,n)=>-t(-e,n)}function loggish(t){const e=t(transformLog,transformExp),n=e.domain;let i=10,l,d;function f(){return l=logp(i),d=powp(i),n()[0]<0?(l=reflect(l),d=reflect(d),t(transformLogn,transformExpn)):t(transformLog,transformExp),e}return e.base=function(b){return arguments.length?(i=+b,f()):i},e.domain=function(b){return arguments.length?(n(b),f()):n()},e.ticks=b=>{const _=n();let v=_[0],m=_[_.length-1];const u=m<v;u&&([v,m]=[m,v]);let o=l(v),h=l(m),w,E;const T=b==null?10:+b;let O=[];if(!(i%1)&&h-o<T){if(o=Math.floor(o),h=Math.ceil(h),v>0){for(;o<=h;++o)for(w=1;w<i;++w)if(E=o<0?w/d(-o):w*d(o),!(E<v)){if(E>m)break;O.push(E)}}else for(;o<=h;++o)for(w=i-1;w>=1;--w)if(E=o>0?w/d(-o):w*d(o),!(E<v)){if(E>m)break;O.push(E)}O.length*2<T&&(O=ticks(v,m,T))}else O=ticks(o,h,Math.min(h-o,T)).map(d);return u?O.reverse():O},e.tickFormat=(b,_)=>{if(b==null&&(b=10),_==null&&(_=i===10?"s":","),typeof _!="function"&&(!(i%1)&&(_=formatSpecifier(_)).precision==null&&(_.trim=!0),_=format(_)),b===1/0)return _;const v=Math.max(1,i*b/e.ticks().length);return m=>{let u=m/d(Math.round(l(m)));return u*i<i-.5&&(u*=i),u<=v?_(m):""}},e.nice=()=>n(nice(n(),{floor:b=>d(Math.floor(l(b))),ceil:b=>d(Math.ceil(l(b)))})),e}function log(){const t=loggish(transformer$2()).domain([1,10]);return t.copy=()=>copy$1(t,log()).base(t.base()),initRange.apply(t,arguments),t}function transformSymlog(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function transformSymexp(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function symlogish(t){var e=1,n=t(transformSymlog(e),transformSymexp(e));return n.constant=function(i){return arguments.length?t(transformSymlog(e=+i),transformSymexp(e)):e},linearish(n)}function symlog(){var t=symlogish(transformer$2());return t.copy=function(){return copy$1(t,symlog()).constant(t.constant())},initRange.apply(t,arguments)}function transformPow(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function transformSqrt(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function transformSquare(t){return t<0?-t*t:t*t}function powish(t){var e=t(identity$3,identity$3),n=1;function i(){return n===1?t(identity$3,identity$3):n===.5?t(transformSqrt,transformSquare):t(transformPow(n),transformPow(1/n))}return e.exponent=function(l){return arguments.length?(n=+l,i()):n},linearish(e)}function pow(){var t=powish(transformer$2());return t.copy=function(){return copy$1(t,pow()).exponent(t.exponent())},initRange.apply(t,arguments),t}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(t){return Math.sign(t)*t*t}function unsquare(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function radial(){var t=continuous(),e=[0,1],n=!1,i;function l(d){var f=unsquare(t(d));return isNaN(f)?i:n?Math.round(f):f}return l.invert=function(d){return t.invert(square(d))},l.domain=function(d){return arguments.length?(t.domain(d),l):t.domain()},l.range=function(d){return arguments.length?(t.range((e=Array.from(d,number$1)).map(square)),l):e.slice()},l.rangeRound=function(d){return l.range(d).round(!0)},l.round=function(d){return arguments.length?(n=!!d,l):n},l.clamp=function(d){return arguments.length?(t.clamp(d),l):t.clamp()},l.unknown=function(d){return arguments.length?(i=d,l):i},l.copy=function(){return radial(t.domain(),e).round(n).clamp(t.clamp()).unknown(i)},initRange.apply(l,arguments),linearish(l)}function quantile(){var t=[],e=[],n=[],i;function l(){var f=0,b=Math.max(1,e.length);for(n=new Array(b-1);++f<b;)n[f-1]=quantileSorted(t,f/b);return d}function d(f){return f==null||isNaN(f=+f)?i:e[bisectRight(n,f)]}return d.invertExtent=function(f){var b=e.indexOf(f);return b<0?[NaN,NaN]:[b>0?n[b-1]:t[0],b<n.length?n[b]:t[t.length-1]]},d.domain=function(f){if(!arguments.length)return t.slice();t=[];for(let b of f)b!=null&&!isNaN(b=+b)&&t.push(b);return t.sort(ascending),l()},d.range=function(f){return arguments.length?(e=Array.from(f),l()):e.slice()},d.unknown=function(f){return arguments.length?(i=f,d):i},d.quantiles=function(){return n.slice()},d.copy=function(){return quantile().domain(t).range(e).unknown(i)},initRange.apply(d,arguments)}function quantize(){var t=0,e=1,n=1,i=[.5],l=[0,1],d;function f(_){return _!=null&&_<=_?l[bisectRight(i,_,0,n)]:d}function b(){var _=-1;for(i=new Array(n);++_<n;)i[_]=((_+1)*e-(_-n)*t)/(n+1);return f}return f.domain=function(_){return arguments.length?([t,e]=_,t=+t,e=+e,b()):[t,e]},f.range=function(_){return arguments.length?(n=(l=Array.from(_)).length-1,b()):l.slice()},f.invertExtent=function(_){var v=l.indexOf(_);return v<0?[NaN,NaN]:v<1?[t,i[0]]:v>=n?[i[n-1],e]:[i[v-1],i[v]]},f.unknown=function(_){return arguments.length&&(d=_),f},f.thresholds=function(){return i.slice()},f.copy=function(){return quantize().domain([t,e]).range(l).unknown(d)},initRange.apply(linearish(f),arguments)}function threshold(){var t=[.5],e=[0,1],n,i=1;function l(d){return d!=null&&d<=d?e[bisectRight(t,d,0,i)]:n}return l.domain=function(d){return arguments.length?(t=Array.from(d),i=Math.min(t.length,e.length-1),l):t.slice()},l.range=function(d){return arguments.length?(e=Array.from(d),i=Math.min(t.length,e.length-1),l):e.slice()},l.invertExtent=function(d){var f=e.indexOf(d);return[t[f-1],t[f]]},l.unknown=function(d){return arguments.length?(n=d,l):n},l.copy=function(){return threshold().domain(t).range(e).unknown(n)},initRange.apply(l,arguments)}const t0=new Date,t1=new Date;function timeInterval(t,e,n,i){function l(d){return t(d=arguments.length===0?new Date:new Date(+d)),d}return l.floor=d=>(t(d=new Date(+d)),d),l.ceil=d=>(t(d=new Date(d-1)),e(d,1),t(d),d),l.round=d=>{const f=l(d),b=l.ceil(d);return d-f<b-d?f:b},l.offset=(d,f)=>(e(d=new Date(+d),f==null?1:Math.floor(f)),d),l.range=(d,f,b)=>{const _=[];if(d=l.ceil(d),b=b==null?1:Math.floor(b),!(d<f)||!(b>0))return _;let v;do _.push(v=new Date(+d)),e(d,b),t(d);while(v<d&&d<f);return _},l.filter=d=>timeInterval(f=>{if(f>=f)for(;t(f),!d(f);)f.setTime(f-1)},(f,b)=>{if(f>=f)if(b<0)for(;++b<=0;)for(;e(f,-1),!d(f););else for(;--b>=0;)for(;e(f,1),!d(f););}),n&&(l.count=(d,f)=>(t0.setTime(+d),t1.setTime(+f),t(t0),t(t1),Math.floor(n(t0,t1))),l.every=d=>(d=Math.floor(d),!isFinite(d)||!(d>0)?null:d>1?l.filter(i?f=>i(f)%d===0:f=>l.count(0,f)%d===0):l)),l}const millisecond=timeInterval(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);millisecond.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?timeInterval(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*durationSecond)},(t,e)=>(e-t)/durationSecond,t=>t.getUTCSeconds());second.range;const timeMinute=timeInterval(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond)},(t,e)=>{t.setTime(+t+e*durationMinute)},(t,e)=>(e-t)/durationMinute,t=>t.getMinutes());timeMinute.range;const utcMinute=timeInterval(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*durationMinute)},(t,e)=>(e-t)/durationMinute,t=>t.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond-t.getMinutes()*durationMinute)},(t,e)=>{t.setTime(+t+e*durationHour)},(t,e)=>(e-t)/durationHour,t=>t.getHours());timeHour.range;const utcHour=timeInterval(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*durationHour)},(t,e)=>(e-t)/durationHour,t=>t.getUTCHours());utcHour.range;const timeDay=timeInterval(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationDay,t=>t.getDate()-1);timeDay.range;const utcDay=timeInterval(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/durationDay,t=>t.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/durationDay,t=>Math.floor(t/durationDay));unixDay.range;function timeWeekday(t){return timeInterval(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(t){return timeInterval(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());timeMonth.range;const utcMonth=timeInterval(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());utcMonth.range;const timeYear=timeInterval(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());timeYear.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:timeInterval(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});timeYear.range;const utcYear=timeInterval(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());utcYear.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:timeInterval(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});utcYear.range;function ticker(t,e,n,i,l,d){const f=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[d,1,durationMinute],[d,5,5*durationMinute],[d,15,15*durationMinute],[d,30,30*durationMinute],[l,1,durationHour],[l,3,3*durationHour],[l,6,6*durationHour],[l,12,12*durationHour],[i,1,durationDay],[i,2,2*durationDay],[n,1,durationWeek],[e,1,durationMonth],[e,3,3*durationMonth],[t,1,durationYear]];function b(v,m,u){const o=m<v;o&&([v,m]=[m,v]);const h=u&&typeof u.range=="function"?u:_(v,m,u),w=h?h.range(v,+m+1):[];return o?w.reverse():w}function _(v,m,u){const o=Math.abs(m-v)/u,h=bisector(([,,T])=>T).right(f,o);if(h===f.length)return t.every(tickStep(v/durationYear,m/durationYear,u));if(h===0)return millisecond.every(Math.max(tickStep(v,m,u),1));const[w,E]=f[o/f[h-1][2]<f[h][2]/o?h-1:h];return w.every(E)}return[b,_]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newDate(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function formatLocale(t){var e=t.dateTime,n=t.date,i=t.time,l=t.periods,d=t.days,f=t.shortDays,b=t.months,_=t.shortMonths,v=formatRe(l),m=formatLookup(l),u=formatRe(d),o=formatLookup(d),h=formatRe(f),w=formatLookup(f),E=formatRe(b),T=formatLookup(b),O=formatRe(_),M=formatLookup(_),I={a:q,A:le,b:ie,B:Ee,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Z,q:ue,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},R={a:Ae,A:Ce,b:ke,B:Ne,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Le,q:Pe,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},D={a:V,A:G,b:X,B:ee,c:Q,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:$,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Y,X:U,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};I.x=N(n,I),I.X=N(i,I),I.c=N(e,I),R.x=N(n,R),R.X=N(i,R),R.c=N(e,R);function N(de,De){return function($e){var we=[],Qe=-1,Fe=0,at=de.length,vt,kt,ir;for($e instanceof Date||($e=new Date(+$e));++Qe<at;)de.charCodeAt(Qe)===37&&(we.push(de.slice(Fe,Qe)),(kt=pads[vt=de.charAt(++Qe)])!=null?vt=de.charAt(++Qe):kt=vt==="e"?" ":"0",(ir=De[vt])&&(vt=ir($e,kt)),we.push(vt),Fe=Qe+1);return we.push(de.slice(Fe,Qe)),we.join("")}}function L(de,De){return function($e){var we=newDate(1900,void 0,1),Qe=B(we,de,$e+="",0),Fe,at;if(Qe!=$e.length)return null;if("Q"in we)return new Date(we.Q);if("s"in we)return new Date(we.s*1e3+("L"in we?we.L:0));if(De&&!("Z"in we)&&(we.Z=0),"p"in we&&(we.H=we.H%12+we.p*12),we.m===void 0&&(we.m="q"in we?we.q:0),"V"in we){if(we.V<1||we.V>53)return null;"w"in we||(we.w=1),"Z"in we?(Fe=utcDate(newDate(we.y,0,1)),at=Fe.getUTCDay(),Fe=at>4||at===0?utcMonday.ceil(Fe):utcMonday(Fe),Fe=utcDay.offset(Fe,(we.V-1)*7),we.y=Fe.getUTCFullYear(),we.m=Fe.getUTCMonth(),we.d=Fe.getUTCDate()+(we.w+6)%7):(Fe=localDate(newDate(we.y,0,1)),at=Fe.getDay(),Fe=at>4||at===0?timeMonday.ceil(Fe):timeMonday(Fe),Fe=timeDay.offset(Fe,(we.V-1)*7),we.y=Fe.getFullYear(),we.m=Fe.getMonth(),we.d=Fe.getDate()+(we.w+6)%7)}else("W"in we||"U"in we)&&("w"in we||(we.w="u"in we?we.u%7:"W"in we?1:0),at="Z"in we?utcDate(newDate(we.y,0,1)).getUTCDay():localDate(newDate(we.y,0,1)).getDay(),we.m=0,we.d="W"in we?(we.w+6)%7+we.W*7-(at+5)%7:we.w+we.U*7-(at+6)%7);return"Z"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,utcDate(we)):localDate(we)}}function B(de,De,$e,we){for(var Qe=0,Fe=De.length,at=$e.length,vt,kt;Qe<Fe;){if(we>=at)return-1;if(vt=De.charCodeAt(Qe++),vt===37){if(vt=De.charAt(Qe++),kt=D[vt in pads?De.charAt(Qe++):vt],!kt||(we=kt(de,$e,we))<0)return-1}else if(vt!=$e.charCodeAt(we++))return-1}return we}function $(de,De,$e){var we=v.exec(De.slice($e));return we?(de.p=m.get(we[0].toLowerCase()),$e+we[0].length):-1}function V(de,De,$e){var we=h.exec(De.slice($e));return we?(de.w=w.get(we[0].toLowerCase()),$e+we[0].length):-1}function G(de,De,$e){var we=u.exec(De.slice($e));return we?(de.w=o.get(we[0].toLowerCase()),$e+we[0].length):-1}function X(de,De,$e){var we=O.exec(De.slice($e));return we?(de.m=M.get(we[0].toLowerCase()),$e+we[0].length):-1}function ee(de,De,$e){var we=E.exec(De.slice($e));return we?(de.m=T.get(we[0].toLowerCase()),$e+we[0].length):-1}function Q(de,De,$e){return B(de,e,De,$e)}function Y(de,De,$e){return B(de,n,De,$e)}function U(de,De,$e){return B(de,i,De,$e)}function q(de){return f[de.getDay()]}function le(de){return d[de.getDay()]}function ie(de){return _[de.getMonth()]}function Ee(de){return b[de.getMonth()]}function Z(de){return l[+(de.getHours()>=12)]}function ue(de){return 1+~~(de.getMonth()/3)}function Ae(de){return f[de.getUTCDay()]}function Ce(de){return d[de.getUTCDay()]}function ke(de){return _[de.getUTCMonth()]}function Ne(de){return b[de.getUTCMonth()]}function Le(de){return l[+(de.getUTCHours()>=12)]}function Pe(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var De=N(de+="",I);return De.toString=function(){return de},De},parse:function(de){var De=L(de+="",!1);return De.toString=function(){return de},De},utcFormat:function(de){var De=N(de+="",R);return De.toString=function(){return de},De},utcParse:function(de){var De=L(de+="",!0);return De.toString=function(){return de},De}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(t,e,n){var i=t<0?"-":"",l=(i?-t:t)+"",d=l.length;return i+(d<n?new Array(n-d+1).join(e)+l:l)}function requote(t){return t.replace(requoteRe,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function parseWeekdayNumberSunday(t,e,n){var i=numberRe.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function parseWeekdayNumberMonday(t,e,n){var i=numberRe.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function parseWeekNumberSunday(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function parseWeekNumberISO(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function parseWeekNumberMonday(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function parseFullYear(t,e,n){var i=numberRe.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function parseYear(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function parseZone(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function parseQuarter(t,e,n){var i=numberRe.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function parseMonthNumber(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function parseDayOfMonth(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function parseDayOfYear(t,e,n){var i=numberRe.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function parseHour24(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function parseMinutes(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function parseSeconds(t,e,n){var i=numberRe.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function parseMilliseconds(t,e,n){var i=numberRe.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function parseMicroseconds(t,e,n){var i=numberRe.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function parseLiteralPercent(t,e,n){var i=percentRe.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function parseUnixTimestamp(t,e,n){var i=numberRe.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function parseUnixTimestampSeconds(t,e,n){var i=numberRe.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function formatDayOfMonth(t,e){return pad(t.getDate(),e,2)}function formatHour24(t,e){return pad(t.getHours(),e,2)}function formatHour12(t,e){return pad(t.getHours()%12||12,e,2)}function formatDayOfYear(t,e){return pad(1+timeDay.count(timeYear(t),t),e,3)}function formatMilliseconds(t,e){return pad(t.getMilliseconds(),e,3)}function formatMicroseconds(t,e){return formatMilliseconds(t,e)+"000"}function formatMonthNumber(t,e){return pad(t.getMonth()+1,e,2)}function formatMinutes(t,e){return pad(t.getMinutes(),e,2)}function formatSeconds(t,e){return pad(t.getSeconds(),e,2)}function formatWeekdayNumberMonday(t){var e=t.getDay();return e===0?7:e}function formatWeekNumberSunday(t,e){return pad(timeSunday.count(timeYear(t)-1,t),e,2)}function dISO(t){var e=t.getDay();return e>=4||e===0?timeThursday(t):timeThursday.ceil(t)}function formatWeekNumberISO(t,e){return t=dISO(t),pad(timeThursday.count(timeYear(t),t)+(timeYear(t).getDay()===4),e,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,e){return pad(timeMonday.count(timeYear(t)-1,t),e,2)}function formatYear(t,e){return pad(t.getFullYear()%100,e,2)}function formatYearISO(t,e){return t=dISO(t),pad(t.getFullYear()%100,e,2)}function formatFullYear(t,e){return pad(t.getFullYear()%1e4,e,4)}function formatFullYearISO(t,e){var n=t.getDay();return t=n>=4||n===0?timeThursday(t):timeThursday.ceil(t),pad(t.getFullYear()%1e4,e,4)}function formatZone(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad(e/60|0,"0",2)+pad(e%60,"0",2)}function formatUTCDayOfMonth(t,e){return pad(t.getUTCDate(),e,2)}function formatUTCHour24(t,e){return pad(t.getUTCHours(),e,2)}function formatUTCHour12(t,e){return pad(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(t,e){return pad(1+utcDay.count(utcYear(t),t),e,3)}function formatUTCMilliseconds(t,e){return pad(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(t,e){return formatUTCMilliseconds(t,e)+"000"}function formatUTCMonthNumber(t,e){return pad(t.getUTCMonth()+1,e,2)}function formatUTCMinutes(t,e){return pad(t.getUTCMinutes(),e,2)}function formatUTCSeconds(t,e){return pad(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(t){var e=t.getUTCDay();return e===0?7:e}function formatUTCWeekNumberSunday(t,e){return pad(utcSunday.count(utcYear(t)-1,t),e,2)}function UTCdISO(t){var e=t.getUTCDay();return e>=4||e===0?utcThursday(t):utcThursday.ceil(t)}function formatUTCWeekNumberISO(t,e){return t=UTCdISO(t),pad(utcThursday.count(utcYear(t),t)+(utcYear(t).getUTCDay()===4),e,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,e){return pad(utcMonday.count(utcYear(t)-1,t),e,2)}function formatUTCYear(t,e){return pad(t.getUTCFullYear()%100,e,2)}function formatUTCYearISO(t,e){return t=UTCdISO(t),pad(t.getUTCFullYear()%100,e,2)}function formatUTCFullYear(t,e){return pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCFullYearISO(t,e){var n=t.getUTCDay();return t=n>=4||n===0?utcThursday(t):utcThursday.ceil(t),pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(t){return locale=formatLocale(t),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(t){return new Date(t)}function number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(t,e,n,i,l,d,f,b,_,v){var m=continuous(),u=m.invert,o=m.domain,h=v(".%L"),w=v(":%S"),E=v("%I:%M"),T=v("%I %p"),O=v("%a %d"),M=v("%b %d"),I=v("%B"),R=v("%Y");function D(N){return(_(N)<N?h:b(N)<N?w:f(N)<N?E:d(N)<N?T:i(N)<N?l(N)<N?O:M:n(N)<N?I:R)(N)}return m.invert=function(N){return new Date(u(N))},m.domain=function(N){return arguments.length?o(Array.from(N,number)):o().map(date)},m.ticks=function(N){var L=o();return t(L[0],L[L.length-1],N??10)},m.tickFormat=function(N,L){return L==null?D:v(L)},m.nice=function(N){var L=o();return(!N||typeof N.range!="function")&&(N=e(L[0],L[L.length-1],N??10)),N?o(nice(L,N)):m},m.copy=function(){return copy$1(m,calendar(t,e,n,i,l,d,f,b,_,v))},m}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var t=0,e=1,n,i,l,d,f=identity$3,b=!1,_;function v(u){return u==null||isNaN(u=+u)?_:f(l===0?.5:(u=(d(u)-n)*l,b?Math.max(0,Math.min(1,u)):u))}v.domain=function(u){return arguments.length?([t,e]=u,n=d(t=+t),i=d(e=+e),l=n===i?0:1/(i-n),v):[t,e]},v.clamp=function(u){return arguments.length?(b=!!u,v):b},v.interpolator=function(u){return arguments.length?(f=u,v):f};function m(u){return function(o){var h,w;return arguments.length?([h,w]=o,f=u(h,w),v):[f(0),f(1)]}}return v.range=m(interpolate),v.rangeRound=m(interpolateRound),v.unknown=function(u){return arguments.length?(_=u,v):_},function(u){return d=u,n=u(t),i=u(e),l=n===i?0:1/(i-n),v}}function copy(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sequential(){var t=linearish(transformer$1()(identity$3));return t.copy=function(){return copy(t,sequential())},initInterpolator.apply(t,arguments)}function sequentialLog(){var t=loggish(transformer$1()).domain([1,10]);return t.copy=function(){return copy(t,sequentialLog()).base(t.base())},initInterpolator.apply(t,arguments)}function sequentialSymlog(){var t=symlogish(transformer$1());return t.copy=function(){return copy(t,sequentialSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function sequentialPow(){var t=powish(transformer$1());return t.copy=function(){return copy(t,sequentialPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var t=[],e=identity$3;function n(i){if(i!=null&&!isNaN(i=+i))return e((bisectRight(t,i,1)-1)/(t.length-1))}return n.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let l of i)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ascending),n},n.interpolator=function(i){return arguments.length?(e=i,n):e},n.range=function(){return t.map((i,l)=>e(l/(t.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(l,d)=>quantile$1(t,d/i))},n.copy=function(){return sequentialQuantile(e).domain(t)},initInterpolator.apply(n,arguments)}function transformer(){var t=0,e=.5,n=1,i=1,l,d,f,b,_,v=identity$3,m,u=!1,o;function h(E){return isNaN(E=+E)?o:(E=.5+((E=+m(E))-d)*(i*E<i*d?b:_),v(u?Math.max(0,Math.min(1,E)):E))}h.domain=function(E){return arguments.length?([t,e,n]=E,l=m(t=+t),d=m(e=+e),f=m(n=+n),b=l===d?0:.5/(d-l),_=d===f?0:.5/(f-d),i=d<l?-1:1,h):[t,e,n]},h.clamp=function(E){return arguments.length?(u=!!E,h):u},h.interpolator=function(E){return arguments.length?(v=E,h):v};function w(E){return function(T){var O,M,I;return arguments.length?([O,M,I]=T,v=piecewise(E,[O,M,I]),h):[v(0),v(.5),v(1)]}}return h.range=w(interpolate),h.rangeRound=w(interpolateRound),h.unknown=function(E){return arguments.length?(o=E,h):o},function(E){return m=E,l=E(t),d=E(e),f=E(n),b=l===d?0:.5/(d-l),_=d===f?0:.5/(f-d),i=d<l?-1:1,h}}function diverging(){var t=linearish(transformer()(identity$3));return t.copy=function(){return copy(t,diverging())},initInterpolator.apply(t,arguments)}function divergingLog(){var t=loggish(transformer()).domain([.1,1,10]);return t.copy=function(){return copy(t,divergingLog()).base(t.base())},initInterpolator.apply(t,arguments)}function divergingSymlog(){var t=symlogish(transformer());return t.copy=function(){return copy(t,divergingSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function divergingPow(){var t=powish(transformer());return t.copy=function(){return copy(t,divergingPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$1,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var selectChartDataWithIndexes=t=>t.chartData,selectChartDataAndAlwaysIgnoreIndexes=createSelector([selectChartDataWithIndexes],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),selectChartDataWithIndexesIfNotInPanorama=(t,e,n,i)=>i?selectChartDataAndAlwaysIgnoreIndexes(t):selectChartDataWithIndexes(t);function isWellFormedNumberDomain(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(isWellBehavedNumber(e)&&isWellBehavedNumber(n))return!0}return!1}function extendDomain(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function numericalDomainSpecifiedWithoutRequiringData(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,i]=t,l,d;if(isWellBehavedNumber(n))l=n;else if(typeof n=="function")return;if(isWellBehavedNumber(i))d=i;else if(typeof i=="function")return;var f=[l,d];if(isWellFormedNumberDomain(f))return f}}function parseNumericalUserDomain(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var i=t(e,n);if(isWellFormedNumberDomain(i))return extendDomain(i,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[l,d]=t,f,b;if(l==="auto")e!=null&&(f=Math.min(...e));else if(isNumber(l))f=l;else if(typeof l=="function")try{e!=null&&(f=l(e==null?void 0:e[0]))}catch{}else if(typeof l=="string"&&MIN_VALUE_REG.test(l)){var _=MIN_VALUE_REG.exec(l);if(_==null||e==null)f=void 0;else{var v=+_[1];f=e[0]-v}}else f=e==null?void 0:e[0];if(d==="auto")e!=null&&(b=Math.max(...e));else if(isNumber(d))b=d;else if(typeof d=="function")try{e!=null&&(b=d(e==null?void 0:e[1]))}catch{}else if(typeof d=="string"&&MAX_VALUE_REG.test(d)){var m=MAX_VALUE_REG.exec(d);if(m==null||e==null)b=void 0;else{var u=+m[1];b=e[1]+u}}else b=e==null?void 0:e[1];var o=[f,b];if(isWellFormedNumberDomain(o))return e==null?o:extendDomain(o,e,n)}}}var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};P.comparedTo=P.cmp=function(t){var e,n,i,l,d=this;if(t=new d.constructor(t),d.s!==t.s)return d.s||-t.s;if(d.e!==t.e)return d.e>t.e^d.s<0?1:-1;for(i=d.d.length,l=t.d.length,e=0,n=i<l?i:l;e<n;++e)if(d.d[e]!==t.d[e])return d.d[e]>t.d[e]^d.s<0?1:-1;return i===l?0:i>l^d.s<0?1:-1};P.decimalPlaces=P.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*LOG_BASE;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};P.dividedBy=P.div=function(t){return divide(this,new this.constructor(t))};P.dividedToIntegerBy=P.idiv=function(t){var e=this,n=e.constructor;return round(divide(e,new n(t),0,1),n.precision)};P.equals=P.eq=function(t){return!this.cmp(t)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(t){return this.cmp(t)>0};P.greaterThanOrEqualTo=P.gte=function(t){return this.cmp(t)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(t){return this.cmp(t)<0};P.lessThanOrEqualTo=P.lte=function(t){return this.cmp(t)<1};P.logarithm=P.log=function(t){var e,n=this,i=n.constructor,l=i.precision,d=l+5;if(t===void 0)t=new i(10);else if(t=new i(t),t.s<1||t.eq(ONE))throw Error(decimalError+"NaN");if(n.s<1)throw Error(decimalError+(n.s?"NaN":"-Infinity"));return n.eq(ONE)?new i(0):(external=!1,e=divide(ln(n,d),ln(t,d),d),external=!0,round(e,l))};P.minus=P.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?subtract(e,t):add(e,(t.s=-t.s,t))};P.modulo=P.mod=function(t){var e,n=this,i=n.constructor,l=i.precision;if(t=new i(t),!t.s)throw Error(decimalError+"NaN");return n.s?(external=!1,e=divide(n,t,0,1).times(t),external=!0,n.minus(e)):round(new i(n),l)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};P.plus=P.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?add(e,t):subtract(e,(t.s=-t.s,t))};P.precision=P.sd=function(t){var e,n,i,l=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(invalidArgument+t);if(e=getBase10Exponent(l)+1,i=l.d.length-1,n=i*LOG_BASE+1,i=l.d[i],i){for(;i%10==0;i/=10)n--;for(i=l.d[0];i>=10;i/=10)n++}return t&&e>n?e:n};P.squareRoot=P.sqrt=function(){var t,e,n,i,l,d,f,b=this,_=b.constructor;if(b.s<1){if(!b.s)return new _(0);throw Error(decimalError+"NaN")}for(t=getBase10Exponent(b),external=!1,l=Math.sqrt(+b),l==0||l==1/0?(e=digitsToString(b.d),(e.length+t)%2==0&&(e+="0"),l=Math.sqrt(e),t=mathfloor((t+1)/2)-(t<0||t%2),l==1/0?e="5e"+t:(e=l.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),i=new _(e)):i=new _(l.toString()),n=_.precision,l=f=n+3;;)if(d=i,i=d.plus(divide(b,d,f+2)).times(.5),digitsToString(d.d).slice(0,f)===(e=digitsToString(i.d)).slice(0,f)){if(e=e.slice(f-3,f+1),l==f&&e=="4999"){if(round(d,n+1,0),d.times(d).eq(b)){i=d;break}}else if(e!="9999")break;f+=4}return external=!0,round(i,n)};P.times=P.mul=function(t){var e,n,i,l,d,f,b,_,v,m=this,u=m.constructor,o=m.d,h=(t=new u(t)).d;if(!m.s||!t.s)return new u(0);for(t.s*=m.s,n=m.e+t.e,_=o.length,v=h.length,_<v&&(d=o,o=h,h=d,f=_,_=v,v=f),d=[],f=_+v,i=f;i--;)d.push(0);for(i=v;--i>=0;){for(e=0,l=_+i;l>i;)b=d[l]+h[i]*o[l-i-1]+e,d[l--]=b%BASE|0,e=b/BASE|0;d[l]=(d[l]+e)%BASE|0}for(;!d[--f];)d.pop();return e?++n:d.shift(),t.d=d,t.e=n,external?round(t,u.precision):t};P.toDecimalPlaces=P.todp=function(t,e){var n=this,i=n.constructor;return n=new i(n),t===void 0?n:(checkInt32(t,0,MAX_DIGITS),e===void 0?e=i.rounding:checkInt32(e,0,8),round(n,t+getBase10Exponent(n)+1,e))};P.toExponential=function(t,e){var n,i=this,l=i.constructor;return t===void 0?n=toString(i,!0):(checkInt32(t,0,MAX_DIGITS),e===void 0?e=l.rounding:checkInt32(e,0,8),i=round(new l(i),t+1,e),n=toString(i,!0,t+1)),n};P.toFixed=function(t,e){var n,i,l=this,d=l.constructor;return t===void 0?toString(l):(checkInt32(t,0,MAX_DIGITS),e===void 0?e=d.rounding:checkInt32(e,0,8),i=round(new d(l),t+getBase10Exponent(l)+1,e),n=toString(i.abs(),!1,t+getBase10Exponent(i)+1),l.isneg()&&!l.isZero()?"-"+n:n)};P.toInteger=P.toint=function(){var t=this,e=t.constructor;return round(new e(t),getBase10Exponent(t)+1,e.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(t){var e,n,i,l,d,f,b=this,_=b.constructor,v=12,m=+(t=new _(t));if(!t.s)return new _(ONE);if(b=new _(b),!b.s){if(t.s<1)throw Error(decimalError+"Infinity");return b}if(b.eq(ONE))return b;if(i=_.precision,t.eq(ONE))return round(b,i);if(e=t.e,n=t.d.length-1,f=e>=n,d=b.s,f){if((n=m<0?-m:m)<=MAX_SAFE_INTEGER){for(l=new _(ONE),e=Math.ceil(i/LOG_BASE+4),external=!1;n%2&&(l=l.times(b),truncate(l.d,e)),n=mathfloor(n/2),n!==0;)b=b.times(b),truncate(b.d,e);return external=!0,t.s<0?new _(ONE).div(l):round(l,i)}}else if(d<0)throw Error(decimalError+"NaN");return d=d<0&&t.d[Math.max(e,n)]&1?-1:1,b.s=1,external=!1,l=t.times(ln(b,i+v)),external=!0,l=exp(l),l.s=d,l};P.toPrecision=function(t,e){var n,i,l=this,d=l.constructor;return t===void 0?(n=getBase10Exponent(l),i=toString(l,n<=d.toExpNeg||n>=d.toExpPos)):(checkInt32(t,1,MAX_DIGITS),e===void 0?e=d.rounding:checkInt32(e,0,8),l=round(new d(l),t,e),n=getBase10Exponent(l),i=toString(l,t<=n||n<=d.toExpNeg,t)),i};P.toSignificantDigits=P.tosd=function(t,e){var n=this,i=n.constructor;return t===void 0?(t=i.precision,e=i.rounding):(checkInt32(t,1,MAX_DIGITS),e===void 0?e=i.rounding:checkInt32(e,0,8)),round(new i(n),t,e)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=getBase10Exponent(t),n=t.constructor;return toString(t,e<=n.toExpNeg||e>=n.toExpPos)};function add(t,e){var n,i,l,d,f,b,_,v,m=t.constructor,u=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),external?round(e,u):e;if(_=t.d,v=e.d,f=t.e,l=e.e,_=_.slice(),d=f-l,d){for(d<0?(i=_,d=-d,b=v.length):(i=v,l=f,b=_.length),f=Math.ceil(u/LOG_BASE),b=f>b?f+1:b+1,d>b&&(d=b,i.length=1),i.reverse();d--;)i.push(0);i.reverse()}for(b=_.length,d=v.length,b-d<0&&(d=b,i=v,v=_,_=i),n=0;d;)n=(_[--d]=_[d]+v[d]+n)/BASE|0,_[d]%=BASE;for(n&&(_.unshift(n),++l),b=_.length;_[--b]==0;)_.pop();return e.d=_,e.e=l,external?round(e,u):e}function checkInt32(t,e,n){if(t!==~~t||t<e||t>n)throw Error(invalidArgument+t)}function digitsToString(t){var e,n,i,l=t.length-1,d="",f=t[0];if(l>0){for(d+=f,e=1;e<l;e++)i=t[e]+"",n=LOG_BASE-i.length,n&&(d+=getZeroString(n)),d+=i;f=t[e],i=f+"",n=LOG_BASE-i.length,n&&(d+=getZeroString(n))}else if(f===0)return"0";for(;f%10===0;)f/=10;return d+f}var divide=(function(){function t(i,l){var d,f=0,b=i.length;for(i=i.slice();b--;)d=i[b]*l+f,i[b]=d%BASE|0,f=d/BASE|0;return f&&i.unshift(f),i}function e(i,l,d,f){var b,_;if(d!=f)_=d>f?1:-1;else for(b=_=0;b<d;b++)if(i[b]!=l[b]){_=i[b]>l[b]?1:-1;break}return _}function n(i,l,d){for(var f=0;d--;)i[d]-=f,f=i[d]<l[d]?1:0,i[d]=f*BASE+i[d]-l[d];for(;!i[0]&&i.length>1;)i.shift()}return function(i,l,d,f){var b,_,v,m,u,o,h,w,E,T,O,M,I,R,D,N,L,B,$=i.constructor,V=i.s==l.s?1:-1,G=i.d,X=l.d;if(!i.s)return new $(i);if(!l.s)throw Error(decimalError+"Division by zero");for(_=i.e-l.e,L=X.length,D=G.length,h=new $(V),w=h.d=[],v=0;X[v]==(G[v]||0);)++v;if(X[v]>(G[v]||0)&&--_,d==null?M=d=$.precision:f?M=d+(getBase10Exponent(i)-getBase10Exponent(l))+1:M=d,M<0)return new $(0);if(M=M/LOG_BASE+2|0,v=0,L==1)for(m=0,X=X[0],M++;(v<D||m)&&M--;v++)I=m*BASE+(G[v]||0),w[v]=I/X|0,m=I%X|0;else{for(m=BASE/(X[0]+1)|0,m>1&&(X=t(X,m),G=t(G,m),L=X.length,D=G.length),R=L,E=G.slice(0,L),T=E.length;T<L;)E[T++]=0;B=X.slice(),B.unshift(0),N=X[0],X[1]>=BASE/2&&++N;do m=0,b=e(X,E,L,T),b<0?(O=E[0],L!=T&&(O=O*BASE+(E[1]||0)),m=O/N|0,m>1?(m>=BASE&&(m=BASE-1),u=t(X,m),o=u.length,T=E.length,b=e(u,E,o,T),b==1&&(m--,n(u,L<o?B:X,o))):(m==0&&(b=m=1),u=X.slice()),o=u.length,o<T&&u.unshift(0),n(E,u,T),b==-1&&(T=E.length,b=e(X,E,L,T),b<1&&(m++,n(E,L<T?B:X,T))),T=E.length):b===0&&(m++,E=[0]),w[v++]=m,b&&E[0]?E[T++]=G[R]||0:(E=[G[R]],T=1);while((R++<D||E[0]!==void 0)&&M--)}return w[0]||w.shift(),h.e=_,round(h,f?d+getBase10Exponent(h)+1:d)}})();function exp(t,e){var n,i,l,d,f,b,_=0,v=0,m=t.constructor,u=m.precision;if(getBase10Exponent(t)>16)throw Error(exponentOutOfRange+getBase10Exponent(t));if(!t.s)return new m(ONE);for(external=!1,b=u,f=new m(.03125);t.abs().gte(.1);)t=t.times(f),v+=5;for(i=Math.log(mathpow(2,v))/Math.LN10*2+5|0,b+=i,n=l=d=new m(ONE),m.precision=b;;){if(l=round(l.times(t),b),n=n.times(++_),f=d.plus(divide(l,n,b)),digitsToString(f.d).slice(0,b)===digitsToString(d.d).slice(0,b)){for(;v--;)d=round(d.times(d),b);return m.precision=u,e==null?(external=!0,round(d,u)):d}d=f}}function getBase10Exponent(t){for(var e=t.e*LOG_BASE,n=t.d[0];n>=10;n/=10)e++;return e}function getLn10(t,e,n){if(e>t.LN10.sd())throw external=!0,n&&(t.precision=n),Error(decimalError+"LN10 precision limit exceeded");return round(new t(t.LN10),e)}function getZeroString(t){for(var e="";t--;)e+="0";return e}function ln(t,e){var n,i,l,d,f,b,_,v,m,u=1,o=10,h=t,w=h.d,E=h.constructor,T=E.precision;if(h.s<1)throw Error(decimalError+(h.s?"NaN":"-Infinity"));if(h.eq(ONE))return new E(0);if(e==null?(external=!1,v=T):v=e,h.eq(10))return e==null&&(external=!0),getLn10(E,v);if(v+=o,E.precision=v,n=digitsToString(w),i=n.charAt(0),d=getBase10Exponent(h),Math.abs(d)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)h=h.times(t),n=digitsToString(h.d),i=n.charAt(0),u++;d=getBase10Exponent(h),i>1?(h=new E("0."+n),d++):h=new E(i+"."+n.slice(1))}else return _=getLn10(E,v+2,T).times(d+""),h=ln(new E(i+"."+n.slice(1)),v-o).plus(_),E.precision=T,e==null?(external=!0,round(h,T)):h;for(b=f=h=divide(h.minus(ONE),h.plus(ONE),v),m=round(h.times(h),v),l=3;;){if(f=round(f.times(m),v),_=b.plus(divide(f,new E(l),v)),digitsToString(_.d).slice(0,v)===digitsToString(b.d).slice(0,v))return b=b.times(2),d!==0&&(b=b.plus(getLn10(E,v+2,T).times(d+""))),b=divide(b,new E(u),v),E.precision=T,e==null?(external=!0,round(b,T)):b;b=_,l+=2}}function parseDecimal(t,e){var n,i,l;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;)++i;for(l=e.length;e.charCodeAt(l-1)===48;)--l;if(e=e.slice(i,l),e){if(l-=i,n=n-i-1,t.e=mathfloor(n/LOG_BASE),t.d=[],i=(n+1)%LOG_BASE,n<0&&(i+=LOG_BASE),i<l){for(i&&t.d.push(+e.slice(0,i)),l-=LOG_BASE;i<l;)t.d.push(+e.slice(i,i+=LOG_BASE));e=e.slice(i),i=LOG_BASE-e.length}else i-=l;for(;i--;)e+="0";if(t.d.push(+e),external&&(t.e>MAX_E||t.e<-MAX_E))throw Error(exponentOutOfRange+n)}else t.s=0,t.e=0,t.d=[0];return t}function round(t,e,n){var i,l,d,f,b,_,v,m,u=t.d;for(f=1,d=u[0];d>=10;d/=10)f++;if(i=e-f,i<0)i+=LOG_BASE,l=e,v=u[m=0];else{if(m=Math.ceil((i+1)/LOG_BASE),d=u.length,m>=d)return t;for(v=d=u[m],f=1;d>=10;d/=10)f++;i%=LOG_BASE,l=i-LOG_BASE+f}if(n!==void 0&&(d=mathpow(10,f-l-1),b=v/d%10|0,_=e<0||u[m+1]!==void 0||v%d,_=n<4?(b||_)&&(n==0||n==(t.s<0?3:2)):b>5||b==5&&(n==4||_||n==6&&(i>0?l>0?v/mathpow(10,f-l):0:u[m-1])%10&1||n==(t.s<0?8:7))),e<1||!u[0])return _?(d=getBase10Exponent(t),u.length=1,e=e-d-1,u[0]=mathpow(10,(LOG_BASE-e%LOG_BASE)%LOG_BASE),t.e=mathfloor(-e/LOG_BASE)||0):(u.length=1,u[0]=t.e=t.s=0),t;if(i==0?(u.length=m,d=1,m--):(u.length=m+1,d=mathpow(10,LOG_BASE-i),u[m]=l>0?(v/mathpow(10,f-l)%mathpow(10,l)|0)*d:0),_)for(;;)if(m==0){(u[0]+=d)==BASE&&(u[0]=1,++t.e);break}else{if(u[m]+=d,u[m]!=BASE)break;u[m--]=0,d=1}for(i=u.length;u[--i]===0;)u.pop();if(external&&(t.e>MAX_E||t.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(t));return t}function subtract(t,e){var n,i,l,d,f,b,_,v,m,u,o=t.constructor,h=o.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new o(t),external?round(e,h):e;if(_=t.d,u=e.d,i=e.e,v=t.e,_=_.slice(),f=v-i,f){for(m=f<0,m?(n=_,f=-f,b=u.length):(n=u,i=v,b=_.length),l=Math.max(Math.ceil(h/LOG_BASE),b)+2,f>l&&(f=l,n.length=1),n.reverse(),l=f;l--;)n.push(0);n.reverse()}else{for(l=_.length,b=u.length,m=l<b,m&&(b=l),l=0;l<b;l++)if(_[l]!=u[l]){m=_[l]<u[l];break}f=0}for(m&&(n=_,_=u,u=n,e.s=-e.s),b=_.length,l=u.length-b;l>0;--l)_[b++]=0;for(l=u.length;l>f;){if(_[--l]<u[l]){for(d=l;d&&_[--d]===0;)_[d]=BASE-1;--_[d],_[l]+=BASE}_[l]-=u[l]}for(;_[--b]===0;)_.pop();for(;_[0]===0;_.shift())--i;return _[0]?(e.d=_,e.e=i,external?round(e,h):e):new o(0)}function toString(t,e,n){var i,l=getBase10Exponent(t),d=digitsToString(t.d),f=d.length;return e?(n&&(i=n-f)>0?d=d.charAt(0)+"."+d.slice(1)+getZeroString(i):f>1&&(d=d.charAt(0)+"."+d.slice(1)),d=d+(l<0?"e":"e+")+l):l<0?(d="0."+getZeroString(-l-1)+d,n&&(i=n-f)>0&&(d+=getZeroString(i))):l>=f?(d+=getZeroString(l+1-f),n&&(i=n-l-1)>0&&(d=d+"."+getZeroString(i))):((i=l+1)<f&&(d=d.slice(0,i)+"."+d.slice(i)),n&&(i=n-f)>0&&(l+1===f&&(d+="."),d+=getZeroString(i))),t.s<0?"-"+d:d}function truncate(t,e){if(t.length>e)return t.length=e,!0}function clone(t){var e,n,i;function l(d){var f=this;if(!(f instanceof l))return new l(d);if(f.constructor=l,d instanceof l){f.s=d.s,f.e=d.e,f.d=(d=d.d)?d.slice():d;return}if(typeof d=="number"){if(d*0!==0)throw Error(invalidArgument+d);if(d>0)f.s=1;else if(d<0)d=-d,f.s=-1;else{f.s=0,f.e=0,f.d=[0];return}if(d===~~d&&d<1e7){f.e=0,f.d=[d];return}return parseDecimal(f,d.toString())}else if(typeof d!="string")throw Error(invalidArgument+d);if(d.charCodeAt(0)===45?(d=d.slice(1),f.s=-1):f.s=1,isDecimal.test(d))parseDecimal(f,d);else throw Error(invalidArgument+d)}if(l.prototype=P,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=clone,l.config=l.set=config,t===void 0&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)t.hasOwnProperty(n=i[e++])||(t[n]=this[n]);return l.config(t),l}function config(t){if(!t||typeof t!="object")throw Error(decimalError+"Object expected");var e,n,i,l=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<l.length;e+=3)if((i=t[n=l[e]])!==void 0)if(mathfloor(i)===i&&i>=l[e+1]&&i<=l[e+2])this[n]=i;else throw Error(invalidArgument+n+": "+i);if((i=t[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(invalidArgument+n+": "+i);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;var identity=t=>t,PLACE_HOLDER={},isPlaceHolder=t=>t===PLACE_HOLDER,curry0=t=>function e(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},curryN=(t,e)=>t===1?e:curry0(function(){for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];var d=i.filter(f=>f!==PLACE_HOLDER).length;return d>=t?e(...i):curryN(t-d,curry0(function(){for(var f=arguments.length,b=new Array(f),_=0;_<f;_++)b[_]=arguments[_];var v=i.map(m=>isPlaceHolder(m)?b.shift():m);return e(...v,...b)}))}),curry=t=>curryN(t.length,t),range=(t,e)=>{for(var n=[],i=t;i<e;++i)n[i-t]=i;return n},map=curry((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),compose=function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(!n.length)return identity;var l=n.reverse(),d=l[0],f=l.slice(1);return function(){return f.reduce((b,_)=>_(b),d(...arguments))}},reverse=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),memoize=t=>{var e=null,n=null;return function(){for(var i=arguments.length,l=new Array(i),d=0;d<i;d++)l[d]=arguments[d];return e&&l.every((f,b)=>{var _;return f===((_=e)===null||_===void 0?void 0:_[b])})||(e=l,n=t(...l)),n}};function getDigitCount(t){var e;return t===0?e=1:e=Math.floor(new Decimal$1(t).abs().log(10).toNumber())+1,e}function rangeStep(t,e,n){for(var i=new Decimal$1(t),l=0,d=[];i.lt(e)&&l<1e5;)d.push(i.toNumber()),i=i.add(n),l++;return d}curry((t,e,n)=>{var i=+t,l=+e;return i+n*(l-i)});curry((t,e,n)=>{var i=e-+t;return i=i||1/0,(n-t)/i});curry((t,e,n)=>{var i=e-+t;return i=i||1/0,Math.max(0,Math.min(1,(n-t)/i))});var getValidInterval=t=>{var[e,n]=t,[i,l]=[e,n];return e>n&&([i,l]=[n,e]),[i,l]},getFormatStep=(t,e,n)=>{if(t.lte(0))return new Decimal$1(0);var i=getDigitCount(t.toNumber()),l=new Decimal$1(10).pow(i),d=t.div(l),f=i!==1?.05:.1,b=new Decimal$1(Math.ceil(d.div(f).toNumber())).add(n).mul(f),_=b.mul(l);return e?new Decimal$1(_.toNumber()):new Decimal$1(Math.ceil(_.toNumber()))},getTickOfSingleValue=(t,e,n)=>{var i=new Decimal$1(1),l=new Decimal$1(t);if(!l.isint()&&n){var d=Math.abs(t);d<1?(i=new Decimal$1(10).pow(getDigitCount(t)-1),l=new Decimal$1(Math.floor(l.div(i).toNumber())).mul(i)):d>1&&(l=new Decimal$1(Math.floor(t)))}else t===0?l=new Decimal$1(Math.floor((e-1)/2)):n||(l=new Decimal$1(Math.floor(t)));var f=Math.floor((e-1)/2),b=compose(map(_=>l.add(new Decimal$1(_-f).mul(i)).toNumber()),range);return b(0,e)},_calculateStep=function t(e,n,i,l){var d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(i-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var f=getFormatStep(new Decimal$1(n).sub(e).div(i-1),l,d),b;e<=0&&n>=0?b=new Decimal$1(0):(b=new Decimal$1(e).add(n).div(2),b=b.sub(new Decimal$1(b).mod(f)));var _=Math.ceil(b.sub(e).div(f).toNumber()),v=Math.ceil(new Decimal$1(n).sub(b).div(f).toNumber()),m=_+v+1;return m>i?_calculateStep(e,n,i,l,d+1):(m<i&&(v=n>0?v+(i-m):v,_=n>0?_:_+(i-m)),{step:f,tickMin:b.sub(new Decimal$1(_).mul(f)),tickMax:b.add(new Decimal$1(v).mul(f))})};function getNiceTickValuesFn(t){var[e,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,d=Math.max(i,2),[f,b]=getValidInterval([e,n]);if(f===-1/0||b===1/0){var _=b===1/0?[f,...range(0,i-1).map(()=>1/0)]:[...range(0,i-1).map(()=>-1/0),b];return e>n?reverse(_):_}if(f===b)return getTickOfSingleValue(f,i,l);var{step:v,tickMin:m,tickMax:u}=_calculateStep(f,b,d,l,0),o=rangeStep(m,u.add(new Decimal$1(.1).mul(v)),v);return e>n?reverse(o):o}function getTickValuesFixedDomainFn(t,e){var[n,i]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[d,f]=getValidInterval([n,i]);if(d===-1/0||f===1/0)return[n,i];if(d===f)return[d];var b=Math.max(e,2),_=getFormatStep(new Decimal$1(f).sub(d).div(b-1),l,0),v=[...rangeStep(new Decimal$1(d),new Decimal$1(f),_),f];return l===!1&&(v=v.map(m=>Math.round(m))),n>i?reverse(v):v}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),selectRootMaxBarSize=t=>t.rootProps.maxBarSize,selectBarGap=t=>t.rootProps.barGap,selectBarCategoryGap=t=>t.rootProps.barCategoryGap,selectRootBarSize=t=>t.rootProps.barSize,selectStackOffsetType=t=>t.rootProps.stackOffset,selectChartName=t=>t.options.chartName,selectSyncId=t=>t.rootProps.syncId,selectSyncMethod=t=>t.rootProps.syncMethod,selectEventEmitter=t=>t.options.eventEmitter,selectChartBaseValue=t=>t.rootProps.baseValue,DefaultZIndexes={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},defaultPolarAngleAxisProps={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:DefaultZIndexes.axis},defaultPolarRadiusAxisProps={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,includeHidden:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:DefaultZIndexes.axis},combineAxisRangeWithReverse=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},implicitAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:defaultPolarAngleAxisProps.reversed,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:defaultPolarAngleAxisProps.type,unit:void 0},implicitRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:defaultPolarRadiusAxisProps.type,unit:void 0},implicitRadialBarAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:defaultPolarAngleAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},implicitRadialBarRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:"category",unit:void 0},selectAngleAxis=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?implicitRadialBarAngleAxis:implicitAngleAxis,selectRadiusAxis=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?implicitRadialBarRadiusAxis:implicitRadiusAxis,selectPolarOptions=t=>t.polarOptions,selectMaxRadius=createSelector([selectChartWidth,selectChartHeight,selectChartOffsetInternal],getMaxRadius),selectInnerRadius=createSelector([selectPolarOptions,selectMaxRadius],(t,e)=>{if(t!=null)return getPercentValue(t.innerRadius,e,0)}),selectOuterRadius=createSelector([selectPolarOptions,selectMaxRadius],(t,e)=>{if(t!=null)return getPercentValue(t.outerRadius,e,e*.8)}),combineAngleAxisRange=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},selectAngleAxisRange=createSelector([selectPolarOptions],combineAngleAxisRange),selectAngleAxisRangeWithReversed=createSelector([selectAngleAxis,selectAngleAxisRange],combineAxisRangeWithReverse),selectRadiusAxisRange=createSelector([selectMaxRadius,selectInnerRadius,selectOuterRadius],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),selectRadiusAxisRangeWithReversed=createSelector([selectRadiusAxis,selectRadiusAxisRange],combineAxisRangeWithReverse),selectPolarViewBox=createSelector([selectChartLayout,selectPolarOptions,selectInnerRadius,selectOuterRadius,selectChartWidth,selectChartHeight],(t,e,n,i,l,d)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||i==null)){var{cx:f,cy:b,startAngle:_,endAngle:v}=e;return{cx:getPercentValue(f,l,l/2),cy:getPercentValue(b,d,d/2),innerRadius:n,outerRadius:i,startAngle:_,endAngle:v,clockWise:!1}}}),pickAxisType=(t,e)=>e,pickAxisId=(t,e,n)=>n;function getStackSeriesIdentifier(t){return t==null?void 0:t.id}function combineDisplayedStackedData(t,e,n){var{chartData:i=[]}=e,{allowDuplicatedCategory:l,dataKey:d}=n,f=new Map;return t.forEach(b=>{var _,v=(_=b.data)!==null&&_!==void 0?_:i;if(!(v==null||v.length===0)){var m=getStackSeriesIdentifier(b);v.forEach((u,o)=>{var h=d==null||l?o:String(getValueByDataKey(u,d,null)),w=getValueByDataKey(u,b.dataKey,0),E;f.has(h)?E=f.get(h):E={},Object.assign(E,{[m]:w}),f.set(h,E)})}}),Array.from(f.values())}function isStacked(t){return t.stackId!=null&&t.dataKey!=null}var numberDomainEqualityCheck=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function emptyArraysAreEqualCheck(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function arrayContentsAreEqualCheck(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var selectTooltipAxisType=t=>{var e=selectChartLayout(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},selectTooltipAxisId=t=>t.tooltip.settings.axisId;function ownKeys$v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$v(Object(n),!0).forEach(function(i){_defineProperty$x(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$v(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$x(t,e,n){return(e=_toPropertyKey$x(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$x(t){var e=_toPrimitive$x(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$x(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var defaultNumericDomain=[0,"auto"],implicitXAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},selectXAxisSettingsNoDefaults=(t,e)=>t.cartesianAxis.xAxis[e],selectXAxisSettings=(t,e)=>{var n=selectXAxisSettingsNoDefaults(t,e);return n??implicitXAxis},implicitYAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:defaultNumericDomain,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:DEFAULT_Y_AXIS_WIDTH},selectYAxisSettingsNoDefaults=(t,e)=>t.cartesianAxis.yAxis[e],selectYAxisSettings=(t,e)=>{var n=selectYAxisSettingsNoDefaults(t,e);return n??implicitYAxis},implicitZAxis={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},selectZAxisSettings=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??implicitZAxis},selectBaseAxis=(t,e,n)=>{switch(e){case"xAxis":return selectXAxisSettings(t,n);case"yAxis":return selectYAxisSettings(t,n);case"zAxis":return selectZAxisSettings(t,n);case"angleAxis":return selectAngleAxis(t,n);case"radiusAxis":return selectRadiusAxis(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},selectCartesianAxisSettings=(t,e,n)=>{switch(e){case"xAxis":return selectXAxisSettings(t,n);case"yAxis":return selectYAxisSettings(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},selectAxisSettings=(t,e,n)=>{switch(e){case"xAxis":return selectXAxisSettings(t,n);case"yAxis":return selectYAxisSettings(t,n);case"angleAxis":return selectAngleAxis(t,n);case"radiusAxis":return selectRadiusAxis(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},selectHasBar=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function itemAxisPredicate(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var selectUnfilteredCartesianItems=t=>t.graphicalItems.cartesianItems,selectAxisPredicate$1=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),combineGraphicalItemsSettings=(t,e,n)=>t.filter(n).filter(i=>(e==null?void 0:e.includeHidden)===!0?!0:!i.hide),selectCartesianItemsSettings=createSelector([selectUnfilteredCartesianItems,selectBaseAxis,selectAxisPredicate$1],combineGraphicalItemsSettings,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectStackedCartesianItemsSettings=createSelector([selectCartesianItemsSettings],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(isStacked)),filterGraphicalNotStackedItems=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),selectCartesianItemsSettingsExceptStacked=createSelector([selectCartesianItemsSettings],filterGraphicalNotStackedItems),combineGraphicalItemsData=t=>t.map(e=>e.data).filter(Boolean).flat(1),selectCartesianGraphicalItemsData=createSelector([selectCartesianItemsSettings],combineGraphicalItemsData,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),combineDisplayedData=(t,e)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:l}=e;return t.length>0?t:n.slice(i,l+1)},selectDisplayedData$1=createSelector([selectCartesianGraphicalItemsData,selectChartDataWithIndexesIfNotInPanorama],combineDisplayedData),combineAppliedValues=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:getValueByDataKey(i,e.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>t.map(l=>({value:getValueByDataKey(l,i)}))):t.map(i=>({value:i})),selectAllAppliedValues=createSelector([selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettings],combineAppliedValues);function isErrorBarRelevantForAxisType(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function makeNumber(t){if(isNumOrStr(t)||t instanceof Date){var e=Number(t);if(isWellBehavedNumber(e))return e}}function makeDomain(t){if(Array.isArray(t)){var e=[makeNumber(t[0]),makeNumber(t[1])];return isWellFormedNumberDomain(e)?e:void 0}var n=makeNumber(t);if(n!=null)return[n,n]}function onlyAllowNumbers(t){return t.map(makeNumber).filter(isNotNil)}function getErrorDomainByDataKey(t,e,n){return!n||typeof e!="number"||isNan(e)?[]:n.length?onlyAllowNumbers(n.flatMap(i=>{var l=getValueByDataKey(t,i.dataKey),d,f;if(Array.isArray(l)?[d,f]=l:d=f=l,!(!isWellBehavedNumber(d)||!isWellBehavedNumber(f)))return[e-d,e+f]})):[]}var selectTooltipAxis=t=>{var e=selectTooltipAxisType(t),n=selectTooltipAxisId(t);return selectAxisSettings(t,e,n)},selectTooltipAxisDataKey=createSelector([selectTooltipAxis],t=>t==null?void 0:t.dataKey),selectDisplayedStackedData=createSelector([selectStackedCartesianItemsSettings,selectChartDataWithIndexesIfNotInPanorama,selectTooltipAxis],combineDisplayedStackedData),combineStackGroups=(t,e,n)=>{var i={},l=e.reduce((d,f)=>(f.stackId==null||(d[f.stackId]==null&&(d[f.stackId]=[]),d[f.stackId].push(f)),d),i);return Object.fromEntries(Object.entries(l).map(d=>{var[f,b]=d,_=b.map(getStackSeriesIdentifier);return[f,{stackedData:getStackedData(t,_,n),graphicalItems:b}]}))},selectStackGroups=createSelector([selectDisplayedStackedData,selectStackedCartesianItemsSettings,selectStackOffsetType],combineStackGroups),combineDomainOfStackGroups=(t,e,n,i)=>{var{dataStartIndex:l,dataEndIndex:d}=e;if(i==null&&n!=="zAxis"){var f=getDomainOfStackGroups(t,l,d);if(!(f!=null&&f[0]===0&&f[1]===0))return f}},selectAllowsDataOverflow=createSelector([selectBaseAxis],t=>t.allowDataOverflow),getDomainDefinition=t=>{var e;if(t==null||!("domain"in t))return defaultNumericDomain;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=onlyAllowNumbers(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:defaultNumericDomain},selectDomainDefinition=createSelector([selectBaseAxis],getDomainDefinition),selectDomainFromUserPreference=createSelector([selectDomainDefinition,selectAllowsDataOverflow],numericalDomainSpecifiedWithoutRequiringData),selectDomainOfStackGroups=createSelector([selectStackGroups,selectChartDataWithIndexes,pickAxisType,selectDomainFromUserPreference],combineDomainOfStackGroups,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),selectAllErrorBarSettings=t=>t.errorBars,combineRelevantErrorBarSettings=(t,e,n)=>t.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>isErrorBarRelevantForAxisType(n,i)),mergeDomains=function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var l=n.filter(Boolean);if(l.length!==0){var d=l.flat(),f=Math.min(...d),b=Math.max(...d);return[f,b]}},combineDomainOfAllAppliedNumericalValuesIncludingErrorValues=(t,e,n,i,l)=>{var d,f;if(n.length>0&&t.forEach(b=>{n.forEach(_=>{var v,m,u=(v=i[_.id])===null||v===void 0?void 0:v.filter(O=>isErrorBarRelevantForAxisType(l,O)),o=getValueByDataKey(b,(m=e.dataKey)!==null&&m!==void 0?m:_.dataKey),h=getErrorDomainByDataKey(b,o,u);if(h.length>=2){var w=Math.min(...h),E=Math.max(...h);(d==null||w<d)&&(d=w),(f==null||E>f)&&(f=E)}var T=makeDomain(o);T!=null&&(d=d==null?T[0]:Math.min(d,T[0]),f=f==null?T[1]:Math.max(f,T[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(b=>{var _=makeDomain(getValueByDataKey(b,e.dataKey));_!=null&&(d=d==null?_[0]:Math.min(d,_[0]),f=f==null?_[1]:Math.max(f,_[1]))}),isWellBehavedNumber(d)&&isWellBehavedNumber(f))return[d,f]},selectDomainOfAllAppliedNumericalValuesIncludingErrorValues$1=createSelector([selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}});function onlyAllowNumbersAndStringsAndDates(t){var{value:e}=t;if(isNumOrStr(e)||e instanceof Date)return e}var computeDomainOfTypeCategory=(t,e,n)=>{var i=t.map(onlyAllowNumbersAndStringsAndDates).filter(l=>l!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&hasDuplicate(i))?range$2(0,t.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},selectReferenceDots=t=>t.referenceElements.dots,filterReferenceElements=(t,e,n)=>t.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===n:i.yAxisId===n),selectReferenceDotsByAxis=createSelector([selectReferenceDots,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceAreas=t=>t.referenceElements.areas,selectReferenceAreasByAxis=createSelector([selectReferenceAreas,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceLines=t=>t.referenceElements.lines,selectReferenceLinesByAxis=createSelector([selectReferenceLines,pickAxisType,pickAxisId],filterReferenceElements),combineDotsDomain=(t,e)=>{var n=onlyAllowNumbers(t.map(i=>e==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},selectReferenceDotsDomain=createSelector(selectReferenceDotsByAxis,pickAxisType,combineDotsDomain),combineAreasDomain=(t,e)=>{var n=onlyAllowNumbers(t.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},selectReferenceAreasDomain=createSelector([selectReferenceAreasByAxis,pickAxisType],combineAreasDomain);function extractXCoordinates(t){var e;if(t.x!=null)return onlyAllowNumbers([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(i=>i.x);return n==null||n.length===0?[]:onlyAllowNumbers(n)}function extractYCoordinates(t){var e;if(t.y!=null)return onlyAllowNumbers([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(i=>i.y);return n==null||n.length===0?[]:onlyAllowNumbers(n)}var combineLinesDomain=(t,e)=>{var n=t.flatMap(i=>e==="xAxis"?extractXCoordinates(i):extractYCoordinates(i));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},selectReferenceLinesDomain=createSelector([selectReferenceLinesByAxis,pickAxisType],combineLinesDomain),selectReferenceElementsDomain=createSelector(selectReferenceDotsDomain,selectReferenceLinesDomain,selectReferenceAreasDomain,(t,e,n)=>mergeDomains(t,n,e)),combineNumericalDomain=(t,e,n,i,l,d,f,b)=>{if(n!=null)return n;var _=f==="vertical"&&b==="xAxis"||f==="horizontal"&&b==="yAxis",v=_?mergeDomains(i,d,l):mergeDomains(d,l);return parseNumericalUserDomain(e,v,t.allowDataOverflow)},selectNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainFromUserPreference,selectDomainOfStackGroups,selectDomainOfAllAppliedNumericalValuesIncludingErrorValues$1,selectReferenceElementsDomain,selectChartLayout,pickAxisType],combineNumericalDomain,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),expandDomain=[0,1],combineAxisDomain=(t,e,n,i,l,d,f)=>{if(!((t==null||n==null||n.length===0)&&f===void 0)){var{dataKey:b,type:_}=t,v=isCategoricalAxis(e,d);if(v&&b==null){var m;return range$2(0,(m=n==null?void 0:n.length)!==null&&m!==void 0?m:0)}return _==="category"?computeDomainOfTypeCategory(i,t,v):l==="expand"?expandDomain:f}},selectAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectDisplayedData$1,selectAllAppliedValues,selectStackOffsetType,pickAxisType,selectNumericalDomain],combineAxisDomain),combineRealScaleType=(t,e,n,i,l)=>{if(t!=null){var{scale:d,type:f}=t;if(d==="auto")return e==="radial"&&l==="radiusAxis"?"band":e==="radial"&&l==="angleAxis"?"linear":f==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!n)?"point":f==="category"?"band":"linear";if(typeof d=="string"){var b="scale".concat(upperFirst(d));return b in d3Scales?b:"point"}}},selectRealScaleType=createSelector([selectBaseAxis,selectChartLayout,selectHasBar,selectChartName,pickAxisType],combineRealScaleType);function getD3ScaleFromType(t){if(t!=null){if(t in d3Scales)return d3Scales[t]();var e="scale".concat(upperFirst(t));if(e in d3Scales)return d3Scales[e]()}}function combineScaleFunction(t,e,n,i){if(!(n==null||i==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(i);var l=getD3ScaleFromType(e);if(l!=null){var d=l.domain(n).range(i);return checkDomainOfScale(d),d}}}var combineNiceTicks=(t,e,n)=>{var i=getDomainDefinition(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&isWellFormedNumberDomain(t))return getNiceTickValues(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&isWellFormedNumberDomain(t))return getTickValuesFixedDomain(t,e.tickCount,e.allowDecimals)}},selectNiceTicks=createSelector([selectAxisDomain,selectAxisSettings,selectRealScaleType],combineNiceTicks),combineAxisDomainWithNiceTicks=(t,e,n,i)=>{if(i!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&isWellFormedNumberDomain(e)&&Array.isArray(n)&&n.length>0){var l=e[0],d=n[0],f=e[1],b=n[n.length-1];return[Math.min(l,d),Math.max(f,b)]}return e},selectAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectAxisDomain,selectNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks),selectSmallestDistanceBetweenValues=createSelector(selectAllAppliedValues,selectBaseAxis,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,i=Array.from(onlyAllowNumbers(t.map(b=>b.value))).sort((b,_)=>b-_);if(i.length<2)return 1/0;var l=i[i.length-1]-i[0];if(l===0)return 1/0;for(var d=0;d<i.length-1;d++){var f=i[d+1]-i[d];n=Math.min(n,f)}return n/l}}),selectCalculatedPadding=createSelector(selectSmallestDistanceBetweenValues,selectChartLayout,selectBarCategoryGap,selectChartOffsetInternal,(t,e,n,i)=>i,(t,e,n,i,l)=>{if(!isWellBehavedNumber(t))return 0;var d=e==="vertical"?i.height:i.width;if(l==="gap")return t*d/2;if(l==="no-gap"){var f=getPercentValue(n,t*d),b=t*d/2;return b-f-(b-f)/d*f}return 0}),selectCalculatedXAxisPadding=(t,e)=>{var n=selectXAxisSettings(t,e);return n==null||typeof n.padding!="string"?0:selectCalculatedPadding(t,"xAxis",e,n.padding)},selectCalculatedYAxisPadding=(t,e)=>{var n=selectYAxisSettings(t,e);return n==null||typeof n.padding!="string"?0:selectCalculatedPadding(t,"yAxis",e,n.padding)},selectXAxisPadding=createSelector(selectXAxisSettings,selectCalculatedXAxisPadding,(t,e)=>{var n,i;if(t==null)return{left:0,right:0};var{padding:l}=t;return typeof l=="string"?{left:e,right:e}:{left:((n=l.left)!==null&&n!==void 0?n:0)+e,right:((i=l.right)!==null&&i!==void 0?i:0)+e}}),selectYAxisPadding=createSelector(selectYAxisSettings,selectCalculatedYAxisPadding,(t,e)=>{var n,i;if(t==null)return{top:0,bottom:0};var{padding:l}=t;return typeof l=="string"?{top:e,bottom:e}:{top:((n=l.top)!==null&&n!==void 0?n:0)+e,bottom:((i=l.bottom)!==null&&i!==void 0?i:0)+e}}),combineXAxisRange=createSelector([selectChartOffsetInternal,selectXAxisPadding,selectBrushDimensions,selectBrushSettings,(t,e,n)=>n],(t,e,n,i,l)=>{var{padding:d}=i;return l?[d.left,n.width-d.right]:[t.left+e.left,t.left+t.width-e.right]}),combineYAxisRange=createSelector([selectChartOffsetInternal,selectChartLayout,selectYAxisPadding,selectBrushDimensions,selectBrushSettings,(t,e,n)=>n],(t,e,n,i,l,d)=>{var{padding:f}=l;return d?[i.height-f.bottom,f.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),selectAxisRange=(t,e,n,i)=>{var l;switch(e){case"xAxis":return combineXAxisRange(t,n,i);case"yAxis":return combineYAxisRange(t,n,i);case"zAxis":return(l=selectZAxisSettings(t,n))===null||l===void 0?void 0:l.range;case"angleAxis":return selectAngleAxisRange(t);case"radiusAxis":return selectRadiusAxisRange(t,n);default:return}},selectAxisRangeWithReverse=createSelector([selectBaseAxis,selectAxisRange],combineAxisRangeWithReverse),selectAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomainIncludingNiceTicks,selectAxisRangeWithReverse],combineScaleFunction);createSelector([selectCartesianItemsSettings,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);function compareIds(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var pickAxisOrientation=(t,e)=>e,pickMirror=(t,e,n)=>n,selectAllXAxesWithOffsetType=createSelector(selectAllXAxes,pickAxisOrientation,pickMirror,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(compareIds)),selectAllYAxesWithOffsetType=createSelector(selectAllYAxes,pickAxisOrientation,pickMirror,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(compareIds)),getXAxisSize=(t,e)=>({width:t.width,height:e.height}),getYAxisSize=(t,e)=>{var n=typeof e.width=="number"?e.width:DEFAULT_Y_AXIS_WIDTH;return{width:n,height:t.height}},selectXAxisSize=createSelector(selectChartOffsetInternal,selectXAxisSettings,getXAxisSize),combineXAxisPositionStartingPoint=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},combineYAxisPositionStartingPoint=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},selectAllXAxesOffsetSteps=createSelector(selectChartHeight,selectChartOffsetInternal,selectAllXAxesWithOffsetType,pickAxisOrientation,pickMirror,(t,e,n,i,l)=>{var d={},f;return n.forEach(b=>{var _=getXAxisSize(e,b);f==null&&(f=combineXAxisPositionStartingPoint(e,i,t));var v=i==="top"&&!l||i==="bottom"&&l;d[b.id]=f-Number(v)*_.height,f+=(v?-1:1)*_.height}),d}),selectAllYAxesOffsetSteps=createSelector(selectChartWidth,selectChartOffsetInternal,selectAllYAxesWithOffsetType,pickAxisOrientation,pickMirror,(t,e,n,i,l)=>{var d={},f;return n.forEach(b=>{var _=getYAxisSize(e,b);f==null&&(f=combineYAxisPositionStartingPoint(e,i,t));var v=i==="left"&&!l||i==="right"&&l;d[b.id]=f-Number(v)*_.width,f+=(v?-1:1)*_.width}),d}),selectXAxisOffsetSteps=(t,e)=>{var n=selectXAxisSettings(t,e);if(n!=null)return selectAllXAxesOffsetSteps(t,n.orientation,n.mirror)},selectXAxisPosition=createSelector([selectChartOffsetInternal,selectXAxisSettings,selectXAxisOffsetSteps,(t,e)=>e],(t,e,n,i)=>{if(e!=null){var l=n==null?void 0:n[i];return l==null?{x:t.left,y:0}:{x:t.left,y:l}}}),selectYAxisOffsetSteps=(t,e)=>{var n=selectYAxisSettings(t,e);if(n!=null)return selectAllYAxesOffsetSteps(t,n.orientation,n.mirror)},selectYAxisPosition=createSelector([selectChartOffsetInternal,selectYAxisSettings,selectYAxisOffsetSteps,(t,e)=>e],(t,e,n,i)=>{if(e!=null){var l=n==null?void 0:n[i];return l==null?{x:0,y:t.top}:{x:l,y:t.top}}}),selectYAxisSize=createSelector(selectChartOffsetInternal,selectYAxisSettings,(t,e)=>{var n=typeof e.width=="number"?e.width:DEFAULT_Y_AXIS_WIDTH;return{width:n,height:t.height}}),selectCartesianAxisSize=(t,e,n)=>{switch(e){case"xAxis":return selectXAxisSize(t,n).width;case"yAxis":return selectYAxisSize(t,n).height;default:return}},combineDuplicateDomain=(t,e,n,i)=>{if(n!=null){var{allowDuplicatedCategory:l,type:d,dataKey:f}=n,b=isCategoricalAxis(t,i),_=e.map(v=>v.value);if(f&&b&&d==="category"&&l&&hasDuplicate(_))return _}},selectDuplicateDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectBaseAxis,pickAxisType],combineDuplicateDomain),combineCategoricalDomain=(t,e,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:l,scale:d}=n,f=isCategoricalAxis(t,i);if(f&&(l==="number"||d!=="auto"))return e.map(b=>b.value)}},selectCategoricalDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectAxisSettings,pickAxisType],combineCategoricalDomain),selectAxisPropsNeededForCartesianGridTicksGenerator=createSelector([selectChartLayout,selectCartesianAxisSettings,selectRealScaleType,selectAxisScale,selectDuplicateDomain,selectCategoricalDomain,selectAxisRange,selectNiceTicks,pickAxisType],(t,e,n,i,l,d,f,b,_)=>{if(e!=null){var v=isCategoricalAxis(t,_);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:_,categoricalDomain:d,duplicateDomain:l,isCategorical:v,niceTicks:b,range:f,realScaleType:n,scale:i}}}),combineAxisTicks=(t,e,n,i,l,d,f,b,_)=>{if(!(e==null||i==null)){var v=isCategoricalAxis(t,_),{type:m,ticks:u,tickCount:o}=e,h=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,w=m==="category"&&i.bandwidth?i.bandwidth()/h:0;w=_==="angleAxis"&&d!=null&&d.length>=2?mathSign(d[0]-d[1])*2*w:w;var E=u||l;if(E){var T=E.map((O,M)=>{var I=f?f.indexOf(O):O;return{index:M,coordinate:i(I)+w,value:O,offset:w}});return T.filter(O=>isWellBehavedNumber(O.coordinate))}return v&&b?b.map((O,M)=>({coordinate:i(O)+w,value:O,index:M,offset:w})).filter(O=>isWellBehavedNumber(O.coordinate)):i.ticks?i.ticks(o).map(O=>({coordinate:i(O)+w,value:O,offset:w})):i.domain().map((O,M)=>({coordinate:i(O)+w,value:f?f[O]:O,index:M,offset:w}))}},selectTicksOfAxis=createSelector([selectChartLayout,selectAxisSettings,selectRealScaleType,selectAxisScale,selectNiceTicks,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineAxisTicks),combineGraphicalItemTicks=(t,e,n,i,l,d,f)=>{if(!(e==null||n==null||i==null||i[0]===i[1])){var b=isCategoricalAxis(t,f),{tickCount:_}=e,v=0;return v=f==="angleAxis"&&(i==null?void 0:i.length)>=2?mathSign(i[0]-i[1])*2*v:v,b&&d?d.map((m,u)=>({coordinate:n(m)+v,value:m,index:u,offset:v})):n.ticks?n.ticks(_).map(m=>({coordinate:n(m)+v,value:m,offset:v})):n.domain().map((m,u)=>({coordinate:n(m)+v,value:l?l[m]:m,index:u,offset:v}))}},selectTicksOfGraphicalItem=createSelector([selectChartLayout,selectAxisSettings,selectAxisScale,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineGraphicalItemTicks),selectAxisWithScale=createSelector(selectBaseAxis,selectAxisScale,(t,e)=>{if(!(t==null||e==null))return _objectSpread$v(_objectSpread$v({},t),{},{scale:e})}),selectZAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomain,selectAxisRangeWithReverse],combineScaleFunction);createSelector((t,e,n)=>selectZAxisSettings(t,n),selectZAxisScale,(t,e)=>{if(!(t==null||e==null))return _objectSpread$v(_objectSpread$v({},t),{},{scale:e})});var selectChartDirection=createSelector([selectChartLayout,selectAllXAxes,selectAllYAxes],(t,e,n)=>{switch(t){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),selectDefaultTooltipEventType=t=>t.options.defaultTooltipEventType,selectValidateTooltipEventTypes=t=>t.options.validateTooltipEventTypes;function combineTooltipEventType(t,e,n){if(t==null)return e;var i=t?"axis":"item";return n==null?e:n.includes(i)?i:e}function selectTooltipEventType$1(t,e){var n=selectDefaultTooltipEventType(t),i=selectValidateTooltipEventTypes(t);return combineTooltipEventType(e,n,i)}function useTooltipEventType(t){return useAppSelector(e=>selectTooltipEventType$1(e,t))}var combineActiveLabel=(t,e)=>{var n,i=Number(e);if(!(isNan(i)||e==null))return i>=0?t==null||(n=t[i])===null||n===void 0?void 0:n.value:void 0},selectTooltipSettings=t=>t.tooltip.settings,noInteraction={active:!1,index:null,dataKey:void 0,coordinate:void 0},initialState$9={itemInteraction:{click:noInteraction,hover:noInteraction},axisInteraction:{click:noInteraction,hover:noInteraction},keyboardInteraction:noInteraction,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tooltipSlice=createSlice({name:"tooltip",initialState:initialState$9,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:prepareAutoBatched()},removeTooltipEntrySettings:{reducer(t,e){var n=current(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:prepareAutoBatched()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings,removeTooltipEntrySettings,setTooltipSettingsState,setActiveMouseOverItemIndex,mouseLeaveItem,mouseLeaveChart,setActiveClickItemIndex,setMouseOverAxisIndex,setMouseClickAxisIndex,setSyncInteraction,setKeyboardInteraction}=tooltipSlice.actions,tooltipReducer=tooltipSlice.reducer;function ownKeys$u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$u(Object(n),!0).forEach(function(i){_defineProperty$w(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$u(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$w(t,e,n){return(e=_toPropertyKey$w(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$w(t){var e=_toPrimitive$w(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$w(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function chooseAppropriateMouseInteraction(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function hasBeenActivePreviously(t){return t.index!=null}var combineTooltipInteractionState=(t,e,n,i)=>{if(e==null)return noInteraction;var l=chooseAppropriateMouseInteraction(t,e,n);if(l==null)return noInteraction;if(l.active)return l;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var d=t.settings.active===!0;if(hasBeenActivePreviously(l)){if(d)return _objectSpread$u(_objectSpread$u({},l),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i};return _objectSpread$u(_objectSpread$u({},noInteraction),{},{coordinate:l.coordinate})},combineActiveTooltipIndex=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var i=Number(n);if(!isWellBehavedNumber(i))return n;var l=0,d=1/0;return e.length>0&&(d=e.length-1),String(Math.max(l,Math.min(i,d)))},combineCoordinateForDefaultIndex=(t,e,n,i,l,d,f,b)=>{if(!(d==null||b==null)){var _=f[0],v=_==null?void 0:b(_.positions,d);if(v!=null)return v;var m=l==null?void 0:l[Number(d)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(i.top+e)/2};default:return{x:(i.left+t)/2,y:m.coordinate}}}},combineTooltipPayloadConfigurations=(t,e,n,i)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var l;return n==="hover"?l=t.itemInteraction.hover.dataKey:l=t.itemInteraction.click.dataKey,l==null&&i!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(d=>{var f;return((f=d.settings)===null||f===void 0?void 0:f.dataKey)===l})},selectTooltipPayloadSearcher=t=>t.options.tooltipPayloadSearcher,selectTooltipState=t=>t.tooltip;function ownKeys$t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$t(Object(n),!0).forEach(function(i){_defineProperty$v(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$t(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$v(t,e,n){return(e=_toPropertyKey$v(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$v(t){var e=_toPrimitive$v(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$v(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function selectFinalData(t,e){return t??e}var combineTooltipPayload=(t,e,n,i,l,d,f)=>{if(!(e==null||d==null)){var{chartData:b,computedData:_,dataStartIndex:v,dataEndIndex:m}=n,u=[];return t.reduce((o,h)=>{var w,{dataDefinedOnItem:E,settings:T}=h,O=selectFinalData(E,b),M=Array.isArray(O)?getSliced(O,v,m):O,I=(w=T==null?void 0:T.dataKey)!==null&&w!==void 0?w:i,R=T==null?void 0:T.nameKey,D;if(i&&Array.isArray(M)&&!Array.isArray(M[0])&&f==="axis"?D=findEntryInArray(M,i,l):D=d(M,e,_,R),Array.isArray(D))D.forEach(L=>{var B=_objectSpread$t(_objectSpread$t({},T),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});o.push(getTooltipEntry({tooltipEntrySettings:B,dataKey:L.dataKey,payload:L.payload,value:getValueByDataKey(L.payload,L.dataKey),name:L.name}))});else{var N;o.push(getTooltipEntry({tooltipEntrySettings:T,dataKey:I,payload:D,value:getValueByDataKey(D,I),name:(N=getValueByDataKey(D,R))!==null&&N!==void 0?N:T==null?void 0:T.name}))}return o},u)}},selectTooltipAxisRealScaleType=createSelector([selectTooltipAxis,selectChartLayout,selectHasBar,selectChartName,selectTooltipAxisType],combineRealScaleType),selectAllUnfilteredGraphicalItems=createSelector([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),selectTooltipAxisPredicate=createSelector([selectTooltipAxisType,selectTooltipAxisId],itemAxisPredicate),selectAllGraphicalItemsSettings=createSelector([selectAllUnfilteredGraphicalItems,selectTooltipAxis,selectTooltipAxisPredicate],combineGraphicalItemsSettings,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectAllStackedGraphicalItemsSettings=createSelector([selectAllGraphicalItemsSettings],t=>t.filter(isStacked)),selectTooltipGraphicalItemsData=createSelector([selectAllGraphicalItemsSettings],combineGraphicalItemsData,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectTooltipDisplayedData=createSelector([selectTooltipGraphicalItemsData,selectChartDataWithIndexes],combineDisplayedData),selectTooltipStackedData=createSelector([selectAllStackedGraphicalItemsSettings,selectChartDataWithIndexes,selectTooltipAxis],combineDisplayedStackedData),selectAllTooltipAppliedValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectAllGraphicalItemsSettings],combineAppliedValues),selectTooltipAxisDomainDefinition=createSelector([selectTooltipAxis],getDomainDefinition),selectTooltipDataOverflow=createSelector([selectTooltipAxis],t=>t.allowDataOverflow),selectTooltipDomainFromUserPreferences=createSelector([selectTooltipAxisDomainDefinition,selectTooltipDataOverflow],numericalDomainSpecifiedWithoutRequiringData),selectAllStackedGraphicalItems=createSelector([selectAllGraphicalItemsSettings],t=>t.filter(isStacked)),selectTooltipStackGroups=createSelector([selectTooltipStackedData,selectAllStackedGraphicalItems,selectStackOffsetType],combineStackGroups),selectTooltipDomainOfStackGroups=createSelector([selectTooltipStackGroups,selectChartDataWithIndexes,selectTooltipAxisType,selectTooltipDomainFromUserPreferences],combineDomainOfStackGroups),selectTooltipItemsSettingsExceptStacked=createSelector([selectAllGraphicalItemsSettings],filterGraphicalNotStackedItems),selectDomainOfAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectTooltipItemsSettingsExceptStacked,selectAllErrorBarSettings,selectTooltipAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),selectReferenceDotsByTooltipAxis=createSelector([selectReferenceDots,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceDotsDomain=createSelector([selectReferenceDotsByTooltipAxis,selectTooltipAxisType],combineDotsDomain),selectReferenceAreasByTooltipAxis=createSelector([selectReferenceAreas,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceAreasDomain=createSelector([selectReferenceAreasByTooltipAxis,selectTooltipAxisType],combineAreasDomain),selectReferenceLinesByTooltipAxis=createSelector([selectReferenceLines,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceLinesDomain=createSelector([selectReferenceLinesByTooltipAxis,selectTooltipAxisType],combineLinesDomain),selectTooltipReferenceElementsDomain=createSelector([selectTooltipReferenceDotsDomain,selectTooltipReferenceLinesDomain,selectTooltipReferenceAreasDomain],mergeDomains),selectTooltipNumericalDomain=createSelector([selectTooltipAxis,selectTooltipAxisDomainDefinition,selectTooltipDomainFromUserPreferences,selectTooltipDomainOfStackGroups,selectDomainOfAllAppliedNumericalValuesIncludingErrorValues,selectTooltipReferenceElementsDomain,selectChartLayout,selectTooltipAxisType],combineNumericalDomain),selectTooltipAxisDomain=createSelector([selectTooltipAxis,selectChartLayout,selectTooltipDisplayedData,selectAllTooltipAppliedValues,selectStackOffsetType,selectTooltipAxisType,selectTooltipNumericalDomain],combineAxisDomain),selectTooltipNiceTicks=createSelector([selectTooltipAxisDomain,selectTooltipAxis,selectTooltipAxisRealScaleType],combineNiceTicks),selectTooltipAxisDomainIncludingNiceTicks=createSelector([selectTooltipAxis,selectTooltipAxisDomain,selectTooltipNiceTicks,selectTooltipAxisType],combineAxisDomainWithNiceTicks),selectTooltipAxisRange=t=>{var e=selectTooltipAxisType(t),n=selectTooltipAxisId(t),i=!1;return selectAxisRange(t,e,n,i)},selectTooltipAxisRangeWithReverse=createSelector([selectTooltipAxis,selectTooltipAxisRange],combineAxisRangeWithReverse),selectTooltipAxisScale=createSelector([selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisDomainIncludingNiceTicks,selectTooltipAxisRangeWithReverse],combineScaleFunction),selectTooltipDuplicateDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineDuplicateDomain),selectTooltipCategoricalDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineCategoricalDomain),combineTicksOfTooltipAxis=(t,e,n,i,l,d,f,b)=>{if(e){var{type:_}=e,v=isCategoricalAxis(t,b);if(i){var m=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,u=_==="category"&&i.bandwidth?i.bandwidth()/m:0;return u=b==="angleAxis"&&l!=null&&(l==null?void 0:l.length)>=2?mathSign(l[0]-l[1])*2*u:u,v&&f?f.map((o,h)=>({coordinate:i(o)+u,value:o,index:h,offset:u})):i.domain().map((o,h)=>({coordinate:i(o)+u,value:d?d[o]:o,index:h,offset:u}))}}},selectTooltipAxisTicks=createSelector([selectChartLayout,selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisScale,selectTooltipAxisRange,selectTooltipDuplicateDomain,selectTooltipCategoricalDomain,selectTooltipAxisType],combineTicksOfTooltipAxis),selectTooltipEventType=createSelector([selectDefaultTooltipEventType,selectValidateTooltipEventTypes,selectTooltipSettings],(t,e,n)=>combineTooltipEventType(n.shared,t,e)),selectTooltipTrigger=t=>t.tooltip.settings.trigger,selectDefaultIndex=t=>t.tooltip.settings.defaultIndex,selectTooltipInteractionState$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipInteractionState),selectActiveTooltipIndex=createSelector([selectTooltipInteractionState$1,selectTooltipDisplayedData],combineActiveTooltipIndex),selectActiveLabel$1=createSelector([selectTooltipAxisTicks,selectActiveTooltipIndex],combineActiveLabel),selectActiveTooltipDataKey=createSelector([selectTooltipInteractionState$1],t=>{if(t)return t.dataKey}),selectTooltipPayloadConfigurations$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipPayloadConfigurations),selectTooltipCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,selectDefaultIndex,selectTooltipPayloadConfigurations$1,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveTooltipCoordinate=createSelector([selectTooltipInteractionState$1,selectTooltipCoordinateForDefaultIndex],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),selectIsTooltipActive$1=createSelector([selectTooltipInteractionState$1],t=>t.active),selectActiveTooltipPayload=createSelector([selectTooltipPayloadConfigurations$1,selectActiveTooltipIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel$1,selectTooltipPayloadSearcher,selectTooltipEventType],combineTooltipPayload),selectActiveTooltipDataPoints=createSelector([selectActiveTooltipPayload],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function ownKeys$s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$s(Object(n),!0).forEach(function(i){_defineProperty$u(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$s(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$u(t,e,n){return(e=_toPropertyKey$u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$u(t){var e=_toPrimitive$u(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$u(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var useTooltipAxis=()=>useAppSelector(selectTooltipAxis),useTooltipAxisBandSize=()=>{var t=useTooltipAxis(),e=useAppSelector(selectTooltipAxisTicks),n=useAppSelector(selectTooltipAxisScale);return getBandSizeOfAxis(!t||!n?void 0:_objectSpread$s(_objectSpread$s({},t),{},{scale:n}),e)};function ownKeys$r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$r(Object(n),!0).forEach(function(i){_defineProperty$t(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$r(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$t(t,e,n){return(e=_toPropertyKey$t(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$t(t){var e=_toPrimitive$t(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$t(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getActiveCartesianCoordinate=(t,e,n,i)=>{var l=e.find(d=>d&&d.index===n);if(l){if(t==="horizontal")return{x:l.coordinate,y:i.chartY};if(t==="vertical")return{x:i.chartX,y:l.coordinate}}return{x:0,y:0}},getActivePolarCoordinate=(t,e,n,i)=>{var l=e.find(v=>v&&v.index===n);if(l){if(t==="centric"){var d=l.coordinate,{radius:f}=i;return _objectSpread$r(_objectSpread$r(_objectSpread$r({},i),polarToCartesian(i.cx,i.cy,f,d)),{},{angle:d,radius:f})}var b=l.coordinate,{angle:_}=i;return _objectSpread$r(_objectSpread$r(_objectSpread$r({},i),polarToCartesian(i.cx,i.cy,b,_)),{},{angle:_,radius:b})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function isInCartesianRange(t,e){var{chartX:n,chartY:i}=t;return n>=e.left&&n<=e.left+e.width&&i>=e.top&&i<=e.top+e.height}var calculateActiveTickIndex=(t,e,n,i,l)=>{var d,f=-1,b=(d=e==null?void 0:e.length)!==null&&d!==void 0?d:0;if(b<=1||t==null)return 0;if(i==="angleAxis"&&l!=null&&Math.abs(Math.abs(l[1]-l[0])-360)<=1e-6)for(var _=0;_<b;_++){var v=_>0?n[_-1].coordinate:n[b-1].coordinate,m=n[_].coordinate,u=_>=b-1?n[0].coordinate:n[_+1].coordinate,o=void 0;if(mathSign(m-v)!==mathSign(u-m)){var h=[];if(mathSign(u-m)===mathSign(l[1]-l[0])){o=u;var w=m+l[1]-l[0];h[0]=Math.min(w,(w+v)/2),h[1]=Math.max(w,(w+v)/2)}else{o=v;var E=u+l[1]-l[0];h[0]=Math.min(m,(E+m)/2),h[1]=Math.max(m,(E+m)/2)}var T=[Math.min(m,(o+m)/2),Math.max(m,(o+m)/2)];if(t>T[0]&&t<=T[1]||t>=h[0]&&t<=h[1]){({index:f}=n[_]);break}}else{var O=Math.min(v,u),M=Math.max(v,u);if(t>(O+m)/2&&t<=(M+m)/2){({index:f}=n[_]);break}}}else if(e){for(var I=0;I<b;I++)if(I===0&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I>0&&I<b-1&&t>(e[I].coordinate+e[I-1].coordinate)/2&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I===b-1&&t>(e[I].coordinate+e[I-1].coordinate)/2){({index:f}=e[I]);break}}return f},useChartName=()=>useAppSelector(selectChartName),pickTooltipEventType=(t,e)=>e,pickTrigger=(t,e,n)=>n,pickDefaultIndex=(t,e,n,i)=>i,selectOrderedTooltipTicks=createSelector(selectTooltipAxisTicks,t=>sortBy(t,e=>e.coordinate)),selectTooltipInteractionState=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipInteractionState),selectActiveIndex=createSelector([selectTooltipInteractionState,selectTooltipDisplayedData],combineActiveTooltipIndex),selectTooltipDataKey=(t,e,n)=>{if(e!=null){var i=selectTooltipState(t);return e==="axis"?n==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:n==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},selectTooltipPayloadConfigurations=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipPayloadConfigurations),selectCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,pickDefaultIndex,selectTooltipPayloadConfigurations,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveCoordinate=createSelector([selectTooltipInteractionState,selectCoordinateForDefaultIndex],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),selectActiveLabel=createSelector([selectTooltipAxisTicks,selectActiveIndex],combineActiveLabel),selectTooltipPayload=createSelector([selectTooltipPayloadConfigurations,selectActiveIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel,selectTooltipPayloadSearcher,pickTooltipEventType],combineTooltipPayload),selectIsTooltipActive=createSelector([selectTooltipInteractionState],t=>({isActive:t.active,activeIndex:t.index})),combineActiveCartesianProps=(t,e,n,i,l,d,f)=>{if(!(!t||!n||!i||!l)&&isInCartesianRange(t,f)){var b=calculateCartesianTooltipPos(t,e),_=calculateActiveTickIndex(b,d,l,n,i),v=getActiveCartesianCoordinate(e,l,_,t);return{activeIndex:String(_),activeCoordinate:v}}},combineActivePolarProps=(t,e,n,i,l,d,f)=>{if(!(!t||!i||!l||!d||!n)){var b=inRangeOfSector(t,n);if(b){var _=calculatePolarTooltipPos(b,e),v=calculateActiveTickIndex(_,f,d,i,l),m=getActivePolarCoordinate(e,d,v,b);return{activeIndex:String(v),activeCoordinate:m}}}},combineActiveProps=(t,e,n,i,l,d,f,b)=>{if(!(!t||!e||!i||!l||!d))return e==="horizontal"||e==="vertical"?combineActiveCartesianProps(t,e,i,l,d,f,b):combineActivePolarProps(t,e,n,i,l,d,f)},selectZIndexPortalId=createSelector(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var i=t[e];if(i!=null)return n?i.panoramaElementId:i.elementId}}),selectAllRegisteredZIndexes=createSelector(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(i=>parseInt(i,10)).concat(Object.values(DefaultZIndexes)),n=Array.from(new Set(e));return n.sort((i,l)=>i-l)},{memoizeOptions:{resultEqualityCheck:arrayContentsAreEqualCheck}});function ownKeys$q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$q(Object(n),!0).forEach(function(i){_defineProperty$s(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$q(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$s(t,e,n){return(e=_toPropertyKey$s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$s(t){var e=_toPrimitive$s(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$s(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var seed={},initialState$8={zIndexMap:Object.values(DefaultZIndexes).reduce((t,e)=>_objectSpread$q(_objectSpread$q({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),seed)},defaultZIndexSet=new Set(Object.values(DefaultZIndexes));function isDefaultZIndex(t){return defaultZIndexSet.has(t)}var zIndexSlice=createSlice({name:"zIndex",initialState:initialState$8,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:prepareAutoBatched()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!isDefaultZIndex(n)&&delete t.zIndexMap[n])},prepare:prepareAutoBatched()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:i,isPanorama:l}=e.payload;t.zIndexMap[n]?l?t.zIndexMap[n].panoramaElementId=i:t.zIndexMap[n].elementId=i:t.zIndexMap[n]={consumers:0,elementId:l?void 0:i,panoramaElementId:l?i:void 0}},prepare:prepareAutoBatched()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:prepareAutoBatched()}}}),{registerZIndexPortal,unregisterZIndexPortal,registerZIndexPortalId,unregisterZIndexPortalId}=zIndexSlice.actions,zIndexReducer=zIndexSlice.reducer;function ZIndexLayer(t){var{zIndex:e,children:n}=t,i=useIsInChartContext(),l=i&&e!==void 0&&e!==0,d=useIsPanorama(),f=useAppDispatch();reactExports.useLayoutEffect(()=>l?(f(registerZIndexPortal({zIndex:e})),()=>{f(unregisterZIndexPortal({zIndex:e}))}):noop$2,[f,e,l]);var b=useAppSelector(v=>selectZIndexPortalId(v,e,d));if(!l)return n;if(!b)return null;var _=document.getElementById(b);return _?reactDomExports.createPortal(n,_):null}function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$o.apply(null,arguments)}function ownKeys$p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$p(Object(n),!0).forEach(function(i){_defineProperty$r(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$p(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$r(t,e,n){return(e=_toPropertyKey$r(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$r(t){var e=_toPrimitive$r(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$r(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RenderCursor(t){var{cursor:e,cursorComp:n,cursorProps:i}=t;return reactExports.isValidElement(e)?reactExports.cloneElement(e,i):reactExports.createElement(n,i)}function CursorInternal(t){var e,{coordinate:n,payload:i,index:l,offset:d,tooltipAxisBandSize:f,layout:b,cursor:_,tooltipEventType:v,chartName:m}=t,u=n,o=i,h=l;if(!_||!u||m!=="ScatterChart"&&v!=="axis")return null;var w,E,T;if(m==="ScatterChart")w=u,E=Cross,T=DefaultZIndexes.cursorLine;else if(m==="BarChart")w=getCursorRectangle(b,u,d,f),E=Rectangle,T=DefaultZIndexes.cursorRectangle;else if(b==="radial"&&isPolarCoordinate(u)){var{cx:O,cy:M,radius:I,startAngle:R,endAngle:D}=getRadialCursorPoints(u);w={cx:O,cy:M,startAngle:R,endAngle:D,innerRadius:I,outerRadius:I},E=Sector,T=DefaultZIndexes.cursorLine}else w={points:getCursorPoints(b,u,d)},E=Curve,T=DefaultZIndexes.cursorLine;var N=typeof _=="object"&&"className"in _?_.className:void 0,L=_objectSpread$p(_objectSpread$p(_objectSpread$p(_objectSpread$p({stroke:"#ccc",pointerEvents:"none"},d),w),svgPropertiesNoEventsFromUnknown(_)),{},{payload:o,payloadIndex:h,className:clsx("recharts-tooltip-cursor",N)});return reactExports.createElement(ZIndexLayer,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:T},reactExports.createElement(RenderCursor,{cursor:_,cursorComp:E,cursorProps:L}))}function Cursor(t){var e=useTooltipAxisBandSize(),n=useOffsetInternal(),i=useChartLayout(),l=useChartName();return e==null||n==null||i==null||l==null?null:reactExports.createElement(CursorInternal,_extends$o({},t,{offset:n,layout:i,tooltipAxisBandSize:e,chartName:l}))}var TooltipPortalContext=reactExports.createContext(null),useTooltipPortal=()=>reactExports.useContext(TooltipPortalContext),eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function l(_,v,m){this.fn=_,this.context=v,this.once=m||!1}function d(_,v,m,u,o){if(typeof m!="function")throw new TypeError("The listener must be a function");var h=new l(m,u||_,o),w=n?n+v:v;return _._events[w]?_._events[w].fn?_._events[w]=[_._events[w],h]:_._events[w].push(h):(_._events[w]=h,_._eventsCount++),_}function f(_,v){--_._eventsCount===0?_._events=new i:delete _._events[v]}function b(){this._events=new i,this._eventsCount=0}b.prototype.eventNames=function(){var v=[],m,u;if(this._eventsCount===0)return v;for(u in m=this._events)e.call(m,u)&&v.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(m)):v},b.prototype.listeners=function(v){var m=n?n+v:v,u=this._events[m];if(!u)return[];if(u.fn)return[u.fn];for(var o=0,h=u.length,w=new Array(h);o<h;o++)w[o]=u[o].fn;return w},b.prototype.listenerCount=function(v){var m=n?n+v:v,u=this._events[m];return u?u.fn?1:u.length:0},b.prototype.emit=function(v,m,u,o,h,w){var E=n?n+v:v;if(!this._events[E])return!1;var T=this._events[E],O=arguments.length,M,I;if(T.fn){switch(T.once&&this.removeListener(v,T.fn,void 0,!0),O){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,m),!0;case 3:return T.fn.call(T.context,m,u),!0;case 4:return T.fn.call(T.context,m,u,o),!0;case 5:return T.fn.call(T.context,m,u,o,h),!0;case 6:return T.fn.call(T.context,m,u,o,h,w),!0}for(I=1,M=new Array(O-1);I<O;I++)M[I-1]=arguments[I];T.fn.apply(T.context,M)}else{var R=T.length,D;for(I=0;I<R;I++)switch(T[I].once&&this.removeListener(v,T[I].fn,void 0,!0),O){case 1:T[I].fn.call(T[I].context);break;case 2:T[I].fn.call(T[I].context,m);break;case 3:T[I].fn.call(T[I].context,m,u);break;case 4:T[I].fn.call(T[I].context,m,u,o);break;default:if(!M)for(D=1,M=new Array(O-1);D<O;D++)M[D-1]=arguments[D];T[I].fn.apply(T[I].context,M)}}return!0},b.prototype.on=function(v,m,u){return d(this,v,m,u,!1)},b.prototype.once=function(v,m,u){return d(this,v,m,u,!0)},b.prototype.removeListener=function(v,m,u,o){var h=n?n+v:v;if(!this._events[h])return this;if(!m)return f(this,h),this;var w=this._events[h];if(w.fn)w.fn===m&&(!o||w.once)&&(!u||w.context===u)&&f(this,h);else{for(var E=0,T=[],O=w.length;E<O;E++)(w[E].fn!==m||o&&!w[E].once||u&&w[E].context!==u)&&T.push(w[E]);T.length?this._events[h]=T.length===1?T[0]:T:f(this,h)}return this},b.prototype.removeAllListeners=function(v){var m;return v?(m=n?n+v:v,this._events[m]&&f(this,m)):(this._events=new i,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=n,b.EventEmitter=b,t.exports=b})(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,TOOLTIP_SYNC_EVENT="recharts.syncEvent.tooltip",BRUSH_SYNC_EVENT="recharts.syncEvent.brush";function arrayTooltipSearcher(t,e){if(e){var n=Number.parseInt(e,10);if(!isNan(n))return t==null?void 0:t[n]}}var initialState$7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},optionsSlice=createSlice({name:"options",initialState:initialState$7,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),optionsReducer=optionsSlice.reducer,{createEventEmitter}=optionsSlice.actions;function selectSynchronisedTooltipState(t){return t.tooltip.syncInteraction}var initialChartDataState={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},chartDataSlice=createSlice({name:"chartData",initialState:initialChartDataState,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:i}=e.payload;n!=null&&(t.dataStartIndex=n),i!=null&&(t.dataEndIndex=i)}}}),{setChartData,setDataStartEndIndexes,setComputedData}=chartDataSlice.actions,chartDataReducer=chartDataSlice.reducer,_excluded$n=["x","y"];function ownKeys$o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$o(Object(n),!0).forEach(function(i){_defineProperty$q(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$o(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$q(t,e,n){return(e=_toPropertyKey$q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$q(t){var e=_toPrimitive$q(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$q(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$n(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$n(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$n(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function useTooltipSyncEventsListener(){var t=useAppSelector(selectSyncId),e=useAppSelector(selectEventEmitter),n=useAppDispatch(),i=useAppSelector(selectSyncMethod),l=useAppSelector(selectTooltipAxisTicks),d=useChartLayout(),f=useViewBox(),b=useAppSelector(_=>_.rootProps.className);reactExports.useEffect(()=>{if(t==null)return noop$2;var _=(v,m,u)=>{if(e!==u&&t===v){if(i==="index"){var o;if(f&&m!==null&&m!==void 0&&(o=m.payload)!==null&&o!==void 0&&o.coordinate&&m.payload.sourceViewBox){var h=m.payload.coordinate,{x:w,y:E}=h,T=_objectWithoutProperties$n(h,_excluded$n),{x:O,y:M,width:I,height:R}=m.payload.sourceViewBox,D=_objectSpread$o(_objectSpread$o({},T),{},{x:f.x+(I?(w-O)/I:0)*f.width,y:f.y+(R?(E-M)/R:0)*f.height});n(_objectSpread$o(_objectSpread$o({},m),{},{payload:_objectSpread$o(_objectSpread$o({},m.payload),{},{coordinate:D})}))}else n(m);return}if(l!=null){var N;if(typeof i=="function"){var L={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},B=i(l,L);N=l[B]}else i==="value"&&(N=l.find(U=>String(U.value)===m.payload.label));var{coordinate:$}=m.payload;if(N==null||m.payload.active===!1||$==null||f==null){n(setSyncInteraction({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:V,y:G}=$,X=Math.min(V,f.x+f.width),ee=Math.min(G,f.y+f.height),Q={x:d==="horizontal"?N.coordinate:X,y:d==="horizontal"?ee:N.coordinate},Y=setSyncInteraction({active:m.payload.active,coordinate:Q,dataKey:m.payload.dataKey,index:String(N.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox});n(Y)}}};return eventCenter.on(TOOLTIP_SYNC_EVENT,_),()=>{eventCenter.off(TOOLTIP_SYNC_EVENT,_)}},[b,n,e,t,i,l,d,f])}function useBrushSyncEventsListener(){var t=useAppSelector(selectSyncId),e=useAppSelector(selectEventEmitter),n=useAppDispatch();reactExports.useEffect(()=>{if(t==null)return noop$2;var i=(l,d,f)=>{e!==f&&t===l&&n(setDataStartEndIndexes(d))};return eventCenter.on(BRUSH_SYNC_EVENT,i),()=>{eventCenter.off(BRUSH_SYNC_EVENT,i)}},[n,e,t])}function useSynchronisedEventsFromOtherCharts(){var t=useAppDispatch();reactExports.useEffect(()=>{t(createEventEmitter())},[t]),useTooltipSyncEventsListener(),useBrushSyncEventsListener()}function useTooltipChartSynchronisation(t,e,n,i,l,d){var f=useAppSelector(h=>selectTooltipDataKey(h,t,e)),b=useAppSelector(selectEventEmitter),_=useAppSelector(selectSyncId),v=useAppSelector(selectSyncMethod),m=useAppSelector(selectSynchronisedTooltipState),u=m==null?void 0:m.active,o=useViewBox();reactExports.useEffect(()=>{if(!u&&_!=null&&b!=null){var h=setSyncInteraction({active:d,coordinate:n,dataKey:f,index:l,label:typeof i=="number"?String(i):i,sourceViewBox:o});eventCenter.emit(TOOLTIP_SYNC_EVENT,_,h,b)}},[u,n,f,l,i,b,_,v,d,o])}function ownKeys$n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$n(Object(n),!0).forEach(function(i){_defineProperty$p(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$n(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$p(t,e,n){return(e=_toPropertyKey$p(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$p(t){var e=_toPrimitive$p(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$p(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function defaultUniqBy(t){return t.dataKey}function renderContent(t,e){return reactExports.isValidElement(t)?reactExports.cloneElement(t,e):typeof t=="function"?reactExports.createElement(t,e):reactExports.createElement(DefaultTooltipContent,e)}var emptyPayload=[],defaultTooltipProps={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Global.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tooltip(t){var e,n,i=resolveDefaultProps(t,defaultTooltipProps),{active:l,allowEscapeViewBox:d,animationDuration:f,animationEasing:b,content:_,filterNull:v,isAnimationActive:m,offset:u,payloadUniqBy:o,position:h,reverseDirection:w,useTranslate3d:E,wrapperStyle:T,cursor:O,shared:M,trigger:I,defaultIndex:R,portal:D,axisId:N}=i,L=useAppDispatch(),B=typeof R=="number"?String(R):R;reactExports.useEffect(()=>{L(setTooltipSettingsState({shared:M,trigger:I,axisId:N,active:l,defaultIndex:B}))},[L,M,I,N,l,B]);var $=useViewBox(),V=useAccessibilityLayer(),G=useTooltipEventType(M),{activeIndex:X,isActive:ee}=(e=useAppSelector(Le=>selectIsTooltipActive(Le,G,I,B)))!==null&&e!==void 0?e:{},Q=useAppSelector(Le=>selectTooltipPayload(Le,G,I,B)),Y=useAppSelector(Le=>selectActiveLabel(Le,G,I,B)),U=useAppSelector(Le=>selectActiveCoordinate(Le,G,I,B)),q=Q,le=useTooltipPortal(),ie=(n=l??ee)!==null&&n!==void 0?n:!1,[Ee,Z]=useElementOffset([q,ie]),ue=G==="axis"?Y:void 0;useTooltipChartSynchronisation(G,I,U,ue,X,ie);var Ae=D??le;if(Ae==null||$==null||G==null)return null;var Ce=q??emptyPayload;ie||(Ce=emptyPayload),v&&Ce.length&&(Ce=getUniqPayload(Ce.filter(Le=>Le.value!=null&&(Le.hide!==!0||i.includeHidden)),o,defaultUniqBy));var ke=Ce.length>0,Ne=reactExports.createElement(TooltipBoundingBox,{allowEscapeViewBox:d,animationDuration:f,animationEasing:b,isAnimationActive:m,active:ie,coordinate:U,hasPayload:ke,offset:u,position:h,reverseDirection:w,useTranslate3d:E,viewBox:$,wrapperStyle:T,lastBoundingBox:Ee,innerRef:Z,hasPortalFromProps:!!D},renderContent(_,_objectSpread$n(_objectSpread$n({},i),{},{payload:Ce,label:ue,active:ie,activeIndex:X,coordinate:U,accessibilityLayer:V})));return reactExports.createElement(reactExports.Fragment,null,reactDomExports.createPortal(Ne,Ae),ie&&reactExports.createElement(Cursor,{cursor:O,tooltipEventType:G,coordinate:U,payload:Ce,index:X}))}var Cell=t=>null;Cell.displayName="Cell";function _defineProperty$o(t,e,n){return(e=_toPropertyKey$o(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$o(t){var e=_toPrimitive$o(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$o(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class LRUCache{constructor(e){_defineProperty$o(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function ownKeys$m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$m(Object(n),!0).forEach(function(i){_defineProperty$n(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$m(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$n(t,e,n){return(e=_toPropertyKey$n(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$n(t){var e=_toPrimitive$n(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$n(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var defaultConfig={cacheSize:2e3,enableCache:!0},currentConfig=_objectSpread$m({},defaultConfig),stringCache=new LRUCache(currentConfig.cacheSize),SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function createCacheKey(t,e){var n=e.fontSize||"",i=e.fontFamily||"",l=e.fontWeight||"",d=e.fontStyle||"",f=e.letterSpacing||"",b=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(d,"|").concat(f,"|").concat(b)}var measureTextWithDOM=(t,e)=>{try{var n=document.getElementById(MEASUREMENT_SPAN_ID);n||(n=document.createElement("span"),n.setAttribute("id",MEASUREMENT_SPAN_ID),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,SPAN_STYLE,e),n.textContent="".concat(t);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},getStringSize=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Global.isSsr)return{width:0,height:0};if(!currentConfig.enableCache)return measureTextWithDOM(e,n);var i=createCacheKey(e,n),l=stringCache.get(i);if(l)return l;var d=measureTextWithDOM(e,n);return stringCache.set(i,d),d},MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(t,e){return t*CONVERSION_RATES[e]}class DecimalCSS{static parse(e){var n,[,i,l]=(n=NUM_SPLIT_REGEX.exec(e))!==null&&n!==void 0?n:[];return new DecimalCSS(parseFloat(i),l??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,isNan(e)&&(this.unit=""),n!==""&&!CSS_LENGTH_UNIT_REGEX.test(n)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(n)&&(this.num=convertToPx(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return isNan(this.num)}}function calculateArithmetic(t){if(t.includes(STR_NAN))return STR_NAN;for(var e=t;e.includes("*")||e.includes("/");){var n,[,i,l,d]=(n=MULTIPLY_OR_DIVIDE_REGEX.exec(e))!==null&&n!==void 0?n:[],f=DecimalCSS.parse(i??""),b=DecimalCSS.parse(d??""),_=l==="*"?f.multiply(b):f.divide(b);if(_.isNaN())return STR_NAN;e=e.replace(MULTIPLY_OR_DIVIDE_REGEX,_.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var v,[,m,u,o]=(v=ADD_OR_SUBTRACT_REGEX.exec(e))!==null&&v!==void 0?v:[],h=DecimalCSS.parse(m??""),w=DecimalCSS.parse(o??""),E=u==="+"?h.add(w):h.subtract(w);if(E.isNaN())return STR_NAN;e=e.replace(ADD_OR_SUBTRACT_REGEX,E.toString())}return e}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(t){for(var e=t,n;(n=PARENTHESES_REGEX.exec(e))!=null;){var[,i]=n;e=e.replace(PARENTHESES_REGEX,calculateArithmetic(i))}return e}function evaluateExpression(t){var e=t.replace(/\s+/g,"");return e=calculateParentheses(e),e=calculateArithmetic(e),e}function safeEvaluateExpression(t){try{return evaluateExpression(t)}catch{return STR_NAN}}function reduceCSSCalc(t){var e=safeEvaluateExpression(t.slice(5,-1));return e===STR_NAN?"":e}var _excluded$m=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],_excluded2$a=["dx","dy","angle","className","breakAll"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$n.apply(null,arguments)}function _objectWithoutProperties$m(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$m(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$m(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=t=>{var{children:e,breakAll:n,style:i}=t;try{var l=[];isNullish(e)||(n?l=e.toString().split(""):l=e.toString().split(BREAKING_SPACES));var d=l.map(b=>({word:b,width:getStringSize(b,i).width})),f=n?0:getStringSize("",i).width;return{wordsWithComputedWidth:d,spaceWidth:f}}catch{return null}};function isValidTextAnchor(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var calculate=(t,e,n,i)=>t.reduce((l,d)=>{var{word:f,width:b}=d,_=l[l.length-1];if(_&&b!=null&&(e==null||i||_.width+b+n<Number(e)))_.words.push(f),_.width+=b+n;else{var v={words:[f],width:b};l.push(v)}return l},[]),findLongestLine=t=>t.reduce((e,n)=>e.width>n.width?e:n),suffix="",checkOverflow=(t,e,n,i,l,d,f,b)=>{var _=t.slice(0,e),v=calculateWordWidths({breakAll:n,style:i,children:_+suffix});if(!v)return[!1,[]];var m=calculate(v.wordsWithComputedWidth,d,f,b),u=m.length>l||findLongestLine(m).width>Number(d);return[u,m]},calculateWordsByLines=(t,e,n,i,l)=>{var{maxLines:d,children:f,style:b,breakAll:_}=t,v=isNumber(d),m=String(f),u=calculate(e,i,n,l);if(!v||l)return u;var o=u.length>d||findLongestLine(u).width>Number(i);if(!o)return u;for(var h=0,w=m.length-1,E=0,T;h<=w&&E<=m.length-1;){var O=Math.floor((h+w)/2),M=O-1,[I,R]=checkOverflow(m,M,_,b,d,i,n,l),[D]=checkOverflow(m,O,_,b,d,i,n,l);if(!I&&!D&&(h=O+1),I&&D&&(w=O-1),!I&&D){T=R;break}E++}return T||u},getWordsWithoutCalculate=t=>{var e=isNullish(t)?[]:t.toString().split(BREAKING_SPACES);return[{words:e,width:void 0}]},getWordsByLines=t=>{var{width:e,scaleToFit:n,children:i,style:l,breakAll:d,maxLines:f}=t;if((e||n)&&!Global.isSsr){var b,_,v=calculateWordWidths({breakAll:d,children:i,style:l});if(v){var{wordsWithComputedWidth:m,spaceWidth:u}=v;b=m,_=u}else return getWordsWithoutCalculate(i);return calculateWordsByLines({breakAll:d,children:i,maxLines:f,style:l},b,_,e,!!n)}return getWordsWithoutCalculate(i)},DEFAULT_FILL="#808080",textDefaultProps={breakAll:!1,capHeight:"0.71em",fill:DEFAULT_FILL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Text=reactExports.forwardRef((t,e)=>{var n=resolveDefaultProps(t,textDefaultProps),{x:i,y:l,lineHeight:d,capHeight:f,fill:b,scaleToFit:_,textAnchor:v,verticalAnchor:m}=n,u=_objectWithoutProperties$m(n,_excluded$m),o=reactExports.useMemo(()=>getWordsByLines({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:_,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,_,u.style,u.width]),{dx:h,dy:w,angle:E,className:T,breakAll:O}=u,M=_objectWithoutProperties$m(u,_excluded2$a);if(!isNumOrStr(i)||!isNumOrStr(l)||o.length===0)return null;var I=Number(i)+(isNumber(h)?h:0),R=Number(l)+(isNumber(w)?w:0);if(!isWellBehavedNumber(I)||!isWellBehavedNumber(R))return null;var D;switch(m){case"start":D=reduceCSSCalc("calc(".concat(f,")"));break;case"middle":D=reduceCSSCalc("calc(".concat((o.length-1)/2," * -").concat(d," + (").concat(f," / 2))"));break;default:D=reduceCSSCalc("calc(".concat(o.length-1," * -").concat(d,")"));break}var N=[];if(_){var L=o[0].width,{width:B}=u;N.push("scale(".concat(isNumber(B)&&isNumber(L)?B/L:1,")"))}return E&&N.push("rotate(".concat(E,", ").concat(I,", ").concat(R,")")),N.length&&(M.transform=N.join(" ")),reactExports.createElement("text",_extends$n({},svgPropertiesAndEvents(M),{ref:e,x:I,y:R,className:clsx("recharts-text",T),textAnchor:v,fill:b.includes("url")?DEFAULT_FILL:b}),o.map(($,V)=>{var G=$.words.join(O?"":" ");return reactExports.createElement("tspan",{x:I,dy:V===0?D:d,key:"".concat(G,"-").concat(V)},G)}))});Text.displayName="Text";var _excluded$l=["labelRef"];function _objectWithoutProperties$l(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$l(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$l(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function ownKeys$l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$l(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$l(Object(n),!0).forEach(function(i){_defineProperty$m(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$l(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$m(t,e,n){return(e=_toPropertyKey$m(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$m(t){var e=_toPrimitive$m(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$m(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$m.apply(null,arguments)}var CartesianLabelContext=reactExports.createContext(null),CartesianLabelContextProvider=t=>{var{x:e,y:n,upperWidth:i,lowerWidth:l,width:d,height:f,children:b}=t,_=reactExports.useMemo(()=>({x:e,y:n,upperWidth:i,lowerWidth:l,width:d,height:f}),[e,n,i,l,d,f]);return reactExports.createElement(CartesianLabelContext.Provider,{value:_},b)},useCartesianLabelContext=()=>{var t=reactExports.useContext(CartesianLabelContext),e=useViewBox();return t||cartesianViewBoxToTrapezoid(e)},PolarLabelContext=reactExports.createContext(null),PolarLabelContextProvider=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:l,startAngle:d,endAngle:f,clockWise:b,children:_}=t,v=reactExports.useMemo(()=>({cx:e,cy:n,innerRadius:i,outerRadius:l,startAngle:d,endAngle:f,clockWise:b}),[e,n,i,l,d,f,b]);return reactExports.createElement(PolarLabelContext.Provider,{value:v},_)},usePolarLabelContext=()=>{var t=reactExports.useContext(PolarLabelContext),e=useAppSelector(selectPolarViewBox);return t||e},getLabel=t=>{var{value:e,formatter:n}=t,i=isNullish(t.children)?e:t.children;return typeof n=="function"?n(i):i},isLabelContentAFunction=t=>t!=null&&typeof t=="function",getDeltaAngle=(t,e)=>{var n=mathSign(e-t),i=Math.min(Math.abs(e-t),360);return n*i},renderRadialLabel=(t,e,n,i,l)=>{var{offset:d,className:f}=t,{cx:b,cy:_,innerRadius:v,outerRadius:m,startAngle:u,endAngle:o,clockWise:h}=l,w=(v+m)/2,E=getDeltaAngle(u,o),T=E>=0?1:-1,O,M;switch(e){case"insideStart":O=u+T*d,M=h;break;case"insideEnd":O=o-T*d,M=!h;break;case"end":O=o+T*d,M=h;break;default:throw new Error("Unsupported position ".concat(e))}M=E<=0?M:!M;var I=polarToCartesian(b,_,w,O),R=polarToCartesian(b,_,w,O+(M?1:-1)*359),D="M".concat(I.x,",").concat(I.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(M?0:1,`,
    `).concat(R.x,",").concat(R.y),N=isNullish(t.id)?uniqueId("recharts-radial-line-"):t.id;return reactExports.createElement("text",_extends$m({},i,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",f)}),reactExports.createElement("defs",null,reactExports.createElement("path",{id:N,d:D})),reactExports.createElement("textPath",{xlinkHref:"#".concat(N)},n))},getAttrsOfPolarLabel=(t,e,n)=>{var{cx:i,cy:l,innerRadius:d,outerRadius:f,startAngle:b,endAngle:_}=t,v=(b+_)/2;if(n==="outside"){var{x:m,y:u}=polarToCartesian(i,l,f+e,v);return{x:m,y:u,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var o=(d+f)/2,{x:h,y:w}=polarToCartesian(i,l,o,v);return{x:h,y:w,textAnchor:"middle",verticalAnchor:"middle"}},isPolar=t=>"cx"in t&&isNumber(t.cx),getAttrsOfCartesianLabel=(t,e)=>{var{parentViewBox:n,offset:i,position:l}=t,d;n!=null&&!isPolar(n)&&(d=n);var{x:f,y:b,upperWidth:_,lowerWidth:v,height:m}=e,u=f,o=f+(_-v)/2,h=(u+o)/2,w=(_+v)/2,E=u+_/2,T=m>=0?1:-1,O=T*i,M=T>0?"end":"start",I=T>0?"start":"end",R=_>=0?1:-1,D=R*i,N=R>0?"end":"start",L=R>0?"start":"end";if(l==="top"){var B={x:u+_/2,y:b-O,textAnchor:"middle",verticalAnchor:M};return _objectSpread$l(_objectSpread$l({},B),d?{height:Math.max(b-d.y,0),width:_}:{})}if(l==="bottom"){var $={x:o+v/2,y:b+m+O,textAnchor:"middle",verticalAnchor:I};return _objectSpread$l(_objectSpread$l({},$),d?{height:Math.max(d.y+d.height-(b+m),0),width:v}:{})}if(l==="left"){var V={x:h-D,y:b+m/2,textAnchor:N,verticalAnchor:"middle"};return _objectSpread$l(_objectSpread$l({},V),d?{width:Math.max(V.x-d.x,0),height:m}:{})}if(l==="right"){var G={x:h+w+D,y:b+m/2,textAnchor:L,verticalAnchor:"middle"};return _objectSpread$l(_objectSpread$l({},G),d?{width:Math.max(d.x+d.width-G.x,0),height:m}:{})}var X=d?{width:w,height:m}:{};return l==="insideLeft"?_objectSpread$l({x:h+D,y:b+m/2,textAnchor:L,verticalAnchor:"middle"},X):l==="insideRight"?_objectSpread$l({x:h+w-D,y:b+m/2,textAnchor:N,verticalAnchor:"middle"},X):l==="insideTop"?_objectSpread$l({x:u+_/2,y:b+O,textAnchor:"middle",verticalAnchor:I},X):l==="insideBottom"?_objectSpread$l({x:o+v/2,y:b+m-O,textAnchor:"middle",verticalAnchor:M},X):l==="insideTopLeft"?_objectSpread$l({x:u+D,y:b+O,textAnchor:L,verticalAnchor:I},X):l==="insideTopRight"?_objectSpread$l({x:u+_-D,y:b+O,textAnchor:N,verticalAnchor:I},X):l==="insideBottomLeft"?_objectSpread$l({x:o+D,y:b+m-O,textAnchor:L,verticalAnchor:M},X):l==="insideBottomRight"?_objectSpread$l({x:o+v-D,y:b+m-O,textAnchor:N,verticalAnchor:M},X):l&&typeof l=="object"&&(isNumber(l.x)||isPercent(l.x))&&(isNumber(l.y)||isPercent(l.y))?_objectSpread$l({x:f+getPercentValue(l.x,w),y:b+getPercentValue(l.y,m),textAnchor:"end",verticalAnchor:"end"},X):_objectSpread$l({x:E,y:b+m/2,textAnchor:"middle",verticalAnchor:"middle"},X)},defaultLabelProps={offset:5,zIndex:DefaultZIndexes.label};function Label(t){var e=resolveDefaultProps(t,defaultLabelProps),{viewBox:n,position:i,value:l,children:d,content:f,className:b="",textBreakAll:_,labelRef:v}=e,m=usePolarLabelContext(),u=useCartesianLabelContext(),o=i==="center"?u:m??u,h,w,E;if(n==null?h=o:isPolar(n)?h=n:h=cartesianViewBoxToTrapezoid(n),!h||isNullish(l)&&isNullish(d)&&!reactExports.isValidElement(f)&&typeof f!="function")return null;var T=_objectSpread$l(_objectSpread$l({},e),{},{viewBox:h});if(reactExports.isValidElement(f)){var{labelRef:O}=T,M=_objectWithoutProperties$l(T,_excluded$l);return reactExports.cloneElement(f,M)}if(typeof f=="function"){if(w=reactExports.createElement(f,T),reactExports.isValidElement(w))return w}else w=getLabel(e);var I=svgPropertiesAndEvents(e);if(isPolar(h)){if(i==="insideStart"||i==="insideEnd"||i==="end")return renderRadialLabel(e,i,w,I,h);E=getAttrsOfPolarLabel(h,e.offset,e.position)}else E=getAttrsOfCartesianLabel(e,h);return reactExports.createElement(ZIndexLayer,{zIndex:e.zIndex},reactExports.createElement(Text,_extends$m({ref:v,className:clsx("recharts-label",b)},I,E,{textAnchor:isValidTextAnchor(I.textAnchor)?I.textAnchor:E.textAnchor,breakAll:_}),w))}Label.displayName="Label";var parseLabel=(t,e,n)=>{if(!t)return null;var i={viewBox:e,labelRef:n};return t===!0?reactExports.createElement(Label,_extends$m({key:"label-implicit"},i)):isNumOrStr(t)?reactExports.createElement(Label,_extends$m({key:"label-implicit",value:t},i)):reactExports.isValidElement(t)?t.type===Label?reactExports.cloneElement(t,_objectSpread$l({key:"label-implicit"},i)):reactExports.createElement(Label,_extends$m({key:"label-implicit",content:t},i)):isLabelContentAFunction(t)?reactExports.createElement(Label,_extends$m({key:"label-implicit",content:t},i)):t&&typeof t=="object"?reactExports.createElement(Label,_extends$m({},t,{key:"label-implicit"},i)):null};function CartesianLabelFromLabelProp(t){var{label:e,labelRef:n}=t,i=useCartesianLabelContext();return parseLabel(e,i,n)||null}function PolarLabelFromLabelProp(t){var{label:e}=t,n=usePolarLabelContext();return parseLabel(e,n)||null}var last$3={},last$2={},hasRequiredLast$2;function requireLast$2(){return hasRequiredLast$2||(hasRequiredLast$2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(last$2)),last$2}var toArray$1={},hasRequiredToArray;function requireToArray(){return hasRequiredToArray||(hasRequiredToArray=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(toArray$1)),toArray$1}var hasRequiredLast$1;function requireLast$1(){return hasRequiredLast$1||(hasRequiredLast$1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireLast$2(),n=requireToArray(),i=requireIsArrayLike();function l(d){if(i.isArrayLike(d))return e.last(n.toArray(d))}t.last=l})(last$3)),last$3}var last$1,hasRequiredLast;function requireLast(){return hasRequiredLast||(hasRequiredLast=1,last$1=requireLast$1().last),last$1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);var _excluded$k=["valueAccessor"],_excluded2$9=["dataKey","clockWise","id","textBreakAll","zIndex"];function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$l.apply(null,arguments)}function _objectWithoutProperties$k(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$k(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$k(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var defaultAccessor=t=>Array.isArray(t.value)?last(t.value):t.value,CartesianLabelListContext=reactExports.createContext(void 0),CartesianLabelListContextProvider=CartesianLabelListContext.Provider,PolarLabelListContext=reactExports.createContext(void 0),PolarLabelListContextProvider=PolarLabelListContext.Provider;function useCartesianLabelListContext(){return reactExports.useContext(CartesianLabelListContext)}function usePolarLabelListContext(){return reactExports.useContext(PolarLabelListContext)}function LabelList(t){var{valueAccessor:e=defaultAccessor}=t,n=_objectWithoutProperties$k(t,_excluded$k),{dataKey:i,clockWise:l,id:d,textBreakAll:f,zIndex:b}=n,_=_objectWithoutProperties$k(n,_excluded2$9),v=useCartesianLabelListContext(),m=usePolarLabelListContext(),u=v||m;return!u||!u.length?null:reactExports.createElement(ZIndexLayer,{zIndex:b??DefaultZIndexes.label},reactExports.createElement(Layer,{className:"recharts-label-list"},u.map((o,h)=>{var w,E=isNullish(i)?e(o,h):getValueByDataKey(o&&o.payload,i),T=isNullish(d)?{}:{id:"".concat(d,"-").concat(h)};return reactExports.createElement(Label,_extends$l({key:"label-".concat(h)},svgPropertiesAndEvents(o),_,T,{fill:(w=n.fill)!==null&&w!==void 0?w:o.fill,parentViewBox:o.parentViewBox,value:E,textBreakAll:f,viewBox:o.viewBox,index:h,zIndex:0}))})))}LabelList.displayName="LabelList";function LabelListFromLabelProp(t){var{label:e}=t;return e?e===!0?reactExports.createElement(LabelList,{key:"labelList-implicit"}):reactExports.isValidElement(e)||isLabelContentAFunction(e)?reactExports.createElement(LabelList,{key:"labelList-implicit",content:e}):typeof e=="object"?reactExports.createElement(LabelList,_extends$l({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var _excluded$j=["points","className","baseLinePoints","connectNulls"];function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$k.apply(null,arguments)}function _objectWithoutProperties$j(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$j(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$j(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var isValidatePoint=t=>t&&t.x===+t.x&&t.y===+t.y,getParsedPoints=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(i=>{isValidatePoint(i)?n[n.length-1].push(i):n[n.length-1].length>0&&n.push([])}),isValidatePoint(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},getSinglePolygonPath=(t,e)=>{var n=getParsedPoints(t);e&&(n=[n.reduce((l,d)=>[...l,...d],[])]);var i=n.map(l=>l.reduce((d,f,b)=>"".concat(d).concat(b===0?"M":"L").concat(f.x,",").concat(f.y),"")).join("");return n.length===1?"".concat(i,"Z"):i},getRanglePath=(t,e,n)=>{var i=getSinglePolygonPath(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(getSinglePolygonPath(Array.from(e).reverse(),n).slice(1))},Polygon=t=>{var{points:e,className:n,baseLinePoints:i,connectNulls:l}=t,d=_objectWithoutProperties$j(t,_excluded$j);if(!e||!e.length)return null;var f=clsx("recharts-polygon",n);if(i&&i.length){var b=d.stroke&&d.stroke!=="none",_=getRanglePath(e,i,l);return reactExports.createElement("g",{className:f},reactExports.createElement("path",_extends$k({},svgPropertiesAndEvents(d),{fill:_.slice(-1)==="Z"?d.fill:"none",stroke:"none",d:_})),b?reactExports.createElement("path",_extends$k({},svgPropertiesAndEvents(d),{fill:"none",d:getSinglePolygonPath(e,l)})):null,b?reactExports.createElement("path",_extends$k({},svgPropertiesAndEvents(d),{fill:"none",d:getSinglePolygonPath(i,l)})):null)}var v=getSinglePolygonPath(e,l);return reactExports.createElement("path",_extends$k({},svgPropertiesAndEvents(d),{fill:v.slice(-1)==="Z"?d.fill:"none",className:f,d:v}))};function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$j.apply(null,arguments)}var Dot=t=>{var{cx:e,cy:n,r:i,className:l}=t,d=clsx("recharts-dot",l);return isNumber(e)&&isNumber(n)&&isNumber(i)?reactExports.createElement("circle",_extends$j({},svgPropertiesNoEvents(t),adaptEventHandlers(t),{className:d,cx:e,cy:n,r:i})):null},selectUnfilteredPolarItems=t=>t.graphicalItems.polarItems,selectAxisPredicate=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),selectPolarItemsSettings=createSelector([selectUnfilteredPolarItems,selectBaseAxis,selectAxisPredicate],combineGraphicalItemsSettings),selectPolarGraphicalItemsData=createSelector([selectPolarItemsSettings],combineGraphicalItemsData),selectPolarDisplayedData=createSelector([selectPolarGraphicalItemsData,selectChartDataAndAlwaysIgnoreIndexes],combineDisplayedData),selectPolarAppliedValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],combineAppliedValues);createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],(t,e,n)=>n.length>0?t.flatMap(i=>n.flatMap(l=>{var d,f=getValueByDataKey(i,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey);return{value:f,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:getValueByDataKey(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})));var unsupportedInPolarChart=()=>{},selectDomainOfAllPolarAppliedNumericalValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings,selectAllErrorBarSettings,pickAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues),selectPolarNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainFromUserPreference,unsupportedInPolarChart,selectDomainOfAllPolarAppliedNumericalValues,unsupportedInPolarChart,selectChartLayout,pickAxisType],combineNumericalDomain),selectPolarAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectPolarDisplayedData,selectPolarAppliedValues,selectStackOffsetType,pickAxisType,selectPolarNumericalDomain],combineAxisDomain),selectPolarNiceTicks=createSelector([selectPolarAxisDomain,selectBaseAxis,selectRealScaleType],combineNiceTicks),selectPolarAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectPolarAxisDomain,selectPolarNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks),selectPolarAxis=(t,e,n)=>{switch(e){case"angleAxis":return selectAngleAxis(t,n);case"radiusAxis":return selectRadiusAxis(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},selectPolarAxisRangeWithReversed=(t,e,n)=>{switch(e){case"angleAxis":return selectAngleAxisRangeWithReversed(t,n);case"radiusAxis":return selectRadiusAxisRangeWithReversed(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},selectPolarAxisScale=createSelector([selectPolarAxis,selectRealScaleType,selectPolarAxisDomainIncludingNiceTicks,selectPolarAxisRangeWithReversed],combineScaleFunction),selectPolarCategoricalDomain=createSelector([selectChartLayout,selectPolarAppliedValues,selectAxisSettings,pickAxisType],combineCategoricalDomain),selectPolarAxisTicks=createSelector([selectChartLayout,selectPolarAxis,selectRealScaleType,selectPolarAxisScale,selectPolarNiceTicks,selectPolarAxisRangeWithReversed,selectDuplicateDomain,selectPolarCategoricalDomain,pickAxisType],combineAxisTicks);createSelector([selectChartLayout,selectPolarAxis,selectPolarAxisScale,selectPolarAxisRangeWithReversed,selectDuplicateDomain,selectPolarCategoricalDomain,pickAxisType],combineGraphicalItemTicks);var selectAngleAxisTicks$1=(t,e)=>selectPolarAxisTicks(t,"angleAxis",e,!1),selectPolarGridAngles=createSelector([selectAngleAxisTicks$1],t=>{if(t)return t.map(e=>e.coordinate)}),selectRadiusAxisTicks$1=(t,e)=>selectPolarAxisTicks(t,"radiusAxis",e,!1),selectPolarGridRadii=createSelector([selectRadiusAxisTicks$1],t=>{if(t)return t.map(e=>e.coordinate)}),_excluded$i=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius"];function _objectWithoutProperties$i(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$i(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$i(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$i.apply(null,arguments)}function ownKeys$k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$k(Object(n),!0).forEach(function(i){_defineProperty$l(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$k(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$l(t,e,n){return(e=_toPropertyKey$l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$l(t){var e=_toPrimitive$l(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$l(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getPolygonPath=(t,e,n,i)=>{var l="";return i.forEach((d,f)=>{var b=polarToCartesian(e,n,t,d);f?l+="L ".concat(b.x,",").concat(b.y):l+="M ".concat(b.x,",").concat(b.y)}),l+="Z",l},PolarAngles=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:l,polarAngles:d,radialLines:f}=t;if(!d||!d.length||!f)return null;var b=_objectSpread$k({stroke:"#ccc"},svgPropertiesNoEvents(t));return reactExports.createElement("g",{className:"recharts-polar-grid-angle"},d.map(_=>{var v=polarToCartesian(e,n,i,_),m=polarToCartesian(e,n,l,_);return reactExports.createElement("line",_extends$i({key:"line-".concat(_)},b,{x1:v.x,y1:v.y,x2:m.x,y2:m.y}))}))},ConcentricCircle=t=>{var{cx:e,cy:n,radius:i}=t,l=_objectSpread$k({stroke:"#ccc",fill:"none"},svgPropertiesNoEvents(t));return reactExports.createElement("circle",_extends$i({},l,{className:clsx("recharts-polar-grid-concentric-circle",t.className),cx:e,cy:n,r:i}))},ConcentricPolygon=t=>{var{radius:e}=t,n=_objectSpread$k({stroke:"#ccc",fill:"none"},svgPropertiesNoEvents(t));return reactExports.createElement("path",_extends$i({},n,{className:clsx("recharts-polar-grid-concentric-polygon",t.className),d:getPolygonPath(e,t.cx,t.cy,t.polarAngles)}))},ConcentricGridPath=t=>{var{polarRadius:e,gridType:n}=t;if(!e||!e.length)return null;var i=Math.max(...e),l=t.fill&&t.fill!=="none";return reactExports.createElement("g",{className:"recharts-polar-grid-concentric"},l&&n==="circle"&&reactExports.createElement(ConcentricCircle,_extends$i({},t,{radius:i})),l&&n!=="circle"&&reactExports.createElement(ConcentricPolygon,_extends$i({},t,{radius:i})),e.map((d,f)=>{var b=f;return n==="circle"?reactExports.createElement(ConcentricCircle,_extends$i({key:b},t,{fill:"none",radius:d})):reactExports.createElement(ConcentricPolygon,_extends$i({key:b},t,{fill:"none",radius:d}))}))},PolarGrid=t=>{var e,n,i,l,d,f,b,_,v,{gridType:m="polygon",radialLines:u=!0,angleAxisId:o=0,radiusAxisId:h=0,cx:w,cy:E,innerRadius:T,outerRadius:O,polarAngles:M,polarRadius:I}=t,R=_objectWithoutProperties$i(t,_excluded$i),D=useAppSelector(selectPolarViewBox),N=useAppSelector(X=>selectPolarGridAngles(X,o)),L=useAppSelector(X=>selectPolarGridRadii(X,h)),B=Array.isArray(M)?M:N,$=Array.isArray(I)?I:L;if(B==null||$==null)return null;var V=_objectSpread$k(_objectSpread$k({cx:(e=(n=D==null?void 0:D.cx)!==null&&n!==void 0?n:w)!==null&&e!==void 0?e:0,cy:(i=(l=D==null?void 0:D.cy)!==null&&l!==void 0?l:E)!==null&&i!==void 0?i:0,innerRadius:(d=(f=D==null?void 0:D.innerRadius)!==null&&f!==void 0?f:T)!==null&&d!==void 0?d:0,outerRadius:(b=(_=D==null?void 0:D.outerRadius)!==null&&_!==void 0?_:O)!==null&&b!==void 0?b:0,polarAngles:B,polarRadius:$},R),{},{zIndex:(v=R.zIndex)!==null&&v!==void 0?v:DefaultZIndexes.grid}),{outerRadius:G}=V;return G<=0?null:reactExports.createElement(ZIndexLayer,{zIndex:V.zIndex},reactExports.createElement("g",{className:"recharts-polar-grid"},reactExports.createElement(ConcentricGridPath,_extends$i({gridType:m,radialLines:u},V,{polarAngles:B,polarRadius:$})),reactExports.createElement(PolarAngles,_extends$i({gridType:m,radialLines:u},V,{polarAngles:B,polarRadius:$}))))};PolarGrid.displayName="PolarGrid";var maxBy$3={},maxBy$2={},hasRequiredMaxBy$2;function requireMaxBy$2(){return hasRequiredMaxBy$2||(hasRequiredMaxBy$2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){if(n.length===0)return;let l=n[0],d=i(l);for(let f=1;f<n.length;f++){const b=n[f],_=i(b);_>d&&(d=_,l=b)}return l}t.maxBy=e})(maxBy$2)),maxBy$2}var hasRequiredMaxBy$1;function requireMaxBy$1(){return hasRequiredMaxBy$1||(hasRequiredMaxBy$1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireMaxBy$2(),n=requireIdentity(),i=requireIteratee();function l(d,f){if(d!=null)return e.maxBy(Array.from(d),i.iteratee(f??n.identity))}t.maxBy=l})(maxBy$3)),maxBy$3}var maxBy$1,hasRequiredMaxBy;function requireMaxBy(){return hasRequiredMaxBy||(hasRequiredMaxBy=1,maxBy$1=requireMaxBy$1().maxBy),maxBy$1}var maxByExports=requireMaxBy();const maxBy=getDefaultExportFromCjs(maxByExports);var minBy$3={},minBy$2={},hasRequiredMinBy$2;function requireMinBy$2(){return hasRequiredMinBy$2||(hasRequiredMinBy$2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){if(n.length===0)return;let l=n[0],d=i(l);for(let f=1;f<n.length;f++){const b=n[f],_=i(b);_<d&&(d=_,l=b)}return l}t.minBy=e})(minBy$2)),minBy$2}var hasRequiredMinBy$1;function requireMinBy$1(){return hasRequiredMinBy$1||(hasRequiredMinBy$1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=requireMinBy$2(),n=requireIdentity(),i=requireIteratee();function l(d,f){if(d!=null)return e.minBy(Array.from(d),i.iteratee(f??n.identity))}t.minBy=l})(minBy$3)),minBy$3}var minBy$1,hasRequiredMinBy;function requireMinBy(){return hasRequiredMinBy||(hasRequiredMinBy=1,minBy$1=requireMinBy$1().minBy),minBy$1}var minByExports=requireMinBy();const minBy=getDefaultExportFromCjs(minByExports);var initialState$6={radiusAxis:{},angleAxis:{}},polarAxisSlice=createSlice({name:"polarAxis",initialState:initialState$6,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis,removeRadiusAxis,addAngleAxis,removeAngleAxis}=polarAxisSlice.actions,polarAxisReducer=polarAxisSlice.reducer,_excluded$h=["cx","cy","angle","axisLine"],_excluded2$8=["angle","tickFormatter","stroke","tick"];function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$h.apply(null,arguments)}function ownKeys$j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$j(Object(n),!0).forEach(function(i){_defineProperty$k(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$j(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$k(t,e,n){return(e=_toPropertyKey$k(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$k(t){var e=_toPrimitive$k(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$k(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$h(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$h(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$h(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var AXIS_TYPE$1="radiusAxis";function SetRadiusAxisSettings(t){var e=useAppDispatch();return reactExports.useEffect(()=>(e(addRadiusAxis(t)),()=>{e(removeRadiusAxis(t))})),null}var getTickValueCoord=(t,e,n,i)=>{var{coordinate:l}=t;return polarToCartesian(n,i,l,e)},getTickTextAnchor$2=t=>{var e;switch(t){case"left":e="end";break;case"right":e="start";break;default:e="middle";break}return e},getViewBox=(t,e,n,i)=>{var l=maxBy(i,f=>f.coordinate||0),d=minBy(i,f=>f.coordinate||0);return{cx:e,cy:n,startAngle:t,endAngle:t,innerRadius:(d==null?void 0:d.coordinate)||0,outerRadius:(l==null?void 0:l.coordinate)||0,clockWise:!1}},renderAxisLine=(t,e)=>{var{cx:n,cy:i,angle:l,axisLine:d}=t,f=_objectWithoutProperties$h(t,_excluded$h),b=e.reduce((u,o)=>[Math.min(u[0],o.coordinate),Math.max(u[1],o.coordinate)],[1/0,-1/0]),_=polarToCartesian(n,i,b[0],l),v=polarToCartesian(n,i,b[1],l),m=_objectSpread$j(_objectSpread$j(_objectSpread$j({},svgPropertiesNoEvents(f)),{},{fill:"none"},svgPropertiesNoEvents(d)),{},{x1:_.x,y1:_.y,x2:v.x,y2:v.y});return reactExports.createElement("line",_extends$h({className:"recharts-polar-radius-axis-line"},m))},renderTickItem=(t,e,n)=>{var i;return reactExports.isValidElement(t)?i=reactExports.cloneElement(t,e):typeof t=="function"?i=t(e):i=reactExports.createElement(Text,_extends$h({},e,{className:"recharts-polar-radius-axis-tick-value"}),n),i},renderTicks=(t,e)=>{var{angle:n,tickFormatter:i,stroke:l,tick:d}=t,f=_objectWithoutProperties$h(t,_excluded2$8),b=getTickTextAnchor$2(t.orientation),_=svgPropertiesNoEvents(f),v=svgPropertiesNoEventsFromUnknown(d),m=e.map((u,o)=>{var h=getTickValueCoord(u,t.angle,t.cx,t.cy),w=_objectSpread$j(_objectSpread$j(_objectSpread$j(_objectSpread$j({textAnchor:b,transform:"rotate(".concat(90-n,", ").concat(h.x,", ").concat(h.y,")")},_),{},{stroke:"none",fill:l},v),{},{index:o},h),{},{payload:u});return reactExports.createElement(Layer,_extends$h({className:clsx("recharts-polar-radius-axis-tick",getTickClassName(d)),key:"tick-".concat(u.coordinate)},adaptEventsOfChild(t,u,o)),renderTickItem(d,w,i?i(u.value,o):u.value))});return reactExports.createElement(Layer,{className:"recharts-polar-radius-axis-ticks"},m)},PolarRadiusAxisWrapper=t=>{var{radiusAxisId:e}=t,n=useAppSelector(selectPolarViewBox),i=useAppSelector(_=>selectPolarAxisScale(_,"radiusAxis",e)),l=useAppSelector(_=>selectPolarAxisTicks(_,"radiusAxis",e,!1));if(n==null||!l||!l.length||i==null)return null;var d=_objectSpread$j(_objectSpread$j(_objectSpread$j({},t),{},{scale:i},n),{},{radius:n.outerRadius}),{tick:f,axisLine:b}=d;return reactExports.createElement(ZIndexLayer,{zIndex:d.zIndex},reactExports.createElement(Layer,{className:clsx("recharts-polar-radius-axis",AXIS_TYPE$1,d.className)},b&&renderAxisLine(d,l),f&&renderTicks(d,l),reactExports.createElement(PolarLabelContextProvider,getViewBox(d.angle,d.cx,d.cy,l),reactExports.createElement(PolarLabelFromLabelProp,{label:d.label}),d.children)))};function PolarRadiusAxis(t){var e=resolveDefaultProps(t,defaultPolarRadiusAxisProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetRadiusAxisSettings,{domain:e.domain,id:e.radiusAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDataOverflow:e.allowDataOverflow,reversed:e.reversed,includeHidden:e.includeHidden,allowDecimals:e.allowDecimals,ticks:e.ticks,tickCount:e.tickCount,tick:e.tick}),reactExports.createElement(PolarRadiusAxisWrapper,e))}PolarRadiusAxis.displayName="PolarRadiusAxis";var _excluded$g=["children"];function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$g.apply(null,arguments)}function ownKeys$i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$i(Object(n),!0).forEach(function(i){_defineProperty$j(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$i(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$j(t,e,n){return(e=_toPropertyKey$j(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$j(t){var e=_toPrimitive$j(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$j(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$g(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$g(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$g(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var eps=1e-5,COS_45=Math.cos(degreeToRadian(45)),AXIS_TYPE="angleAxis";function SetAngleAxisSettings(t){var e=useAppDispatch(),n=reactExports.useMemo(()=>{var{children:d}=t,f=_objectWithoutProperties$g(t,_excluded$g);return f},[t]),i=useAppSelector(d=>selectAngleAxis(d,n.id)),l=n===i;return reactExports.useEffect(()=>(e(addAngleAxis(n)),()=>{e(removeAngleAxis(n))}),[e,n]),l?t.children:null}var getTickLineCoord$1=(t,e)=>{var{cx:n,cy:i,radius:l,orientation:d,tickSize:f}=e,b=f||8,_=polarToCartesian(n,i,l,t.coordinate),v=polarToCartesian(n,i,l+(d==="inner"?-1:1)*b,t.coordinate);return{x1:_.x,y1:_.y,x2:v.x,y2:v.y}},getTickTextAnchor$1=(t,e)=>{var n=Math.cos(degreeToRadian(-t.coordinate));return n>eps?e==="outer"?"start":"end":n<-eps?e==="outer"?"end":"start":"middle"},getTickTextVerticalAnchor=t=>{var e=Math.cos(degreeToRadian(-t.coordinate)),n=Math.sin(degreeToRadian(-t.coordinate));return Math.abs(e)<=COS_45?n>0?"start":"end":"middle"},AxisLine$1=t=>{var{cx:e,cy:n,radius:i,axisLineType:l,axisLine:d,ticks:f}=t;if(!d)return null;var b=_objectSpread$i(_objectSpread$i({},svgPropertiesNoEvents(t)),{},{fill:"none"},svgPropertiesNoEvents(d));if(l==="circle")return reactExports.createElement(Dot,_extends$g({className:"recharts-polar-angle-axis-line"},b,{cx:e,cy:n,r:i}));var _=f.map(v=>polarToCartesian(e,n,i,v.coordinate));return reactExports.createElement(Polygon,_extends$g({className:"recharts-polar-angle-axis-line"},b,{points:_}))},TickItemText=t=>{var{tick:e,tickProps:n,value:i}=t;return e?reactExports.isValidElement(e)?reactExports.cloneElement(e,n):typeof e=="function"?e(n):reactExports.createElement(Text,_extends$g({},n,{className:"recharts-polar-angle-axis-tick-value"}),i):null},Ticks$1=t=>{var{tick:e,tickLine:n,tickFormatter:i,stroke:l,ticks:d}=t,f=svgPropertiesNoEvents(t),b=svgPropertiesNoEventsFromUnknown(e),_=_objectSpread$i(_objectSpread$i({},f),{},{fill:"none"},svgPropertiesNoEvents(n)),v=d.map((m,u)=>{var o=getTickLineCoord$1(m,t),h=getTickTextAnchor$1(m,t.orientation),w=getTickTextVerticalAnchor(m),E=_objectSpread$i(_objectSpread$i(_objectSpread$i({},f),{},{textAnchor:h,verticalAnchor:w,stroke:"none",fill:l},b),{},{index:u,payload:m,x:o.x2,y:o.y2});return reactExports.createElement(Layer,_extends$g({className:clsx("recharts-polar-angle-axis-tick",getTickClassName(e)),key:"tick-".concat(m.coordinate)},adaptEventsOfChild(t,m,u)),n&&reactExports.createElement("line",_extends$g({className:"recharts-polar-angle-axis-tick-line"},_,o)),reactExports.createElement(TickItemText,{tick:e,tickProps:E,value:i?i(m.value,u):m.value}))});return reactExports.createElement(Layer,{className:"recharts-polar-angle-axis-ticks"},v)},PolarAngleAxisWrapper=t=>{var{angleAxisId:e}=t,n=useAppSelector(selectPolarViewBox),i=useAppSelector(b=>selectPolarAxisScale(b,"angleAxis",e)),l=useIsPanorama(),d=useAppSelector(b=>selectPolarAxisTicks(b,"angleAxis",e,l));if(n==null||!d||!d.length||i==null)return null;var f=_objectSpread$i(_objectSpread$i(_objectSpread$i({},t),{},{scale:i},n),{},{radius:n.outerRadius,ticks:d});return reactExports.createElement(ZIndexLayer,{zIndex:f.zIndex},reactExports.createElement(Layer,{className:clsx("recharts-polar-angle-axis",AXIS_TYPE,f.className)},reactExports.createElement(AxisLine$1,f),reactExports.createElement(Ticks$1,f)))};function PolarAngleAxis(t){var e=resolveDefaultProps(t,defaultPolarAngleAxisProps);return reactExports.createElement(SetAngleAxisSettings,{id:e.angleAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:e.reversed,includeHidden:!1,allowDecimals:e.allowDecimals,tickCount:e.tickCount,ticks:e.ticks,tick:e.tick,domain:e.domain},reactExports.createElement(PolarAngleAxisWrapper,e))}PolarAngleAxis.displayName="PolarAngleAxis";function ownKeys$h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$h(Object(n),!0).forEach(function(i){_defineProperty$i(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$h(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$i(t,e,n){return(e=_toPropertyKey$i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$i(t){var e=_toPrimitive$i(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$i(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pickId$1=(t,e)=>e,selectSynchronisedPieSettings=createSelector([selectUnfilteredPolarItems,pickId$1],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),emptyArray=[],pickCells$1=(t,e,n)=>(n==null?void 0:n.length)===0?emptyArray:n,selectDisplayedData=createSelector([selectChartDataAndAlwaysIgnoreIndexes,selectSynchronisedPieSettings,pickCells$1],(t,e,n)=>{var{chartData:i}=t;if(e!=null){var l;if((e==null?void 0:e.data)!=null&&e.data.length>0?l=e.data:l=i,(!l||!l.length)&&n!=null&&(l=n.map(d=>_objectSpread$h(_objectSpread$h({},e.presentationProps),d.props))),l!=null)return l}}),selectPieLegend=createSelector([selectDisplayedData,selectSynchronisedPieSettings,pickCells$1],(t,e,n)=>{if(!(t==null||e==null))return t.map((i,l)=>{var d,f=getValueByDataKey(i,e.nameKey,e.name),b;return n!=null&&(d=n[l])!==null&&d!==void 0&&(d=d.props)!==null&&d!==void 0&&d.fill?b=n[l].props.fill:typeof i=="object"&&i!=null&&"fill"in i?b=i.fill:b=e.fill,{value:getTooltipNameProp(f,e.dataKey),color:b,payload:i,type:e.legendType}})}),selectPieSectors=createSelector([selectDisplayedData,selectSynchronisedPieSettings,pickCells$1,selectChartOffsetInternal],(t,e,n,i)=>{if(!(e==null||t==null))return computePieSectors({offset:i,pieSettings:e,displayedData:t,cells:n})}),reactIs={exports:{}},reactIs_production={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production;function requireReactIs_production(){if(hasRequiredReactIs_production)return reactIs_production;hasRequiredReactIs_production=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),o=Symbol.for("react.view_transition"),h=Symbol.for("react.client.reference");function w(E){if(typeof E=="object"&&E!==null){var T=E.$$typeof;switch(T){case t:switch(E=E.type,E){case n:case l:case i:case _:case v:case o:return E;default:switch(E=E&&E.$$typeof,E){case f:case b:case u:case m:return E;case d:return E;default:return T}}case e:return T}}}return reactIs_production.ContextConsumer=d,reactIs_production.ContextProvider=f,reactIs_production.Element=t,reactIs_production.ForwardRef=b,reactIs_production.Fragment=n,reactIs_production.Lazy=u,reactIs_production.Memo=m,reactIs_production.Portal=e,reactIs_production.Profiler=l,reactIs_production.StrictMode=i,reactIs_production.Suspense=_,reactIs_production.SuspenseList=v,reactIs_production.isContextConsumer=function(E){return w(E)===d},reactIs_production.isContextProvider=function(E){return w(E)===f},reactIs_production.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},reactIs_production.isForwardRef=function(E){return w(E)===b},reactIs_production.isFragment=function(E){return w(E)===n},reactIs_production.isLazy=function(E){return w(E)===u},reactIs_production.isMemo=function(E){return w(E)===m},reactIs_production.isPortal=function(E){return w(E)===e},reactIs_production.isProfiler=function(E){return w(E)===l},reactIs_production.isStrictMode=function(E){return w(E)===i},reactIs_production.isSuspense=function(E){return w(E)===_},reactIs_production.isSuspenseList=function(E){return w(E)===v},reactIs_production.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===l||E===i||E===_||E===v||typeof E=="object"&&E!==null&&(E.$$typeof===u||E.$$typeof===m||E.$$typeof===f||E.$$typeof===d||E.$$typeof===b||E.$$typeof===h||E.getModuleId!==void 0)},reactIs_production.typeOf=w,reactIs_production}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production()),reactIs.exports}var reactIsExports=requireReactIs(),getDisplayName=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",lastChildren=null,lastResult=null,toArray=t=>{if(t===lastChildren&&Array.isArray(lastResult))return lastResult;var e=[];return reactExports.Children.forEach(t,n=>{isNullish(n)||(reactIsExports.isFragment(n)?e=e.concat(toArray(n.props.children)):e.push(n))}),lastResult=e,lastChildren=t,e};function findAllByType(t,e){var n=[],i=[];return Array.isArray(e)?i=e.map(l=>getDisplayName(l)):i=[getDisplayName(e)],toArray(t).forEach(l=>{var d=get(l,"type.displayName")||get(l,"type.name");d&&i.indexOf(d)!==-1&&n.push(l)}),n}var isClipDot=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,isPlainObject$2={},hasRequiredIsPlainObject$1;function requireIsPlainObject$1(){return hasRequiredIsPlainObject$1||(hasRequiredIsPlainObject$1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var l;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const d=n[Symbol.toStringTag];return d==null||!((l=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&l.writable)?!1:n.toString()===`[object ${d}]`}let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i}t.isPlainObject=e})(isPlainObject$2)),isPlainObject$2}var isPlainObject$1,hasRequiredIsPlainObject;function requireIsPlainObject(){return hasRequiredIsPlainObject||(hasRequiredIsPlainObject=1,isPlainObject$1=requireIsPlainObject$1().isPlainObject),isPlainObject$1}var isPlainObjectExports=requireIsPlainObject();const isPlainObject=getDefaultExportFromCjs(isPlainObjectExports);function ownKeys$g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$g(Object(n),!0).forEach(function(i){_defineProperty$h(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$g(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$h(t,e,n){return(e=_toPropertyKey$h(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$h(t){var e=_toPrimitive$h(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$h(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$f.apply(null,arguments)}var getTrapezoidPath=(t,e,n,i,l)=>{var d=n-i,f;return f="M ".concat(t,",").concat(e),f+="L ".concat(t+n,",").concat(e),f+="L ".concat(t+n-d/2,",").concat(e+l),f+="L ".concat(t+n-d/2-i,",").concat(e+l),f+="L ".concat(t,",").concat(e," Z"),f},defaultProps$4={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=t=>{var e=resolveDefaultProps(t,defaultProps$4),{x:n,y:i,upperWidth:l,lowerWidth:d,height:f,className:b}=e,{animationEasing:_,animationDuration:v,animationBegin:m,isUpdateAnimationActive:u}=e,o=reactExports.useRef(null),[h,w]=reactExports.useState(-1),E=reactExports.useRef(l),T=reactExports.useRef(d),O=reactExports.useRef(f),M=reactExports.useRef(n),I=reactExports.useRef(i),R=useAnimationId(t,"trapezoid-");if(reactExports.useEffect(()=>{if(o.current&&o.current.getTotalLength)try{var Q=o.current.getTotalLength();Q&&w(Q)}catch{}},[]),n!==+n||i!==+i||l!==+l||d!==+d||f!==+f||l===0&&d===0||f===0)return null;var D=clsx("recharts-trapezoid",b);if(!u)return reactExports.createElement("g",null,reactExports.createElement("path",_extends$f({},svgPropertiesAndEvents(e),{className:D,d:getTrapezoidPath(n,i,l,d,f)})));var N=E.current,L=T.current,B=O.current,$=M.current,V=I.current,G="0px ".concat(h===-1?1:h,"px"),X="".concat(h,"px 0px"),ee=getTransitionVal(["strokeDasharray"],v,_);return reactExports.createElement(JavascriptAnimate,{animationId:R,key:R,canBegin:h>0,duration:v,easing:_,isActive:u,begin:m},Q=>{var Y=interpolate$1(N,l,Q),U=interpolate$1(L,d,Q),q=interpolate$1(B,f,Q),le=interpolate$1($,n,Q),ie=interpolate$1(V,i,Q);o.current&&(E.current=Y,T.current=U,O.current=q,M.current=le,I.current=ie);var Ee=Q>0?{transition:ee,strokeDasharray:X}:{strokeDasharray:G};return reactExports.createElement("path",_extends$f({},svgPropertiesAndEvents(e),{className:D,d:getTrapezoidPath(le,ie,Y,U,q),ref:o,style:_objectSpread$g(_objectSpread$g({},Ee),e.style)}))})},_excluded$f=["option","shapeType","propTransformer","activeClassName","isActive"];function _objectWithoutProperties$f(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$f(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$f(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function ownKeys$f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$f(Object(n),!0).forEach(function(i){_defineProperty$g(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$f(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$g(t,e,n){return(e=_toPropertyKey$g(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$g(t){var e=_toPrimitive$g(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$g(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function defaultPropTransformer(t,e){return _objectSpread$f(_objectSpread$f({},e),t)}function isSymbolsProps(t,e){return t==="symbols"}function ShapeSelector(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return reactExports.createElement(Rectangle,n);case"trapezoid":return reactExports.createElement(Trapezoid,n);case"sector":return reactExports.createElement(Sector,n);case"symbols":if(isSymbolsProps(e))return reactExports.createElement(Symbols,n);break;case"curve":return reactExports.createElement(Curve,n);default:return null}}function getPropsFromShapeOption(t){return reactExports.isValidElement(t)?t.props:t}function Shape(t){var{option:e,shapeType:n,propTransformer:i=defaultPropTransformer,activeClassName:l="recharts-active-shape",isActive:d}=t,f=_objectWithoutProperties$f(t,_excluded$f),b;if(reactExports.isValidElement(e))b=reactExports.cloneElement(e,_objectSpread$f(_objectSpread$f({},f),getPropsFromShapeOption(e)));else if(typeof e=="function")b=e(f);else if(isPlainObject(e)&&typeof e!="boolean"){var _=i(e,f);b=reactExports.createElement(ShapeSelector,{shapeType:n,elementProps:_})}else{var v=f;b=reactExports.createElement(ShapeSelector,{shapeType:n,elementProps:v})}return d?reactExports.createElement(Layer,{className:l},b):b}var useMouseEnterItemDispatch=(t,e)=>{var n=useAppDispatch();return(i,l)=>d=>{t==null||t(i,l,d),n(setActiveMouseOverItemIndex({activeIndex:String(l),activeDataKey:e,activeCoordinate:i.tooltipPosition}))}},useMouseLeaveItemDispatch=t=>{var e=useAppDispatch();return(n,i)=>l=>{t==null||t(n,i,l),e(mouseLeaveItem())}},useMouseClickItemDispatch=(t,e)=>{var n=useAppDispatch();return(i,l)=>d=>{t==null||t(i,l,d),n(setActiveClickItemIndex({activeIndex:String(l),activeDataKey:e,activeCoordinate:i.tooltipPosition}))}};function SetTooltipEntrySettings(t){var{fn:e,args:n}=t,i=useAppDispatch(),l=useIsPanorama();return reactExports.useLayoutEffect(()=>{if(!l){var d=e(n);return i(addTooltipEntrySettings(d)),()=>{i(removeTooltipEntrySettings(d))}}},[e,n,i,l]),null}function SetLegendPayload(t){var{legendPayload:e}=t,n=useAppDispatch(),i=useIsPanorama();return reactExports.useLayoutEffect(()=>i?noop$2:(n(addLegendPayload(e)),()=>{n(removeLegendPayload(e))}),[n,i,e]),null}function SetPolarLegendPayload(t){var{legendPayload:e}=t,n=useAppDispatch(),i=useAppSelector(selectChartLayout);return reactExports.useLayoutEffect(()=>i!=="centric"&&i!=="radial"?noop$2:(n(addLegendPayload(e)),()=>{n(removeLegendPayload(e))}),[n,i,e]),null}var _ref,useIdFallback=()=>{var[t]=reactExports.useState(()=>uniqueId("uid-"));return t},useId=(_ref=React$1.useId)!==null&&_ref!==void 0?_ref:useIdFallback;function useUniqueId(t,e){var n=useId();return e||(t?"".concat(t,"-").concat(n):n)}var GraphicalItemIdContext=reactExports.createContext(void 0),RegisterGraphicalItemId=t=>{var{id:e,type:n,children:i}=t,l=useUniqueId("recharts-".concat(n),e);return reactExports.createElement(GraphicalItemIdContext.Provider,{value:l},i(l))},initialState$5={cartesianItems:[],polarItems:[]},graphicalItemsSlice=createSlice({name:"graphicalItems",initialState:initialState$5,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:prepareAutoBatched()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:i}=e.payload,l=current(t).cartesianItems.indexOf(n);l>-1&&(t.cartesianItems[l]=i)},prepare:prepareAutoBatched()},removeCartesianGraphicalItem:{reducer(t,e){var n=current(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:prepareAutoBatched()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:prepareAutoBatched()},removePolarGraphicalItem:{reducer(t,e){var n=current(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:prepareAutoBatched()}}}),{addCartesianGraphicalItem,replaceCartesianGraphicalItem,removeCartesianGraphicalItem,addPolarGraphicalItem,removePolarGraphicalItem}=graphicalItemsSlice.actions,graphicalItemsReducer=graphicalItemsSlice.reducer;function SetCartesianGraphicalItem(t){var e=useAppDispatch(),n=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{n.current===null?e(addCartesianGraphicalItem(t)):n.current!==t&&e(replaceCartesianGraphicalItem({prev:n.current,next:t})),n.current=t},[e,t]),reactExports.useLayoutEffect(()=>()=>{n.current&&(e(removeCartesianGraphicalItem(n.current)),n.current=null)},[e]),null}function SetPolarGraphicalItem(t){var e=useAppDispatch();return reactExports.useLayoutEffect(()=>(e(addPolarGraphicalItem(t)),()=>{e(removePolarGraphicalItem(t))}),[e,t]),null}var _excluded$e=["onMouseEnter","onClick","onMouseLeave"],_excluded2$7=["id"],_excluded3$6=["id"];function _objectWithoutProperties$e(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$e(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$e(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function ownKeys$e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$e(Object(n),!0).forEach(function(i){_defineProperty$f(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$e(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$f(t,e,n){return(e=_toPropertyKey$f(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$f(t){var e=_toPrimitive$f(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$f(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$e.apply(null,arguments)}function SetPiePayloadLegend(t){var e=reactExports.useMemo(()=>findAllByType(t.children,Cell),[t.children]),n=useAppSelector(i=>selectPieLegend(i,t.id,e));return n==null?null:reactExports.createElement(SetPolarLegendPayload,{legendPayload:n})}function getTooltipEntrySettings$4(t){var{dataKey:e,nameKey:n,sectors:i,stroke:l,strokeWidth:d,fill:f,name:b,hide:_,tooltipType:v}=t;return{dataDefinedOnItem:i.map(m=>m.tooltipPayload),positions:i.map(m=>m.tooltipPosition),settings:{stroke:l,strokeWidth:d,fill:f,dataKey:e,nameKey:n,name:getTooltipNameProp(b,e),hide:_,type:v,color:f,unit:""}}}var getTextAnchor=(t,e)=>t>e?"start":t<e?"end":"middle",getOuterRadius=(t,e,n)=>getPercentValue(typeof e=="function"?e(t):e,n,n*.8),parseCoordinateOfPie=(t,e,n)=>{var{top:i,left:l,width:d,height:f}=e,b=getMaxRadius(d,f),_=l+getPercentValue(t.cx,d,d/2),v=i+getPercentValue(t.cy,f,f/2),m=getPercentValue(t.innerRadius,b,0),u=getOuterRadius(n,t.outerRadius,b),o=t.maxRadius||Math.sqrt(d*d+f*f)/2;return{cx:_,cy:v,innerRadius:m,outerRadius:u,maxRadius:o}},parseDeltaAngle=(t,e)=>{var n=mathSign(e-t),i=Math.min(Math.abs(e-t),360);return n*i};function getClassNamePropertyIfExists(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var renderLabelLineItem=(t,e)=>{if(reactExports.isValidElement(t))return reactExports.cloneElement(t,e);if(typeof t=="function")return t(e);var n=clsx("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return reactExports.createElement(Curve,_extends$e({},e,{type:"linear",className:n}))},renderLabelItem=(t,e,n)=>{if(reactExports.isValidElement(t))return reactExports.cloneElement(t,e);var i=n;if(typeof t=="function"&&(i=t(e),reactExports.isValidElement(i)))return i;var l=clsx("recharts-pie-label-text",getClassNamePropertyIfExists(t));return reactExports.createElement(Text,_extends$e({},e,{alignmentBaseline:"middle",className:l}),i)};function PieLabels(t){var{sectors:e,props:n,showLabels:i}=t,{label:l,labelLine:d,dataKey:f}=n;if(!i||!l||!e)return null;var b=svgPropertiesNoEvents(n),_=svgPropertiesNoEventsFromUnknown(l),v=svgPropertiesNoEventsFromUnknown(d),m=typeof l=="object"&&"offsetRadius"in l&&typeof l.offsetRadius=="number"&&l.offsetRadius||20,u=e.map((o,h)=>{var w=(o.startAngle+o.endAngle)/2,E=polarToCartesian(o.cx,o.cy,o.outerRadius+m,w),T=_objectSpread$e(_objectSpread$e(_objectSpread$e(_objectSpread$e({},b),o),{},{stroke:"none"},_),{},{index:h,textAnchor:getTextAnchor(E.x,o.cx)},E),O=_objectSpread$e(_objectSpread$e(_objectSpread$e(_objectSpread$e({},b),o),{},{fill:"none",stroke:o.fill},v),{},{index:h,points:[polarToCartesian(o.cx,o.cy,o.outerRadius,w),E],key:"line"});return reactExports.createElement(ZIndexLayer,{zIndex:DefaultZIndexes.label,key:"label-".concat(o.startAngle,"-").concat(o.endAngle,"-").concat(o.midAngle,"-").concat(h)},reactExports.createElement(Layer,null,d&&renderLabelLineItem(d,O),renderLabelItem(l,T,getValueByDataKey(o,f))))});return reactExports.createElement(Layer,{className:"recharts-pie-labels"},u)}function PieLabelList(t){var{sectors:e,props:n,showLabels:i}=t,{label:l}=n;return typeof l=="object"&&l!=null&&"position"in l?reactExports.createElement(LabelListFromLabelProp,{label:l}):reactExports.createElement(PieLabels,{sectors:e,props:n,showLabels:i})}function PieSectors(t){var{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:l}=t,d=useAppSelector(selectActiveTooltipIndex),{onMouseEnter:f,onClick:b,onMouseLeave:_}=l,v=_objectWithoutProperties$e(l,_excluded$e),m=useMouseEnterItemDispatch(f,l.dataKey),u=useMouseLeaveItemDispatch(_),o=useMouseClickItemDispatch(b,l.dataKey);return e==null||e.length===0?null:reactExports.createElement(reactExports.Fragment,null,e.map((h,w)=>{if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&e.length!==1)return null;var E=n&&String(w)===d,T=d?i:null,O=E?n:T,M=_objectSpread$e(_objectSpread$e({},h),{},{stroke:h.stroke,tabIndex:-1,[DATA_ITEM_INDEX_ATTRIBUTE_NAME]:w,[DATA_ITEM_DATAKEY_ATTRIBUTE_NAME]:l.dataKey});return reactExports.createElement(Layer,_extends$e({key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(v,h,w),{onMouseEnter:m(h,w),onMouseLeave:u(h,w),onClick:o(h,w)}),reactExports.createElement(Shape,_extends$e({option:O,isActive:E,shapeType:"sector"},M)))}))}function computePieSectors(t){var e,{pieSettings:n,displayedData:i,cells:l,offset:d}=t,{cornerRadius:f,startAngle:b,endAngle:_,dataKey:v,nameKey:m,tooltipType:u}=n,o=Math.abs(n.minAngle),h=parseDeltaAngle(b,_),w=Math.abs(h),E=i.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,T=i.filter(N=>getValueByDataKey(N,v,0)!==0).length,O=(w>=360?T:T-1)*E,M=w-T*o-O,I=i.reduce((N,L)=>{var B=getValueByDataKey(L,v,0);return N+(isNumber(B)?B:0)},0),R;if(I>0){var D;R=i.map((N,L)=>{var B=getValueByDataKey(N,v,0),$=getValueByDataKey(N,m,L),V=parseCoordinateOfPie(n,d,N),G=(isNumber(B)?B:0)/I,X,ee=_objectSpread$e(_objectSpread$e({},N),l&&l[L]&&l[L].props);L?X=D.endAngle+mathSign(h)*E*(B!==0?1:0):X=b;var Q=X+mathSign(h)*((B!==0?o:0)+G*M),Y=(X+Q)/2,U=(V.innerRadius+V.outerRadius)/2,q=[{name:$,value:B,payload:ee,dataKey:v,type:u}],le=polarToCartesian(V.cx,V.cy,U,Y);return D=_objectSpread$e(_objectSpread$e(_objectSpread$e(_objectSpread$e({},n.presentationProps),{},{percent:G,cornerRadius:typeof f=="string"?parseFloat(f):f,name:$,tooltipPayload:q,midAngle:Y,middleRadius:U,tooltipPosition:le},ee),V),{},{value:B,startAngle:X,endAngle:Q,payload:ee,paddingAngle:mathSign(h)*E}),D})}return R}function PieLabelListProvider(t){var{showLabels:e,sectors:n,children:i}=t,l=reactExports.useMemo(()=>!e||!n?[]:n.map(d=>({value:d.value,payload:d.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:d.cx,cy:d.cy,innerRadius:d.innerRadius,outerRadius:d.outerRadius,startAngle:d.startAngle,endAngle:d.endAngle,clockWise:!1},fill:d.fill})),[n,e]);return reactExports.createElement(PolarLabelListContextProvider,{value:e?l:void 0},i)}function SectorsWithAnimation(t){var{props:e,previousSectorsRef:n}=t,{sectors:i,isAnimationActive:l,animationBegin:d,animationDuration:f,animationEasing:b,activeShape:_,inactiveShape:v,onAnimationStart:m,onAnimationEnd:u}=e,o=useAnimationId(e,"recharts-pie-"),h=n.current,[w,E]=reactExports.useState(!1),T=reactExports.useCallback(()=>{typeof u=="function"&&u(),E(!1)},[u]),O=reactExports.useCallback(()=>{typeof m=="function"&&m(),E(!0)},[m]);return reactExports.createElement(PieLabelListProvider,{showLabels:!w,sectors:i},reactExports.createElement(JavascriptAnimate,{animationId:o,begin:d,duration:f,isActive:l,easing:b,onAnimationStart:O,onAnimationEnd:T,key:o},M=>{var I=[],R=i&&i[0],D=R==null?void 0:R.startAngle;return i==null||i.forEach((N,L)=>{var B=h&&h[L],$=L>0?get(N,"paddingAngle",0):0;if(B){var V=interpolate$1(B.endAngle-B.startAngle,N.endAngle-N.startAngle,M),G=_objectSpread$e(_objectSpread$e({},N),{},{startAngle:D+$,endAngle:D+V+$});I.push(G),D=G.endAngle}else{var{endAngle:X,startAngle:ee}=N,Q=interpolate$1(0,X-ee,M),Y=_objectSpread$e(_objectSpread$e({},N),{},{startAngle:D+$,endAngle:D+Q+$});I.push(Y),D=Y.endAngle}}),n.current=I,reactExports.createElement(Layer,null,reactExports.createElement(PieSectors,{sectors:I,activeShape:_,inactiveShape:v,allOtherPieProps:e}))}),reactExports.createElement(PieLabelList,{showLabels:!w,sectors:i,props:e}),e.children)}var defaultPieProps={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Global.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:DefaultZIndexes.area};function PieImpl(t){var{id:e}=t,n=_objectWithoutProperties$e(t,_excluded2$7),{hide:i,className:l,rootTabIndex:d}=t,f=reactExports.useMemo(()=>findAllByType(t.children,Cell),[t.children]),b=useAppSelector(m=>selectPieSectors(m,e,f)),_=reactExports.useRef(null),v=clsx("recharts-pie",l);return i||b==null?(_.current=null,reactExports.createElement(Layer,{tabIndex:d,className:v})):reactExports.createElement(ZIndexLayer,{zIndex:t.zIndex},reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$4,args:_objectSpread$e(_objectSpread$e({},t),{},{sectors:b})}),reactExports.createElement(Layer,{tabIndex:d,className:v},reactExports.createElement(SectorsWithAnimation,{props:_objectSpread$e(_objectSpread$e({},n),{},{sectors:b}),previousSectorsRef:_})))}function Pie(t){var e=resolveDefaultProps(t,defaultPieProps),{id:n}=e,i=_objectWithoutProperties$e(e,_excluded3$6),l=svgPropertiesNoEvents(i);return reactExports.createElement(RegisterGraphicalItemId,{id:n,type:"pie"},d=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetPolarGraphicalItem,{type:"pie",id:d,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:l,maxRadius:e.maxRadius}),reactExports.createElement(SetPiePayloadLegend,_extends$e({},i,{id:d})),reactExports.createElement(PieImpl,_extends$e({},i,{id:d}))))}Pie.displayName="Pie";var _excluded$d=["points"];function ownKeys$d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$d(Object(n),!0).forEach(function(i){_defineProperty$e(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$d(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$e(t,e,n){return(e=_toPropertyKey$e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$e(t){var e=_toPrimitive$e(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$d.apply(null,arguments)}function _objectWithoutProperties$d(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$d(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$d(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function DotItem(t){var{option:e,dotProps:n,className:i}=t;if(reactExports.isValidElement(e))return reactExports.cloneElement(e,n);if(typeof e=="function")return e(n);var l=clsx(i,typeof e!="boolean"?e.className:""),d=n??{},{points:f}=d,b=_objectWithoutProperties$d(d,_excluded$d);return reactExports.createElement(Dot,_extends$d({},b,{className:l}))}function shouldRenderDots(t,e){return t==null?!1:e?!0:t.length===1}function Dots(t){var{points:e,dot:n,className:i,dotClassName:l,dataKey:d,baseProps:f,needClip:b,clipPathId:_,zIndex:v=DefaultZIndexes.scatter}=t;if(!shouldRenderDots(e,n))return null;var m=isClipDot(n),u=svgPropertiesAndEventsFromUnknown(n),o=e.map((w,E)=>{var T,O,M=_objectSpread$d(_objectSpread$d(_objectSpread$d({r:3},f),u),{},{index:E,cx:(T=w.x)!==null&&T!==void 0?T:void 0,cy:(O=w.y)!==null&&O!==void 0?O:void 0,dataKey:d,value:w.value,payload:w.payload,points:e});return reactExports.createElement(DotItem,{key:"dot-".concat(E),option:n,dotProps:M,className:l})}),h={};return b&&_!=null&&(h.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(_,")")),reactExports.createElement(ZIndexLayer,{zIndex:v},reactExports.createElement(Layer,_extends$d({className:i},h),o))}function ownKeys$c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$c(Object(n),!0).forEach(function(i){_defineProperty$d(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$c(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$d(t,e,n){return(e=_toPropertyKey$d(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$d(t){var e=_toPrimitive$d(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$d(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var initialState$4={xAxis:{},yAxis:{},zAxis:{}},cartesianAxisSlice=createSlice({name:"cartesianAxis",initialState:initialState$4,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:prepareAutoBatched()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:prepareAutoBatched()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:prepareAutoBatched()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:prepareAutoBatched()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:prepareAutoBatched()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:prepareAutoBatched()},updateYAxisWidth(t,e){var{id:n,width:i}=e.payload,l=t.yAxis[n];if(l){var d=l.widthHistory||[];if(d.length===3&&d[0]===d[2]&&i===d[1]&&i!==l.width&&Math.abs(i-d[0])<=1)return;var f=[...d,i].slice(-3);t.yAxis[n]=_objectSpread$c(_objectSpread$c({},t.yAxis[n]),{},{width:i,widthHistory:f})}}}}),{addXAxis,removeXAxis,addYAxis,removeYAxis,addZAxis,removeZAxis,updateYAxisWidth}=cartesianAxisSlice.actions,cartesianAxisReducer=cartesianAxisSlice.reducer,selectChartOffset=createSelector([selectChartOffsetInternal],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),selectPlotArea=createSelector([selectChartOffset,selectChartWidth,selectChartHeight],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),usePlotArea=()=>useAppSelector(selectPlotArea),useActiveTooltipDataPoints=()=>useAppSelector(selectActiveTooltipDataPoints);function ownKeys$b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$b(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$b(Object(n),!0).forEach(function(i){_defineProperty$c(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$b(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$c(t,e,n){return(e=_toPropertyKey$c(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$c(t){var e=_toPrimitive$c(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$c(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ActivePoint=t=>{var{point:e,childIndex:n,mainColor:i,activeDot:l,dataKey:d}=t;if(l===!1||e.x==null||e.y==null)return null;var f={index:n,dataKey:d,cx:e.x,cy:e.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},b=_objectSpread$b(_objectSpread$b(_objectSpread$b({},f),svgPropertiesNoEventsFromUnknown(l)),adaptEventHandlers(l)),_;return reactExports.isValidElement(l)?_=reactExports.cloneElement(l,b):typeof l=="function"?_=l(b):_=reactExports.createElement(Dot,b),reactExports.createElement(Layer,{className:"recharts-active-dot"},_)};function ActivePoints(t){var{points:e,mainColor:n,activeDot:i,itemDataKey:l,zIndex:d=DefaultZIndexes.activeDot}=t,f=useAppSelector(selectActiveTooltipIndex),b=useActiveTooltipDataPoints();if(e==null||b==null)return null;var _=e.find(v=>b.includes(v.payload));return isNullish(_)?null:reactExports.createElement(ZIndexLayer,{zIndex:d},reactExports.createElement(ActivePoint,{point:_,childIndex:Number(f),mainColor:n,dataKey:l,activeDot:i}))}function ownKeys$a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$a(Object(n),!0).forEach(function(i){_defineProperty$b(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$a(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$b(t,e,n){return(e=_toPropertyKey$b(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$b(t){var e=_toPrimitive$b(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$b(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var selectRadiusAxisScale=(t,e)=>selectPolarAxisScale(t,"radiusAxis",e),selectRadiusAxisForRadar=createSelector([selectRadiusAxisScale],t=>{if(t!=null)return{scale:t}}),selectRadiusAxisForBandSize=createSelector([selectRadiusAxis,selectRadiusAxisScale],(t,e)=>{if(!(t==null||e==null))return _objectSpread$a(_objectSpread$a({},t),{},{scale:e})}),selectRadiusAxisTicks=(t,e,n,i)=>selectPolarAxisTicks(t,"radiusAxis",e,i),selectAngleAxisForRadar=(t,e,n)=>selectAngleAxis(t,n),selectPolarAxisScaleForRadar=(t,e,n)=>selectPolarAxisScale(t,"angleAxis",n),selectAngleAxisForBandSize=createSelector([selectAngleAxisForRadar,selectPolarAxisScaleForRadar],(t,e)=>{if(!(t==null||e==null))return _objectSpread$a(_objectSpread$a({},t),{},{scale:e})}),selectAngleAxisTicks=(t,e,n,i)=>selectPolarAxisTicks(t,"angleAxis",n,i),selectAngleAxisWithScaleAndViewport=createSelector([selectAngleAxisForRadar,selectPolarAxisScaleForRadar,selectPolarViewBox],(t,e,n)=>{if(!(n==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:n.cx,cy:n.cy}}),pickId=(t,e,n,i,l)=>l,selectBandSizeOfAxis=createSelector([selectChartLayout,selectRadiusAxisForBandSize,selectRadiusAxisTicks,selectAngleAxisForBandSize,selectAngleAxisTicks],(t,e,n,i,l)=>isCategoricalAxis(t,"radiusAxis")?getBandSizeOfAxis(e,n,!1):getBandSizeOfAxis(i,l,!1)),selectSynchronisedRadarDataKey=createSelector([selectUnfilteredPolarItems,pickId],(t,e)=>{if(t!=null){var n=t.find(i=>i.type==="radar"&&e===i.id);return n==null?void 0:n.dataKey}}),selectRadarPoints=createSelector([selectRadiusAxisForRadar,selectAngleAxisWithScaleAndViewport,selectChartDataAndAlwaysIgnoreIndexes,selectSynchronisedRadarDataKey,selectBandSizeOfAxis],(t,e,n,i,l)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:b}=n;if(!(t==null||e==null||d==null||l==null||i==null)){var _=d.slice(f,b+1);return computeRadarPoints({radiusAxis:t,angleAxis:e,displayedData:_,dataKey:i,bandSize:l})}}),_excluded$c=["id"];function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$c.apply(null,arguments)}function ownKeys$9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$9(Object(n),!0).forEach(function(i){_defineProperty$a(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$9(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$a(t,e,n){return(e=_toPropertyKey$a(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$a(t){var e=_toPrimitive$a(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$a(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$c(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$c(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$c(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function getLegendItemColor$1(t,e){return t&&t!=="none"?t:e}var computeLegendPayloadFromRadarSectors=t=>{var{dataKey:e,name:n,stroke:i,fill:l,legendType:d,hide:f}=t;return[{inactive:f,dataKey:e,type:d,color:getLegendItemColor$1(i,l),value:getTooltipNameProp(n,e),payload:t}]};function getTooltipEntrySettings$3(t){var{dataKey:e,stroke:n,strokeWidth:i,fill:l,name:d,hide:f,tooltipType:b}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:l,nameKey:void 0,dataKey:e,name:getTooltipNameProp(d,e),hide:f,type:b,color:getLegendItemColor$1(n,l),unit:""}}}function RadarDotsWrapper(t){var{points:e,props:n}=t,{dot:i,dataKey:l}=n,{id:d}=n,f=_objectWithoutProperties$c(n,_excluded$c),b=svgPropertiesNoEvents(f);return reactExports.createElement(Dots,{points:e,dot:i,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:l,baseProps:b})}function computeRadarPoints(t){var{radiusAxis:e,angleAxis:n,displayedData:i,dataKey:l,bandSize:d}=t,{cx:f,cy:b}=n,_=!1,v=[],m=n.type!=="number"?d??0:0;i.forEach((o,h)=>{var w=getValueByDataKey(o,n.dataKey,h),E=getValueByDataKey(o,l),T=n.scale(w)+m,O=Array.isArray(E)?last(E):E,M=isNullish(O)?0:e.scale(O);Array.isArray(E)&&E.length>=2&&(_=!0),v.push(_objectSpread$9(_objectSpread$9({},polarToCartesian(f,b,M,T)),{},{name:w,value:E,cx:f,cy:b,radius:M,angle:T,payload:o}))});var u=[];return _&&v.forEach(o=>{if(Array.isArray(o.value)){var h=o.value[0],w=isNullish(h)?0:e.scale(h);u.push(_objectSpread$9(_objectSpread$9({},o),{},{radius:w},polarToCartesian(f,b,w,o.angle)))}else u.push(o)}),{points:v,isRange:_,baseLinePoints:u}}function RadarLabelListProvider(t){var{showLabels:e,points:n,children:i}=t,l=n.map(d=>{var f,b={x:d.x,y:d.y,width:0,lowerWidth:0,upperWidth:0,height:0};return _objectSpread$9(_objectSpread$9({},b),{},{value:(f=d.value)!==null&&f!==void 0?f:"",payload:d.payload,parentViewBox:void 0,viewBox:b,fill:void 0})});return reactExports.createElement(CartesianLabelListContextProvider,{value:e?l:void 0},i)}function StaticPolygon(t){var{points:e,baseLinePoints:n,props:i}=t;if(e==null)return null;var{shape:l,isRange:d,connectNulls:f}=i,b=m=>{var{onMouseEnter:u}=i;u&&u(i,m)},_=m=>{var{onMouseLeave:u}=i;u&&u(i,m)},v;return reactExports.isValidElement(l)?v=reactExports.cloneElement(l,_objectSpread$9(_objectSpread$9({},i),{},{points:e})):typeof l=="function"?v=l(_objectSpread$9(_objectSpread$9({},i),{},{points:e})):v=reactExports.createElement(Polygon,_extends$c({},svgPropertiesAndEvents(i),{onMouseEnter:b,onMouseLeave:_,points:e,baseLinePoints:d?n:void 0,connectNulls:f})),reactExports.createElement(Layer,{className:"recharts-radar-polygon"},v,reactExports.createElement(RadarDotsWrapper,{props:i,points:e}))}var interpolatePolarPoint=(t,e,n)=>(i,l)=>{var d=t&&t[Math.floor(l*e)];return d?_objectSpread$9(_objectSpread$9({},i),{},{x:interpolate$1(d.x,i.x,n),y:interpolate$1(d.y,i.y,n)}):_objectSpread$9(_objectSpread$9({},i),{},{x:interpolate$1(i.cx,i.x,n),y:interpolate$1(i.cy,i.y,n)})};function PolygonWithAnimation(t){var{props:e,previousPointsRef:n,previousBaseLinePointsRef:i}=t,{points:l,baseLinePoints:d,isAnimationActive:f,animationBegin:b,animationDuration:_,animationEasing:v,onAnimationEnd:m,onAnimationStart:u}=e,o=n.current,h=i.current,w=o?o.length/l.length:1,E=h?h.length/d.length:1,T=useAnimationId(e,"recharts-radar-"),[O,M]=reactExports.useState(!1),I=!O,R=reactExports.useCallback(()=>{typeof m=="function"&&m(),M(!1)},[m]),D=reactExports.useCallback(()=>{typeof u=="function"&&u(),M(!0)},[u]);return reactExports.createElement(RadarLabelListProvider,{showLabels:I,points:l},reactExports.createElement(JavascriptAnimate,{animationId:T,begin:b,duration:_,isActive:f,easing:v,key:"radar-".concat(T),onAnimationEnd:R,onAnimationStart:D},N=>{var L=N===1?l:l.map(interpolatePolarPoint(o,w,N)),B=N===1?d:d==null?void 0:d.map(interpolatePolarPoint(h,E,N));return N>0&&(n.current=L,i.current=B),reactExports.createElement(StaticPolygon,{points:L,baseLinePoints:B,props:e})}),reactExports.createElement(LabelListFromLabelProp,{label:e.label}),e.children)}function RenderPolygon(t){var e=reactExports.useRef(void 0),n=reactExports.useRef(void 0);return reactExports.createElement(PolygonWithAnimation,{props:t,previousPointsRef:e,previousBaseLinePointsRef:n})}var defaultRadarProps={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease",zIndex:DefaultZIndexes.area};function RadarWithState(t){var{hide:e,className:n,points:i}=t;if(e)return null;var l=clsx("recharts-radar",n);return reactExports.createElement(ZIndexLayer,{zIndex:t.zIndex},reactExports.createElement(Layer,{className:l},reactExports.createElement(RenderPolygon,t)),reactExports.createElement(ActivePoints,{points:i,mainColor:getLegendItemColor$1(t.stroke,t.fill),itemDataKey:t.dataKey,activeDot:t.activeDot}))}function RadarImpl(t){var e=useIsPanorama(),n=useAppSelector(i=>selectRadarPoints(i,t.radiusAxisId,t.angleAxisId,e,t.id));return(n==null?void 0:n.points)==null?null:reactExports.createElement(RadarWithState,_extends$c({},t,{points:n==null?void 0:n.points,baseLinePoints:n==null?void 0:n.baseLinePoints,isRange:n==null?void 0:n.isRange}))}function Radar(t){var e=resolveDefaultProps(t,defaultRadarProps);return reactExports.createElement(RegisterGraphicalItemId,{id:e.id,type:"radar"},n=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetPolarGraphicalItem,{type:"radar",id:n,data:void 0,dataKey:e.dataKey,hide:e.hide,angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId}),reactExports.createElement(SetPolarLegendPayload,{legendPayload:computeLegendPayloadFromRadarSectors(e)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$3,args:e}),reactExports.createElement(RadarImpl,_extends$c({},e,{id:n}))))}Radar.displayName="Radar";var prefix="Invariant failed";function invariant(t,e){throw new Error(prefix)}var _excluded$b=["x","y"];function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$b.apply(null,arguments)}function ownKeys$8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$8(Object(n),!0).forEach(function(i){_defineProperty$9(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$8(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$9(t,e,n){return(e=_toPropertyKey$9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$9(t){var e=_toPrimitive$9(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$b(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$b(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$b(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function typeguardBarRectangleProps(t,e){var{x:n,y:i}=t,l=_objectWithoutProperties$b(t,_excluded$b),d="".concat(n),f=parseInt(d,10),b="".concat(i),_=parseInt(b,10),v="".concat(e.height||l.height),m=parseInt(v,10),u="".concat(e.width||l.width),o=parseInt(u,10);return _objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({},e),l),f?{x:f}:{}),_?{y:_}:{}),{},{height:m,width:o,name:e.name,radius:e.radius})}function BarRectangle(t){return reactExports.createElement(Shape,_extends$b({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},t))}var minPointSizeCallback=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,l)=>{if(isNumber(e))return e;var d=isNumber(i)||isNullish(i);return d?e(i,l):(d||invariant(),n)}},initialState$3={},errorBarSlice=createSlice({name:"errorBars",initialState:initialState$3,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]||(t[n]=[]),t[n].push(i)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:i,next:l}=e.payload;t[n]&&(t[n]=t[n].map(d=>d.dataKey===i.dataKey&&d.direction===i.direction?l:d))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]&&(t[n]=t[n].filter(l=>l.dataKey!==i.dataKey||l.direction!==i.direction))}}}),{addErrorBar,replaceErrorBar,removeErrorBar}=errorBarSlice.actions,errorBarReducer=errorBarSlice.reducer,_excluded$a=["children"];function _objectWithoutProperties$a(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$a(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$a(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var initialContextState={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ErrorBarContext=reactExports.createContext(initialContextState);function SetErrorBarContext(t){var{children:e}=t,n=_objectWithoutProperties$a(t,_excluded$a);return reactExports.createElement(ErrorBarContext.Provider,{value:n},e)}function useNeedsClip(t,e){var n,i,l=useAppSelector(v=>selectXAxisSettings(v,t)),d=useAppSelector(v=>selectYAxisSettings(v,e)),f=(n=l==null?void 0:l.allowDataOverflow)!==null&&n!==void 0?n:implicitXAxis.allowDataOverflow,b=(i=d==null?void 0:d.allowDataOverflow)!==null&&i!==void 0?i:implicitYAxis.allowDataOverflow,_=f||b;return{needClip:_,needClipX:f,needClipY:b}}function GraphicalItemClipPath(t){var{xAxisId:e,yAxisId:n,clipPathId:i}=t,l=usePlotArea(),{needClipX:d,needClipY:f,needClip:b}=useNeedsClip(e,n);if(!b||!l)return null;var{x:_,y:v,width:m,height:u}=l;return reactExports.createElement("clipPath",{id:"clipPath-".concat(i)},reactExports.createElement("rect",{x:d?_:_-m/2,y:f?v:v-u/2,width:d?m:m*2,height:f?u:u*2}))}function getZIndexFromUnknown(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&isWellBehavedNumber(t.zIndex)?t.zIndex:e}var _excluded$9=["onMouseEnter","onMouseLeave","onClick"],_excluded2$6=["value","background","tooltipPosition"],_excluded3$5=["id"],_excluded4$3=["onMouseEnter","onClick","onMouseLeave"];function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$a.apply(null,arguments)}function ownKeys$7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$7(Object(n),!0).forEach(function(i){_defineProperty$8(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$7(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$8(t,e,n){return(e=_toPropertyKey$8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$8(t){var e=_toPrimitive$8(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$9(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$9(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$9(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var computeLegendPayloadFromBarData=t=>{var{dataKey:e,name:n,fill:i,legendType:l,hide:d}=t;return[{inactive:d,dataKey:e,type:l,color:i,value:getTooltipNameProp(n,e),payload:t}]};function getTooltipEntrySettings$2(t){var{dataKey:e,stroke:n,strokeWidth:i,fill:l,name:d,hide:f,unit:b}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:l,dataKey:e,nameKey:void 0,name:getTooltipNameProp(d,e),hide:f,type:t.tooltipType,color:t.fill,unit:b}}}function BarBackground(t){var e=useAppSelector(selectActiveTooltipIndex),{data:n,dataKey:i,background:l,allOtherBarProps:d}=t,{onMouseEnter:f,onMouseLeave:b,onClick:_}=d,v=_objectWithoutProperties$9(d,_excluded$9),m=useMouseEnterItemDispatch(f,i),u=useMouseLeaveItemDispatch(b),o=useMouseClickItemDispatch(_,i);if(!l||n==null)return null;var h=svgPropertiesNoEventsFromUnknown(l);return reactExports.createElement(ZIndexLayer,{zIndex:getZIndexFromUnknown(l,DefaultZIndexes.barBackground)},n.map((w,E)=>{var{value:T,background:O,tooltipPosition:M}=w,I=_objectWithoutProperties$9(w,_excluded2$6);if(!O)return null;var R=m(w,E),D=u(w,E),N=o(w,E),L=_objectSpread$7(_objectSpread$7(_objectSpread$7(_objectSpread$7(_objectSpread$7({option:l,isActive:String(E)===e},I),{},{fill:"#eee"},O),h),adaptEventsOfChild(v,w,E)),{},{onMouseEnter:R,onMouseLeave:D,onClick:N,dataKey:i,index:E,className:"recharts-bar-background-rectangle"});return reactExports.createElement(BarRectangle,_extends$a({key:"background-bar-".concat(E)},L))}))}function BarLabelListProvider(t){var{showLabels:e,children:n,rects:i}=t,l=i==null?void 0:i.map(d=>{var f={x:d.x,y:d.y,width:d.width,lowerWidth:d.width,upperWidth:d.width,height:d.height};return _objectSpread$7(_objectSpread$7({},f),{},{value:d.value,payload:d.payload,parentViewBox:d.parentViewBox,viewBox:f,fill:d.fill})});return reactExports.createElement(CartesianLabelListContextProvider,{value:e?l:void 0},n)}function BarRectangleWithActiveState(t){var{shape:e,activeBar:n,baseProps:i,entry:l,index:d,dataKey:f}=t,b=useAppSelector(selectActiveTooltipIndex),_=useAppSelector(selectActiveTooltipDataKey),v=n&&String(d)===b&&(_==null||f===_),m=v?n:e;return v?reactExports.createElement(ZIndexLayer,{zIndex:DefaultZIndexes.activeBar},reactExports.createElement(BarRectangle,_extends$a({},i,{name:String(i.name)},l,{isActive:v,option:m,index:d,dataKey:f}))):reactExports.createElement(BarRectangle,_extends$a({},i,{name:String(i.name)},l,{isActive:v,option:m,index:d,dataKey:f}))}function BarRectangleNeverActive(t){var{shape:e,baseProps:n,entry:i,index:l,dataKey:d}=t;return reactExports.createElement(BarRectangle,_extends$a({},n,{name:String(n.name)},i,{isActive:!1,option:e,index:l,dataKey:d}))}function BarRectangles(t){var e,{data:n,props:i}=t,l=(e=svgPropertiesNoEvents(i))!==null&&e!==void 0?e:{},{id:d}=l,f=_objectWithoutProperties$9(l,_excluded3$5),{shape:b,dataKey:_,activeBar:v}=i,{onMouseEnter:m,onClick:u,onMouseLeave:o}=i,h=_objectWithoutProperties$9(i,_excluded4$3),w=useMouseEnterItemDispatch(m,_),E=useMouseLeaveItemDispatch(o),T=useMouseClickItemDispatch(u,_);return n?reactExports.createElement(reactExports.Fragment,null,n.map((O,M)=>reactExports.createElement(Layer,_extends$a({key:"rectangle-".concat(O==null?void 0:O.x,"-").concat(O==null?void 0:O.y,"-").concat(O==null?void 0:O.value,"-").concat(M),className:"recharts-bar-rectangle"},adaptEventsOfChild(h,O,M),{onMouseEnter:w(O,M),onMouseLeave:E(O,M),onClick:T(O,M)}),v?reactExports.createElement(BarRectangleWithActiveState,{shape:b,activeBar:v,baseProps:f,entry:O,index:M,dataKey:_}):reactExports.createElement(BarRectangleNeverActive,{shape:b,baseProps:f,entry:O,index:M,dataKey:_})))):null}function RectanglesWithAnimation(t){var{props:e,previousRectanglesRef:n}=t,{data:i,layout:l,isAnimationActive:d,animationBegin:f,animationDuration:b,animationEasing:_,onAnimationEnd:v,onAnimationStart:m}=e,u=n.current,o=useAnimationId(e,"recharts-bar-"),[h,w]=reactExports.useState(!1),E=!h,T=reactExports.useCallback(()=>{typeof v=="function"&&v(),w(!1)},[v]),O=reactExports.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);return reactExports.createElement(BarLabelListProvider,{showLabels:E,rects:i},reactExports.createElement(JavascriptAnimate,{animationId:o,begin:f,duration:b,isActive:d,easing:_,onAnimationEnd:T,onAnimationStart:O,key:o},M=>{var I=M===1?i:i==null?void 0:i.map((R,D)=>{var N=u&&u[D];if(N)return _objectSpread$7(_objectSpread$7({},R),{},{x:interpolate$1(N.x,R.x,M),y:interpolate$1(N.y,R.y,M),width:interpolate$1(N.width,R.width,M),height:interpolate$1(N.height,R.height,M)});if(l==="horizontal"){var L=interpolate$1(0,R.height,M),B=interpolate$1(R.stackedBarStart,R.y,M);return _objectSpread$7(_objectSpread$7({},R),{},{y:B,height:L})}var $=interpolate$1(0,R.width,M),V=interpolate$1(R.stackedBarStart,R.x,M);return _objectSpread$7(_objectSpread$7({},R),{},{width:$,x:V})});return M>0&&(n.current=I??null),I==null?null:reactExports.createElement(Layer,null,reactExports.createElement(BarRectangles,{props:e,data:I}))}),reactExports.createElement(LabelListFromLabelProp,{label:e.label}),e.children)}function RenderRectangles(t){var e=reactExports.useRef(null);return reactExports.createElement(RectanglesWithAnimation,{previousRectanglesRef:e,props:t})}var defaultMinPointSize=0,errorBarDataPointFormatter$1=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:getValueByDataKey(t,e)}};class BarWithState extends reactExports.PureComponent{render(){var{hide:e,data:n,dataKey:i,className:l,xAxisId:d,yAxisId:f,needClip:b,background:_,id:v}=this.props;if(e||n==null)return null;var m=clsx("recharts-bar",l),u=v;return reactExports.createElement(Layer,{className:m,id:v},b&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:u,xAxisId:d,yAxisId:f})),reactExports.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(u,")"):void 0},reactExports.createElement(BarBackground,{data:n,dataKey:i,background:_,allOtherBarProps:this.props}),reactExports.createElement(RenderRectangles,this.props)))}}var defaultBarProps={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Global.isSsr,legendType:"rect",minPointSize:defaultMinPointSize,xAxisId:0,yAxisId:0,zIndex:DefaultZIndexes.bar};function BarImpl(t){var{xAxisId:e,yAxisId:n,hide:i,legendType:l,minPointSize:d,activeBar:f,animationBegin:b,animationDuration:_,animationEasing:v,isAnimationActive:m}=t,{needClip:u}=useNeedsClip(e,n),o=useChartLayout(),h=useIsPanorama(),w=findAllByType(t.children,Cell),E=useAppSelector(M=>selectBarRectangles(M,e,n,h,t.id,w));if(o!=="vertical"&&o!=="horizontal")return null;var T,O=E==null?void 0:E[0];return O==null||O.height==null||O.width==null?T=0:T=o==="vertical"?O.height/2:O.width/2,reactExports.createElement(SetErrorBarContext,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:errorBarDataPointFormatter$1,errorBarOffset:T},reactExports.createElement(BarWithState,_extends$a({},t,{layout:o,needClip:u,data:E,xAxisId:e,yAxisId:n,hide:i,legendType:l,minPointSize:d,activeBar:f,animationBegin:b,animationDuration:_,animationEasing:v,isAnimationActive:m})))}function computeBarRectangles(t){var{layout:e,barSettings:{dataKey:n,minPointSize:i},pos:l,bandSize:d,xAxis:f,yAxis:b,xAxisTicks:_,yAxisTicks:v,stackedData:m,displayedData:u,offset:o,cells:h,parentViewBox:w,dataStartIndex:E}=t,T=e==="horizontal"?b:f,O=m?T.scale.domain():null,M=getBaseValueOfBar({numericAxis:T}),I=T.scale(M);return u.map((R,D)=>{var N,L,B,$,V,G;m?N=truncateByDomain(m[D+E],O):(N=getValueByDataKey(R,n),Array.isArray(N)||(N=[M,N]));var X=minPointSizeCallback(i,defaultMinPointSize)(N[1],D);if(e==="horizontal"){var ee,[Q,Y]=[b.scale(N[0]),b.scale(N[1])];L=getCateCoordinateOfBar({axis:f,ticks:_,bandSize:d,offset:l.offset,entry:R,index:D}),B=(ee=Y??Q)!==null&&ee!==void 0?ee:void 0,$=l.size;var U=Q-Y;if(V=isNan(U)?0:U,G={x:L,y:o.top,width:$,height:o.height},Math.abs(X)>0&&Math.abs(V)<Math.abs(X)){var q=mathSign(V||X)*(Math.abs(X)-Math.abs(V));B-=q,V+=q}}else{var[le,ie]=[f.scale(N[0]),f.scale(N[1])];if(L=le,B=getCateCoordinateOfBar({axis:b,ticks:v,bandSize:d,offset:l.offset,entry:R,index:D}),$=ie-le,V=l.size,G={x:o.left,y:B,width:o.width,height:V},Math.abs(X)>0&&Math.abs($)<Math.abs(X)){var Ee=mathSign($||X)*(Math.abs(X)-Math.abs($));$+=Ee}}if(L==null||B==null||$==null||V==null)return null;var Z=_objectSpread$7(_objectSpread$7({},R),{},{stackedBarStart:I,x:L,y:B,width:$,height:V,value:m?N:N[1],payload:R,background:G,tooltipPosition:{x:L+$/2,y:B+V/2},parentViewBox:w},h&&h[D]&&h[D].props);return Z}).filter(Boolean)}function BarFn(t){var e=resolveDefaultProps(t,defaultBarProps),n=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:e.id,type:"bar"},i=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromBarData(e)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$2,args:e}),reactExports.createElement(SetCartesianGraphicalItem,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:getNormalizedStackId(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),reactExports.createElement(ZIndexLayer,{zIndex:e.zIndex},reactExports.createElement(BarImpl,_extends$a({},e,{id:i})))))}var Bar=reactExports.memo(BarFn);Bar.displayName="Bar";function ownKeys$6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$6(Object(n),!0).forEach(function(i){_defineProperty$7(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$6(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$7(t,e,n){return(e=_toPropertyKey$7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$7(t){var e=_toPrimitive$7(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pickXAxisId=(t,e)=>e,pickYAxisId=(t,e,n)=>n,pickIsPanorama=(t,e,n,i)=>i,pickBarId=(t,e,n,i,l)=>l,selectSynchronisedBarSettings=createSelector([selectUnfilteredCartesianItems,pickBarId],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),selectMaxBarSize=createSelector([selectSynchronisedBarSettings],t=>t==null?void 0:t.maxBarSize),pickCells=(t,e,n,i,l,d)=>d,getBarSize=(t,e,n)=>{var i=n??t;if(!isNullish(i))return getPercentValue(i,e,0)},selectAllVisibleBars=createSelector([selectChartLayout,selectUnfilteredCartesianItems,pickXAxisId,pickYAxisId,pickIsPanorama],(t,e,n,i,l)=>e.filter(d=>t==="horizontal"?d.xAxisId===n:d.yAxisId===i).filter(d=>d.isPanorama===l).filter(d=>d.hide===!1).filter(d=>d.type==="bar")),selectBarStackGroups=(t,e,n,i)=>{var l=selectChartLayout(t);return l==="horizontal"?selectStackGroups(t,"yAxis",n,i):selectStackGroups(t,"xAxis",e,i)},selectBarCartesianAxisSize=(t,e,n)=>{var i=selectChartLayout(t);return i==="horizontal"?selectCartesianAxisSize(t,"xAxis",e):selectCartesianAxisSize(t,"yAxis",n)},combineBarSizeList=(t,e,n)=>{var i={},l=t.filter(isStacked),d=t.filter(v=>v.stackId==null),f=l.reduce((v,m)=>(v[m.stackId]||(v[m.stackId]=[]),v[m.stackId].push(m),v),i),b=Object.entries(f).map(v=>{var[m,u]=v,o=u.map(w=>w.dataKey),h=getBarSize(e,n,u[0].barSize);return{stackId:m,dataKeys:o,barSize:h}}),_=d.map(v=>{var m=[v.dataKey].filter(o=>o!=null),u=getBarSize(e,n,v.barSize);return{stackId:void 0,dataKeys:m,barSize:u}});return[...b,..._]},selectBarSizeList=createSelector([selectAllVisibleBars,selectRootBarSize,selectBarCartesianAxisSize],combineBarSizeList),selectBarBandSize=(t,e,n,i,l)=>{var d,f,b=selectSynchronisedBarSettings(t,e,n,i,l);if(b!=null){var _=selectChartLayout(t),v=selectRootMaxBarSize(t),{maxBarSize:m}=b,u=isNullish(m)?v:m,o,h;return _==="horizontal"?(o=selectAxisWithScale(t,"xAxis",e,i),h=selectTicksOfGraphicalItem(t,"xAxis",e,i)):(o=selectAxisWithScale(t,"yAxis",n,i),h=selectTicksOfGraphicalItem(t,"yAxis",n,i)),(d=(f=getBandSizeOfAxis(o,h,!0))!==null&&f!==void 0?f:u)!==null&&d!==void 0?d:0}},selectAxisBandSize=(t,e,n,i)=>{var l=selectChartLayout(t),d,f;return l==="horizontal"?(d=selectAxisWithScale(t,"xAxis",e,i),f=selectTicksOfGraphicalItem(t,"xAxis",e,i)):(d=selectAxisWithScale(t,"yAxis",n,i),f=selectTicksOfGraphicalItem(t,"yAxis",n,i)),getBandSizeOfAxis(d,f)};function getBarPositions(t,e,n,i,l){var d=i.length;if(!(d<1)){var f=getPercentValue(t,n,0,!0),b,_=[];if(isWellBehavedNumber(i[0].barSize)){var v=!1,m=n/d,u=i.reduce((O,M)=>O+(M.barSize||0),0);u+=(d-1)*f,u>=n&&(u-=(d-1)*f,f=0),u>=n&&m>0&&(v=!0,m*=.9,u=d*m);var o=(n-u)/2>>0,h={offset:o-f,size:0};b=i.reduce((O,M)=>{var I,R={stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:h.offset+h.size+f,size:v?m:(I=M.barSize)!==null&&I!==void 0?I:0}},D=[...O,R];return h=D[D.length-1].position,D},_)}else{var w=getPercentValue(e,n,0,!0);n-2*w-(d-1)*f<=0&&(f=0);var E=(n-2*w-(d-1)*f)/d;E>1&&(E>>=0);var T=isWellBehavedNumber(l)?Math.min(E,l):E;b=i.reduce((O,M,I)=>[...O,{stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:w+(E+f)*I+(E-T)/2,size:T}}],_)}return b}}var combineAllBarPositions=(t,e,n,i,l,d,f)=>{var b=isNullish(f)?e:f,_=getBarPositions(n,i,l!==d?l:d,t,b);return l!==d&&_!=null&&(_=_.map(v=>_objectSpread$6(_objectSpread$6({},v),{},{position:_objectSpread$6(_objectSpread$6({},v.position),{},{offset:v.position.offset-l/2})}))),_},selectAllBarPositions=createSelector([selectBarSizeList,selectRootMaxBarSize,selectBarGap,selectBarCategoryGap,selectBarBandSize,selectAxisBandSize,selectMaxBarSize],combineAllBarPositions),selectXAxisWithScale$2=(t,e,n,i)=>selectAxisWithScale(t,"xAxis",e,i),selectYAxisWithScale$2=(t,e,n,i)=>selectAxisWithScale(t,"yAxis",n,i),selectXAxisTicks$2=(t,e,n,i)=>selectTicksOfGraphicalItem(t,"xAxis",e,i),selectYAxisTicks$2=(t,e,n,i)=>selectTicksOfGraphicalItem(t,"yAxis",n,i),selectBarPosition=createSelector([selectAllBarPositions,selectSynchronisedBarSettings],(t,e)=>{if(!(t==null||e==null)){var n=t.find(i=>i.stackId===e.stackId&&e.dataKey!=null&&i.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),combineStackedData=(t,e)=>{var n=getStackSeriesIdentifier(e);if(!(!t||n==null||e==null)){var{stackId:i}=e;if(i!=null){var l=t[i];if(l){var{stackedData:d}=l;if(d)return d.find(f=>f.key===n)}}}},selectStackedDataOfItem=createSelector([selectBarStackGroups,selectSynchronisedBarSettings],combineStackedData),selectBarRectangles=createSelector([selectChartOffsetInternal,selectAxisViewBox,selectXAxisWithScale$2,selectYAxisWithScale$2,selectXAxisTicks$2,selectYAxisTicks$2,selectBarPosition,selectChartLayout,selectChartDataWithIndexesIfNotInPanorama,selectAxisBandSize,selectStackedDataOfItem,selectSynchronisedBarSettings,pickCells],(t,e,n,i,l,d,f,b,_,v,m,u,o)=>{var{chartData:h,dataStartIndex:w,dataEndIndex:E}=_;if(!(u==null||f==null||e==null||b!=="horizontal"&&b!=="vertical"||n==null||i==null||l==null||d==null||v==null)){var{data:T}=u,O;if(T!=null&&T.length>0?O=T:O=h==null?void 0:h.slice(w,E+1),O!=null)return computeBarRectangles({layout:b,barSettings:u,pos:f,parentViewBox:e,bandSize:v,xAxis:n,yAxis:i,xAxisTicks:l,yAxisTicks:d,stackedData:m,displayedData:O,offset:t,cells:o,dataStartIndex:w})}}),ChartDataContextProvider=t=>{var{chartData:e}=t,n=useAppDispatch(),i=useIsPanorama();return reactExports.useEffect(()=>i?()=>{}:(n(setChartData(e)),()=>{n(setChartData(void 0))}),[e,n,i]),null},initialState$2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},brushSlice=createSlice({name:"brush",initialState:initialState$2,reducers:{setBrushSettings(t,e){return e.payload==null?initialState$2:e.payload}}}),{setBrushSettings}=brushSlice.actions,brushReducer=brushSlice.reducer;function _defineProperty$6(t,e,n){return(e=_toPropertyKey$6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$6(t){var e=_toPrimitive$6(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ScaleHelper{static create(e){return new ScaleHelper(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(i)switch(i){case"start":return this.scale(e);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}case"end":{var d=this.bandwidth?this.bandwidth():0;return this.scale(e)+d}default:return this.scale(e)}if(n){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+f}return this.scale(e)}}isInRange(e){var n=this.range(),i=n[0],l=n[n.length-1];return i<=l?e>=i&&e<=l:e>=l&&e<=i}}_defineProperty$6(ScaleHelper,"EPS",1e-4);function normalizeAngle(t){return(t%180+180)%180}var getAngledRectangleWidth=function t(e){var{width:n,height:i}=e,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=normalizeAngle(l),f=d*Math.PI/180,b=Math.atan(i/n),_=f>b&&f<Math.PI-b?i/Math.sin(f):n/Math.cos(f);return Math.abs(_)},initialState$1={dots:[],areas:[],lines:[]},referenceElementsSlice=createSlice({name:"referenceElements",initialState:initialState$1,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=current(t).dots.findIndex(i=>i===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=current(t).areas.findIndex(i=>i===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=current(t).lines.findIndex(i=>i===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot,removeDot,addArea,removeArea,addLine,removeLine}=referenceElementsSlice.actions,referenceElementsReducer=referenceElementsSlice.reducer,ClipPathIdContext=reactExports.createContext(void 0),ClipPathProvider=t=>{var{children:e}=t,[n]=reactExports.useState("".concat(uniqueId("recharts"),"-clip")),i=usePlotArea();if(i==null)return null;var{x:l,y:d,width:f,height:b}=i;return reactExports.createElement(ClipPathIdContext.Provider,{value:n},reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:n},reactExports.createElement("rect",{x:l,y:d,height:b,width:f}))),e)};function shallowEqual(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var i in e)if({}.hasOwnProperty.call(e,i)&&!{}.hasOwnProperty.call(t,i))return!1;return!0}function getEveryNthWithCondition(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function getAngledTickWidth(t,e,n){var i={width:t.width+e.width,height:t.height+e.height};return getAngledRectangleWidth(i,n)}function getTickBoundaries(t,e,n){var i=n==="width",{x:l,y:d,width:f,height:b}=t;return e===1?{start:i?l:d,end:i?l+f:d+b}:{start:i?l+f:d+b,end:i?l:d}}function isVisible(t,e,n,i,l){if(t*e<t*i||t*e>t*l)return!1;var d=n();return t*(e-t*d/2-i)>=0&&t*(e+t*d/2-l)<=0}function getNumberIntervalTicks(t,e){return getEveryNthWithCondition(t,e+1)}function getEquidistantTicks(t,e,n,i,l){for(var d=(i||[]).slice(),{start:f,end:b}=e,_=0,v=1,m=f,u=function(){var w=i==null?void 0:i[_];if(w===void 0)return{v:getEveryNthWithCondition(i,v)};var E=_,T,O=()=>(T===void 0&&(T=n(w,E)),T),M=w.coordinate,I=_===0||isVisible(t,M,O,m,b);I||(_=0,m=f,v+=1),I&&(m=M+t*(O()/2+l),_+=v)},o;v<=d.length;)if(o=u(),o)return o.v;return[]}function ownKeys$5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$5(Object(n),!0).forEach(function(i){_defineProperty$5(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$5(t,e,n){return(e=_toPropertyKey$5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$5(t){var e=_toPrimitive$5(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function getTicksEnd(t,e,n,i,l){for(var d=(i||[]).slice(),f=d.length,{start:b}=e,{end:_}=e,v=function(o){var h=d[o],w,E=()=>(w===void 0&&(w=n(h,o)),w);if(o===f-1){var T=t*(h.coordinate+t*E()/2-_);d[o]=h=_objectSpread$5(_objectSpread$5({},h),{},{tickCoord:T>0?h.coordinate-T*t:h.coordinate})}else d[o]=h=_objectSpread$5(_objectSpread$5({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var O=isVisible(t,h.tickCoord,E,b,_);O&&(_=h.tickCoord-t*(E()/2+l),d[o]=_objectSpread$5(_objectSpread$5({},h),{},{isShow:!0}))}},m=f-1;m>=0;m--)v(m);return d}function getTicksStart(t,e,n,i,l,d){var f=(i||[]).slice(),b=f.length,{start:_,end:v}=e;if(d){var m=i[b-1],u=n(m,b-1),o=t*(m.coordinate+t*u/2-v);if(f[b-1]=m=_objectSpread$5(_objectSpread$5({},m),{},{tickCoord:o>0?m.coordinate-o*t:m.coordinate}),m.tickCoord!=null){var h=isVisible(t,m.tickCoord,()=>u,_,v);h&&(v=m.tickCoord-t*(u/2+l),f[b-1]=_objectSpread$5(_objectSpread$5({},m),{},{isShow:!0}))}}for(var w=d?b-1:b,E=function(M){var I=f[M],R,D=()=>(R===void 0&&(R=n(I,M)),R);if(M===0){var N=t*(I.coordinate-t*D()/2-_);f[M]=I=_objectSpread$5(_objectSpread$5({},I),{},{tickCoord:N<0?I.coordinate-N*t:I.coordinate})}else f[M]=I=_objectSpread$5(_objectSpread$5({},I),{},{tickCoord:I.coordinate});if(I.tickCoord!=null){var L=isVisible(t,I.tickCoord,D,_,v);L&&(_=I.tickCoord+t*(D()/2+l),f[M]=_objectSpread$5(_objectSpread$5({},I),{},{isShow:!0}))}},T=0;T<w;T++)E(T);return f}function getTicks(t,e,n){var{tick:i,ticks:l,viewBox:d,minTickGap:f,orientation:b,interval:_,tickFormatter:v,unit:m,angle:u}=t;if(!l||!l.length||!i)return[];if(isNumber(_)||Global.isSsr){var o;return(o=getNumberIntervalTicks(l,isNumber(_)?_:0))!==null&&o!==void 0?o:[]}var h=[],w=b==="top"||b==="bottom"?"width":"height",E=m&&w==="width"?getStringSize(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},T=(I,R)=>{var D=typeof v=="function"?v(I.value,R):I.value;return w==="width"?getAngledTickWidth(getStringSize(D,{fontSize:e,letterSpacing:n}),E,u):getStringSize(D,{fontSize:e,letterSpacing:n})[w]},O=l.length>=2?mathSign(l[1].coordinate-l[0].coordinate):1,M=getTickBoundaries(d,O,w);return _==="equidistantPreserveStart"?getEquidistantTicks(O,M,T,l,f):(_==="preserveStart"||_==="preserveStartEnd"?h=getTicksStart(O,M,T,l,f,_==="preserveStartEnd"):h=getTicksEnd(O,M,T,l,f),h.filter(I=>I.isShow))}var getCalculatedYAxisWidth=t=>{var{ticks:e,label:n,labelGapWithTick:i=5,tickSize:l=0,tickMargin:d=0}=t,f=0;if(e){Array.from(e).forEach(m=>{if(m){var u=m.getBoundingClientRect();u.width>f&&(f=u.width)}});var b=n?n.getBoundingClientRect().width:0,_=l+d,v=f+_+b+(n?i:0);return Math.round(v)}return 0},_excluded$8=["axisLine","width","height","className","hide","ticks","axisType"],_excluded2$5=["viewBox"],_excluded3$4=["viewBox"];function _objectWithoutProperties$8(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$8(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$8(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$9.apply(null,arguments)}function ownKeys$4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$4(Object(n),!0).forEach(function(i){_defineProperty$4(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$4(t,e,n){return(e=_toPropertyKey$4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$4(t){var e=_toPrimitive$4(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$4(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var defaultCartesianAxisProps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:DefaultZIndexes.axis};function AxisLine(t){var{x:e,y:n,width:i,height:l,orientation:d,mirror:f,axisLine:b,otherSvgProps:_}=t;if(!b)return null;var v=_objectSpread$4(_objectSpread$4(_objectSpread$4({},_),svgPropertiesNoEvents(b)),{},{fill:"none"});if(d==="top"||d==="bottom"){var m=+(d==="top"&&!f||d==="bottom"&&f);v=_objectSpread$4(_objectSpread$4({},v),{},{x1:e,y1:n+m*l,x2:e+i,y2:n+m*l})}else{var u=+(d==="left"&&!f||d==="right"&&f);v=_objectSpread$4(_objectSpread$4({},v),{},{x1:e+u*i,y1:n,x2:e+u*i,y2:n+l})}return reactExports.createElement("line",_extends$9({},v,{className:clsx("recharts-cartesian-axis-line",get(b,"className"))}))}function getTickLineCoord(t,e,n,i,l,d,f,b,_){var v,m,u,o,h,w,E=b?-1:1,T=t.tickSize||f,O=isNumber(t.tickCoord)?t.tickCoord:t.coordinate;switch(d){case"top":v=m=t.coordinate,o=n+ +!b*l,u=o-E*T,w=u-E*_,h=O;break;case"left":u=o=t.coordinate,m=e+ +!b*i,v=m-E*T,h=v-E*_,w=O;break;case"right":u=o=t.coordinate,m=e+ +b*i,v=m+E*T,h=v+E*_,w=O;break;default:v=m=t.coordinate,o=n+ +b*l,u=o+E*T,w=u+E*_,h=O;break}return{line:{x1:v,y1:u,x2:m,y2:o},tick:{x:h,y:w}}}function getTickTextAnchor(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function getTickVerticalAnchor(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function TickItem(t){var{option:e,tickProps:n,value:i}=t,l,d=clsx(n.className,"recharts-cartesian-axis-tick-value");if(reactExports.isValidElement(e))l=reactExports.cloneElement(e,_objectSpread$4(_objectSpread$4({},n),{},{className:d}));else if(typeof e=="function")l=e(_objectSpread$4(_objectSpread$4({},n),{},{className:d}));else{var f="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(f=clsx(f,e==null?void 0:e.className)),l=reactExports.createElement(Text,_extends$9({},n,{className:f}),i)}return l}var Ticks=reactExports.forwardRef((t,e)=>{var{ticks:n=[],tick:i,tickLine:l,stroke:d,tickFormatter:f,unit:b,padding:_,tickTextProps:v,orientation:m,mirror:u,x:o,y:h,width:w,height:E,tickSize:T,tickMargin:O,fontSize:M,letterSpacing:I,getTicksConfig:R,events:D,axisType:N}=t,L=getTicks(_objectSpread$4(_objectSpread$4({},R),{},{ticks:n}),M,I),B=getTickTextAnchor(m,u),$=getTickVerticalAnchor(m,u),V=svgPropertiesNoEvents(R),G=svgPropertiesNoEventsFromUnknown(i),X={};typeof l=="object"&&(X=l);var ee=_objectSpread$4(_objectSpread$4({},V),{},{fill:"none"},X),Q=L.map(q=>_objectSpread$4({entry:q},getTickLineCoord(q,o,h,w,E,m,T,u,O))),Y=Q.map(q=>{var{entry:le,line:ie}=q;return reactExports.createElement(Layer,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},l&&reactExports.createElement("line",_extends$9({},ee,ie,{className:clsx("recharts-cartesian-axis-tick-line",get(l,"className"))})))}),U=Q.map((q,le)=>{var{entry:ie,tick:Ee}=q,Z=_objectSpread$4(_objectSpread$4(_objectSpread$4(_objectSpread$4({textAnchor:B,verticalAnchor:$},V),{},{stroke:"none",fill:d},G),Ee),{},{index:le,payload:ie,visibleTicksCount:L.length,tickFormatter:f,padding:_},v);return reactExports.createElement(Layer,_extends$9({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},adaptEventsOfChild(D,ie,le)),i&&reactExports.createElement(TickItem,{option:i,tickProps:Z,value:"".concat(typeof f=="function"?f(ie.value,le):ie.value).concat(b||"")}))});return reactExports.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},U.length>0&&reactExports.createElement(ZIndexLayer,{zIndex:DefaultZIndexes.label},reactExports.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:e},U)),Y.length>0&&reactExports.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},Y))}),CartesianAxisComponent=reactExports.forwardRef((t,e)=>{var{axisLine:n,width:i,height:l,className:d,hide:f,ticks:b,axisType:_}=t,v=_objectWithoutProperties$8(t,_excluded$8),[m,u]=reactExports.useState(""),[o,h]=reactExports.useState(""),w=reactExports.useRef(null);reactExports.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var T;return getCalculatedYAxisWidth({ticks:w.current,label:(T=t.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=reactExports.useCallback(T=>{if(T){var O=T.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=O;var M=O[0];if(M){var I=window.getComputedStyle(M),R=I.fontSize,D=I.letterSpacing;(R!==m||D!==o)&&(u(R),h(D))}}},[m,o]);return f||i!=null&&i<=0||l!=null&&l<=0?null:reactExports.createElement(ZIndexLayer,{zIndex:t.zIndex},reactExports.createElement(Layer,{className:clsx("recharts-cartesian-axis",d)},reactExports.createElement(AxisLine,{x:t.x,y:t.y,width:i,height:l,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:svgPropertiesNoEvents(t)}),reactExports.createElement(Ticks,{ref:E,axisType:_,events:v,fontSize:m,getTicksConfig:t,height:t.height,letterSpacing:o,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:b,unit:t.unit,width:t.width,x:t.x,y:t.y}),reactExports.createElement(CartesianLabelContextProvider,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},reactExports.createElement(CartesianLabelFromLabelProp,{label:t.label,labelRef:t.labelRef}),t.children)))}),MemoCartesianAxis=reactExports.memo(CartesianAxisComponent,(t,e)=>{var{viewBox:n}=t,i=_objectWithoutProperties$8(t,_excluded2$5),{viewBox:l}=e,d=_objectWithoutProperties$8(e,_excluded3$4);return shallowEqual(n,l)&&shallowEqual(i,d)}),CartesianAxis=reactExports.forwardRef((t,e)=>{var n=resolveDefaultProps(t,defaultCartesianAxisProps);return reactExports.createElement(MemoCartesianAxis,_extends$9({},n,{ref:e}))});CartesianAxis.displayName="CartesianAxis";var _excluded$7=["x1","y1","x2","y2","key"],_excluded2$4=["offset"],_excluded3$3=["xAxisId","yAxisId"],_excluded4$2=["xAxisId","yAxisId"];function ownKeys$3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$3(Object(n),!0).forEach(function(i){_defineProperty$3(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$3(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$3(t,e,n){return(e=_toPropertyKey$3(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$3(t){var e=_toPrimitive$3(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$3(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$8.apply(null,arguments)}function _objectWithoutProperties$7(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$7(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$7(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Background=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:i,y:l,width:d,height:f,ry:b}=t;return reactExports.createElement("rect",{x:i,y:l,ry:b,width:d,height:f,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function LineItem(t){var{option:e,lineItemProps:n}=t,i;if(reactExports.isValidElement(e))i=reactExports.cloneElement(e,n);else if(typeof e=="function")i=e(n);else{var l,{x1:d,y1:f,x2:b,y2:_,key:v}=n,m=_objectWithoutProperties$7(n,_excluded$7),u=(l=svgPropertiesNoEvents(m))!==null&&l!==void 0?l:{},{offset:o}=u,h=_objectWithoutProperties$7(u,_excluded2$4);i=reactExports.createElement("line",_extends$8({},h,{x1:d,y1:f,x2:b,y2:_,fill:"none",key:v}))}return i}function HorizontalGridLines(t){var{x:e,width:n,horizontal:i=!0,horizontalPoints:l}=t;if(!i||!l||!l.length)return null;var{xAxisId:d,yAxisId:f}=t,b=_objectWithoutProperties$7(t,_excluded3$3),_=l.map((v,m)=>{var u=_objectSpread$3(_objectSpread$3({},b),{},{x1:e,y1:v,x2:e+n,y2:v,key:"line-".concat(m),index:m});return reactExports.createElement(LineItem,{key:"line-".concat(m),option:i,lineItemProps:u})});return reactExports.createElement("g",{className:"recharts-cartesian-grid-horizontal"},_)}function VerticalGridLines(t){var{y:e,height:n,vertical:i=!0,verticalPoints:l}=t;if(!i||!l||!l.length)return null;var{xAxisId:d,yAxisId:f}=t,b=_objectWithoutProperties$7(t,_excluded4$2),_=l.map((v,m)=>{var u=_objectSpread$3(_objectSpread$3({},b),{},{x1:v,y1:e,x2:v,y2:e+n,key:"line-".concat(m),index:m});return reactExports.createElement(LineItem,{option:i,lineItemProps:u,key:"line-".concat(m)})});return reactExports.createElement("g",{className:"recharts-cartesian-grid-vertical"},_)}function HorizontalStripes(t){var{horizontalFill:e,fillOpacity:n,x:i,y:l,width:d,height:f,horizontalPoints:b,horizontal:_=!0}=t;if(!_||!e||!e.length||b==null)return null;var v=b.map(u=>Math.round(u+l-l)).sort((u,o)=>u-o);l!==v[0]&&v.unshift(0);var m=v.map((u,o)=>{var h=!v[o+1],w=h?l+f-u:v[o+1]-u;if(w<=0)return null;var E=o%e.length;return reactExports.createElement("rect",{key:"react-".concat(o),y:u,x:i,height:w,width:d,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function VerticalStripes(t){var{vertical:e=!0,verticalFill:n,fillOpacity:i,x:l,y:d,width:f,height:b,verticalPoints:_}=t;if(!e||!n||!n.length)return null;var v=_.map(u=>Math.round(u+l-l)).sort((u,o)=>u-o);l!==v[0]&&v.unshift(0);var m=v.map((u,o)=>{var h=!v[o+1],w=h?l+f-u:v[o+1]-u;if(w<=0)return null;var E=o%n.length;return reactExports.createElement("rect",{key:"react-".concat(o),x:u,y:d,width:w,height:b,stroke:"none",fill:n[E],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var defaultVerticalCoordinatesGenerator=(t,e)=>{var{xAxis:n,width:i,height:l,offset:d}=t;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},defaultCartesianAxisProps),n),{},{ticks:getTicksOfAxis(n),viewBox:{x:0,y:0,width:i,height:l}})),d.left,d.left+d.width,e)},defaultHorizontalCoordinatesGenerator=(t,e)=>{var{yAxis:n,width:i,height:l,offset:d}=t;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},defaultCartesianAxisProps),n),{},{ticks:getTicksOfAxis(n),viewBox:{x:0,y:0,width:i,height:l}})),d.top,d.top+d.height,e)},defaultCartesianGridProps={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:DefaultZIndexes.grid};function CartesianGrid(t){var e=useChartWidth(),n=useChartHeight(),i=useOffsetInternal(),l=_objectSpread$3(_objectSpread$3({},resolveDefaultProps(t,defaultCartesianGridProps)),{},{x:isNumber(t.x)?t.x:i.left,y:isNumber(t.y)?t.y:i.top,width:isNumber(t.width)?t.width:i.width,height:isNumber(t.height)?t.height:i.height}),{xAxisId:d,yAxisId:f,x:b,y:_,width:v,height:m,syncWithTicks:u,horizontalValues:o,verticalValues:h}=l,w=useIsPanorama(),E=useAppSelector($=>selectAxisPropsNeededForCartesianGridTicksGenerator($,"xAxis",d,w)),T=useAppSelector($=>selectAxisPropsNeededForCartesianGridTicksGenerator($,"yAxis",f,w));if(!isPositiveNumber(v)||!isPositiveNumber(m)||!isNumber(b)||!isNumber(_))return null;var O=l.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,M=l.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,{horizontalPoints:I,verticalPoints:R}=l;if((!I||!I.length)&&typeof M=="function"){var D=o&&o.length,N=M({yAxis:T?_objectSpread$3(_objectSpread$3({},T),{},{ticks:D?o:T.ticks}):void 0,width:e??v,height:n??m,offset:i},D?!0:u);warn(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(I=N)}if((!R||!R.length)&&typeof O=="function"){var L=h&&h.length,B=O({xAxis:E?_objectSpread$3(_objectSpread$3({},E),{},{ticks:L?h:E.ticks}):void 0,width:e??v,height:n??m,offset:i},L?!0:u);warn(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(R=B)}return reactExports.createElement(ZIndexLayer,{zIndex:l.zIndex},reactExports.createElement("g",{className:"recharts-cartesian-grid"},reactExports.createElement(Background,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height,ry:l.ry}),reactExports.createElement(HorizontalStripes,_extends$8({},l,{horizontalPoints:I})),reactExports.createElement(VerticalStripes,_extends$8({},l,{verticalPoints:R})),reactExports.createElement(HorizontalGridLines,_extends$8({},l,{offset:i,horizontalPoints:I,xAxis:E,yAxis:T})),reactExports.createElement(VerticalGridLines,_extends$8({},l,{offset:i,verticalPoints:R,xAxis:E,yAxis:T}))))}CartesianGrid.displayName="CartesianGrid";var selectXAxisWithScale$1=(t,e,n,i)=>selectAxisWithScale(t,"xAxis",e,i),selectXAxisTicks$1=(t,e,n,i)=>selectTicksOfGraphicalItem(t,"xAxis",e,i),selectYAxisWithScale$1=(t,e,n,i)=>selectAxisWithScale(t,"yAxis",n,i),selectYAxisTicks$1=(t,e,n,i)=>selectTicksOfGraphicalItem(t,"yAxis",n,i),selectBandSize$1=createSelector([selectChartLayout,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1],(t,e,n,i,l)=>isCategoricalAxis(t,"xAxis")?getBandSizeOfAxis(e,i,!1):getBandSizeOfAxis(n,l,!1)),pickLineId=(t,e,n,i,l)=>l;function isLineSettings(t){return t.type==="line"}var selectSynchronisedLineSettings=createSelector([selectUnfilteredCartesianItems,pickLineId],(t,e)=>t.filter(isLineSettings).find(n=>n.id===e)),selectLinePoints=createSelector([selectChartLayout,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1,selectSynchronisedLineSettings,selectBandSize$1,selectChartDataWithIndexesIfNotInPanorama],(t,e,n,i,l,d,f,b)=>{var{chartData:_,dataStartIndex:v,dataEndIndex:m}=b;if(!(d==null||e==null||n==null||i==null||l==null||i.length===0||l.length===0||f==null)){var{dataKey:u,data:o}=d,h;if(o!=null&&o.length>0?h=o:h=_==null?void 0:_.slice(v,m+1),h!=null)return computeLinePoints({layout:t,xAxis:e,yAxis:n,xAxisTicks:i,yAxisTicks:l,dataKey:u,bandSize:f,displayedData:h})}});function getRadiusAndStrokeWidthFromDot(t){var e=svgPropertiesNoEventsFromUnknown(t),n=3,i=2;if(e!=null){var{r:l,strokeWidth:d}=e,f=Number(l),b=Number(d);return(Number.isNaN(f)||f<0)&&(f=n),(Number.isNaN(b)||b<0)&&(b=i),{r:f,strokeWidth:b}}return{r:n,strokeWidth:i}}var _excluded$6=["id"],_excluded2$3=["type","layout","connectNulls","needClip","shape"],_excluded3$2=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$7.apply(null,arguments)}function ownKeys$2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$2(Object(n),!0).forEach(function(i){_defineProperty$2(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$2(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$2(t,e,n){return(e=_toPropertyKey$2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$2(t){var e=_toPrimitive$2(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$2(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$6(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$6(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$6(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var computeLegendPayloadFromAreaData$1=t=>{var{dataKey:e,name:n,stroke:i,legendType:l,hide:d}=t;return[{inactive:d,dataKey:e,type:l,color:i,value:getTooltipNameProp(n,e),payload:t}]};function getTooltipEntrySettings$1(t){var{dataKey:e,data:n,stroke:i,strokeWidth:l,fill:d,name:f,hide:b,unit:_}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:i,strokeWidth:l,fill:d,dataKey:e,nameKey:void 0,name:getTooltipNameProp(f,e),hide:b,type:t.tooltipType,color:t.stroke,unit:_}}}var generateSimpleStrokeDasharray=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function repeat(t,e){for(var n=t.length%2!==0?[...t,0]:t,i=[],l=0;l<e;++l)i=[...i,...n];return i}var getStrokeDasharray=(t,e,n)=>{var i=n.reduce((u,o)=>u+o);if(!i)return generateSimpleStrokeDasharray(e,t);for(var l=Math.floor(t/i),d=t%i,f=e-t,b=[],_=0,v=0;_<n.length;v+=n[_],++_)if(v+n[_]>d){b=[...n.slice(0,_),d-v];break}var m=b.length%2===0?[0,f]:[f];return[...repeat(n,l),...b,...m].map(u=>"".concat(u,"px")).join(", ")};function LineDotsWrapper(t){var{clipPathId:e,points:n,props:i}=t,{dot:l,dataKey:d,needClip:f}=i,{id:b}=i,_=_objectWithoutProperties$6(i,_excluded$6),v=svgPropertiesNoEvents(_);return reactExports.createElement(Dots,{points:n,dot:l,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:d,baseProps:v,needClip:f,clipPathId:e})}function LineLabelListProvider(t){var{showLabels:e,children:n,points:i}=t,l=reactExports.useMemo(()=>i==null?void 0:i.map(d=>{var f,b,_={x:(f=d.x)!==null&&f!==void 0?f:0,y:(b=d.y)!==null&&b!==void 0?b:0,width:0,lowerWidth:0,upperWidth:0,height:0};return _objectSpread$2(_objectSpread$2({},_),{},{value:d.value,payload:d.payload,viewBox:_,parentViewBox:void 0,fill:void 0})}),[i]);return reactExports.createElement(CartesianLabelListContextProvider,{value:e?l:void 0},n)}function StaticCurve(t){var{clipPathId:e,pathRef:n,points:i,strokeDasharray:l,props:d}=t,{type:f,layout:b,connectNulls:_,needClip:v,shape:m}=d,u=_objectWithoutProperties$6(d,_excluded2$3),o=_objectSpread$2(_objectSpread$2({},svgPropertiesAndEvents(u)),{},{fill:"none",className:"recharts-line-curve",clipPath:v?"url(#clipPath-".concat(e,")"):void 0,points:i,type:f,layout:b,connectNulls:_,strokeDasharray:l??d.strokeDasharray});return reactExports.createElement(reactExports.Fragment,null,(i==null?void 0:i.length)>1&&reactExports.createElement(Shape,_extends$7({shapeType:"curve",option:m},o,{pathRef:n})),reactExports.createElement(LineDotsWrapper,{points:i,clipPathId:e,props:d}))}function getTotalLength(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function CurveWithAnimation(t){var{clipPathId:e,props:n,pathRef:i,previousPointsRef:l,longestAnimatedLengthRef:d}=t,{points:f,strokeDasharray:b,isAnimationActive:_,animationBegin:v,animationDuration:m,animationEasing:u,animateNewValues:o,width:h,height:w,onAnimationEnd:E,onAnimationStart:T}=n,O=l.current,M=useAnimationId(n,"recharts-line-"),[I,R]=reactExports.useState(!1),D=!I,N=reactExports.useCallback(()=>{typeof E=="function"&&E(),R(!1)},[E]),L=reactExports.useCallback(()=>{typeof T=="function"&&T(),R(!0)},[T]),B=getTotalLength(i.current),$=d.current;return reactExports.createElement(LineLabelListProvider,{points:f,showLabels:D},n.children,reactExports.createElement(JavascriptAnimate,{animationId:M,begin:v,duration:m,isActive:_,easing:u,onAnimationEnd:N,onAnimationStart:L,key:M},V=>{var G=interpolate$1($,B+$,V),X=Math.min(G,B),ee;if(_)if(b){var Q="".concat(b).split(/[,\s]+/gim).map(q=>parseFloat(q));ee=getStrokeDasharray(X,B,Q)}else ee=generateSimpleStrokeDasharray(B,X);else ee=b==null?void 0:String(b);if(O){var Y=O.length/f.length,U=V===1?f:f.map((q,le)=>{var ie=Math.floor(le*Y);if(O[ie]){var Ee=O[ie];return _objectSpread$2(_objectSpread$2({},q),{},{x:interpolate$1(Ee.x,q.x,V),y:interpolate$1(Ee.y,q.y,V)})}return o?_objectSpread$2(_objectSpread$2({},q),{},{x:interpolate$1(h*2,q.x,V),y:interpolate$1(w/2,q.y,V)}):_objectSpread$2(_objectSpread$2({},q),{},{x:q.x,y:q.y})});return l.current=U,reactExports.createElement(StaticCurve,{props:n,points:U,clipPathId:e,pathRef:i,strokeDasharray:ee})}return V>0&&B>0&&(l.current=f,d.current=X),reactExports.createElement(StaticCurve,{props:n,points:f,clipPathId:e,pathRef:i,strokeDasharray:ee})}),reactExports.createElement(LabelListFromLabelProp,{label:n.label}))}function RenderCurve(t){var{clipPathId:e,props:n}=t,i=reactExports.useRef(null),l=reactExports.useRef(0),d=reactExports.useRef(null);return reactExports.createElement(CurveWithAnimation,{props:n,clipPathId:e,previousPointsRef:i,longestAnimatedLengthRef:l,pathRef:d})}var errorBarDataPointFormatter=(t,e)=>{var n,i;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(i=t.y)!==null&&i!==void 0?i:void 0,value:t.value,errorVal:getValueByDataKey(t.payload,e)}};class LineWithState extends reactExports.Component{render(){var{hide:e,dot:n,points:i,className:l,xAxisId:d,yAxisId:f,top:b,left:_,width:v,height:m,id:u,needClip:o,zIndex:h}=this.props;if(e)return null;var w=clsx("recharts-line",l),E=u,{r:T,strokeWidth:O}=getRadiusAndStrokeWidthFromDot(n),M=isClipDot(n),I=T*2+O;return reactExports.createElement(ZIndexLayer,{zIndex:h},reactExports.createElement(Layer,{className:w},o&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:E,xAxisId:d,yAxisId:f}),!M&&reactExports.createElement("clipPath",{id:"clipPath-dots-".concat(E)},reactExports.createElement("rect",{x:_-I/2,y:b-I/2,width:v+I,height:m+I}))),reactExports.createElement(SetErrorBarContext,{xAxisId:d,yAxisId:f,data:i,dataPointFormatter:errorBarDataPointFormatter,errorBarOffset:0},reactExports.createElement(RenderCurve,{props:this.props,clipPathId:E}))),reactExports.createElement(ActivePoints,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var defaultLineProps={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Global.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:DefaultZIndexes.line};function LineImpl(t){var e=resolveDefaultProps(t,defaultLineProps),{activeDot:n,animateNewValues:i,animationBegin:l,animationDuration:d,animationEasing:f,connectNulls:b,dot:_,hide:v,isAnimationActive:m,label:u,legendType:o,xAxisId:h,yAxisId:w,id:E}=e,T=_objectWithoutProperties$6(e,_excluded3$2),{needClip:O}=useNeedsClip(h,w),M=usePlotArea(),I=useChartLayout(),R=useIsPanorama(),D=useAppSelector(V=>selectLinePoints(V,h,w,R,E));if(I!=="horizontal"&&I!=="vertical"||D==null||M==null)return null;var{height:N,width:L,x:B,y:$}=M;return reactExports.createElement(LineWithState,_extends$7({},T,{id:E,connectNulls:b,dot:_,activeDot:n,animateNewValues:i,animationBegin:l,animationDuration:d,animationEasing:f,isAnimationActive:m,hide:v,label:u,legendType:o,xAxisId:h,yAxisId:w,points:D,layout:I,height:N,width:L,left:B,top:$,needClip:O}))}function computeLinePoints(t){var{layout:e,xAxis:n,yAxis:i,xAxisTicks:l,yAxisTicks:d,dataKey:f,bandSize:b,displayedData:_}=t;return _.map((v,m)=>{var u=getValueByDataKey(v,f);if(e==="horizontal"){var o=getCateCoordinateOfLine({axis:n,ticks:l,bandSize:b,entry:v,index:m}),h=isNullish(u)?null:i.scale(u);return{x:o,y:h,value:u,payload:v}}var w=isNullish(u)?null:n.scale(u),E=getCateCoordinateOfLine({axis:i,ticks:d,bandSize:b,entry:v,index:m});return w==null||E==null?null:{x:w,y:E,value:u,payload:v}}).filter(Boolean)}function LineFn(t){var e=resolveDefaultProps(t,defaultLineProps),n=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:e.id,type:"line"},i=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromAreaData$1(e)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$1,args:e}),reactExports.createElement(SetCartesianGraphicalItem,{type:"line",id:i,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),reactExports.createElement(LineImpl,_extends$7({},e,{id:i}))))}var Line=reactExports.memo(LineFn);Line.displayName="Line";var selectXAxisWithScale=(t,e,n,i)=>selectAxisWithScale(t,"xAxis",e,i),selectXAxisTicks=(t,e,n,i)=>selectTicksOfGraphicalItem(t,"xAxis",e,i),selectYAxisWithScale=(t,e,n,i)=>selectAxisWithScale(t,"yAxis",n,i),selectYAxisTicks=(t,e,n,i)=>selectTicksOfGraphicalItem(t,"yAxis",n,i),selectBandSize=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks],(t,e,n,i,l)=>isCategoricalAxis(t,"xAxis")?getBandSizeOfAxis(e,i,!1):getBandSizeOfAxis(n,l,!1)),pickAreaId=(t,e,n,i,l)=>l,selectSynchronisedAreaSettings=createSelector([selectUnfilteredCartesianItems,pickAreaId],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),selectGraphicalItemStackedData=(t,e,n,i,l)=>{var d,f=selectSynchronisedAreaSettings(t,e,n,i,l);if(f!=null){var b=selectChartLayout(t),_=isCategoricalAxis(b,"xAxis"),v;if(_?v=selectStackGroups(t,"yAxis",n,i):v=selectStackGroups(t,"xAxis",e,i),v!=null){var{stackId:m}=f,u=getStackSeriesIdentifier(f);if(!(m==null||u==null)){var o=(d=v[m])===null||d===void 0?void 0:d.stackedData;return o==null?void 0:o.find(h=>h.key===u)}}}},selectArea=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks,selectGraphicalItemStackedData,selectChartDataWithIndexesIfNotInPanorama,selectBandSize,selectSynchronisedAreaSettings,selectChartBaseValue],(t,e,n,i,l,d,f,b,_,v)=>{var{chartData:m,dataStartIndex:u,dataEndIndex:o}=f;if(!(_==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||i==null||l==null||i.length===0||l.length===0||b==null)){var{data:h}=_,w;if(h&&h.length>0?w=h:w=m==null?void 0:m.slice(u,o+1),w!=null)return computeArea({layout:t,xAxis:e,yAxis:n,xAxisTicks:i,yAxisTicks:l,dataStartIndex:u,areaSettings:_,stackedData:d,displayedData:w,chartBaseValue:v,bandSize:b})}}),_excluded$5=["id"],_excluded2$2=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$6.apply(null,arguments)}function _objectWithoutProperties$5(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$5(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$5(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function ownKeys$1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(n),!0).forEach(function(i){_defineProperty$1(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty$1(t,e,n){return(e=_toPropertyKey$1(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$1(t){var e=_toPrimitive$1(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$1(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function getLegendItemColor(t,e){return t&&t!=="none"?t:e}var computeLegendPayloadFromAreaData=t=>{var{dataKey:e,name:n,stroke:i,fill:l,legendType:d,hide:f}=t;return[{inactive:f,dataKey:e,type:d,color:getLegendItemColor(i,l),value:getTooltipNameProp(n,e),payload:t}]};function getTooltipEntrySettings(t){var{dataKey:e,data:n,stroke:i,strokeWidth:l,fill:d,name:f,hide:b,unit:_}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:i,strokeWidth:l,fill:d,dataKey:e,nameKey:void 0,name:getTooltipNameProp(f,e),hide:b,type:t.tooltipType,color:getLegendItemColor(i,d),unit:_}}}function AreaDotsWrapper(t){var{clipPathId:e,points:n,props:i}=t,{needClip:l,dot:d,dataKey:f}=i,b=svgPropertiesNoEvents(i);return reactExports.createElement(Dots,{points:n,dot:d,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:f,baseProps:b,needClip:l,clipPathId:e})}function AreaLabelListProvider(t){var{showLabels:e,children:n,points:i}=t,l=i.map(d=>{var f,b,_={x:(f=d.x)!==null&&f!==void 0?f:0,y:(b=d.y)!==null&&b!==void 0?b:0,width:0,lowerWidth:0,upperWidth:0,height:0};return _objectSpread$1(_objectSpread$1({},_),{},{value:d.value,payload:d.payload,parentViewBox:void 0,viewBox:_,fill:void 0})});return reactExports.createElement(CartesianLabelListContextProvider,{value:e?l:void 0},n)}function StaticArea(t){var{points:e,baseLine:n,needClip:i,clipPathId:l,props:d}=t,{layout:f,type:b,stroke:_,connectNulls:v,isRange:m}=d,{id:u}=d,o=_objectWithoutProperties$5(d,_excluded$5),h=svgPropertiesNoEvents(o),w=svgPropertiesAndEvents(o);return reactExports.createElement(reactExports.Fragment,null,(e==null?void 0:e.length)>1&&reactExports.createElement(Layer,{clipPath:i?"url(#clipPath-".concat(l,")"):void 0},reactExports.createElement(Curve,_extends$6({},w,{id:u,points:e,connectNulls:v,type:b,baseLine:n,layout:f,stroke:"none",className:"recharts-area-area"})),_!=="none"&&reactExports.createElement(Curve,_extends$6({},h,{className:"recharts-area-curve",layout:f,type:b,connectNulls:v,fill:"none",points:e})),_!=="none"&&m&&reactExports.createElement(Curve,_extends$6({},h,{className:"recharts-area-curve",layout:f,type:b,connectNulls:v,fill:"none",points:n}))),reactExports.createElement(AreaDotsWrapper,{points:e,props:o,clipPathId:l}))}function VerticalRect(t){var{alpha:e,baseLine:n,points:i,strokeWidth:l}=t,d=i[0].y,f=i[i.length-1].y;if(!isWellBehavedNumber(d)||!isWellBehavedNumber(f))return null;var b=e*Math.abs(d-f),_=Math.max(...i.map(v=>v.x||0));return isNumber(n)?_=Math.max(n,_):n&&Array.isArray(n)&&n.length&&(_=Math.max(...n.map(v=>v.x||0),_)),isNumber(_)?reactExports.createElement("rect",{x:0,y:d<f?d:d-b,width:_+(l?parseInt("".concat(l),10):1),height:Math.floor(b)}):null}function HorizontalRect(t){var{alpha:e,baseLine:n,points:i,strokeWidth:l}=t,d=i[0].x,f=i[i.length-1].x;if(!isWellBehavedNumber(d)||!isWellBehavedNumber(f))return null;var b=e*Math.abs(d-f),_=Math.max(...i.map(v=>v.y||0));return isNumber(n)?_=Math.max(n,_):n&&Array.isArray(n)&&n.length&&(_=Math.max(...n.map(v=>v.y||0),_)),isNumber(_)?reactExports.createElement("rect",{x:d<f?d:d-b,y:0,width:b,height:Math.floor(_+(l?parseInt("".concat(l),10):1))}):null}function ClipRect(t){var{alpha:e,layout:n,points:i,baseLine:l,strokeWidth:d}=t;return n==="vertical"?reactExports.createElement(VerticalRect,{alpha:e,points:i,baseLine:l,strokeWidth:d}):reactExports.createElement(HorizontalRect,{alpha:e,points:i,baseLine:l,strokeWidth:d})}function AreaWithAnimation(t){var{needClip:e,clipPathId:n,props:i,previousPointsRef:l,previousBaselineRef:d}=t,{points:f,baseLine:b,isAnimationActive:_,animationBegin:v,animationDuration:m,animationEasing:u,onAnimationStart:o,onAnimationEnd:h}=i,w=useAnimationId(i,"recharts-area-"),[E,T]=reactExports.useState(!1),O=!E,M=reactExports.useCallback(()=>{typeof h=="function"&&h(),T(!1)},[h]),I=reactExports.useCallback(()=>{typeof o=="function"&&o(),T(!0)},[o]),R=l.current,D=d.current;return reactExports.createElement(AreaLabelListProvider,{showLabels:O,points:f},i.children,reactExports.createElement(JavascriptAnimate,{animationId:w,begin:v,duration:m,isActive:_,easing:u,onAnimationEnd:M,onAnimationStart:I,key:w},N=>{if(R){var L=R.length/f.length,B=N===1?f:f.map((V,G)=>{var X=Math.floor(G*L);if(R[X]){var ee=R[X];return _objectSpread$1(_objectSpread$1({},V),{},{x:interpolate$1(ee.x,V.x,N),y:interpolate$1(ee.y,V.y,N)})}return V}),$;return isNumber(b)?$=interpolate$1(D,b,N):isNullish(b)||isNan(b)?$=interpolate$1(D,0,N):$=b.map((V,G)=>{var X=Math.floor(G*L);if(Array.isArray(D)&&D[X]){var ee=D[X];return _objectSpread$1(_objectSpread$1({},V),{},{x:interpolate$1(ee.x,V.x,N),y:interpolate$1(ee.y,V.y,N)})}return V}),N>0&&(l.current=B,d.current=$),reactExports.createElement(StaticArea,{points:B,baseLine:$,needClip:e,clipPathId:n,props:i})}return N>0&&(l.current=f,d.current=b),reactExports.createElement(Layer,null,_&&reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:"animationClipPath-".concat(n)},reactExports.createElement(ClipRect,{alpha:N,points:f,baseLine:b,layout:i.layout,strokeWidth:i.strokeWidth}))),reactExports.createElement(Layer,{clipPath:"url(#animationClipPath-".concat(n,")")},reactExports.createElement(StaticArea,{points:f,baseLine:b,needClip:e,clipPathId:n,props:i})))}),reactExports.createElement(LabelListFromLabelProp,{label:i.label}))}function RenderArea(t){var{needClip:e,clipPathId:n,props:i}=t,l=reactExports.useRef(null),d=reactExports.useRef();return reactExports.createElement(AreaWithAnimation,{needClip:e,clipPathId:n,props:i,previousPointsRef:l,previousBaselineRef:d})}class AreaWithState extends reactExports.PureComponent{render(){var{hide:e,dot:n,points:i,className:l,top:d,left:f,needClip:b,xAxisId:_,yAxisId:v,width:m,height:u,id:o,baseLine:h,zIndex:w}=this.props;if(e)return null;var E=clsx("recharts-area",l),T=o,{r:O,strokeWidth:M}=getRadiusAndStrokeWidthFromDot(n),I=isClipDot(n),R=O*2+M;return reactExports.createElement(ZIndexLayer,{zIndex:w},reactExports.createElement(Layer,{className:E},b&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:T,xAxisId:_,yAxisId:v}),!I&&reactExports.createElement("clipPath",{id:"clipPath-dots-".concat(T)},reactExports.createElement("rect",{x:f-R/2,y:d-R/2,width:m+R,height:u+R}))),reactExports.createElement(RenderArea,{needClip:b,clipPathId:T,props:this.props})),reactExports.createElement(ActivePoints,{points:i,mainColor:getLegendItemColor(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(h)&&reactExports.createElement(ActivePoints,{points:h,mainColor:getLegendItemColor(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var defaultAreaProps={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Global.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0,zIndex:DefaultZIndexes.area};function AreaImpl(t){var e,n=resolveDefaultProps(t,defaultAreaProps),{activeDot:i,animationBegin:l,animationDuration:d,animationEasing:f,connectNulls:b,dot:_,fill:v,fillOpacity:m,hide:u,isAnimationActive:o,legendType:h,stroke:w,xAxisId:E,yAxisId:T}=n,O=_objectWithoutProperties$5(n,_excluded2$2),M=useChartLayout(),I=useChartName(),{needClip:R}=useNeedsClip(E,T),D=useIsPanorama(),{points:N,isRange:L,baseLine:B}=(e=useAppSelector(Q=>selectArea(Q,E,T,D,t.id)))!==null&&e!==void 0?e:{},$=usePlotArea();if(M!=="horizontal"&&M!=="vertical"||$==null||I!=="AreaChart"&&I!=="ComposedChart")return null;var{height:V,width:G,x:X,y:ee}=$;return!N||!N.length?null:reactExports.createElement(AreaWithState,_extends$6({},O,{activeDot:i,animationBegin:l,animationDuration:d,animationEasing:f,baseLine:B,connectNulls:b,dot:_,fill:v,fillOpacity:m,height:V,hide:u,layout:M,isAnimationActive:o,isRange:L,legendType:h,needClip:R,points:N,stroke:w,width:G,left:X,top:ee,xAxisId:E,yAxisId:T}))}var getBaseValue=(t,e,n,i,l)=>{var d=n??e;if(isNumber(d))return d;var f=t==="horizontal"?l:i,b=f.scale.domain();if(f.type==="number"){var _=Math.max(b[0],b[1]),v=Math.min(b[0],b[1]);return d==="dataMin"?v:d==="dataMax"||_<0?_:Math.max(Math.min(b[0],b[1]),0)}return d==="dataMin"?b[0]:d==="dataMax"?b[1]:b[0]};function computeArea(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:i},stackedData:l,layout:d,chartBaseValue:f,xAxis:b,yAxis:_,displayedData:v,dataStartIndex:m,xAxisTicks:u,yAxisTicks:o,bandSize:h}=t,w=l&&l.length,E=getBaseValue(d,f,n,b,_),T=d==="horizontal",O=!1,M=v.map((R,D)=>{var N;w?N=l[m+D]:(N=getValueByDataKey(R,i),Array.isArray(N)?O=!0:N=[E,N]);var L=N[1]==null||w&&!e&&getValueByDataKey(R,i)==null;return T?{x:getCateCoordinateOfLine({axis:b,ticks:u,bandSize:h,entry:R,index:D}),y:L?null:_.scale(N[1]),value:N,payload:R}:{x:L?null:b.scale(N[1]),y:getCateCoordinateOfLine({axis:_,ticks:o,bandSize:h,entry:R,index:D}),value:N,payload:R}}),I;return w||O?I=M.map(R=>{var D=Array.isArray(R.value)?R.value[0]:null;return T?{x:R.x,y:D!=null&&R.y!=null?_.scale(D):null,payload:R.payload}:{x:D!=null?b.scale(D):null,y:R.y,payload:R.payload}}):I=T?_.scale(E):b.scale(E),{points:M,baseLine:I,isRange:O}}function AreaFn(t){var e=resolveDefaultProps(t,defaultAreaProps),n=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:e.id,type:"area"},i=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromAreaData(e)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings,args:e}),reactExports.createElement(SetCartesianGraphicalItem,{type:"area",id:i,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:getNormalizedStackId(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),reactExports.createElement(AreaImpl,_extends$6({},e,{id:i}))))}var Area=reactExports.memo(AreaFn);Area.displayName="Area";var _excluded$4=["dangerouslySetInnerHTML","ticks"],_excluded2$1=["id"],_excluded3$1=["domain"],_excluded4$1=["domain"];function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$5.apply(null,arguments)}function _objectWithoutProperties$4(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$4(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$4(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function SetXAxisSettings(t){var e=useAppDispatch();return reactExports.useLayoutEffect(()=>(e(addXAxis(t)),()=>{e(removeXAxis(t))}),[t,e]),null}var XAxisImpl=t=>{var{xAxisId:e,className:n}=t,i=useAppSelector(selectAxisViewBox),l=useIsPanorama(),d="xAxis",f=useAppSelector(T=>selectAxisScale(T,d,e,l)),b=useAppSelector(T=>selectTicksOfAxis(T,d,e,l)),_=useAppSelector(T=>selectXAxisSize(T,e)),v=useAppSelector(T=>selectXAxisPosition(T,e)),m=useAppSelector(T=>selectXAxisSettingsNoDefaults(T,e));if(_==null||v==null||m==null)return null;var{dangerouslySetInnerHTML:u,ticks:o}=t,h=_objectWithoutProperties$4(t,_excluded$4),{id:w}=m,E=_objectWithoutProperties$4(m,_excluded2$1);return reactExports.createElement(CartesianAxis,_extends$5({},h,E,{scale:f,x:v.x,y:v.y,width:_.width,height:_.height,className:clsx("recharts-".concat(d," ").concat(d),n),viewBox:i,ticks:b,axisType:d}))},xAxisDefaultProps={allowDataOverflow:implicitXAxis.allowDataOverflow,allowDecimals:implicitXAxis.allowDecimals,allowDuplicatedCategory:implicitXAxis.allowDuplicatedCategory,height:implicitXAxis.height,hide:!1,mirror:implicitXAxis.mirror,orientation:implicitXAxis.orientation,padding:implicitXAxis.padding,reversed:implicitXAxis.reversed,scale:implicitXAxis.scale,tickCount:implicitXAxis.tickCount,type:implicitXAxis.type,xAxisId:0},XAxisSettingsDispatcher=t=>{var e,n,i,l,d,f=resolveDefaultProps(t,xAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetXAxisSettings,{interval:(e=f.interval)!==null&&e!==void 0?e:"preserveEnd",id:f.xAxisId,scale:f.scale,type:f.type,padding:f.padding,allowDataOverflow:f.allowDataOverflow,domain:f.domain,dataKey:f.dataKey,allowDuplicatedCategory:f.allowDuplicatedCategory,allowDecimals:f.allowDecimals,tickCount:f.tickCount,includeHidden:(n=f.includeHidden)!==null&&n!==void 0?n:!1,reversed:f.reversed,ticks:f.ticks,height:f.height,orientation:f.orientation,mirror:f.mirror,hide:f.hide,unit:f.unit,name:f.name,angle:(i=f.angle)!==null&&i!==void 0?i:0,minTickGap:(l=f.minTickGap)!==null&&l!==void 0?l:5,tick:(d=f.tick)!==null&&d!==void 0?d:!0,tickFormatter:f.tickFormatter}),reactExports.createElement(XAxisImpl,f))},XAxisMemoComparator=(t,e)=>{var{domain:n}=t,i=_objectWithoutProperties$4(t,_excluded3$1),{domain:l}=e,d=_objectWithoutProperties$4(e,_excluded4$1);return shallowEqual(i,d)?Array.isArray(n)&&n.length===2&&Array.isArray(l)&&l.length===2?n[0]===l[0]&&n[1]===l[1]:shallowEqual({domain:n},{domain:l}):!1},XAxis=reactExports.memo(XAxisSettingsDispatcher,XAxisMemoComparator);XAxis.displayName="XAxis";var _excluded$3=["dangerouslySetInnerHTML","ticks"],_excluded2=["id"],_excluded3=["domain"],_excluded4=["domain"];function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$4.apply(null,arguments)}function _objectWithoutProperties$3(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$3(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$3(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function SetYAxisSettings(t){var e=useAppDispatch();return reactExports.useLayoutEffect(()=>(e(addYAxis(t)),()=>{e(removeYAxis(t))}),[t,e]),null}var YAxisImpl=t=>{var{yAxisId:e,className:n,width:i,label:l}=t,d=reactExports.useRef(null),f=reactExports.useRef(null),b=useAppSelector(selectAxisViewBox),_=useIsPanorama(),v=useAppDispatch(),m="yAxis",u=useAppSelector(D=>selectAxisScale(D,m,e,_)),o=useAppSelector(D=>selectYAxisSize(D,e)),h=useAppSelector(D=>selectYAxisPosition(D,e)),w=useAppSelector(D=>selectTicksOfAxis(D,m,e,_)),E=useAppSelector(D=>selectYAxisSettingsNoDefaults(D,e));if(reactExports.useLayoutEffect(()=>{if(!(i!=="auto"||!o||isLabelContentAFunction(l)||reactExports.isValidElement(l)||E==null)){var D=d.current;if(D){var N=D.getCalculatedWidth();Math.round(o.width)!==Math.round(N)&&v(updateYAxisWidth({id:e,width:N}))}}},[w,o,v,l,e,i,E]),o==null||h==null||E==null)return null;var{dangerouslySetInnerHTML:T,ticks:O}=t,M=_objectWithoutProperties$3(t,_excluded$3),{id:I}=E,R=_objectWithoutProperties$3(E,_excluded2);return reactExports.createElement(CartesianAxis,_extends$4({},M,R,{ref:d,labelRef:f,scale:u,x:h.x,y:h.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:o.width,height:o.height,className:clsx("recharts-".concat(m," ").concat(m),n),viewBox:b,ticks:w,axisType:m}))},yAxisDefaultProps={allowDataOverflow:implicitYAxis.allowDataOverflow,allowDecimals:implicitYAxis.allowDecimals,allowDuplicatedCategory:implicitYAxis.allowDuplicatedCategory,hide:!1,mirror:implicitYAxis.mirror,orientation:implicitYAxis.orientation,padding:implicitYAxis.padding,reversed:implicitYAxis.reversed,scale:implicitYAxis.scale,tickCount:implicitYAxis.tickCount,type:implicitYAxis.type,width:implicitYAxis.width,yAxisId:0},YAxisSettingsDispatcher=t=>{var e,n,i,l,d,f=resolveDefaultProps(t,yAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetYAxisSettings,{interval:(e=f.interval)!==null&&e!==void 0?e:"preserveEnd",id:f.yAxisId,scale:f.scale,type:f.type,domain:f.domain,allowDataOverflow:f.allowDataOverflow,dataKey:f.dataKey,allowDuplicatedCategory:f.allowDuplicatedCategory,allowDecimals:f.allowDecimals,tickCount:f.tickCount,padding:f.padding,includeHidden:(n=f.includeHidden)!==null&&n!==void 0?n:!1,reversed:f.reversed,ticks:f.ticks,width:f.width,orientation:f.orientation,mirror:f.mirror,hide:f.hide,unit:f.unit,name:f.name,angle:(i=f.angle)!==null&&i!==void 0?i:0,minTickGap:(l=f.minTickGap)!==null&&l!==void 0?l:5,tick:(d=f.tick)!==null&&d!==void 0?d:!0,tickFormatter:f.tickFormatter}),reactExports.createElement(YAxisImpl,f))},YAxisMemoComparator=(t,e)=>{var{domain:n}=t,i=_objectWithoutProperties$3(t,_excluded3),{domain:l}=e,d=_objectWithoutProperties$3(e,_excluded4);return shallowEqual(i,d)?Array.isArray(n)&&n.length===2&&Array.isArray(l)&&l.length===2?n[0]===l[0]&&n[1]===l[1]:shallowEqual({domain:n},{domain:l}):!1},YAxis=reactExports.memo(YAxisSettingsDispatcher,YAxisMemoComparator);YAxis.displayName="YAxis";var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreWithSelector_production;function requireUseSyncExternalStoreWithSelector_production(){if(hasRequiredUseSyncExternalStoreWithSelector_production)return useSyncExternalStoreWithSelector_production;hasRequiredUseSyncExternalStoreWithSelector_production=1;var t=requireReact();function e(_,v){return _===v&&(_!==0||1/_===1/v)||_!==_&&v!==v}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,l=t.useRef,d=t.useEffect,f=t.useMemo,b=t.useDebugValue;return useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(_,v,m,u,o){var h=l(null);if(h.current===null){var w={hasValue:!1,value:null};h.current=w}else w=h.current;h=f(function(){function T(D){if(!O){if(O=!0,M=D,D=u(D),o!==void 0&&w.hasValue){var N=w.value;if(o(N,D))return I=N}return I=D}if(N=I,n(M,D))return N;var L=u(D);return o!==void 0&&o(N,L)?(M=D,N):(M=D,I=L)}var O=!1,M,I,R=m===void 0?null:m;return[function(){return T(v())},R===null?void 0:function(){return T(R())}]},[v,m,u,o]);var E=i(_,h[0],h[1]);return d(function(){w.hasValue=!0,w.value=E},[E]),b(E),E},useSyncExternalStoreWithSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireUseSyncExternalStoreWithSelector_production()),withSelector.exports}requireWithSelector();function defaultNoopBatch(t){t()}function createListenerCollection(){let t=null,e=null;return{clear(){t=null,e=null},notify(){defaultNoopBatch(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const l=e={callback:n,next:null,prev:e};return l.prev?l.prev.next=l:t=l,function(){!i||t===null||(i=!1,l.next?l.next.prev=l.prev:e=l.prev,l.prev?l.prev.next=l.next:t=l.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(t,e){let n,i=nullListeners,l=0,d=!1;function f(E){m();const T=i.subscribe(E);let O=!1;return()=>{O||(O=!0,T(),u())}}function b(){i.notify()}function _(){w.onStateChange&&w.onStateChange()}function v(){return d}function m(){l++,n||(n=t.subscribe(_),i=createListenerCollection())}function u(){l--,n&&l===0&&(n(),n=void 0,i.clear(),i=nullListeners)}function o(){d||(d=!0,m())}function h(){d&&(d=!1,u())}const w={addNestedSub:f,notifyNestedSubs:b,handleChangeWrapper:_,isSubscribed:v,trySubscribe:o,tryUnsubscribe:h,getListeners:()=>i};return w}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect(),ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const t=gT[ContextKey]??(gT[ContextKey]=new Map);let e=t.get(reactExports.createContext);return e||(e=reactExports.createContext(null),t.set(reactExports.createContext,e)),e}var ReactReduxContext=getContext();function Provider(t){const{children:e,context:n,serverState:i,store:l}=t,d=reactExports.useMemo(()=>{const _=createSubscription(l);return{store:l,subscription:_,getServerState:i?()=>i:void 0}},[l,i]),f=reactExports.useMemo(()=>l.getState(),[l]);useIsomorphicLayoutEffect(()=>{const{subscription:_}=d;return _.onStateChange=_.notifyNestedSubs,_.trySubscribe(),f!==l.getState()&&_.notifyNestedSubs(),()=>{_.tryUnsubscribe(),_.onStateChange=void 0}},[d,f]);const b=n||ReactReduxContext;return reactExports.createElement(b.Provider,{value:d},e)}var Provider_default=Provider,pickChartPointer=(t,e)=>e,selectActivePropsFromChartPointer=createSelector([pickChartPointer,selectChartLayout,selectPolarViewBox,selectTooltipAxisType,selectTooltipAxisRangeWithReverse,selectTooltipAxisTicks,selectOrderedTooltipTicks,selectChartOffsetInternal],combineActiveProps),getChartPointer=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,i=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/i)}},mouseClickAction=createAction("mouseClick"),mouseClickMiddleware=createListenerMiddleware();mouseClickMiddleware.startListening({actionCreator:mouseClickAction,effect:(t,e)=>{var n=t.payload,i=selectActivePropsFromChartPointer(e.getState(),getChartPointer(n));(i==null?void 0:i.activeIndex)!=null&&e.dispatch(setMouseClickAxisIndex({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var mouseMoveAction=createAction("mouseMove"),mouseMoveMiddleware=createListenerMiddleware();mouseMoveMiddleware.startListening({actionCreator:mouseMoveAction,effect:(t,e)=>{var n=t.payload,i=e.getState(),l=selectTooltipEventType$1(i,i.tooltip.settings.shared),d=selectActivePropsFromChartPointer(i,getChartPointer(n));l==="axis"&&((d==null?void 0:d.activeIndex)!=null?e.dispatch(setMouseOverAxisIndex({activeIndex:d.activeIndex,activeDataKey:void 0,activeCoordinate:d.activeCoordinate})):e.dispatch(mouseLeaveChart()))}});var initialState={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},rootPropsSlice=createSlice({name:"rootProps",initialState,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:initialState.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),rootPropsReducer=rootPropsSlice.reducer,{updateOptions}=rootPropsSlice.actions,polarOptionsSlice=createSlice({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions}=polarOptionsSlice.actions,polarOptionsReducer=polarOptionsSlice.reducer,keyDownAction=createAction("keyDown"),focusAction=createAction("focus"),keyboardEventsMiddleware=createListenerMiddleware();keyboardEventsMiddleware.startListening({actionCreator:keyDownAction,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:l}=n.tooltip,d=t.payload;if(!(d!=="ArrowRight"&&d!=="ArrowLeft"&&d!=="Enter")){var f=Number(combineActiveTooltipIndex(l,selectTooltipDisplayedData(n))),b=selectTooltipAxisTicks(n);if(d==="Enter"){var _=selectCoordinateForDefaultIndex(n,"axis","hover",String(l.index));e.dispatch(setKeyboardInteraction({active:!l.active,activeIndex:l.index,activeDataKey:l.dataKey,activeCoordinate:_}));return}var v=selectChartDirection(n),m=v==="left-to-right"?1:-1,u=d==="ArrowRight"?1:-1,o=f+u*m;if(!(b==null||o>=b.length||o<0)){var h=selectCoordinateForDefaultIndex(n,"axis","hover",String(o));e.dispatch(setKeyboardInteraction({active:!0,activeIndex:o.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});keyboardEventsMiddleware.startListening({actionCreator:focusAction,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:l}=n.tooltip;if(!l.active&&l.index==null){var d="0",f=selectCoordinateForDefaultIndex(n,"axis","hover",String(d));e.dispatch(setKeyboardInteraction({activeDataKey:void 0,active:!0,activeIndex:d,activeCoordinate:f}))}}}});var externalEventAction=createAction("externalEvent"),externalEventsMiddleware=createListenerMiddleware();externalEventsMiddleware.startListening({actionCreator:externalEventAction,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),i={activeCoordinate:selectActiveTooltipCoordinate(n),activeDataKey:selectActiveTooltipDataKey(n),activeIndex:selectActiveTooltipIndex(n),activeLabel:selectActiveLabel$1(n),activeTooltipIndex:selectActiveTooltipIndex(n),isTooltipActive:selectIsTooltipActive$1(n)};t.payload.handler(i,t.payload.reactEvent)}}});var selectAllTooltipPayloadConfiguration=createSelector([selectTooltipState],t=>t.tooltipItemPayloads),selectTooltipCoordinate=createSelector([selectAllTooltipPayloadConfiguration,selectTooltipPayloadSearcher,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,i)=>{var l=t.find(b=>b.settings.dataKey===i);if(l!=null){var{positions:d}=l;if(d!=null){var f=e(d,n);return f}}}),touchEventAction=createAction("touchMove"),touchEventMiddleware=createListenerMiddleware();touchEventMiddleware.startListening({actionCreator:touchEventAction,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var i=e.getState(),l=selectTooltipEventType$1(i,i.tooltip.settings.shared);if(l==="axis"){var d=selectActivePropsFromChartPointer(i,getChartPointer({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(d==null?void 0:d.activeIndex)!=null&&e.dispatch(setMouseOverAxisIndex({activeIndex:d.activeIndex,activeDataKey:void 0,activeCoordinate:d.activeCoordinate}))}else if(l==="item"){var f,b=n.touches[0];if(document.elementFromPoint==null)return;var _=document.elementFromPoint(b.clientX,b.clientY);if(!_||!_.getAttribute)return;var v=_.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME),m=(f=_.getAttribute(DATA_ITEM_DATAKEY_ATTRIBUTE_NAME))!==null&&f!==void 0?f:void 0,u=selectTooltipCoordinate(e.getState(),v,m);e.dispatch(setActiveMouseOverItemIndex({activeDataKey:m,activeIndex:v,activeCoordinate:u}))}}}});var rootReducer=combineReducers({brush:brushReducer,cartesianAxis:cartesianAxisReducer,chartData:chartDataReducer,errorBars:errorBarReducer,graphicalItems:graphicalItemsReducer,layout:chartLayoutReducer,legend:legendReducer,options:optionsReducer,polarAxis:polarAxisReducer,polarOptions:polarOptionsReducer,referenceElements:referenceElementsReducer,rootProps:rootPropsReducer,tooltip:tooltipReducer,zIndex:zIndexReducer}),createRechartsStore=function t(e){return configureStore({reducer:rootReducer,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([mouseClickMiddleware.middleware,mouseMoveMiddleware.middleware,keyboardEventsMiddleware.middleware,externalEventsMiddleware.middleware,touchEventMiddleware.middleware]),enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(autoBatchEnhancer({type:"raf"}))},devTools:Global.devToolsEnabled})};function RechartsStoreProvider(t){var{preloadedState:e,children:n,reduxStoreName:i}=t,l=useIsPanorama(),d=reactExports.useRef(null);if(l)return n;d.current==null&&(d.current=createRechartsStore(e));var f=RechartsReduxContext;return reactExports.createElement(Provider_default,{context:f,store:d.current},n)}function ReportMainChartProps(t){var{layout:e,margin:n}=t,i=useAppDispatch(),l=useIsPanorama();return reactExports.useEffect(()=>{l||(i(setLayout(e)),i(setMargin(n)))},[i,l,e,n]),null}function ReportChartProps(t){var e=useAppDispatch();return reactExports.useEffect(()=>{e(updateOptions(t))},[e,t]),null}function ZIndexSvgPortal(t){var{zIndex:e,isPanorama:n}=t,i=n?"recharts-zindex-panorama-":"recharts-zindex-",l=useUniqueId("".concat(i).concat(e)),d=useAppDispatch();return reactExports.useLayoutEffect(()=>(d(registerZIndexPortalId({zIndex:e,elementId:l,isPanorama:n})),()=>{d(unregisterZIndexPortalId({zIndex:e,isPanorama:n}))}),[d,e,l,n]),reactExports.createElement("g",{id:l})}function AllZIndexPortals(t){var{children:e,isPanorama:n}=t,i=useAppSelector(selectAllRegisteredZIndexes);if(!i||i.length===0)return e;var l=i.filter(f=>f<0),d=i.filter(f=>f>0);return reactExports.createElement(reactExports.Fragment,null,l.map(f=>reactExports.createElement(ZIndexSvgPortal,{key:f,zIndex:f,isPanorama:n})),e,d.map(f=>reactExports.createElement(ZIndexSvgPortal,{key:f,zIndex:f,isPanorama:n})))}var _excluded$2=["children"];function _objectWithoutProperties$2(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$2(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$3.apply(null,arguments)}var FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%",display:"block"},MainChartSurface=reactExports.forwardRef((t,e)=>{var n=useChartWidth(),i=useChartHeight(),l=useAccessibilityLayer();if(!isPositiveNumber(n)||!isPositiveNumber(i))return null;var{children:d,otherAttributes:f,title:b,desc:_}=t,v,m;return f!=null&&(typeof f.tabIndex=="number"?v=f.tabIndex:v=l?0:void 0,typeof f.role=="string"?m=f.role:m=l?"application":void 0),reactExports.createElement(Surface,_extends$3({},f,{title:b,desc:_,role:m,tabIndex:v,width:n,height:i,style:FULL_WIDTH_AND_HEIGHT,ref:e}),d)}),BrushPanoramaSurface=t=>{var{children:e}=t,n=useAppSelector(selectBrushDimensions);if(!n)return null;var{width:i,height:l,y:d,x:f}=n;return reactExports.createElement(Surface,{width:i,height:l,x:f,y:d},e)},RootSurface=reactExports.forwardRef((t,e)=>{var{children:n}=t,i=_objectWithoutProperties$2(t,_excluded$2),l=useIsPanorama();return l?reactExports.createElement(BrushPanoramaSurface,null,reactExports.createElement(AllZIndexPortals,{isPanorama:!0},n)):reactExports.createElement(MainChartSurface,_extends$3({ref:e},i),reactExports.createElement(AllZIndexPortals,{isPanorama:!1},n))});function useReportScale(){var t=useAppDispatch(),[e,n]=reactExports.useState(null),i=useAppSelector(selectContainerScale);return reactExports.useEffect(()=>{if(e!=null){var l=e.getBoundingClientRect(),d=l.width/e.offsetWidth;isWellBehavedNumber(d)&&d!==i&&t(setScale(d))}},[e,t,i]),n}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(i){_defineProperty(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _defineProperty(t,e,n){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$2.apply(null,arguments)}var EventSynchronizer=()=>(useSynchronisedEventsFromOtherCharts(),null);function getNumberOrZero(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var ResponsiveDiv=reactExports.forwardRef((t,e)=>{var n,i,l=reactExports.useRef(null),[d,f]=reactExports.useState({containerWidth:getNumberOrZero((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:getNumberOrZero((i=t.style)===null||i===void 0?void 0:i.height)}),b=reactExports.useCallback((v,m)=>{f(u=>{var o=Math.round(v),h=Math.round(m);return u.containerWidth===o&&u.containerHeight===h?u:{containerWidth:o,containerHeight:h}})},[]),_=reactExports.useCallback(v=>{if(typeof e=="function"&&e(v),v!=null&&typeof ResizeObserver<"u"){var{width:m,height:u}=v.getBoundingClientRect();b(m,u);var o=w=>{var{width:E,height:T}=w[0].contentRect;b(E,T)},h=new ResizeObserver(o);h.observe(v),l.current=h}},[e,b]);return reactExports.useEffect(()=>()=>{var v=l.current;v!=null&&v.disconnect()},[b]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:d.containerWidth,height:d.containerHeight}),reactExports.createElement("div",_extends$2({ref:_},t)))}),ReadSizeOnceDiv=reactExports.forwardRef((t,e)=>{var{width:n,height:i}=t,[l,d]=reactExports.useState({containerWidth:getNumberOrZero(n),containerHeight:getNumberOrZero(i)}),f=reactExports.useCallback((_,v)=>{d(m=>{var u=Math.round(_),o=Math.round(v);return m.containerWidth===u&&m.containerHeight===o?m:{containerWidth:u,containerHeight:o}})},[]),b=reactExports.useCallback(_=>{if(typeof e=="function"&&e(_),_!=null){var{width:v,height:m}=_.getBoundingClientRect();f(v,m)}},[e,f]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:l.containerWidth,height:l.containerHeight}),reactExports.createElement("div",_extends$2({ref:b},t)))}),StaticDiv=reactExports.forwardRef((t,e)=>{var{width:n,height:i}=t;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:n,height:i}),reactExports.createElement("div",_extends$2({ref:e},t)))}),NonResponsiveDiv=reactExports.forwardRef((t,e)=>{var{width:n,height:i}=t;return isPercent(n)||isPercent(i)?reactExports.createElement(ReadSizeOnceDiv,_extends$2({},t,{ref:e})):reactExports.createElement(StaticDiv,_extends$2({},t,{ref:e}))});function getWrapperDivComponent(t){return t===!0?ResponsiveDiv:NonResponsiveDiv}var RechartsWrapper=reactExports.forwardRef((t,e)=>{var{children:n,className:i,height:l,onClick:d,onContextMenu:f,onDoubleClick:b,onMouseDown:_,onMouseEnter:v,onMouseLeave:m,onMouseMove:u,onMouseUp:o,onTouchEnd:h,onTouchMove:w,onTouchStart:E,style:T,width:O,responsive:M,dispatchTouchEvents:I=!0}=t,R=reactExports.useRef(null),D=useAppDispatch(),[N,L]=reactExports.useState(null),[B,$]=reactExports.useState(null),V=useReportScale(),G=useResponsiveContainerContext(),X=(G==null?void 0:G.width)>0?G.width:O,ee=(G==null?void 0:G.height)>0?G.height:l,Q=reactExports.useCallback(de=>{V(de),typeof e=="function"&&e(de),L(de),$(de),de!=null&&(R.current=de)},[V,e,L,$]),Y=reactExports.useCallback(de=>{D(mouseClickAction(de)),D(externalEventAction({handler:d,reactEvent:de}))},[D,d]),U=reactExports.useCallback(de=>{D(mouseMoveAction(de)),D(externalEventAction({handler:v,reactEvent:de}))},[D,v]),q=reactExports.useCallback(de=>{D(mouseLeaveChart()),D(externalEventAction({handler:m,reactEvent:de}))},[D,m]),le=reactExports.useCallback(de=>{D(mouseMoveAction(de)),D(externalEventAction({handler:u,reactEvent:de}))},[D,u]),ie=reactExports.useCallback(()=>{D(focusAction())},[D]),Ee=reactExports.useCallback(de=>{D(keyDownAction(de.key))},[D]),Z=reactExports.useCallback(de=>{D(externalEventAction({handler:f,reactEvent:de}))},[D,f]),ue=reactExports.useCallback(de=>{D(externalEventAction({handler:b,reactEvent:de}))},[D,b]),Ae=reactExports.useCallback(de=>{D(externalEventAction({handler:_,reactEvent:de}))},[D,_]),Ce=reactExports.useCallback(de=>{D(externalEventAction({handler:o,reactEvent:de}))},[D,o]),ke=reactExports.useCallback(de=>{D(externalEventAction({handler:E,reactEvent:de}))},[D,E]),Ne=reactExports.useCallback(de=>{I&&D(touchEventAction(de)),D(externalEventAction({handler:w,reactEvent:de}))},[D,I,w]),Le=reactExports.useCallback(de=>{D(externalEventAction({handler:h,reactEvent:de}))},[D,h]),Pe=getWrapperDivComponent(M);return reactExports.createElement(TooltipPortalContext.Provider,{value:N},reactExports.createElement(LegendPortalContext.Provider,{value:B},reactExports.createElement(Pe,{width:X??(T==null?void 0:T.width),height:ee??(T==null?void 0:T.height),className:clsx("recharts-wrapper",i),style:_objectSpread({position:"relative",cursor:"default",width:X,height:ee},T),onClick:Y,onContextMenu:Z,onDoubleClick:ue,onFocus:ie,onKeyDown:Ee,onMouseDown:Ae,onMouseEnter:U,onMouseLeave:q,onMouseMove:le,onMouseUp:Ce,onTouchEnd:Le,onTouchMove:Ne,onTouchStart:ke,ref:Q},reactExports.createElement(EventSynchronizer,null),n)))}),_excluded$1=["width","height","responsive","children","className","style","compact","title","desc"];function _objectWithoutProperties$1(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose$1(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose$1(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var CategoricalChart=reactExports.forwardRef((t,e)=>{var{width:n,height:i,responsive:l,children:d,className:f,style:b,compact:_,title:v,desc:m}=t,u=_objectWithoutProperties$1(t,_excluded$1),o=svgPropertiesNoEvents(u);return _?reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:n,height:i}),reactExports.createElement(RootSurface,{otherAttributes:o,title:v,desc:m},d)):reactExports.createElement(RechartsWrapper,{className:f,style:b,width:n,height:i,responsive:l??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},reactExports.createElement(RootSurface,{otherAttributes:o,title:v,desc:m,ref:e},reactExports.createElement(ClipPathProvider,null,d)))});function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$1.apply(null,arguments)}var defaultMargin$1={top:5,right:5,bottom:5,left:5},defaultProps$3={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin$1,reverseStackOrder:!1,syncMethod:"index",responsive:!1},CartesianChart=reactExports.forwardRef(function t(e,n){var i,l=resolveDefaultProps(e.categoricalChartProps,defaultProps$3),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:b,tooltipPayloadSearcher:_,categoricalChartProps:v}=e,m={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:b,tooltipPayloadSearcher:_,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:m},reduxStoreName:(i=v.id)!==null&&i!==void 0?i:d},reactExports.createElement(ChartDataContextProvider,{chartData:v.data}),reactExports.createElement(ReportMainChartProps,{layout:l.layout,margin:l.margin}),reactExports.createElement(ReportChartProps,{baseValue:l.baseValue,accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className}),reactExports.createElement(CategoricalChart,_extends$1({},l,{ref:n})))}),allowedTooltipTypes$5=["axis"],LineChart=reactExports.forwardRef((t,e)=>reactExports.createElement(CartesianChart,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$5,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:t,ref:e})),allowedTooltipTypes$4=["axis","item"],BarChart=reactExports.forwardRef((t,e)=>reactExports.createElement(CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$4,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:t,ref:e}));function ReportPolarOptions(t){var e=useAppDispatch();return reactExports.useEffect(()=>{e(updatePolarOptions(t))},[e,t]),null}var _excluded=["layout"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends.apply(null,arguments)}function _objectWithoutProperties(t,e){if(t==null)return{};var n,i,l=_objectWithoutPropertiesLoose(t,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(i=0;i<d.length;i++)n=d[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}function _objectWithoutPropertiesLoose(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var defaultMargin={top:5,right:5,bottom:5,left:5},defaultProps$2={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},PolarChart=reactExports.forwardRef(function t(e,n){var i,l=resolveDefaultProps(e.categoricalChartProps,defaultProps$2),{layout:d}=l,f=_objectWithoutProperties(l,_excluded),{chartName:b,defaultTooltipEventType:_,validateTooltipEventTypes:v,tooltipPayloadSearcher:m}=e,u={chartName:b,defaultTooltipEventType:_,validateTooltipEventTypes:v,tooltipPayloadSearcher:m,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:u},reduxStoreName:(i=l.id)!==null&&i!==void 0?i:b},reactExports.createElement(ChartDataContextProvider,{chartData:l.data}),reactExports.createElement(ReportMainChartProps,{layout:d,margin:l.margin}),reactExports.createElement(ReportChartProps,{baseValue:void 0,accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className}),reactExports.createElement(ReportPolarOptions,{cx:l.cx,cy:l.cy,startAngle:l.startAngle,endAngle:l.endAngle,innerRadius:l.innerRadius,outerRadius:l.outerRadius}),reactExports.createElement(CategoricalChart,_extends({},f,{ref:n})))}),allowedTooltipTypes$3=["item"],defaultProps$1={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},PieChart=reactExports.forwardRef((t,e)=>{var n=resolveDefaultProps(t,defaultProps$1);return reactExports.createElement(PolarChart,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:allowedTooltipTypes$3,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:n,ref:e})}),allowedTooltipTypes$2=["axis"],defaultProps={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},RadarChart=reactExports.forwardRef((t,e)=>{var n=resolveDefaultProps(t,defaultProps);return reactExports.createElement(PolarChart,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$2,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:n,ref:e})}),allowedTooltipTypes$1=["axis"],AreaChart=reactExports.forwardRef((t,e)=>reactExports.createElement(CartesianChart,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$1,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:t,ref:e})),allowedTooltipTypes=["axis"],ComposedChart=reactExports.forwardRef((t,e)=>reactExports.createElement(CartesianChart,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:t,ref:e}));const AISewersDataViz=()=>{const[t,e]=reactExports.useState("cost"),n=[{name:`DC Water
Pipe Sleuth`,before:8,after:2.5,reduction:70},{name:`Hampton VA
GraniteNet`,before:100,after:60,reduction:40},{name:`SewerAI
Cloud Ops`,before:100,after:25,reduction:75},{name:`Industry Avg
Maintenance`,before:100,after:70,reduction:30}],i=[{method:"Manual Analysis",speed:1,label:"1x Baseline"},{method:"AI with AutoCode",speed:3,label:"3x Faster"},{method:"Pipe Sleuth",speed:10,label:"10x Faster"},{method:"SewerAI Detection",speed:6,label:"6x Faster"}],l=[{category:"Manual Inspection",accuracy:67,defectsFound:68},{category:"AI AutoCode",accuracy:97,defectsFound:90},{category:"VAPAR AI",accuracy:95,defectsFound:85},{category:"Pipe Sleuth",accuracy:93,defectsFound:88}],d=[{year:"Year 1",traditional:100,ai:95,savings:5},{year:"Year 2",traditional:200,ai:160,savings:40},{year:"Year 3",traditional:300,ai:210,savings:90},{year:"Year 4",traditional:400,ai:250,savings:150},{year:"Year 5",traditional:500,ai:280,savings:220}],f=[{metric:"Skill Obsolescence",value:80},{metric:"AI Training Demand",value:83},{metric:"Job Satisfaction",value:75},{metric:"Productivity Gain",value:90},{metric:"Career Advancement",value:70}],b=[{name:"Wastewater Plant",roi:24,paybackMonths:6,savings:45e3},{name:"DC Water",roi:18,paybackMonths:12,savings:25e4},{name:"Hampton VA",roi:20,paybackMonths:9,savings:15e4},{name:"PNW Utility",roi:16,paybackMonths:15,savings:1872307}],_=[{category:"Without AI",lifespan:25,label:"25 years"},{category:"With Predictive AI",lifespan:35,label:"35 years (40% increase)"}],v=[{technology:"SewerAI",accuracy:97,speed:90,cost:85,integration:95,compliance:90},{technology:"PipeSleuth",accuracy:93,speed:95,cost:75,integration:88,compliance:98},{technology:"VAPAR",accuracy:95,speed:80,cost:80,integration:85,compliance:92},{technology:"GraniteNet",accuracy:90,speed:75,cost:90,integration:92,compliance:95}],m=w=>{const E=Math.round(w/5)*5;return`w-pct-${Math.max(0,Math.min(100,E))}`},u=[{name:"Traditional",planned:20,unplanned:80,total:100},{name:"AI Predictive",planned:60,unplanned:20,total:80}],o=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"],h=[{id:"cost",label:"Cost Analysis"},{id:"performance",label:"Performance Metrics"},{id:"workforce",label:"Workforce Impact"},{id:"roi",label:"ROI & Savings"},{id:"technology",label:"Technology Comparison"}];return jsxRuntimeExports.jsx("div",{className:"h-full w-full bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 p-4 overflow-auto",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl font-bold text-white mb-4",children:"AI Sewer Infrastructure Analytics"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-blue-200",children:"Evidence-Based Data Visualization from Industry Case Studies"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:h.map(w=>jsxRuntimeExports.jsx("button",{onClick:()=>e(w.id),className:`px-6 py-3 rounded-lg font-semibold transition-all ${t===w.id?"bg-blue-500 text-white shadow-lg scale-105":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:w.label},w.id))}),t==="cost"&&jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 shadow-2xl",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Cost Reduction Comparison"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:400,children:jsxRuntimeExports.jsxs(BarChart,{data:n,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#374151"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name",stroke:"#e5e7eb"}),jsxRuntimeExports.jsx(YAxis,{stroke:"#e5e7eb",label:{value:"Cost Index",angle:-90,position:"insideLeft",fill:"#e5e7eb"}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"#fff"}}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"before",fill:"#ef4444",name:"Before AI"}),jsxRuntimeExports.jsx(Bar,{dataKey:"after",fill:"#10b981",name:"After AI"})]})}),jsxRuntimeExports.jsx("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:n.map((w,E)=>jsxRuntimeExports.jsxs("div",{className:"bg-green-500/20 rounded-lg p-4 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-white font-semibold",children:w.name.replace(`
`," ")}),jsxRuntimeExports.jsxs("p",{className:"text-3xl font-bold text-green-400",children:[w.reduction,"%"]}),jsxRuntimeExports.jsx("p",{className:"text-green-200 text-sm",children:"Cost Reduction"})]},E))})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 shadow-2xl",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Cumulative Financial Impact (5-Year Projection)"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:400,children:jsxRuntimeExports.jsxs(LineChart,{data:d,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#374151"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"year",stroke:"#e5e7eb"}),jsxRuntimeExports.jsx(YAxis,{stroke:"#e5e7eb",label:{value:"Cost ($1000s)",angle:-90,position:"insideLeft",fill:"#e5e7eb"}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"#fff"}}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"traditional",stroke:"#ef4444",strokeWidth:3,name:"Traditional Costs"}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"ai",stroke:"#10b981",strokeWidth:3,name:"AI-Enhanced Costs"}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"savings",stroke:"#f59e0b",strokeWidth:3,strokeDasharray:"5 5",name:"Cumulative Savings"})]})}),jsxRuntimeExports.jsx("div",{className:"mt-4 bg-amber-500/20 rounded-lg p-4",children:jsxRuntimeExports.jsxs("p",{className:"text-amber-200 text-center",children:[jsxRuntimeExports.jsx("span",{className:"text-3xl font-bold text-amber-400",children:"$220K+"})," projected savings by Year 5"]})})]})]}),t==="performance"&&jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 shadow-2xl",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Processing Speed Comparison"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:400,children:jsxRuntimeExports.jsxs(BarChart,{data:i,layout:"vertical",children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#374151"}),jsxRuntimeExports.jsx(XAxis,{type:"number",stroke:"#e5e7eb",label:{value:"Speed Multiplier",position:"insideBottom",fill:"#e5e7eb"}}),jsxRuntimeExports.jsx(YAxis,{dataKey:"method",type:"category",stroke:"#e5e7eb",width:150}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"#fff"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"speed",fill:"#3b82f6",label:{position:"right",fill:"#fff"}})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 shadow-2xl",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Accuracy & Defect Detection Rates"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:400,children:jsxRuntimeExports.jsxs(BarChart,{data:l,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#374151"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"category",stroke:"#e5e7eb"}),jsxRuntimeExports.jsx(YAxis,{stroke:"#e5e7eb",label:{value:"Percentage (%)",angle:-90,position:"insideLeft",fill:"#e5e7eb"}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"#fff"}}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"accuracy",fill:"#8b5cf6",name:"Accuracy %"}),jsxRuntimeExports.jsx(Bar,{dataKey:"defectsFound",fill:"#ec4899",name:"Defects Found %"})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-purple-500/20 rounded-lg p-4 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-white font-semibold",children:"AI AutoCode Accuracy"}),jsxRuntimeExports.jsx("p",{className:"text-4xl font-bold text-purple-400",children:"97%"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-pink-500/20 rounded-lg p-4 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-white font-semibold",children:"Additional Defects Found"}),jsxRuntimeExports.jsx("p",{className:"text-4xl font-bold text-pink-400",children:"+33%"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 shadow-2xl",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Asset Lifespan Extension"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:400,children:jsxRuntimeExports.jsxs(BarChart,{data:_,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#374151"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"category",stroke:"#e5e7eb"}),jsxRuntimeExports.jsx(YAxis,{stroke:"#e5e7eb",label:{value:"Years",angle:-90,position:"insideLeft",fill:"#e5e7eb"}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"#fff"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"lifespan",fill:"#10b981",label:{position:"top",fill:"#fff"}})]})}),jsxRuntimeExports.jsx("div",{className:"mt-4 bg-green-500/20 rounded-lg p-4 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-green-200",children:[jsxRuntimeExports.jsx("span",{className:"text-4xl font-bold text-green-400",children:"40%"})," increase in asset lifespan with AI predictive maintenance"]})})]})]}),t==="workforce"&&jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 shadow-2xl",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Workforce Transformation Metrics"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:500,children:jsxRuntimeExports.jsxs(RadarChart,{data:f,children:[jsxRuntimeExports.jsx(PolarGrid,{stroke:"#374151"}),jsxRuntimeExports.jsx(PolarAngleAxis,{dataKey:"metric",stroke:"#e5e7eb"}),jsxRuntimeExports.jsx(PolarRadiusAxis,{stroke:"#e5e7eb"}),jsxRuntimeExports.jsx(Radar,{name:"Impact Level",dataKey:"value",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"#fff"}})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/20 backdrop-blur-md rounded-xl p-6 shadow-2xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-blue-200 mb-2",children:"AI Skills Demand"}),jsxRuntimeExports.jsx("p",{className:"text-5xl font-bold text-blue-400",children:"83%"}),jsxRuntimeExports.jsx("p",{className:"text-blue-200 mt-2",children:"of workers say AI skills impact employability"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-green-600/20 backdrop-blur-md rounded-xl p-6 shadow-2xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-green-200 mb-2",children:"Productivity Gain"}),jsxRuntimeExports.jsx("p",{className:"text-5xl font-bold text-green-400",children:"125K"}),jsxRuntimeExports.jsx("p",{className:"text-green-200 mt-2",children:"hours of utility capacity unlocked (PNW case)"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/20 backdrop-blur-md rounded-xl p-6 shadow-2xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-purple-200 mb-2",children:"Safety Improvement"}),jsxRuntimeExports.jsx("p",{className:"text-5xl font-bold text-purple-400",children:"75%"}),jsxRuntimeExports.jsx("p",{className:"text-purple-200 mt-2",children:"improvement in workplace safety"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 shadow-2xl",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Downtime Reduction"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:400,children:jsxRuntimeExports.jsxs(BarChart,{data:u,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#374151"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name",stroke:"#e5e7eb"}),jsxRuntimeExports.jsx(YAxis,{stroke:"#e5e7eb",label:{value:"Days per Year",angle:-90,position:"insideLeft",fill:"#e5e7eb"}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"#fff"}}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"planned",stackId:"a",fill:"#10b981",name:"Planned Maintenance"}),jsxRuntimeExports.jsx(Bar,{dataKey:"unplanned",stackId:"a",fill:"#ef4444",name:"Unplanned Downtime"})]})}),jsxRuntimeExports.jsx("div",{className:"mt-4 bg-red-500/20 rounded-lg p-4 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-red-200",children:[jsxRuntimeExports.jsx("span",{className:"text-4xl font-bold text-red-400",children:"30-50%"})," less unplanned downtime with AI predictive maintenance"]})})]})]}),t==="roi"&&jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 shadow-2xl",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"ROI Timeline Across Case Studies"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:400,children:jsxRuntimeExports.jsxs(BarChart,{data:b,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#374151"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name",stroke:"#e5e7eb"}),jsxRuntimeExports.jsx(YAxis,{stroke:"#e5e7eb",label:{value:"Months to ROI",angle:-90,position:"insideLeft",fill:"#e5e7eb"}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"#fff"},formatter:(w,E)=>E==="Payback Period"?[`${w} months`,E]:[w,E]}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"paybackMonths",fill:"#f59e0b",name:"Payback Period"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 shadow-2xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Total Savings by Case Study"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:b,dataKey:"savings",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:w=>{var T;const E=((T=w==null?void 0:w.payload)==null?void 0:T.savings)??(w==null?void 0:w.value)??0;return`$${(Number(E)/1e3).toFixed(0)}K`},children:b.map((w,E)=>jsxRuntimeExports.jsx(Cell,{fill:o[E%o.length]},`cell-${E}`))}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"#fff"},formatter:w=>[`$${w.toLocaleString()}`,"Savings"]})]})})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:b.map((w,E)=>jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 backdrop-blur-md rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-semibold mb-2",children:w.name}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-blue-200 text-sm",children:"Payback Period"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-blue-400",children:[w.paybackMonths," mo"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-purple-200 text-sm",children:"Total Savings"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-purple-400",children:["$",(w.savings/1e3).toFixed(0),"K"]})]})]})]},E))})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-emerald-600/20 backdrop-blur-md rounded-xl p-6 shadow-2xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-green-200 mb-2",children:"Maintenance Cost Reduction"}),jsxRuntimeExports.jsx("p",{className:"text-5xl font-bold text-green-400",children:"18-25%"}),jsxRuntimeExports.jsx("p",{className:"text-green-200 mt-2",children:"Lower maintenance costs with predictive AI"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-600/20 backdrop-blur-md rounded-xl p-6 shadow-2xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-blue-200 mb-2",children:"Global GDP Impact"}),jsxRuntimeExports.jsx("p",{className:"text-5xl font-bold text-blue-400",children:"$15.7T"}),jsxRuntimeExports.jsx("p",{className:"text-blue-200 mt-2",children:"AI contribution to global GDP by 2030"})]})]})]}),t==="technology"&&jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 shadow-2xl",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Technology Platform Comparison"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:500,children:jsxRuntimeExports.jsxs(RadarChart,{data:v[0]?[{metric:"Accuracy",...Object.fromEntries(v.map(w=>[w.technology,w.accuracy]))},{metric:"Speed",...Object.fromEntries(v.map(w=>[w.technology,w.speed]))},{metric:"Cost Efficiency",...Object.fromEntries(v.map(w=>[w.technology,w.cost]))},{metric:"Integration",...Object.fromEntries(v.map(w=>[w.technology,w.integration]))},{metric:"Compliance",...Object.fromEntries(v.map(w=>[w.technology,w.compliance]))}]:[],children:[jsxRuntimeExports.jsx(PolarGrid,{stroke:"#374151"}),jsxRuntimeExports.jsx(PolarAngleAxis,{dataKey:"metric",stroke:"#e5e7eb"}),jsxRuntimeExports.jsx(PolarRadiusAxis,{stroke:"#e5e7eb",domain:[0,100]}),jsxRuntimeExports.jsx(Radar,{name:"SewerAI",dataKey:"SewerAI",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3}),jsxRuntimeExports.jsx(Radar,{name:"PipeSleuth",dataKey:"PipeSleuth",stroke:"#10b981",fill:"#10b981",fillOpacity:.3}),jsxRuntimeExports.jsx(Radar,{name:"VAPAR",dataKey:"VAPAR",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.3}),jsxRuntimeExports.jsx(Radar,{name:"GraniteNet",dataKey:"GraniteNet",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.3}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"#fff"}})]})})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:v.map((w,E)=>jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 shadow-2xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:w.technology}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm",children:"Accuracy"}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:`bg-blue-500 h-2 rounded-full ${m(w.accuracy)}`})}),jsxRuntimeExports.jsxs("p",{className:"text-blue-400 font-bold text-right",children:[w.accuracy,"%"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm",children:"Speed"}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:`bg-green-500 h-2 rounded-full ${m(w.speed)}`})}),jsxRuntimeExports.jsxs("p",{className:"text-green-400 font-bold text-right",children:[w.speed,"%"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm",children:"Cost Efficiency"}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:`bg-amber-500 h-2 rounded-full ${m(w.cost)}`})}),jsxRuntimeExports.jsxs("p",{className:"text-amber-400 font-bold text-right",children:[w.cost,"%"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm",children:"Compliance"}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:`bg-purple-500 h-2 rounded-full ${m(w.compliance)}`})}),jsxRuntimeExports.jsxs("p",{className:"text-purple-400 font-bold text-right",children:[w.compliance,"%"]})]})]})]},E))}),jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 shadow-2xl",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Key Technology Features"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-blue-500/20 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-blue-300 font-bold mb-3",children:"SewerAI AutoCode"}),jsxRuntimeExports.jsxs("ul",{className:"text-blue-100 space-y-2 text-sm",children:[jsxRuntimeExports.jsx("li",{children:" 97% defect detection accuracy"}),jsxRuntimeExports.jsx("li",{children:" Tens of thousands linear ft/hour processing"}),jsxRuntimeExports.jsx("li",{children:" 3D infrastructure model generation"}),jsxRuntimeExports.jsx("li",{children:" API-enabled workflow automation"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-green-500/20 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-green-300 font-bold mb-3",children:"Wipro Pipe Sleuth"}),jsxRuntimeExports.jsxs("ul",{className:"text-green-100 space-y-2 text-sm",children:[jsxRuntimeExports.jsx("li",{children:" Deep neural networks"}),jsxRuntimeExports.jsx("li",{children:" 50+ anomaly types identified"}),jsxRuntimeExports.jsx("li",{children:" NASSCO PACP compliance"}),jsxRuntimeExports.jsx("li",{children:" 10x faster video processing"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-amber-500/20 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-amber-300 font-bold mb-3",children:"VAPAR Solutions"}),jsxRuntimeExports.jsxs("ul",{className:"text-amber-100 space-y-2 text-sm",children:[jsxRuntimeExports.jsx("li",{children:" 3M+ images processed"}),jsxRuntimeExports.jsx("li",{children:" Cloud-based platform"}),jsxRuntimeExports.jsx("li",{children:" 900 inspections in under 3 days"}),jsxRuntimeExports.jsx("li",{children:" Real-time defect detection"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-purple-500/20 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-purple-300 font-bold mb-3",children:"CUES GraniteNet"}),jsxRuntimeExports.jsxs("ul",{className:"text-purple-100 space-y-2 text-sm",children:[jsxRuntimeExports.jsx("li",{children:" Automated defect coding service"}),jsxRuntimeExports.jsx("li",{children:" Wireless field-to-cloud transmission"}),jsxRuntimeExports.jsx("li",{children:" Actionable timeline generation"}),jsxRuntimeExports.jsx("li",{children:" 40% consultant cost reduction"})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-red-500/20 to-orange-500/20 backdrop-blur-md rounded-xl p-6 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-red-200 text-sm font-semibold",children:"Infrastructure Failure Reduction"}),jsxRuntimeExports.jsx("p",{className:"text-5xl font-bold text-red-400 my-2",children:"73%"}),jsxRuntimeExports.jsx("p",{className:"text-red-200 text-xs",children:"with continuous AI monitoring"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 backdrop-blur-md rounded-xl p-6 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-blue-200 text-sm font-semibold",children:"Water Loss Reduction"}),jsxRuntimeExports.jsx("p",{className:"text-5xl font-bold text-blue-400 my-2",children:"25-30%"}),jsxRuntimeExports.jsx("p",{className:"text-blue-200 text-xs",children:"through predictive analytics"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-emerald-500/20 backdrop-blur-md rounded-xl p-6 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-green-200 text-sm font-semibold",children:"Equipment Life Extension"}),jsxRuntimeExports.jsx("p",{className:"text-5xl font-bold text-green-400 my-2",children:"40%"}),jsxRuntimeExports.jsx("p",{className:"text-green-200 text-xs",children:"via real-time sensor data & ML"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 backdrop-blur-md rounded-xl p-6 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-purple-200 text-sm font-semibold",children:"Global Maintenance Savings"}),jsxRuntimeExports.jsx("p",{className:"text-5xl font-bold text-purple-400 my-2",children:"$300B"}),jsxRuntimeExports.jsx("p",{className:"text-purple-200 text-xs",children:"projected by 2030"})]})]})]})})},COLORS={usRed:"#B22234",usBlue:"#3C3B6E",usWhite:"#FFFFFF",visuDark:"#1a1a2e",success:"#22c55e",gray:"#94a3b8",activeBlack:"#000000"},useChartHighlight=(t,e)=>{const[n,i]=reactExports.useState(null),[l,d]=reactExports.useState(null);return reactExports.useEffect(()=>{if(!e){i(null);return}let f=0;i(0);const b=setInterval(()=>{l===null&&(f=(f+1)%t,i(f))},2500);return()=>clearInterval(b)},[e,t,l]),{activeIndex:l!==null?l:n,setHoverIndex:d}},EvidenceTooltip=({active:t,payload:e,label:n})=>{if(t&&e&&e.length){const i=e[0].payload;return jsxRuntimeExports.jsxs("div",{className:"bg-black border-2 border-white p-3 rounded shadow-2xl max-w-[250px] z-50 backdrop-blur-md opacity-100",children:[jsxRuntimeExports.jsx("p",{className:"text-white font-bold text-xs mb-1 border-b border-slate-800 pb-1",children:n||i.name||i.year}),e.map((l,d)=>jsxRuntimeExports.jsxs("p",{className:"text-xs font-mono my-1 text-white",children:[l.name,": ",jsxRuntimeExports.jsx("span",{className:"font-bold text-green-400",children:l.value})]},d)),i.evidenceRef&&jsxRuntimeExports.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-800 animate-[pulse_2s_infinite]",children:[jsxRuntimeExports.jsx("span",{className:"text-[9px] text-slate-400 uppercase tracking-wider block mb-0.5",children:"Verified Source:"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-blue-300 font-mono truncate block font-bold underline",children:i.evidenceRef})]})]})]})}return null},AcquisitionsMap=({data:t=[]})=>{(t||[]).find(n=>n&&n.id==="visu");const e=({src:n,alt:i="",containerClass:l="",fit:d="cover",inset:f=!1})=>d==="cover"?jsxRuntimeExports.jsx("div",{className:`flex-1 relative w-full rounded-md overflow-hidden shadow-lg border border-slate-800 bg-slate-900 ${l}`,children:jsxRuntimeExports.jsx("img",{src:n,alt:i,className:"absolute inset-0 w-full h-full object-cover object-center block"})}):jsxRuntimeExports.jsx("div",{className:`flex-1 relative w-full rounded-md overflow-hidden shadow-lg border border-slate-800 bg-slate-900 ${l}`,children:jsxRuntimeExports.jsx("div",{className:`w-full h-full flex items-center justify-center ${f?"p-3":""}`,children:jsxRuntimeExports.jsx("img",{src:n,alt:i,className:"max-w-full max-h-full object-contain block"})})});return jsxRuntimeExports.jsxs("div",{className:"h-[900px] w-full relative bg-slate-900/60 rounded-xl border border-blue-900 overflow-hidden shadow-2xl backdrop-blur-md p-4 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"pb-2 mb-2 text-center border-b border-blue-900 bg-slate-900/80",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-extrabold uppercase tracking-tight text-white drop-shadow-lg",children:"Expanded Footprint"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-300 mt-1",children:"Visu-Sewer  Expanded Footprint"}),jsxRuntimeExports.jsx("div",{className:"h-1 w-36 mx-auto bg-gradient-to-r from-blue-400 via-cyan-400 to-emerald-400 rounded-full mt-3 opacity-90"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 w-full flex flex-col gap-4 overflow-y-auto max-h-[800px]",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 w-full flex items-stretch",children:jsxRuntimeExports.jsx(e,{src:"/visusewerstory/images/orgchart.png",alt:"Organizational Chart",fit:"contain",containerClass:"bg-slate-800/10"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 w-full flex items-stretch",children:jsxRuntimeExports.jsx(e,{src:"/visusewerstory/images/geographic-footprint.png",alt:"Geographic Footprint",fit:"contain",containerClass:"bg-slate-800/20"})})]})]})},CctvChart=({data:t,isSpeaking:e=!1})=>{const{activeIndex:n,setHoverIndex:i}=useChartHighlight(t.length,e);return jsxRuntimeExports.jsxs("div",{className:"h-full w-full p-4 bg-slate-900/60 rounded-xl border border-blue-900/50 flex flex-col backdrop-blur-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-end mb-4 border-b border-slate-700 pb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-slate-200 text-sm font-semibold uppercase tracking-wider",children:"Inspection Efficiency"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-green-400 font-mono",children:"AI ACCELERATION ACTIVE"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 w-full min-h-[250px]",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:t,layout:"vertical",margin:{top:5,right:30,left:40,bottom:5},onMouseMove:l=>{const d=typeof l.activeTooltipIndex=="number"?l.activeTooltipIndex:null;d!==null&&i(d)},onMouseLeave:()=>i(null),children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#334155",horizontal:!0,vertical:!0}),jsxRuntimeExports.jsx(XAxis,{type:"number",stroke:"#94a3b8",tick:{fontSize:10},label:{value:"Minutes per Segment",position:"insideBottom",offset:-5,fill:"#94a3b8",fontSize:10}}),jsxRuntimeExports.jsx(YAxis,{dataKey:"segmentId",type:"category",stroke:"#94a3b8",width:40,tick:{fontSize:10}}),jsxRuntimeExports.jsx(Tooltip,{content:jsxRuntimeExports.jsx(EvidenceTooltip,{}),cursor:{fill:"rgba(255,255,255,0.1)"}}),jsxRuntimeExports.jsx(Legend,{wrapperStyle:{fontSize:"10px",paddingTop:"10px"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"reviewTimeMinutes",name:"Review Time (min)",radius:[0,4,4,0],animationDuration:2e3,animationEasing:"ease-out",children:t.map((l,d)=>jsxRuntimeExports.jsx(Cell,{fill:d===n?COLORS.activeBlack:l.method==="AI-Assisted"?COLORS.success:COLORS.usBlue,stroke:d===n?"white":"none",strokeWidth:d===n?2:0},`cell-${d}`))})]})})})]})},ProjectCostsChart=({data:t,isSpeaking:e=!1})=>{const{activeIndex:n,setHoverIndex:i}=useChartHighlight(t.length,e);return jsxRuntimeExports.jsxs("div",{className:"h-full w-full p-4 bg-slate-900/60 rounded-xl border border-blue-900/50 flex flex-col backdrop-blur-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-end mb-4 border-b border-slate-700 pb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-slate-200 text-sm font-semibold uppercase tracking-wider",children:"Trenchless Economics"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-red-400 font-mono",children:"DISRUPTION MINIMIZED"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 w-full min-h-[250px]",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(ComposedChart,{data:t,margin:{top:10,right:10,left:0,bottom:0},onMouseMove:l=>{const d=typeof l.activeTooltipIndex=="number"?l.activeTooltipIndex:null;d!==null&&i(d)},onMouseLeave:()=>i(null),children:[jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("linearGradient",{id:"barGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:COLORS.usBlue,stopOpacity:1}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:COLORS.usBlue,stopOpacity:.6})]})}),jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),jsxRuntimeExports.jsx(XAxis,{dataKey:"method",stroke:"#94a3b8",tick:{fontSize:10}}),jsxRuntimeExports.jsx(YAxis,{yAxisId:"left",orientation:"left",stroke:"#94a3b8",width:50,tick:{fontSize:10},label:{value:"Cost ($)",angle:-90,position:"insideLeft",fill:"#94a3b8",fontSize:10}}),jsxRuntimeExports.jsx(YAxis,{yAxisId:"right",orientation:"right",stroke:"#B22234",width:40,tick:{fontSize:10},label:{value:"Days",angle:90,position:"insideRight",fill:"#B22234",fontSize:10}}),jsxRuntimeExports.jsx(Tooltip,{content:jsxRuntimeExports.jsx(EvidenceTooltip,{})}),jsxRuntimeExports.jsx(Legend,{wrapperStyle:{fontSize:"10px"}}),jsxRuntimeExports.jsx(Bar,{yAxisId:"left",dataKey:"actualAmount",name:"Actual Cost ($)",barSize:60,radius:[4,4,0,0],animationDuration:2e3,animationBegin:0,children:t.map((l,d)=>jsxRuntimeExports.jsx(Cell,{fill:d===n?COLORS.activeBlack:"url(#barGrad)",stroke:d===n?"white":"none",strokeWidth:d===n?2:0},`cell-${d}`))}),jsxRuntimeExports.jsx(Line,{yAxisId:"right",type:"monotone",dataKey:"disruptionDays",name:"Disruption (Days)",stroke:COLORS.usRed,strokeWidth:3,dot:l=>{const d=l.index===n;return jsxRuntimeExports.jsx("circle",{cx:l.cx,cy:l.cy,r:d?8:4,fill:d?"black":COLORS.usRed,stroke:d?"white":"none",strokeWidth:2})},animationDuration:2500,animationBegin:500})]})})})]})},ScheduleChart=({data:t,isSpeaking:e=!1})=>{const n=t.reduce((d,f)=>{let b=d.find(_=>_.year===f.year);return b||(b={year:f.year,midwest:0,midAtlantic:0,evidenceRef:f.evidenceRef},d.push(b)),f.region==="Midwest"&&(b.midwest=f.crewCount),f.region==="Mid-Atlantic"&&(b.midAtlantic=f.crewCount),d},[]).sort((d,f)=>parseInt(d.year)-parseInt(f.year)),{activeIndex:i,setHoverIndex:l}=useChartHighlight(n.length,e);return jsxRuntimeExports.jsxs("div",{className:"h-full w-full p-4 bg-slate-900/60 rounded-xl border border-blue-900/50 flex flex-col backdrop-blur-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-end mb-4 border-b border-slate-700 pb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-slate-200 text-sm font-semibold uppercase tracking-wider",children:"Velocity: Crew Capacity (2020-2050)"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-blue-400 font-mono",children:"ALGORITHMIC GROWTH"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 w-full min-h-[250px]",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(AreaChart,{data:n,margin:{top:10,right:10,left:0,bottom:0},onMouseMove:d=>{const f=typeof d.activeTooltipIndex=="number"?d.activeTooltipIndex:null;f!==null&&l(f)},onMouseLeave:()=>l(null),children:[jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("linearGradient",{id:"colorMw",x1:"0",y1:"0",x2:"0",y2:"1",children:[jsxRuntimeExports.jsx("stop",{offset:"5%",stopColor:COLORS.usBlue,stopOpacity:.8}),jsxRuntimeExports.jsx("stop",{offset:"95%",stopColor:COLORS.usBlue,stopOpacity:.1})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"colorMa",x1:"0",y1:"0",x2:"0",y2:"1",children:[jsxRuntimeExports.jsx("stop",{offset:"5%",stopColor:COLORS.usRed,stopOpacity:.8}),jsxRuntimeExports.jsx("stop",{offset:"95%",stopColor:COLORS.usRed,stopOpacity:.1})]})]}),jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),jsxRuntimeExports.jsx(XAxis,{dataKey:"year",stroke:"#94a3b8",tick:{fontSize:10},interval:4}),jsxRuntimeExports.jsx(YAxis,{stroke:"#94a3b8",label:{value:"Active Crews",angle:-90,position:"insideLeft",fill:"#94a3b8",fontSize:10}}),jsxRuntimeExports.jsx(Tooltip,{content:jsxRuntimeExports.jsx(EvidenceTooltip,{})}),jsxRuntimeExports.jsx(Legend,{wrapperStyle:{fontSize:"10px"}}),jsxRuntimeExports.jsx(Area,{type:"monotone",dataKey:"midwest",name:"Midwest Capacity",stackId:"1",stroke:COLORS.usBlue,fill:"url(#colorMw)",animationDuration:3e3,animationEasing:"ease-in-out",activeDot:d=>d.index===i?jsxRuntimeExports.jsx("circle",{cx:d.cx,cy:d.cy,r:6,fill:"black",stroke:"white",strokeWidth:2}):jsxRuntimeExports.jsx("circle",{cx:d.cx,cy:d.cy,r:0})}),jsxRuntimeExports.jsx(Area,{type:"monotone",dataKey:"midAtlantic",name:"Mid-Atlantic Capacity",stackId:"1",stroke:COLORS.usRed,fill:"url(#colorMa)",animationDuration:3e3,animationEasing:"ease-in-out",animationBegin:500,activeDot:d=>d.index===i?jsxRuntimeExports.jsx("circle",{cx:d.cx,cy:d.cy,r:6,fill:"black",stroke:"white",strokeWidth:2}):jsxRuntimeExports.jsx("circle",{cx:d.cx,cy:d.cy,r:0})})]})})})]})},TechStackVisual=({data:t,isSpeaking:e=!1})=>{const{activeIndex:n,setHoverIndex:i}=useChartHighlight(t.length,e);return jsxRuntimeExports.jsxs("div",{className:"h-full w-full p-4 bg-slate-900/60 rounded-xl border border-blue-900/50 flex flex-col backdrop-blur-sm",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-end mb-6 border-b border-slate-700 pb-2",children:jsxRuntimeExports.jsx("h3",{className:"text-slate-200 text-sm font-semibold uppercase tracking-wider",children:"Verified Tech Productivity"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 grid grid-cols-3 gap-4",children:t.map((l,d)=>{var f;return jsxRuntimeExports.jsxs("div",{onMouseEnter:()=>i(d),onMouseLeave:()=>i(null),className:`rounded-lg p-4 flex flex-col items-center relative group cursor-help border transition-all shadow-lg
                            ${n===d?"bg-black border-white scale-105 z-10 shadow-xl":"bg-slate-800/50 border-slate-700 hover:border-red-500"}
                        `,children:[jsxRuntimeExports.jsxs("div",{className:"absolute top-2 right-2 text-[9px] text-slate-500 group-hover:text-red-500 font-mono",children:["REF: ",(f=l.evidenceRef)==null?void 0:f.split("_").pop()]}),jsxRuntimeExports.jsx("h4",{className:`text-xs uppercase mb-4 font-bold tracking-wide ${n===d?"text-white":"text-slate-300"}`,children:l.label}),jsxRuntimeExports.jsxs("div",{className:"relative w-28 h-28 flex items-center justify-center",children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full rotate-[-90deg] filter drop-shadow-lg",children:[jsxRuntimeExports.jsx("path",{className:"text-slate-800",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3"}),jsxRuntimeExports.jsx("path",{className:d===0?"text-blue-500":d===1?"text-red-500":"text-green-500",strokeDasharray:`${l.value}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"stroke-dasharray",from:"0, 100",to:`${l.value}, 100`,dur:"2s",fill:"freeze",calcMode:"spline",keySplines:"0.4 0 0.2 1"})})]}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsxs("span",{className:`text-2xl font-bold ${n===d?"text-green-400":"text-white"}`,children:[l.value,"%"]}),jsxRuntimeExports.jsx("span",{className:"text-[8px] text-slate-400 uppercase",children:l.metric})]})]}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-[10px] text-center text-slate-400 font-mono px-2",children:l.phase}),jsxRuntimeExports.jsxs("div",{className:`absolute -bottom-12 left-1/2 -translate-x-1/2 bg-black border border-white p-2 rounded text-[10px] text-white w-40 text-center z-20 transition-opacity duration-300 ${n===d?"opacity-100":"opacity-0 pointer-events-none"}`,children:["Verified: ",l.evidenceRef]})]},d)})}),jsxRuntimeExports.jsx("div",{className:"mt-4 w-full h-1/2 flex items-center justify-center",children:jsxRuntimeExports.jsx("img",{src:"/visusewerstory/images/feild-technician-first-guy.png",alt:"Field Technician",className:"w-full h-full object-cover rounded-md shadow-lg"})})]})},EcosystemVisual=({data:t})=>{const e=t.map(d=>d.impactScore),n=e.length,i=n?Math.round(e.reduce((d,f)=>d+f,0)/n*100)/100:0;n&&[...e].sort((d,f)=>d-f),n&&e.reduce((d,f)=>d+Math.pow(f-i,2),0)/n,n&&Math.min(...e),n&&Math.max(...e),t.map(d=>({category:d.category,value:d.impactScore,logValue:Math.log10(d.impactScore+1)}));const l=Math.round(t.reduce((d,f)=>d+f.impactScore,0)/Math.max(1,t.length));return jsxRuntimeExports.jsxs("div",{className:"h-full w-full p-4 bg-slate-900/60 rounded-xl border border-blue-900/50 flex flex-col backdrop-blur-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-slate-200 text-sm font-semibold uppercase tracking-wider",children:"Visionary Ecosystem  Summary Status"}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-400",children:"Average Impact"}),jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold text-white",children:[l,"%"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-6 flex-1",children:[jsxRuntimeExports.jsx("div",{className:"w-full md:w-2/5 flex items-center justify-center bg-slate-950/40 rounded-lg border border-slate-700/60 p-4",children:jsxRuntimeExports.jsx("img",{src:"/visusewerstory/images/visu-sewer-people-matter.png",alt:"People Matter",className:"w-full h-full max-h-[420px] object-contain rounded-md shadow-lg"})}),jsxRuntimeExports.jsx("div",{className:"w-full md:w-3/5",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:t.length>0&&t.map((d,f)=>{const b=Math.max(0,Math.min(100,d.impactScore)),_=36,v=2*Math.PI*_,m=b/100*v,u=d.category==="Safety"?"text-red-500":d.category==="Robotics"?"text-blue-500":d.category==="AI"?"text-green-400":"text-white",o=d.category==="Safety"?COLORS.usRed:d.category==="Robotics"?COLORS.usBlue:COLORS.success;return jsxRuntimeExports.jsxs("div",{className:"bg-slate-900/80 p-4 rounded-lg border border-slate-700 shadow-lg flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:`text-sm uppercase font-bold mb-3 text-center ${u}`,children:d.category}),jsxRuntimeExports.jsxs("div",{className:"relative w-28 h-28 mb-3 flex items-center justify-center",children:[jsxRuntimeExports.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 100 100",className:"transform rotate-[-90deg]",children:[jsxRuntimeExports.jsx("circle",{cx:"50",cy:"50",r:_,stroke:"#111827",strokeWidth:"8",fill:"none"}),jsxRuntimeExports.jsx("circle",{cx:"50",cy:"50",r:_,stroke:o,strokeWidth:"8",strokeLinecap:"round",fill:"none",strokeDasharray:`${m} ${v-m}`})]}),jsxRuntimeExports.jsxs("div",{className:"absolute text-white font-bold text-lg transform rotate-[90deg]",children:[b,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-300 mb-2",children:"Partners"}),jsxRuntimeExports.jsx("ul",{className:"text-[12px] text-slate-400 list-disc list-inside w-full",children:d.partners.slice(0,3).map((h,w)=>jsxRuntimeExports.jsx("li",{children:h},w))})]},f)})})})]})]})},EvolutionVisual=()=>{const[t,e]=reactExports.useState(!1);return jsxRuntimeExports.jsx("div",{className:"h-full w-full bg-slate-900/60 rounded-xl border border-blue-900/50 relative overflow-hidden backdrop-blur-sm",children:t?jsxRuntimeExports.jsxs("div",{className:"h-full w-full p-8 flex flex-col animate-[fadeIn_0.8s_ease-out] relative",children:[jsxRuntimeExports.jsx("div",{className:"text-center mb-8",children:jsxRuntimeExports.jsx("h2",{className:"text-3xl text-blue-400 font-black tracking-widest drop-shadow-[0_0_15px_rgba(60,59,110,1)]",children:"DOMINANCE = SCALE  (AI)"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 bg-slate-800/60 rounded-xl border border-slate-600 p-4 flex items-center justify-center relative overflow-hidden shadow-inner",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-20 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:20px_20px]"}),jsxRuntimeExports.jsxs("div",{className:"z-10 text-center space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"text-7xl font-black text-white tracking-tighter drop-shadow-xl animate-[zoomIn_0.5s_cubic-bezier(0.25,0.46,0.45,0.94)_both]",children:"50 YEARS"}),jsxRuntimeExports.jsx("div",{className:"text-lg text-red-500 uppercase tracking-[0.5em] font-bold animate-[slideUp_0.8s_ease-out_0.3s_both]",children:"Unchallenged Territory"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[jsxRuntimeExports.jsx("div",{className:"px-4 py-1 bg-blue-900/50 rounded border border-blue-500/30 text-xs text-blue-300 animate-[fadeIn_1s_ease-out_0.6s_both]",children:"Predictive"}),jsxRuntimeExports.jsx("div",{className:"px-4 py-1 bg-blue-900/50 rounded border border-blue-500/30 text-xs text-blue-300 animate-[fadeIn_1s_ease-out_0.8s_both]",children:"Automated"}),jsxRuntimeExports.jsx("div",{className:"px-4 py-1 bg-blue-900/50 rounded border border-blue-500/30 text-xs text-blue-300 animate-[fadeIn_1s_ease-out_1s_both]",children:"Dominant"})]})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>e(!1),className:"mt-6 text-xs text-slate-500 hover:text-white self-center underline cursor-pointer z-20",children:"Reset View"})]}):jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 flex items-center justify-center flex-col gap-6",children:[jsxRuntimeExports.jsx("img",{src:"/visusewerstory/images/finished-tunnel.png",alt:"Finished Tunnel",className:"absolute inset-0 w-full h-full object-cover opacity-70"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-slate-950/50"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(59,130,246,0.12),transparent_70%)] animate-pulse"}),jsxRuntimeExports.jsxs("div",{className:"relative z-20 flex flex-col items-center gap-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl text-white font-bold uppercase tracking-widest drop-shadow-lg",children:"The Future Formula"}),jsxRuntimeExports.jsx("button",{onClick:()=>e(!0),className:"px-10 py-5 bg-red-700 hover:bg-red-600 text-white font-bold rounded-lg shadow-[0_0_30px_rgba(185,28,28,0.6)] animate-bounce transition-all transform hover:scale-105 border border-red-500",children:"REVEAL ENTERPRISE STRATEGY"})]})]})})},EvidenceVisual=({data:t,caseStudies:e})=>{const n=()=>{window.print()};return jsxRuntimeExports.jsxs("div",{className:"h-full w-full p-4 bg-slate-900/60 rounded-xl border border-blue-900/50 flex gap-6 backdrop-blur-sm print:bg-white print:text-black",children:[jsxRuntimeExports.jsxs("div",{className:"w-1/2 flex flex-col border-r border-slate-700 pr-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-slate-200 text-sm font-semibold uppercase tracking-wider flex items-center gap-2 print:text-black",children:[jsxRuntimeExports.jsx("span",{className:"text-lg",children:""})," Verified Sources"]}),jsxRuntimeExports.jsx("button",{onClick:n,className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs font-bold rounded shadow-lg transition-colors print:hidden",children:"DOWNLOAD REPORT (PDF)"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar space-y-2 print:overflow-visible",children:t.map(i=>jsxRuntimeExports.jsxs("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"block bg-slate-800/80 border border-slate-700 p-3 rounded hover:bg-slate-700 hover:border-blue-500 transition-all group shadow-sm print:bg-transparent print:border-black print:text-black",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-1",children:[jsxRuntimeExports.jsx("span",{className:`text-[9px] font-bold px-1.5 py-0.5 rounded uppercase tracking-wide
                                ${i.tag==="Verified"?"bg-green-900/40 text-green-400 border border-green-800":"bg-blue-900/40 text-blue-400 border border-blue-800"}
                                print:border-black print:text-black print:bg-transparent
                            `,children:i.tag}),jsxRuntimeExports.jsx("span",{className:"text-[9px] text-slate-500 print:text-black",children:i.date})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-200 font-bold group-hover:text-white truncate mt-1 print:text-black",children:i.title}),jsxRuntimeExports.jsx("div",{className:"text-[9px] text-slate-500 mt-1 truncate opacity-60 group-hover:opacity-100 transition-opacity print:text-black print:opacity-100",children:i.url})]},i.id))})]}),jsxRuntimeExports.jsxs("div",{className:"w-1/2 flex flex-col",children:[jsxRuntimeExports.jsxs("h3",{className:"text-slate-200 mb-4 text-sm font-semibold uppercase tracking-wider flex items-center gap-2 print:text-black",children:[jsxRuntimeExports.jsx("span",{className:"text-lg",children:""})," Financial Impact"]}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:e,layout:"vertical",margin:{top:0,right:30,left:10,bottom:0},barGap:2,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#334155",horizontal:!1}),jsxRuntimeExports.jsx(XAxis,{type:"number",stroke:"#94a3b8",tickFormatter:i=>`$${i}`,tick:{fontSize:10}}),jsxRuntimeExports.jsx(YAxis,{dataKey:"study",type:"category",stroke:"#94a3b8",width:90,tick:{fontSize:9}}),jsxRuntimeExports.jsx(Tooltip,{content:jsxRuntimeExports.jsx(EvidenceTooltip,{}),cursor:{fill:"rgba(255,255,255,0.05)"}}),jsxRuntimeExports.jsx(Legend,{wrapperStyle:{fontSize:"10px"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"costPerFootBefore",name:"Cost Before",fill:COLORS.visuDark,stroke:COLORS.gray,radius:[0,4,4,0],barSize:12,animationDuration:1500}),jsxRuntimeExports.jsx(Bar,{dataKey:"costPerFootAfter",name:"Cost After",fill:COLORS.success,radius:[0,4,4,0],barSize:12,animationDuration:1500,animationBegin:500})]})})})]})]})},ClosingVisual=()=>{const n=`${[...Array(30)].map((i,l)=>{const d=l%2===0?COLORS.usRed:l%3===0?COLORS.usBlue:COLORS.usWhite,f=Math.floor(Math.random()*100),b=(3+Math.random()*3).toFixed(2),_=(Math.random()*5).toFixed(2);return`.confetti-${l} { background-color: ${d}; top: -10%; left: ${f}%; animation: fall ${b}s linear infinite ${_}s; }`}).join(`
`)}
@keyframes fall { 0% { transform: translateY(0) rotate(0deg); opacity: 1; } 100% { transform: translateY(600px) rotate(720deg); opacity: 0; } }`;return jsxRuntimeExports.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-slate-950/80 rounded-xl border border-blue-900 p-8 text-center relative overflow-hidden group backdrop-blur-md",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[jsxRuntimeExports.jsx("style",{children:n}),[...Array(30)].map((i,l)=>jsxRuntimeExports.jsx("div",{className:`absolute w-1.5 h-1.5 rounded-full shadow-lg confetti-${l}`},l))]}),jsxRuntimeExports.jsx("div",{className:"relative z-10 mb-8 animate-[bounce_2s_infinite]",children:jsxRuntimeExports.jsxs("div",{className:"w-32 h-32 mx-auto bg-slate-800 rounded-full border-4 border-blue-500 flex items-center justify-center shadow-[0_0_60px_rgba(60,59,110,0.8)] relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-full border border-white opacity-20 animate-ping"}),jsxRuntimeExports.jsx("img",{src:"/visusewerstory/images/visu-sewer-logo-button.png",alt:"Visu Sewer Logo",className:"w-full h-full object-cover rounded-full"})]})}),jsxRuntimeExports.jsx("h2",{className:"text-4xl font-black text-white mb-4 tracking-tight drop-shadow-lg",children:"Partnership Initiated"}),jsxRuntimeExports.jsx("p",{className:"text-slate-300 max-w-md mx-auto text-base leading-relaxed mb-6",children:'"We are ready to execute. The evidence is clear. The platform is yours."'}),jsxRuntimeExports.jsx("div",{className:"w-full -mx-8 mb-4",children:jsxRuntimeExports.jsx("img",{src:"/visusewerstory/images/visu-sewer-truck.png",alt:"Visu Sewer Truck",className:"w-full max-h-[12rem] md:max-h-[20rem] object-contain shadow-lg"})}),jsxRuntimeExports.jsx("style",{children:`
            @keyframes fall {
                0% { transform: translateY(0) rotate(0deg); opacity: 1; }
                100% { transform: translateY(600px) rotate(720deg); opacity: 0; }
            }
        `})]})},CovenantVisual=()=>jsxRuntimeExports.jsxs("div",{className:"h-full w-full bg-slate-900/60 rounded-xl border border-blue-900/50 p-6 text-center relative overflow-hidden backdrop-blur-sm",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-20",children:jsxRuntimeExports.jsx("div",{className:"inline-block bg-black/40 backdrop-blur-sm text-white px-4 py-2 rounded-md",children:jsxRuntimeExports.jsx("h1",{className:"text-2xl md:text-4xl font-extrabold tracking-tight leading-tight",children:"The Covenant"})})}),jsxRuntimeExports.jsx("div",{className:"relative h-full w-full flex items-center justify-center",children:jsxRuntimeExports.jsx("img",{src:"/visusewerstory/images/titlepage.png",alt:"Title Page",className:"w-full h-full object-contain block"})})]}),TimelineVisual=({data:t=[],isSpeaking:e=!1})=>{const{activeIndex:n,setHoverIndex:i}=useChartHighlight(t.length,e);return jsxRuntimeExports.jsxs("div",{className:"h-full w-full p-6 bg-slate-900/60 rounded-xl border border-blue-900/50 flex flex-col backdrop-blur-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-slate-200 text-sm font-semibold uppercase tracking-wider shrink-0",children:"50 Years of Rising Value"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-red-400 font-mono animate-pulse",children:"EXPONENTIAL GROWTH"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 w-full min-h-[200px]",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(AreaChart,{data:t,margin:{top:20,right:20,left:0,bottom:0},onMouseMove:l=>{const d=typeof l.activeTooltipIndex=="number"?l.activeTooltipIndex:null;d!==null&&i(d)},onMouseLeave:()=>i(null),children:[jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("linearGradient",{id:"colorGrowth",x1:"0",y1:"0",x2:"0",y2:"1",children:[jsxRuntimeExports.jsx("stop",{offset:"5%",stopColor:COLORS.usRed,stopOpacity:.9}),jsxRuntimeExports.jsx("stop",{offset:"95%",stopColor:COLORS.usRed,stopOpacity:.1})]})}),jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),jsxRuntimeExports.jsx(XAxis,{dataKey:"year",stroke:"#94a3b8",tick:{fontSize:10}}),jsxRuntimeExports.jsx(YAxis,{hide:!0}),jsxRuntimeExports.jsx(Tooltip,{content:jsxRuntimeExports.jsx(EvidenceTooltip,{}),cursor:{stroke:COLORS.usBlue,strokeWidth:2}}),jsxRuntimeExports.jsx(Area,{type:"monotone",dataKey:"value",stroke:COLORS.usRed,strokeWidth:4,fill:"url(#colorGrowth)",animationDuration:3e3,animationEasing:"ease-in-out",activeDot:l=>l.index===n?jsxRuntimeExports.jsx("circle",{cx:l.cx,cy:l.cy,r:8,fill:"black",stroke:"white",strokeWidth:2}):jsxRuntimeExports.jsx("circle",{cx:l.cx,cy:l.cy,r:0})})]})})})]})},GrowthBridgeChart=({data:t,isSpeaking:e=!1})=>{const{activeIndex:n,setHoverIndex:i}=useChartHighlight(t.length,e);return jsxRuntimeExports.jsxs("div",{className:"h-full w-full p-4 bg-slate-900/60 rounded-xl border border-blue-900/50 flex flex-col backdrop-blur-sm",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-4",children:jsxRuntimeExports.jsx("h3",{className:"text-slate-200 text-sm font-semibold uppercase tracking-wider shrink-0",children:"Financial Bridge: Path to $70M"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 w-full min-h-[250px]",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:t,margin:{top:10,right:10,left:0,bottom:0},onMouseMove:l=>{const d=typeof l.activeTooltipIndex=="number"?l.activeTooltipIndex:null;d!==null&&i(d)},onMouseLeave:()=>i(null),children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),jsxRuntimeExports.jsx(XAxis,{dataKey:"category",stroke:"#94a3b8",tick:{fontSize:10}}),jsxRuntimeExports.jsx(YAxis,{stroke:"#94a3b8",hide:!0}),jsxRuntimeExports.jsx(Tooltip,{cursor:{fill:"rgba(255,255,255,0.05)"},content:jsxRuntimeExports.jsx(EvidenceTooltip,{})}),jsxRuntimeExports.jsx(Bar,{dataKey:"value",name:"Revenue ($M)",animationDuration:2e3,animationEasing:"ease-out",children:t.map((l,d)=>jsxRuntimeExports.jsx(Cell,{fill:d===n?COLORS.activeBlack:l.type==="Base"?COLORS.usBlue:l.type==="Growth"?COLORS.success:COLORS.usRed,stroke:d===n?"white":"none",strokeWidth:d===n?2:0},`cell-${d}`))})]})})})]})},DossierVisual=()=>jsxRuntimeExports.jsxs("div",{className:"h-full w-full p-6 bg-slate-900/60 rounded-xl border border-blue-900/50 flex flex-col relative backdrop-blur-sm",children:[jsxRuntimeExports.jsx("h3",{className:"text-slate-200 mb-4 text-sm font-semibold uppercase tracking-wider",children:"Your Session Dossier"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 grid grid-cols-1 gap-3 overflow-y-auto pr-2 custom-scrollbar",children:[jsxRuntimeExports.jsxs("div",{className:"bg-slate-800 p-4 rounded border border-slate-600 flex items-center justify-between hover:bg-slate-700 cursor-pointer transition-colors group",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded bg-blue-500/20 flex items-center justify-center text-blue-500 group-hover:text-white transition-colors",children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-bold text-white",children:"Executive Summary"}),jsxRuntimeExports.jsx("div",{className:"text-[10px] text-slate-400",children:"Generated: Just now"})]})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-500 group-hover:text-blue-400",children:"DOWNLOAD PDF"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-slate-800 p-4 rounded border border-slate-600 flex items-center justify-between hover:bg-slate-700 cursor-pointer transition-colors group",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded bg-green-500/20 flex items-center justify-center text-green-500 group-hover:text-white transition-colors",children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-bold text-white",children:"ROI Data Export"}),jsxRuntimeExports.jsx("div",{className:"text-[10px] text-slate-400",children:"Source: Case Studies"})]})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-500 group-hover:text-green-400",children:"DOWNLOAD CSV"})]})]})]}),DefaultVisual=({title:t})=>jsxRuntimeExports.jsx("div",{className:"h-full w-full flex items-center justify-center bg-slate-900/30 rounded-xl border border-slate-800 border-dashed",children:jsxRuntimeExports.jsxs("div",{className:"text-center p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl md:text-6xl mb-4 opacity-20 animate-bounce",children:""}),jsxRuntimeExports.jsx("div",{className:"text-slate-500 font-mono text-sm uppercase tracking-widest",children:t})]})}),ChartRouter=({slide:t,dataSources:e,isSpeaking:n})=>{var i;switch(t.chartKind){case"CCTV":return jsxRuntimeExports.jsx(CctvChart,{data:e.cctvInspections,isSpeaking:n});case"ProjectCosts":return jsxRuntimeExports.jsx(ProjectCostsChart,{data:e.projectCosts,isSpeaking:n});case"ContractorSchedule":return jsxRuntimeExports.jsx(ScheduleChart,{data:e.operationalVelocity,isSpeaking:n});case"GrowthBridge":return jsxRuntimeExports.jsx(GrowthBridgeChart,{data:e.financials,isSpeaking:n});case"AcquisitionMap":return jsxRuntimeExports.jsx(AcquisitionsMap,{data:e.acquisitions});case"BidAmounts":return jsxRuntimeExports.jsx(ProjectCostsChart,{data:e.projectCosts,isSpeaking:n});case"Covenant":return jsxRuntimeExports.jsx(CovenantVisual,{});case"Timeline":return jsxRuntimeExports.jsx(TimelineVisual,{data:e.historicalGrowth,isSpeaking:n});case"TechStack":return jsxRuntimeExports.jsx(TechStackVisual,{data:e.techMetrics,isSpeaking:n});case"Ecosystem":return jsxRuntimeExports.jsx(EcosystemVisual,{data:e.ecosystemMetrics});case"Evolution":return jsxRuntimeExports.jsx(EvolutionVisual,{});case"Evidence":return jsxRuntimeExports.jsx(EvidenceVisual,{data:e.evidenceItems,caseStudies:e.caseStudies});case"AISewersViz":return jsxRuntimeExports.jsx(AISewersDataViz,{});case"Dossier":return jsxRuntimeExports.jsx(DossierVisual,{});case"Closing":return jsxRuntimeExports.jsx(ClosingVisual,{});case"None":default:return jsxRuntimeExports.jsx(DefaultVisual,{title:((i=t.visualNotes)==null?void 0:i[0])||"Visual Content"})}},SlideViewer=({slide:t,dataSources:e,isSpeaking:n})=>jsxRuntimeExports.jsxs("div",{className:"h-full w-full flex flex-col lg:flex-row gap-4 lg:gap-8 items-stretch lg:items-center justify-center overflow-hidden lg:overflow-visible",children:[jsxRuntimeExports.jsxs("div",{className:"lg:w-5/12 flex flex-col space-y-4 lg:space-y-6 animate-[fadeIn_0.5s_ease-out] shrink-0 overflow-y-auto lg:max-h-full max-h-[40%] pr-2 custom-scrollbar bg-white/40 text-slate-900 p-6 rounded-xl shadow-[0_8px_32px_0_rgba(31,38,135,0.37)] border border-white/20 backdrop-blur-xl",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2 lg:space-y-4 border-l-4 border-orange-600 pl-4 lg:pl-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsx("span",{className:"text-orange-800 font-mono text-[10px] lg:text-xs uppercase tracking-widest font-bold",children:t.subtitle||"A Visu Sewer Story"})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-black text-black leading-tight tracking-tight drop-shadow-sm",children:t.title})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3 lg:space-y-4 text-black text-sm md:text-base lg:text-lg leading-relaxed max-w-prose font-bold shadow-black drop-shadow-sm",children:t.narration.paragraphs.map((i,l)=>jsxRuntimeExports.jsx("p",{children:i},l))}),t.narration.bullets.length>0&&jsxRuntimeExports.jsx("div",{className:"bg-white/40 p-4 lg:p-6 rounded-lg border border-white/30 shadow-inner",children:jsxRuntimeExports.jsx("ul",{className:"space-y-2 lg:space-y-3",children:t.narration.bullets.map((i,l)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2 lg:gap-3 text-xs lg:text-base text-slate-950 font-bold",children:[jsxRuntimeExports.jsx("span",{className:"mt-1.5 lg:mt-2 w-1.5 h-1.5 rounded-full bg-orange-600 shrink-0 shadow-sm"}),jsxRuntimeExports.jsx("span",{children:i})]},l))})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 w-full h-[350px] lg:h-full min-h-[300px] relative animate-[slideUp_0.5s_ease-out_0.1s_both]",children:jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/80 to-slate-950/80 rounded-2xl border border-slate-700/50 shadow-2xl overflow-auto flex flex-col backdrop-blur-sm",children:[jsxRuntimeExports.jsxs("div",{className:"h-8 bg-slate-950/50 border-b border-slate-800 flex items-center px-4 justify-end gap-2 shrink-0",children:[jsxRuntimeExports.jsx("div",{className:`w-2 h-2 rounded-full transition-colors duration-300 ${n?"bg-green-500 animate-pulse":"bg-slate-700"}`}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-700"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 relative p-2 lg:p-6 bg-slate-900/30 overflow-auto",children:jsxRuntimeExports.jsx(ChartRouter,{slide:t,dataSources:e,isSpeaking:n})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-orange-500/0 via-orange-500/50 to-orange-500/0 opacity-50 pointer-events-none"})]})}),jsxRuntimeExports.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideUp {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: rgba(203, 213, 225, 0.2);
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: rgba(30, 41, 59, 0.5);
          border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: rgba(15, 23, 42, 0.8);
        }
      `})]},t.id);function App(){const[t,e]=React.useState(!1),[n,i]=React.useState("Auto"),[l,d]=React.useState(0),[f,b]=React.useState(!1),[_,v]=React.useState(!1),[m,u]=React.useState(!1),[o,h]=React.useState(!1),[w,E]=React.useState(!1),[T]=React.useState(()=>{try{const Pe=localStorage.getItem("agentlee_play_during");return Pe===null?!0:Pe==="true"}catch{return!0}}),[O,M]=React.useState([]),[I,R]=React.useState(localStorage.getItem("agentlee_tts_voice")||""),[D,N]=React.useState(ttsService.getRate()),[L,B]=React.useState(ttsService.getPitch()),[$,V]=React.useState({top:120,left:120}),G=React.useRef({running:!1}),X=React.useRef(null),ee=React.useRef(null),Q=STORY_CONFIG.slides||[],Y=Q[l]||Q[0]||{title:"Welcome",id:"welcome"},U=Pe=>{i(Pe),e(!0)},q=Pe=>{if(!Pe)return;const de=parseInt(Pe,10);if(!isNaN(de)){const $e=Math.max(0,Math.min(Q.length-1,de-1));d($e);return}const De=Q.findIndex($e=>{var we;return $e.id===Pe||((we=$e.id)==null?void 0:we.toLowerCase())===Pe.toLowerCase()});De>=0&&d(De)},le=()=>{const Pe=Q.findIndex(de=>de.id&&de.id.toLowerCase().includes("evidence"));Pe>=0&&d(Pe)},ie=React.useCallback(Pe=>{var de;return!Pe||!Array.isArray((de=Pe.narration)==null?void 0:de.paragraphs)?"":Pe.narration.paragraphs.join(" ").replace(/\s+/g," ").trim()},[]),Ee=()=>{const Pe=!_;v(Pe),ttsService.setMute(Pe)},Z=()=>{const Pe=!f;b(Pe),Pe?ttsService.pause():ttsService.resume()},ue=Pe=>{h(Pe),Pe?(E(!0),i("Manual"),ttsService.cancel(),ttsService.clearQueue()):w&&(E(!1),i("Auto"))},Ae=React.useCallback(()=>{if(typeof window>"u"||!X.current)return;const Pe=X.current.getBoundingClientRect(),de=360,De=320;let $e=Pe.top-De-12;$e<16&&($e=Pe.bottom+12);const we=window.innerHeight-De-16;$e>we&&($e=Math.max(16,we));let Fe=Pe.left+Pe.width/2-de/2;Fe<16&&(Fe=16);const at=window.innerWidth-de-16;Fe>at&&(Fe=Math.max(16,at)),V({top:$e,left:Fe})},[]);React.useEffect(()=>{if(!m)return;const Pe=()=>Ae();return window.addEventListener("resize",Pe),()=>window.removeEventListener("resize",Pe)},[m,Ae]),React.useEffect(()=>{if(!m)return;const Pe=de=>{var $e;if(!ee.current)return;const De=de.target;!ee.current.contains(De)&&!(($e=X.current)!=null&&$e.contains(De))&&u(!1)};return document.addEventListener("mousedown",Pe),()=>document.removeEventListener("mousedown",Pe)},[m]);const Ce=()=>{m?u(!1):(Ae(),u(!0))};React.useLayoutEffect(()=>{if(!m)return;const Pe=requestAnimationFrame(()=>Ae());return()=>cancelAnimationFrame(Pe)},[m,Ae]),React.useEffect(()=>{ee.current&&(ee.current.style.setProperty("--settings-panel-top",`${$.top}px`),ee.current.style.setProperty("--settings-panel-left",`${$.left}px`))},[$]),React.useEffect(()=>{ttsService.cancel(),ttsService.clearQueue()},[l]),React.useEffect(()=>{let Pe=!1;return t&&n==="Auto"&&!f&&(async()=>{if(!G.current.running&&!(n!=="Auto"||f||Pe)){G.current.running=!0;try{const De=ie(Y);if(De){await ttsService.speakQueuedAsync(De),Pe||d(at=>Math.min(Q.length-1,at+1));return}const $e=Y.agentLeePromptHint||`Please narrate the key points for this slide: ${Y==null?void 0:Y.title}`,we=await sendMessageToAgentLee($e,Y),Qe=we!=null&&we.text?String(we.text).toLowerCase():"";if(!AGENT_STATUS.online||/encountered an error|agent lee is offline|could not generate|local model hub error|offline/i.test(Qe)){console.warn("Autopilot paused because Agent Lee appears offline.",we,AGENT_STATUS),b(!0),i("Manual");return}if(Pe)return;await ttsService.speakQueuedAsync((we==null?void 0:we.text)||""),we!=null&&we.navigationTarget?q(we.navigationTarget):d(at=>Math.min(Q.length-1,at+1))}catch(De){console.warn("Autopilot narration failed",De)}finally{G.current.running=!1}}})(),()=>{Pe=!0}},[t,n,f,l,Y,Q.length,ie]),React.useEffect(()=>{if(n==="Auto"||f||_||!Y||!(Y.id==="evidenceLocker"))return;const de=ie(Y);de&&(async()=>{try{await ttsService.speakQueuedAsync(de)}catch(De){console.warn("Manual evidence narration failed",De)}})()},[n,f,_,Y,ie]);const{preferred:ke,remaining:Ne}=React.useMemo(()=>mapVoicesToPreferred(O),[O]),Le=React.useCallback(()=>{I&&ttsService.setVoiceByName(I),ttsService.previewVoice()},[I]);return React.useEffect(()=>{let Pe=!0;return(async()=>{for(let de=0;de<20;de++){const De=ttsService.getAvailableVoices();if(De&&De.length){if(!Pe)return;M(De);const $e=pickPreferredVoiceName(De,I);$e&&$e!==I&&(R($e),localStorage.setItem("agentlee_tts_voice",$e),ttsService.setVoiceByName($e));return}await new Promise($e=>setTimeout($e,200))}try{const de=window.TTS_VOICES||[];if(de.length&&Pe){M(de);const De=pickPreferredVoiceName(de,I);De&&De!==I&&(R(De),localStorage.setItem("agentlee_tts_voice",De),ttsService.setVoiceByName(De))}}catch{}})(),()=>{Pe=!1}},[I]),t?jsxRuntimeExports.jsxs("div",{className:"h-screen w-screen bg-slate-950 text-white overflow-hidden flex flex-col relative",children:[jsxRuntimeExports.jsx(FlagBackground,{"aria-hidden":"true"}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden p-4 lg:p-8 relative z-10",children:jsxRuntimeExports.jsx(SlideViewer,{slide:Y,dataSources:MOCK_DATA,isSpeaking:!f&&!_})}),jsxRuntimeExports.jsxs("footer",{className:"h-16 shrink-0 grid grid-cols-3 items-center px-8 border-t border-blue-900 bg-slate-950/90 relative z-30",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(AgentLee,{role:"Executive",currentSlide:Y,isSpeaking:!f&&!_,onNavigate:Pe=>q(Pe),isOpen:o,onOpenChange:ue,playDuringTyping:T}),jsxRuntimeExports.jsxs("div",{className:"flex items-center ml-2 gap-2",children:[jsxRuntimeExports.jsx("button",{"aria-label":_?"Unmute audio":"Mute audio",onClick:Ee,className:`flex items-center justify-center w-10 h-10 rounded-md text-white shadow-md transition-colors ${_?"bg-red-600 hover:bg-red-500":"bg-blue-600 hover:bg-blue-500"}`,title:_?"Unmute":"Mute",children:_?jsxRuntimeExports.jsx(ForwardRef$1,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(ForwardRef$2,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{"aria-label":f?"Resume narration":"Pause narration",onClick:Z,className:"flex items-center justify-center w-10 h-10 rounded-md text-white shadow-md transition-colors bg-indigo-600 hover:bg-indigo-500",title:f?"Resume":"Pause",children:f?jsxRuntimeExports.jsx(ForwardRef$3,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(ForwardRef$4,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{"aria-label":"Open settings",onClick:Ce,ref:X,className:`ml-2 px-3 py-2 rounded-md shadow-md transition-colors ${m?"bg-indigo-500 text-white":"bg-indigo-600 text-white hover:bg-indigo-500"}`,title:"Settings",children:jsxRuntimeExports.jsx(ForwardRef$6,{className:"w-5 h-5"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>d(Math.max(0,l-1)),"aria-label":"Previous slide",className:"w-12 h-12 p-0 bg-transparent rounded overflow-hidden flex items-center justify-center",children:jsxRuntimeExports.jsx("img",{src:"/visusewerstory/images/previous-button.png",alt:"Previous",className:"w-full h-full object-cover block"})}),jsxRuntimeExports.jsxs("span",{className:"px-4",children:[l+1," / ",Q.length]}),jsxRuntimeExports.jsx("button",{onClick:()=>d(Math.min(Q.length-1,l+1)),"aria-label":"Next slide",className:"w-12 h-12 p-0 bg-transparent rounded overflow-hidden flex items-center justify-center",children:jsxRuntimeExports.jsx("img",{src:"/visusewerstory/images/next-button.png",alt:"Next",className:"w-full h-full object-cover block"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{title:"Go to Evidence",onClick:le,className:"px-3 py-2 bg-orange-600 text-white rounded-md shadow-md hover:bg-orange-500",children:"Evidence"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-400 ml-4",children:"Created by Leeway Industries"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-400",children:"v4.2"})]})]}),"			",m&&jsxRuntimeExports.jsxs("div",{ref:ee,className:"settings-panel fixed z-[70] w-[360px] bg-slate-900 border border-slate-700 rounded-xl shadow-2xl p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold",children:"Presentation Settings"}),jsxRuntimeExports.jsx("button",{onClick:()=>u(!1),className:"text-slate-300 hover:text-white","aria-label":"Close settings",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"text-sm",children:"Presentation Mode"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>i("Manual"),className:`px-3 py-1 rounded ${n==="Manual"?"bg-orange-600":"bg-slate-800"}`,children:"Manual"}),jsxRuntimeExports.jsx("button",{onClick:()=>i("Auto"),className:`px-3 py-1 rounded ${n==="Auto"?"bg-orange-600":"bg-slate-800"}`,children:"Auto"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"text-sm",children:"TTS Volume"}),jsxRuntimeExports.jsx("div",{className:"text-sm",children:_?"Muted":"On"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx("div",{className:"text-sm",children:"TTS Voice"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("select",{"aria-label":"Select TTS voice",value:I,onChange:Pe=>{R(Pe.target.value),localStorage.setItem("agentlee_tts_voice",Pe.target.value),ttsService.setVoiceByName(Pe.target.value)},className:"bg-slate-800 border border-slate-700 text-white px-2 py-1 rounded",children:[ke.length>0&&jsxRuntimeExports.jsx("optgroup",{label:"Microsoft Natural (en-US)",children:ke.map(Pe=>jsxRuntimeExports.jsxs("option",{value:Pe.actualName??Pe.label,disabled:!Pe.available,children:[Pe.label,Pe.available?"":"  install voice pack in Windows/Edge to use"]},Pe.label))}),Ne.length>0&&jsxRuntimeExports.jsx("optgroup",{label:"Other voices",children:Ne.map(Pe=>jsxRuntimeExports.jsxs("option",{value:Pe.name,children:[Pe.name,Pe.lang?` (${Pe.lang})`:""]},Pe.name))}),ke.length===0&&Ne.length===0&&jsxRuntimeExports.jsx("option",{children:"Loading voices..."})]}),jsxRuntimeExports.jsx("button",{onClick:Le,className:"px-3 py-1 text-xs bg-slate-800 border border-slate-600 rounded hover:bg-slate-700",children:"Test Voice"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm",htmlFor:"voice-rate",children:["Voice Rate ",jsxRuntimeExports.jsxs("span",{className:"text-xs text-slate-500",children:[D.toFixed(2),"x"]})]}),jsxRuntimeExports.jsx("input",{type:"range",id:"voice-rate",min:"0.6",max:"1.4",step:"0.02",value:D,onChange:Pe=>{const de=parseFloat(Pe.target.value);N(de),ttsService.setRate(de)},className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm",htmlFor:"voice-pitch",children:["Voice Pitch ",jsxRuntimeExports.jsxs("span",{className:"text-xs text-slate-500",children:[L.toFixed(2),"x"]})]}),jsxRuntimeExports.jsx("input",{type:"range",id:"voice-pitch",min:"0.6",max:"1.4",step:"0.02",value:L,onChange:Pe=>{const de=parseFloat(Pe.target.value);B(de),ttsService.setPitch(de)},className:"w-full"})]})]})]})]})]}):jsxRuntimeExports.jsx(IntroScreen,{onStart:U})}const rootElement=document.getElementById("root");if(!rootElement)throw new Error("Root element #root not found in index.html");ReactDOM.createRoot(rootElement).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(DomAgentProvider,{children:jsxRuntimeExports.jsx(App,{})})}));const scheduleBootstrapRag=()=>{typeof window>"u"||setTimeout(()=>{try{docStore&&typeof docStore.bootstrapRag=="function"?docStore.bootstrapRag():typeof window.bootstrapRag=="function"&&window.bootstrapRag()}catch(t){console.warn("bootstrapRag failed",t)}},1e3)},installDiagnostics=()=>{if(!(typeof window>"u")){try{window.probeAgent=async(t="Are you online?")=>{try{return{ok:!0,response:await sendMessageToAgentLee(t)}}catch(e){return{ok:!1,error:String(e)}}}}catch{}try{const t=`data:image/svg+xml;utf8,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="400" height="240" viewBox="0 0 400 240"><rect width="100%" height="100%" fill="#0f172a"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#94a3b8" font-family="Arial,Helvetica,sans-serif" font-size="18">Image Not Found</text></svg>')}`;window.addEventListener("error",e=>{try{const n=e==null?void 0:e.target;n&&n.tagName==="IMG"&&!n.__placeholderApplied&&(n.__placeholderApplied=!0,n.src=t)}catch{}},!0)}catch{}}};scheduleBootstrapRag();installDiagnostics();export{ElectraForSequenceClassification as $,AudioClassificationPipeline as A,BaseModelOutput as B,RoFormerForMaskedLM as C,DocumentQuestionAnsweringPipeline as D,RoFormerForSequenceClassification as E,FillMaskPipeline as F,RoFormerForTokenClassification as G,RoFormerForQuestionAnswering as H,ImageFeatureExtractionPipeline as I,ConvBertPreTrainedModel as J,ConvBertModel as K,ConvBertForMaskedLM as L,ModelOutput as M,NomicBertPreTrainedModel as N,ObjectDetectionPipeline as O,Pipeline as P,QuestionAnsweringPipeline as Q,RoFormerPreTrainedModel as R,SummarizationPipeline as S,TextClassificationPipeline as T,ConvBertForSequenceClassification as U,ConvBertForTokenClassification as V,ConvBertForQuestionAnswering as W,ElectraPreTrainedModel as X,ElectraModel as Y,ZeroShotClassificationPipeline as Z,ElectraForMaskedLM as _,TokenClassificationPipeline as a,BartForConditionalGeneration as a$,ElectraForTokenClassification as a0,ElectraForQuestionAnswering as a1,CamembertPreTrainedModel as a2,CamembertModel as a3,CamembertForMaskedLM as a4,CamembertForSequenceClassification as a5,CamembertForTokenClassification as a6,CamembertForQuestionAnswering as a7,DebertaPreTrainedModel as a8,DebertaModel as a9,MPNetPreTrainedModel as aA,MPNetModel as aB,MPNetForMaskedLM as aC,MPNetForSequenceClassification as aD,MPNetForTokenClassification as aE,MPNetForQuestionAnswering as aF,SqueezeBertPreTrainedModel as aG,SqueezeBertModel as aH,SqueezeBertForMaskedLM as aI,SqueezeBertForSequenceClassification as aJ,SqueezeBertForQuestionAnswering as aK,AlbertPreTrainedModel as aL,AlbertModel as aM,AlbertForSequenceClassification as aN,AlbertForQuestionAnswering as aO,AlbertForMaskedLM as aP,T5PreTrainedModel as aQ,T5Model as aR,T5ForConditionalGeneration as aS,LongT5PreTrainedModel as aT,LongT5Model as aU,LongT5ForConditionalGeneration as aV,MT5PreTrainedModel as aW,MT5Model as aX,MT5ForConditionalGeneration as aY,BartPretrainedModel as aZ,BartModel as a_,DebertaForMaskedLM as aa,DebertaForSequenceClassification as ab,DebertaForTokenClassification as ac,DebertaForQuestionAnswering as ad,DebertaV2PreTrainedModel as ae,DebertaV2Model as af,DebertaV2ForMaskedLM as ag,DebertaV2ForSequenceClassification as ah,DebertaV2ForTokenClassification as ai,DebertaV2ForQuestionAnswering as aj,DistilBertPreTrainedModel as ak,DistilBertModel as al,DistilBertForSequenceClassification as am,DistilBertForTokenClassification as an,DistilBertForQuestionAnswering as ao,DistilBertForMaskedLM as ap,EsmPreTrainedModel as aq,EsmModel as ar,EsmForMaskedLM as as,EsmForSequenceClassification as at,EsmForTokenClassification as au,MobileBertPreTrainedModel as av,MobileBertModel as aw,MobileBertForMaskedLM as ax,MobileBertForSequenceClassification as ay,MobileBertForQuestionAnswering as az,Text2TextGenerationPipeline as b,GPTBigCodeModel as b$,BartForSequenceClassification as b0,MBartPreTrainedModel as b1,MBartModel as b2,MBartForConditionalGeneration as b3,MBartForSequenceClassification as b4,MBartForCausalLM as b5,BlenderbotPreTrainedModel as b6,BlenderbotModel as b7,BlenderbotForConditionalGeneration as b8,BlenderbotSmallPreTrainedModel as b9,VisionEncoderDecoderModel as bA,CLIPPreTrainedModel as bB,CLIPModel as bC,CLIPTextModelWithProjection as bD,CLIPVisionModelWithProjection as bE,SiglipPreTrainedModel as bF,SiglipModel as bG,SiglipTextModel as bH,SiglipVisionModel as bI,ChineseCLIPPreTrainedModel as bJ,ChineseCLIPModel as bK,CLIPSegPreTrainedModel as bL,CLIPSegModel as bM,CLIPSegForImageSegmentation as bN,GPT2PreTrainedModel as bO,GPT2Model as bP,GPT2LMHeadModel as bQ,GPTNeoPreTrainedModel as bR,GPTNeoModel as bS,GPTNeoForCausalLM as bT,GPTNeoXPreTrainedModel as bU,GPTNeoXModel as bV,GPTNeoXForCausalLM as bW,GPTJPreTrainedModel as bX,GPTJModel as bY,GPTJForCausalLM as bZ,GPTBigCodePreTrainedModel as b_,BlenderbotSmallModel as ba,BlenderbotSmallForConditionalGeneration as bb,RobertaPreTrainedModel as bc,RobertaModel as bd,RobertaForMaskedLM as be,RobertaForSequenceClassification as bf,RobertaForTokenClassification as bg,RobertaForQuestionAnswering as bh,XLMPreTrainedModel as bi,XLMModel as bj,XLMWithLMHeadModel as bk,XLMForSequenceClassification as bl,XLMForTokenClassification as bm,XLMForQuestionAnswering as bn,XLMRobertaPreTrainedModel as bo,XLMRobertaModel as bp,XLMRobertaForMaskedLM as bq,XLMRobertaForSequenceClassification as br,XLMRobertaForTokenClassification as bs,XLMRobertaForQuestionAnswering as bt,ASTPreTrainedModel as bu,ASTModel as bv,ASTForAudioClassification as bw,WhisperPreTrainedModel as bx,WhisperModel as by,WhisperForConditionalGeneration as bz,TranslationPipeline as c,SwinForImageClassification as c$,GPTBigCodeForCausalLM as c0,CodeGenPreTrainedModel as c1,CodeGenModel as c2,CodeGenForCausalLM as c3,LlamaPreTrainedModel as c4,LlamaModel as c5,LlamaForCausalLM as c6,Qwen2PreTrainedModel as c7,Qwen2Model as c8,Qwen2ForCausalLM as c9,OwlViTPreTrainedModel as cA,OwlViTModel as cB,OwlViTForObjectDetection as cC,Owlv2PreTrainedModel as cD,Owlv2Model as cE,Owlv2ForObjectDetection as cF,BeitPreTrainedModel as cG,BeitModel as cH,BeitForImageClassification as cI,DetrPreTrainedModel as cJ,DetrModel as cK,DetrForObjectDetection as cL,DetrForSegmentation as cM,DetrObjectDetectionOutput as cN,DetrSegmentationOutput as cO,TableTransformerPreTrainedModel as cP,TableTransformerModel as cQ,TableTransformerForObjectDetection as cR,TableTransformerObjectDetectionOutput as cS,DeiTPreTrainedModel as cT,DeiTModel as cU,DeiTForImageClassification as cV,ResNetPreTrainedModel as cW,ResNetModel as cX,ResNetForImageClassification as cY,SwinPreTrainedModel as cZ,SwinModel as c_,PhiPreTrainedModel as ca,PhiModel as cb,PhiForCausalLM as cc,BloomPreTrainedModel as cd,BloomModel as ce,BloomForCausalLM as cf,MptPreTrainedModel as cg,MptModel as ch,MptForCausalLM as ci,OPTPreTrainedModel as cj,OPTModel as ck,OPTForCausalLM as cl,ViTPreTrainedModel as cm,ViTModel as cn,ViTForImageClassification as co,FastViTPreTrainedModel as cp,FastViTModel as cq,FastViTForImageClassification as cr,VitMattePreTrainedModel as cs,VitMatteForImageMatting as ct,MobileViTPreTrainedModel as cu,MobileViTModel as cv,MobileViTForImageClassification as cw,MobileViTV2PreTrainedModel as cx,MobileViTV2Model as cy,MobileViTV2ForImageClassification as cz,TextGenerationPipeline as d,WavLMForAudioFrameClassification as d$,Swin2SRPreTrainedModel as d0,Swin2SRModel as d1,Swin2SRForImageSuperResolution as d2,DPTPreTrainedModel as d3,DPTModel as d4,DPTForDepthEstimation as d5,DepthAnythingPreTrainedModel as d6,DepthAnythingForDepthEstimation as d7,GLPNPreTrainedModel as d8,GLPNModel as d9,Wav2Vec2PreTrainedModel as dA,Wav2Vec2Model as dB,Wav2Vec2ForCTC as dC,Wav2Vec2ForSequenceClassification as dD,Wav2Vec2ForAudioFrameClassification as dE,UniSpeechPreTrainedModel as dF,UniSpeechModel as dG,UniSpeechForCTC as dH,UniSpeechForSequenceClassification as dI,UniSpeechSatPreTrainedModel as dJ,UniSpeechSatModel as dK,UniSpeechSatForCTC as dL,UniSpeechSatForSequenceClassification as dM,UniSpeechSatForAudioFrameClassification as dN,Wav2Vec2BertPreTrainedModel as dO,Wav2Vec2BertModel as dP,Wav2Vec2BertForCTC as dQ,Wav2Vec2BertForSequenceClassification as dR,HubertPreTrainedModel as dS,HubertModel as dT,HubertForCTC as dU,HubertForSequenceClassification as dV,WavLMPreTrainedModel as dW,WavLMModel as dX,WavLMForCTC as dY,WavLMForSequenceClassification as dZ,WavLMForXVector as d_,GLPNForDepthEstimation as da,DonutSwinPreTrainedModel as db,DonutSwinModel as dc,ConvNextPreTrainedModel as dd,ConvNextModel as de,ConvNextForImageClassification as df,ConvNextV2PreTrainedModel as dg,ConvNextV2Model as dh,ConvNextV2ForImageClassification as di,Dinov2PreTrainedModel as dj,Dinov2Model as dk,Dinov2ForImageClassification as dl,YolosPreTrainedModel as dm,YolosModel as dn,YolosForObjectDetection as dp,YolosObjectDetectionOutput as dq,SamPreTrainedModel as dr,SamModel as ds,SamImageSegmentationOutput as dt,MarianPreTrainedModel as du,MarianModel as dv,MarianMTModel as dw,M2M100PreTrainedModel as dx,M2M100Model as dy,M2M100ForConditionalGeneration as dz,FeatureExtractionPipeline as e,MaskedLMOutput as e$,SpeechT5PreTrainedModel as e0,SpeechT5Model as e1,SpeechT5ForSpeechToText as e2,SpeechT5ForTextToSpeech as e3,SpeechT5HifiGan as e4,TrOCRPreTrainedModel as e5,TrOCRForCausalLM as e6,MistralPreTrainedModel as e7,MistralModel as e8,MistralForCausalLM as e9,AutoModelForSeq2SeqLM as eA,AutoModelForSpeechSeq2Seq as eB,AutoModelForTextToSpectrogram as eC,AutoModelForTextToWaveform as eD,AutoModelForCausalLM as eE,AutoModelForMaskedLM as eF,AutoModelForQuestionAnswering as eG,AutoModelForVision2Seq as eH,AutoModelForImageClassification as eI,AutoModelForImageSegmentation as eJ,AutoModelForSemanticSegmentation as eK,AutoModelForObjectDetection as eL,AutoModelForZeroShotObjectDetection as eM,AutoModelForMaskGeneration as eN,AutoModelForCTC as eO,AutoModelForAudioClassification as eP,AutoModelForXVector as eQ,AutoModelForAudioFrameClassification as eR,AutoModelForDocumentQuestionAnswering as eS,AutoModelForImageMatting as eT,AutoModelForImageToImage as eU,AutoModelForDepthEstimation as eV,AutoModelForImageFeatureExtraction as eW,Seq2SeqLMOutput as eX,SequenceClassifierOutput as eY,XVectorOutput as eZ,TokenClassifierOutput as e_,Starcoder2PreTrainedModel as ea,Starcoder2Model as eb,Starcoder2ForCausalLM as ec,FalconPreTrainedModel as ed,FalconModel as ee,FalconForCausalLM as ef,ClapPreTrainedModel as eg,ClapModel as eh,ClapTextModelWithProjection as ei,ClapAudioModelWithProjection as ej,VitsPreTrainedModel as ek,VitsModel as el,SegformerPreTrainedModel as em,SegformerModel as en,SegformerForImageClassification as eo,SegformerForSemanticSegmentation as ep,StableLmPreTrainedModel as eq,StableLmModel as er,StableLmForCausalLM as es,EfficientNetPreTrainedModel as et,EfficientNetModel as eu,EfficientNetForImageClassification as ev,PretrainedMixin as ew,AutoModel as ex,AutoModelForSequenceClassification as ey,AutoModelForTokenClassification as ez,ZeroShotAudioClassificationPipeline as f,ConvNextImageProcessor as f$,QuestionAnsweringModelOutput as f0,CausalLMOutput as f1,CausalLMOutputWithPast as f2,ImageMattingOutput as f3,VitsModelOutput as f4,TokenizerModel as f5,PreTrainedTokenizer as f6,BertTokenizer as f7,AlbertTokenizer as f8,MobileBertTokenizer as f9,Grok1Tokenizer as fA,NllbTokenizer as fB,M2M100Tokenizer as fC,WhisperTokenizer as fD,CodeGenTokenizer as fE,CLIPTokenizer as fF,SiglipTokenizer as fG,MarianTokenizer as fH,Wav2Vec2CTCTokenizer as fI,BlenderbotTokenizer as fJ,BlenderbotSmallTokenizer as fK,SpeechT5Tokenizer as fL,NougatTokenizer as fM,VitsTokenizer as fN,CohereTokenizer as fO,AutoTokenizer as fP,FeatureExtractor as fQ,ImageFeatureExtractor as fR,SegformerFeatureExtractor as fS,DPTFeatureExtractor as fT,DPTImageProcessor as fU,BitImageProcessor as fV,GLPNFeatureExtractor as fW,CLIPFeatureExtractor as fX,ChineseCLIPFeatureExtractor as fY,SiglipImageProcessor as fZ,ConvNextFeatureExtractor as f_,SqueezeBertTokenizer as fa,DebertaTokenizer as fb,DebertaV2Tokenizer as fc,HerbertTokenizer as fd,ConvBertTokenizer as fe,RoFormerTokenizer as ff,DistilBertTokenizer as fg,CamembertTokenizer as fh,XLMTokenizer as fi,ElectraTokenizer as fj,T5Tokenizer as fk,GPT2Tokenizer as fl,BartTokenizer as fm,MBartTokenizer as fn,MBart50Tokenizer as fo,RobertaTokenizer as fp,BloomTokenizer as fq,LlamaTokenizer as fr,CodeLlamaTokenizer as fs,XLMRobertaTokenizer as ft,MPNetTokenizer as fu,FalconTokenizer as fv,GPTNeoXTokenizer as fw,EsmTokenizer as fx,Qwen2Tokenizer as fy,GemmaTokenizer as fz,AutomaticSpeechRecognitionPipeline as g,bankers_round as g$,ViTFeatureExtractor as g0,ViTImageProcessor as g1,EfficientNetImageProcessor as g2,MobileViTFeatureExtractor as g3,MobileViTImageProcessor as g4,OwlViTFeatureExtractor as g5,Owlv2ImageProcessor as g6,DeiTFeatureExtractor as g7,BeitFeatureExtractor as g8,DonutFeatureExtractor as g9,RawImage as gA,Tensor as gB,permute as gC,interpolate$2 as gD,mean_pooling as gE,layer_norm as gF,cat as gG,stack as gH,std_mean as gI,mean as gJ,dynamicTimeWarping as gK,ones as gL,ones_like as gM,quantize_embeddings as gN,interpolate_data as gO,permute_data as gP,softmax as gQ,log_softmax as gR,dot as gS,getTopItems as gT,cos_sim as gU,magnitude as gV,min$1 as gW,max$1 as gX,FFT as gY,medianFilter as gZ,round$1 as g_,NougatImageProcessor as ga,DetrFeatureExtractor as gb,YolosFeatureExtractor as gc,SamImageProcessor as gd,Swin2SRImageProcessor as ge,VitMatteImageProcessor as gf,WhisperFeatureExtractor as gg,Wav2Vec2FeatureExtractor as gh,SeamlessM4TFeatureExtractor as gi,ASTFeatureExtractor as gj,ClapFeatureExtractor as gk,SpeechT5FeatureExtractor as gl,Processor as gm,SamProcessor as gn,WhisperProcessor as go,Wav2Vec2ProcessorWithLM as gp,SpeechT5Processor as gq,OwlViTProcessor as gr,AutoProcessor as gs,PretrainedConfig as gt,AutoConfig as gu,read_audio as gv,hanning as gw,mel_filter_bank as gx,spectrogram as gy,window_function as gz,ImageToTextPipeline as h,ImageClassificationPipeline as i,ImageSegmentationPipeline as j,ZeroShotImageClassificationPipeline as k,ZeroShotObjectDetectionPipeline as l,TextToAudioPipeline as m,ImageToImagePipeline as n,DepthEstimationPipeline as o,pipeline as p,env$1 as q,PreTrainedModel as r,BertPreTrainedModel as s,BertModel as t,BertForMaskedLM as u,BertForSequenceClassification as v,BertForTokenClassification as w,BertForQuestionAnswering as x,NomicBertModel as y,RoFormerModel as z};
//# sourceMappingURL=index-5cf6IL1s.js.map
